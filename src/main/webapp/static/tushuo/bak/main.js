!
function(e, t) {
    if ("object" == typeof module && "object" == typeof module.exports) module.exports = e.document ? t(e, !0) : function(e) {
        if (!e.document) throw new Error("jQuery requires a window with a document");
        return t(e)
    };
    else t(e)
} ("undefined" != typeof window ? window: this,
function(e, t) {
    function i(e) {
        var t = e.length,
        i = rt.type(e);
        if ("function" === i || rt.isWindow(e)) return ! 1;
        if (1 === e.nodeType && t) return ! 0;
        else return "array" === i || 0 === t || "number" == typeof t && t > 0 && t - 1 in e
    }
    function n(e, t, i) {
        if (rt.isFunction(t)) return rt.grep(e,
        function(e, n) {
            return !! t.call(e, n, e) !== i
        });
        if (t.nodeType) return rt.grep(e,
        function(e) {
            return e === t !== i
        });
        if ("string" == typeof t) {
            if (ft.test(t)) return rt.filter(t, e, i);
            t = rt.filter(t, e)
        }
        return rt.grep(e,
        function(e) {
            return rt.inArray(e, t) >= 0 !== i
        })
    }
    function o(e, t) {
        do e = e[t];
        while (e && 1 !== e.nodeType);
        return e
    }
    function r(e) {
        var t = _t[e] = {};
        return rt.each(e.match(xt) || [],
        function(e, i) {
            t[i] = !0
        }),
        t
    }
    function s() {
        if (mt.addEventListener) mt.removeEventListener("DOMContentLoaded", a, !1),
        e.removeEventListener("load", a, !1);
        else mt.detachEvent("onreadystatechange", a),
        e.detachEvent("onload", a)
    }
    function a() {
        if (mt.addEventListener || "load" === event.type || "complete" === mt.readyState) s(),
        rt.ready()
    }
    function l(e, t, i) {
        if (void 0 === i && 1 === e.nodeType) {
            var n = "data-" + t.replace(Ct, "-$1").toLowerCase();
            if (i = e.getAttribute(n), "string" == typeof i) {
                try {
                    i = "true" === i ? !0 : "false" === i ? !1 : "null" === i ? null: +i + "" === i ? +i: kt.test(i) ? rt.parseJSON(i) : i
                } catch(o) {}
                rt.data(e, t, i)
            } else i = void 0
        }
        return i
    }
    function h(e) {
        var t;
        for (t in e) if ("data" !== t || !rt.isEmptyObject(e[t])) {
            if ("toJSON" !== t) return ! 1
        } else;
        return ! 0
    }
    function c(e, t, i, n) {
        if (rt.acceptData(e)) {
            var o, r, s = rt.expando,
            a = e.nodeType,
            l = a ? rt.cache: e,
            h = a ? e[s] : e[s] && s;
            if (h && l[h] && (n || l[h].data) || void 0 !== i || "string" != typeof t) {
                if (!h) if (a) h = e[s] = G.pop() || rt.guid++;
                else h = s;
                if (!l[h]) l[h] = a ? {}: {
                    toJSON: rt.noop
                };
                if ("object" == typeof t || "function" == typeof t) if (n) l[h] = rt.extend(l[h], t);
                else l[h].data = rt.extend(l[h].data, t);
                if (r = l[h], !n) {
                    if (!r.data) r.data = {};
                    r = r.data
                }
                if (void 0 !== i) r[rt.camelCase(t)] = i;
                if ("string" == typeof t) {
                    if (o = r[t], null == o) o = r[rt.camelCase(t)]
                } else o = r;
                return o
            }
        }
    }
    function u(e, t, i) {
        if (rt.acceptData(e)) {
            var n, o, r = e.nodeType,
            s = r ? rt.cache: e,
            a = r ? e[rt.expando] : rt.expando;
            if (s[a]) {
                if (t) if (n = i ? s[a] : s[a].data) {
                    if (!rt.isArray(t)) if (t in n) t = [t];
                    else if (t = rt.camelCase(t), t in n) t = [t];
                    else t = t.split(" ");
                    else t = t.concat(rt.map(t, rt.camelCase));
                    for (o = t.length; o--;) delete n[t[o]];
                    if (i ? !h(n) : !rt.isEmptyObject(n)) return
                }
                if (!i) if (delete s[a].data, !h(s[a])) return;
                if (r) rt.cleanData([e], !0);
                else if (nt.deleteExpando || s != s.window) delete s[a];
                else s[a] = null
            }
        }
    }
    function d() {
        return ! 0
    }
    function f() {
        return ! 1
    }
    function p() {
        try {
            return mt.activeElement
        } catch(e) {}
    }
    function m(e) {
        var t = Ot.split("|"),
        i = e.createDocumentFragment();
        if (i.createElement) for (; t.length;) i.createElement(t.pop());
        return i
    }
    function g(e, t) {
        var i, n, o = 0,
        r = typeof e.getElementsByTagName !== Ut ? e.getElementsByTagName(t || "*") : typeof e.querySelectorAll !== Ut ? e.querySelectorAll(t || "*") : void 0;
        if (!r) for (r = [], i = e.childNodes || e; null != (n = i[o]); o++) if (!t || rt.nodeName(n, t)) r.push(n);
        else rt.merge(r, g(n, t));
        return void 0 === t || t && rt.nodeName(e, t) ? rt.merge([e], r) : r
    }
    function y(e) {
        if (Et.test(e.type)) e.defaultChecked = e.checked
    }
    function v(e, t) {
        return rt.nodeName(e, "table") && rt.nodeName(11 !== t.nodeType ? t: t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }
    function b(e) {
        return e.type = (null !== rt.find.attr(e, "type")) + "/" + e.type,
        e
    }
    function x(e) {
        var t = Gt.exec(e.type);
        if (t) e.type = t[1];
        else e.removeAttribute("type");
        return e
    }
    function _(e, t) {
        for (var i, n = 0; null != (i = e[n]); n++) rt._data(i, "globalEval", !t || rt._data(t[n], "globalEval"))
    }
    function w(e, t) {
        if (1 === t.nodeType && rt.hasData(e)) {
            var i, n, o, r = rt._data(e),
            s = rt._data(t, r),
            a = r.events;
            if (a) {
                delete s.handle,
                s.events = {};
                for (i in a) for (n = 0, o = a[i].length; o > n; n++) rt.event.add(t, i, a[i][n])
            }
            if (s.data) s.data = rt.extend({},
            s.data)
        }
    }
    function V(e, t) {
        var i, n, o;
        if (1 === t.nodeType) {
            if (i = t.nodeName.toLowerCase(), !nt.noCloneEvent && t[rt.expando]) {
                o = rt._data(t);
                for (n in o.events) rt.removeEvent(t, n, o.handle);
                t.removeAttribute(rt.expando)
            }
            if ("script" === i && t.text !== e.text) b(t).text = e.text,
            x(t);
            else if ("object" === i) {
                if (t.parentNode) t.outerHTML = e.outerHTML;
                if (nt.html5Clone && e.innerHTML && !rt.trim(t.innerHTML)) t.innerHTML = e.innerHTML
            } else if ("input" === i && Et.test(e.type)) {
                if (t.defaultChecked = t.checked = e.checked, t.value !== e.value) t.value = e.value
            } else if ("option" === i) t.defaultSelected = t.selected = e.defaultSelected;
            else if ("input" === i || "textarea" === i) t.defaultValue = e.defaultValue
        }
    }
    function U(t, i) {
        var n = rt(i.createElement(t)).appendTo(i.body),
        o = e.getDefaultComputedStyle ? e.getDefaultComputedStyle(n[0]).display: rt.css(n[0], "display");
        return n.detach(),
        o
    }
    function k(e) {
        var t = mt,
        i = ei[e];
        if (!i) {
            if (i = U(e, t), "none" === i || !i) Zt = (Zt || rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),
            t = (Zt[0].contentWindow || Zt[0].contentDocument).document,
            t.write(),
            t.close(),
            i = U(e, t),
            Zt.detach();
            ei[e] = i
        }
        return i
    }
    function C(e, t) {
        return {
            get: function() {
                var i = e();
                if (null != i) if (i) return void delete this.get;
                else return (this.get = t).apply(this, arguments)
            }
        }
    }
    function S(e, t) {
        if (t in e) return t;
        for (var i = t.charAt(0).toUpperCase() + t.slice(1), n = t, o = fi.length; o--;) if (t = fi[o] + i, t in e) return t;
        return n
    }
    function L(e, t) {
        for (var i, n, o, r = [], s = 0, a = e.length; a > s; s++) if (n = e[s], n.style) {
            if (r[s] = rt._data(n, "olddisplay"), i = n.style.display, t) {
                if (!r[s] && "none" === i) n.style.display = "";
                if ("" === n.style.display && Tt(n)) r[s] = rt._data(n, "olddisplay", k(n.nodeName))
            } else if (!r[s]) if (o = Tt(n), i && "none" !== i || !o) rt._data(n, "olddisplay", o ? i: rt.css(n, "display"))
        } else;
        for (s = 0; a > s; s++) if (n = e[s], n.style) {
            if (!t || "none" === n.style.display || "" === n.style.display) n.style.display = t ? r[s] || "": "none"
        } else;
        return e
    }
    function T(e, t, i) {
        var n = hi.exec(t);
        return n ? Math.max(0, n[1] - (i || 0)) + (n[2] || "px") : t
    }
    function I(e, t, i, n, o) {
        for (var r = i === (n ? "border": "content") ? 4 : "width" === t ? 1 : 0, s = 0; 4 > r; r += 2) {
            if ("margin" === i) s += rt.css(e, i + Lt[r], !0, o);
            if (n) {
                if ("content" === i) s -= rt.css(e, "padding" + Lt[r], !0, o);
                if ("margin" !== i) s -= rt.css(e, "border" + Lt[r] + "Width", !0, o)
            } else if (s += rt.css(e, "padding" + Lt[r], !0, o), "padding" !== i) s += rt.css(e, "border" + Lt[r] + "Width", !0, o)
        }
        return s
    }
    function E(e, t, i) {
        var n = !0,
        o = "width" === t ? e.offsetWidth: e.offsetHeight,
        r = ti(e),
        s = nt.boxSizing() && "border-box" === rt.css(e, "boxSizing", !1, r);
        if (0 >= o || null == o) {
            if (o = ii(e, t, r), 0 > o || null == o) o = e.style[t];
            if (oi.test(o)) return o;
            n = s && (nt.boxSizingReliable() || o === e.style[t]),
            o = parseFloat(o) || 0
        }
        return o + I(e, t, i || (s ? "border": "content"), n, r) + "px"
    }
    function W(e, t, i, n, o) {
        return new W.prototype.init(e, t, i, n, o)
    }
    function A() {
        return setTimeout(function() {
            pi = void 0
        }),
        pi = rt.now()
    }
    function M(e, t) {
        var i, n = {
            height: e
        },
        o = 0;
        for (t = t ? 1 : 0; 4 > o; o += 2 - t) i = Lt[o],
        n["margin" + i] = n["padding" + i] = e;
        if (t) n.opacity = n.width = e;
        return n
    }
    function D(e, t, i) {
        for (var n, o = (xi[t] || []).concat(xi["*"]), r = 0, s = o.length; s > r; r++) if (n = o[r].call(i, t, e)) return n
    }
    function P(e, t, i) {
        var n, o, r, s, a, l, h, c, u = this,
        d = {},
        f = e.style,
        p = e.nodeType && Tt(e),
        m = rt._data(e, "fxshow");
        if (!i.queue) {
            if (a = rt._queueHooks(e, "fx"), null == a.unqueued) a.unqueued = 0,
            l = a.empty.fire,
            a.empty.fire = function() {
                if (!a.unqueued) l()
            };
            a.unqueued++,
            u.always(function() {
                u.always(function() {
                    if (a.unqueued--, !rt.queue(e, "fx").length) a.empty.fire()
                })
            })
        }
        if (1 === e.nodeType && ("height" in t || "width" in t)) {
            if (i.overflow = [f.overflow, f.overflowX, f.overflowY], h = rt.css(e, "display"), c = k(e.nodeName), "none" === h) h = c;
            if ("inline" === h && "none" === rt.css(e, "float")) if (!nt.inlineBlockNeedsLayout || "inline" === c) f.display = "inline-block";
            else f.zoom = 1
        }
        if (i.overflow) if (f.overflow = "hidden", !nt.shrinkWrapBlocks()) u.always(function() {
            f.overflow = i.overflow[0],
            f.overflowX = i.overflow[1],
            f.overflowY = i.overflow[2]
        });
        for (n in t) if (o = t[n], gi.exec(o)) {
            if (delete t[n], r = r || "toggle" === o, o === (p ? "hide": "show")) if ("show" === o && m && void 0 !== m[n]) p = !0;
            else continue;
            d[n] = m && m[n] || rt.style(e, n)
        }
        if (!rt.isEmptyObject(d)) {
            if (m) {
                if ("hidden" in m) p = m.hidden
            } else m = rt._data(e, "fxshow", {});
            if (r) m.hidden = !p;
            if (p) rt(e).show();
            else u.done(function() {
                rt(e).hide()
            });
            u.done(function() {
                var t;
                rt._removeData(e, "fxshow");
                for (t in d) rt.style(e, t, d[t])
            });
            for (n in d) if (s = D(p ? m[n] : 0, n, u), !(n in m)) if (m[n] = s.start, p) s.end = s.start,
            s.start = "width" === n || "height" === n ? 1 : 0
        }
    }
    function O(e, t) {
        var i, n, o, r, s;
        for (i in e) {
            if (n = rt.camelCase(i), o = t[n], r = e[i], rt.isArray(r)) o = r[1],
            r = e[i] = r[0];
            if (i !== n) e[n] = r,
            delete e[i];
            if (s = rt.cssHooks[n], s && "expand" in s) {
                r = s.expand(r),
                delete e[n];
                for (i in r) if (! (i in e)) e[i] = r[i],
                t[i] = o
            } else t[n] = o
        }
    }
    function X(e, t, i) {
        var n, o, r = 0,
        s = bi.length,
        a = rt.Deferred().always(function() {
            delete l.elem
        }),
        l = function() {
            if (o) return ! 1;
            for (var t = pi || A(), i = Math.max(0, h.startTime + h.duration - t), n = i / h.duration || 0, r = 1 - n, s = 0, l = h.tweens.length; l > s; s++) h.tweens[s].run(r);
            if (a.notifyWith(e, [h, r, i]), 1 > r && l) return i;
            else return a.resolveWith(e, [h]),
            !1
        },
        h = a.promise({
            elem: e,
            props: rt.extend({},
            t),
            opts: rt.extend(!0, {
                specialEasing: {}
            },
            i),
            originalProperties: t,
            originalOptions: i,
            startTime: pi || A(),
            duration: i.duration,
            tweens: [],
            createTween: function(t, i) {
                var n = rt.Tween(e, h.opts, t, i, h.opts.specialEasing[t] || h.opts.easing);
                return h.tweens.push(n),
                n
            },
            stop: function(t) {
                var i = 0,
                n = t ? h.tweens.length: 0;
                if (o) return this;
                for (o = !0; n > i; i++) h.tweens[i].run(1);
                if (t) a.resolveWith(e, [h, t]);
                else a.rejectWith(e, [h, t]);
                return this
            }
        }),
        c = h.props;
        for (O(c, h.opts.specialEasing); s > r; r++) if (n = bi[r].call(h, e, c, h.opts)) return n;
        if (rt.map(c, D, h), rt.isFunction(h.opts.start)) h.opts.start.call(e, h);
        return rt.fx.timer(rt.extend(l, {
            elem: e,
            anim: h,
            queue: h.opts.queue
        })),
        h.progress(h.opts.progress).done(h.opts.done, h.opts.complete).fail(h.opts.fail).always(h.opts.always)
    }
    function N(e) {
        return function(t, i) {
            if ("string" != typeof t) i = t,
            t = "*";
            var n, o = 0,
            r = t.toLowerCase().match(xt) || [];
            if (rt.isFunction(i)) for (; n = r[o++];) if ("+" === n.charAt(0)) n = n.slice(1) || "*",
            (e[n] = e[n] || []).unshift(i);
            else(e[n] = e[n] || []).push(i)
        }
    }
    function R(e, t, i, n) {
        function o(a) {
            var l;
            return r[a] = !0,
            rt.each(e[a] || [],
            function(e, a) {
                var h = a(t, i, n);
                if ("string" == typeof h && !s && !r[h]) return t.dataTypes.unshift(h),
                o(h),
                !1;
                else if (s) return ! (l = h)
            }),
            l
        }
        var r = {},
        s = e === Hi;
        return o(t.dataTypes[0]) || !r["*"] && o("*")
    }
    function K(e, t) {
        var i, n, o = rt.ajaxSettings.flatOptions || {};
        for (n in t) if (void 0 !== t[n])(o[n] ? e: i || (i = {}))[n] = t[n];
        if (i) rt.extend(!0, e, i);
        return e
    }
    function F(e, t, i) {
        for (var n, o, r, s, a = e.contents,
        l = e.dataTypes;
        "*" === l[0];) if (l.shift(), void 0 === o) o = e.mimeType || t.getResponseHeader("Content-Type");
        if (o) for (s in a) if (a[s] && a[s].test(o)) {
            l.unshift(s);
            break
        }
        if (l[0] in i) r = l[0];
        else {
            for (s in i) {
                if (!l[0] || e.converters[s + " " + l[0]]) {
                    r = s;
                    break
                }
                if (!n) n = s
            }
            r = r || n
        }
        if (r) {
            if (r !== l[0]) l.unshift(r);
            return i[r]
        }
    }
    function z(e, t, i, n) {
        var o, r, s, a, l, h = {},
        c = e.dataTypes.slice();
        if (c[1]) for (s in e.converters) h[s.toLowerCase()] = e.converters[s];
        for (r = c.shift(); r;) {
            if (e.responseFields[r]) i[e.responseFields[r]] = t;
            if (!l && n && e.dataFilter) t = e.dataFilter(t, e.dataType);
            if (l = r, r = c.shift()) if ("*" === r) r = l;
            else if ("*" !== l && l !== r) {
                if (s = h[l + " " + r] || h["* " + r], !s) for (o in h) if (a = o.split(" "), a[1] === r) if (s = h[l + " " + a[0]] || h["* " + a[0]]) {
                    if (s === !0) s = h[o];
                    else if (h[o] !== !0) r = a[0],
                    c.unshift(a[1]);
                    break
                }
                if (s !== !0) if (s && e["throws"]) t = s(t);
                else try {
                    t = s(t)
                } catch(u) {
                    return {
                        state: "parsererror",
                        error: s ? u: "No conversion from " + l + " to " + r
                    }
                }
            }
        }
        return {
            state: "success",
            data: t
        }
    }
    function H(e, t, i, n) {
        var o;
        if (rt.isArray(t)) rt.each(t,
        function(t, o) {
            if (i || Gi.test(e)) n(e, o);
            else H(e + "[" + ("object" == typeof o ? t: "") + "]", o, i, n)
        });
        else if (!i && "object" === rt.type(t)) for (o in t) H(e + "[" + o + "]", t[o], i, n);
        else n(e, t)
    }
    function B() {
        try {
            return new e.XMLHttpRequest
        } catch(t) {}
    }
    function J() {
        try {
            return new e.ActiveXObject("Microsoft.XMLHTTP")
        } catch(t) {}
    }
    function j(e) {
        return rt.isWindow(e) ? e: 9 === e.nodeType ? e.defaultView || e.parentWindow: !1
    }
    var G = [],
    q = G.slice,
    Y = G.concat,
    $ = G.push,
    Q = G.indexOf,
    Z = {},
    et = Z.toString,
    tt = Z.hasOwnProperty,
    it = "".trim,
    nt = {},
    ot = "1.11.0",
    rt = function(e, t) {
        return new rt.fn.init(e, t)
    },
    st = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
    at = /^-ms-/,
    lt = /-([\da-z])/gi,
    ht = function(e, t) {
        return t.toUpperCase()
    };
    rt.fn = rt.prototype = {
        jquery: ot,
        constructor: rt,
        selector: "",
        length: 0,
        toArray: function() {
            return q.call(this)
        },
        get: function(e) {
            return null != e ? 0 > e ? this[e + this.length] : this[e] : q.call(this)
        },
        pushStack: function(e) {
            var t = rt.merge(this.constructor(), e);
            return t.prevObject = this,
            t.context = this.context,
            t
        },
        each: function(e, t) {
            return rt.each(this, e, t)
        },
        map: function(e) {
            return this.pushStack(rt.map(this,
            function(t, i) {
                return e.call(t, i, t)
            }))
        },
        slice: function() {
            return this.pushStack(q.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq( - 1)
        },
        eq: function(e) {
            var t = this.length,
            i = +e + (0 > e ? t: 0);
            return this.pushStack(i >= 0 && t > i ? [this[i]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: $,
        sort: G.sort,
        splice: G.splice
    },
    rt.extend = rt.fn.extend = function() {
        var e, t, i, n, o, r, s = arguments[0] || {},
        a = 1,
        l = arguments.length,
        h = !1;
        if ("boolean" == typeof s) h = s,
        s = arguments[a] || {},
        a++;
        if ("object" != typeof s && !rt.isFunction(s)) s = {};
        if (a === l) s = this,
        a--;
        for (; l > a; a++) if (null != (o = arguments[a])) for (n in o) if (e = s[n], i = o[n], s !== i) {
            if (h && i && (rt.isPlainObject(i) || (t = rt.isArray(i)))) {
                if (t) t = !1,
                r = e && rt.isArray(e) ? e: [];
                else r = e && rt.isPlainObject(e) ? e: {};
                s[n] = rt.extend(h, r, i)
            } else if (void 0 !== i) s[n] = i
        } else;
        return s
    },
    rt.extend({
        expando: "jQuery" + (ot + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(e) {
            throw new Error(e)
        },
        noop: function() {},
        isFunction: function(e) {
            return "function" === rt.type(e)
        },
        isArray: Array.isArray ||
        function(e) {
            return "array" === rt.type(e)
        },
        isWindow: function(e) {
            return null != e && e == e.window
        },
        isNumeric: function(e) {
            return e - parseFloat(e) >= 0
        },
        isEmptyObject: function(e) {
            var t;
            for (t in e) return ! 1;
            return ! 0
        },
        isPlainObject: function(e) {
            var t;
            if (!e || "object" !== rt.type(e) || e.nodeType || rt.isWindow(e)) return ! 1;
            try {
                if (e.constructor && !tt.call(e, "constructor") && !tt.call(e.constructor.prototype, "isPrototypeOf")) return ! 1
            } catch(i) {
                return ! 1
            }
            if (nt.ownLast) for (t in e) return tt.call(e, t);
            for (t in e);
            return void 0 === t || tt.call(e, t)
        },
        type: function(e) {
            if (null == e) return e + "";
            else return "object" == typeof e || "function" == typeof e ? Z[et.call(e)] || "object": typeof e
        },
        globalEval: function(t) {
            if (t && rt.trim(t))(e.execScript ||
            function(t) {
                e.eval.call(e, t)
            })(t)
        },
        camelCase: function(e) {
            return e.replace(at, "ms-").replace(lt, ht)
        },
        nodeName: function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        },
        each: function(e, t, n) {
            var o, r = 0,
            s = e.length,
            a = i(e);
            if (n) {
                if (a) for (; s > r && (o = t.apply(e[r], n), o !== !1); r++);
                else for (r in e) if (o = t.apply(e[r], n), o === !1) break
            } else if (a) for (; s > r && (o = t.call(e[r], r, e[r]), o !== !1); r++);
            else for (r in e) if (o = t.call(e[r], r, e[r]), o === !1) break;
            return e
        },
        trim: it && !it.call("﻿ ") ?
        function(e) {
            return null == e ? "": it.call(e)
        }: function(e) {
            return null == e ? "": (e + "").replace(st, "")
        },
        makeArray: function(e, t) {
            var n = t || [];
            if (null != e) if (i(Object(e))) rt.merge(n, "string" == typeof e ? [e] : e);
            else $.call(n, e);
            return n
        },
        inArray: function(e, t, i) {
            var n;
            if (t) {
                if (Q) return Q.call(t, e, i);
                for (n = t.length, i = i ? 0 > i ? Math.max(0, n + i) : i: 0; n > i; i++) if (i in t && t[i] === e) return i
            }
            return - 1
        },
        merge: function(e, t) {
            for (var i = +t.length,
            n = 0,
            o = e.length; i > n;) e[o++] = t[n++];
            if (i !== i) for (; void 0 !== t[n];) e[o++] = t[n++];
            return e.length = o,
            e
        },
        grep: function(e, t, i) {
            for (var n, o = [], r = 0, s = e.length, a = !i; s > r; r++) if (n = !t(e[r], r), n !== a) o.push(e[r]);
            return o
        },
        map: function(e, t, n) {
            var o, r = 0,
            s = e.length,
            a = i(e),
            l = [];
            if (a) {
                for (; s > r; r++) if (o = t(e[r], r, n), null != o) l.push(o)
            } else for (r in e) if (o = t(e[r], r, n), null != o) l.push(o);
            return Y.apply([], l)
        },
        guid: 1,
        proxy: function(e, t) {
            var i, n, o;
            if ("string" == typeof t) o = e[t],
            t = e,
            e = o;
            if (!rt.isFunction(e)) return void 0;
            else return i = q.call(arguments, 2),
            n = function() {
                return e.apply(t || this, i.concat(q.call(arguments)))
            },
            n.guid = e.guid = e.guid || rt.guid++,
            n
        },
        now: function() {
            return + new Date
        },
        support: nt
    }),
    rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
    function(e, t) {
        Z["[object " + t + "]"] = t.toLowerCase()
    });
    var ct = function(e) {
        function t(e, t, i, n) {
            var o, r, s, a, l, h, u, p, m, g;
            if ((t ? t.ownerDocument || t: R) !== W) E(t);
            if (t = t || W, i = i || [], !e || "string" != typeof e) return i;
            if (1 !== (a = t.nodeType) && 9 !== a) return [];
            if (M && !n) {
                if (o = vt.exec(e)) if (s = o[1]) {
                    if (9 === a) if (r = t.getElementById(s), r && r.parentNode) {
                        if (r.id === s) return i.push(r),
                        i
                    } else return i;
                    else if (t.ownerDocument && (r = t.ownerDocument.getElementById(s)) && X(t, r) && r.id === s) return i.push(r),
                    i
                } else if (o[2]) return Z.apply(i, t.getElementsByTagName(e)),
                i;
                else if ((s = o[3]) && V.getElementsByClassName && t.getElementsByClassName) return Z.apply(i, t.getElementsByClassName(s)),
                i;
                if (V.qsa && (!D || !D.test(e))) {
                    if (p = u = N, m = t, g = 9 === a && e, 1 === a && "object" !== t.nodeName.toLowerCase()) {
                        if (h = d(e), u = t.getAttribute("id")) p = u.replace(xt, "\\$&");
                        else t.setAttribute("id", p);
                        for (p = "[id='" + p + "'] ", l = h.length; l--;) h[l] = p + f(h[l]);
                        m = bt.test(e) && c(t.parentNode) || t,
                        g = h.join(",")
                    }
                    if (g) try {
                        return Z.apply(i, m.querySelectorAll(g)),
                        i
                    } catch(y) {} finally {
                        if (!u) t.removeAttribute("id")
                    }
                }
            }
            return _(e.replace(lt, "$1"), t, i, n)
        }
        function i() {
            function e(i, n) {
                if (t.push(i + " ") > U.cacheLength) delete e[t.shift()];
                return e[i + " "] = n
            }
            var t = [];
            return e
        }
        function n(e) {
            return e[N] = !0,
            e
        }
        function o(e) {
            var t = W.createElement("div");
            try {
                return !! e(t)
            } catch(i) {
                return ! 1
            } finally {
                if (t.parentNode) t.parentNode.removeChild(t);
                t = null
            }
        }
        function r(e, t) {
            for (var i = e.split("|"), n = e.length; n--;) U.attrHandle[i[n]] = t
        }
        function s(e, t) {
            var i = t && e,
            n = i && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || G) - (~e.sourceIndex || G);
            if (n) return n;
            if (i) for (; i = i.nextSibling;) if (i === t) return - 1;
            return e ? 1 : -1
        }
        function a(e) {
            return function(t) {
                var i = t.nodeName.toLowerCase();
                return "input" === i && t.type === e
            }
        }
        function l(e) {
            return function(t) {
                var i = t.nodeName.toLowerCase();
                return ("input" === i || "button" === i) && t.type === e
            }
        }
        function h(e) {
            return n(function(t) {
                return t = +t,
                n(function(i, n) {
                    for (var o, r = e([], i.length, t), s = r.length; s--;) if (i[o = r[s]]) i[o] = !(n[o] = i[o])
                })
            })
        }
        function c(e) {
            return e && typeof e.getElementsByTagName !== j && e
        }
        function u() {}
        function d(e, i) {
            var n, o, r, s, a, l, h, c = H[e + " "];
            if (c) return i ? 0 : c.slice(0);
            for (a = e, l = [], h = U.preFilter; a;) {
                if (!n || (o = ht.exec(a))) {
                    if (o) a = a.slice(o[0].length) || a;
                    l.push(r = [])
                }
                if (n = !1, o = ct.exec(a)) n = o.shift(),
                r.push({
                    value: n,
                    type: o[0].replace(lt, " ")
                }),
                a = a.slice(n.length);
                for (s in U.filter) if ((o = pt[s].exec(a)) && (!h[s] || (o = h[s](o)))) n = o.shift(),
                r.push({
                    value: n,
                    type: s,
                    matches: o
                }),
                a = a.slice(n.length);
                if (!n) break
            }
            return i ? a.length: a ? t.error(e) : H(e, l).slice(0)
        }
        function f(e) {
            for (var t = 0,
            i = e.length,
            n = ""; i > t; t++) n += e[t].value;
            return n
        }
        function p(e, t, i) {
            var n = t.dir,
            o = i && "parentNode" === n,
            r = F++;
            return t.first ?
            function(t, i, r) {
                for (; t = t[n];) if (1 === t.nodeType || o) return e(t, i, r)
            }: function(t, i, s) {
                var a, l, h = [K, r];
                if (s) {
                    for (; t = t[n];) if (1 === t.nodeType || o) if (e(t, i, s)) return ! 0
                } else for (; t = t[n];) if (1 === t.nodeType || o) if (l = t[N] || (t[N] = {}), (a = l[n]) && a[0] === K && a[1] === r) return h[2] = a[2];
                else if (l[n] = h, h[2] = e(t, i, s)) return ! 0
            }
        }
        function m(e) {
            return e.length > 1 ?
            function(t, i, n) {
                for (var o = e.length; o--;) if (!e[o](t, i, n)) return ! 1;
                return ! 0
            }: e[0]
        }
        function g(e, t, i, n, o) {
            for (var r, s = [], a = 0, l = e.length, h = null != t; l > a; a++) if (r = e[a]) if (!i || i(r, n, o)) if (s.push(r), h) t.push(a);
            return s
        }
        function y(e, t, i, o, r, s) {
            if (o && !o[N]) o = y(o);
            if (r && !r[N]) r = y(r, s);
            return n(function(n, s, a, l) {
                var h, c, u, d = [],
                f = [],
                p = s.length,
                m = n || x(t || "*", a.nodeType ? [a] : a, []),
                y = e && (n || !t) ? g(m, d, e, a, l) : m,
                v = i ? r || (n ? e: p || o) ? [] : s: y;
                if (i) i(y, v, a, l);
                if (o) for (h = g(v, f), o(h, [], a, l), c = h.length; c--;) if (u = h[c]) v[f[c]] = !(y[f[c]] = u);
                if (n) {
                    if (r || e) {
                        if (r) {
                            for (h = [], c = v.length; c--;) if (u = v[c]) h.push(y[c] = u);
                            r(null, v = [], h, l)
                        }
                        for (c = v.length; c--;) if ((u = v[c]) && (h = r ? tt.call(n, u) : d[c]) > -1) n[h] = !(s[h] = u)
                    }
                } else if (v = g(v === s ? v.splice(p, v.length) : v), r) r(null, s, v, l);
                else Z.apply(s, v)
            })
        }
        function v(e) {
            for (var t, i, n, o = e.length,
            r = U.relative[e[0].type], s = r || U.relative[" "], a = r ? 1 : 0, l = p(function(e) {
                return e === t
            },
            s, !0), h = p(function(e) {
                return tt.call(t, e) > -1
            },
            s, !0), c = [function(e, i, n) {
                return ! r && (n || i !== L) || ((t = i).nodeType ? l(e, i, n) : h(e, i, n))
            }]; o > a; a++) if (i = U.relative[e[a].type]) c = [p(m(c), i)];
            else {
                if (i = U.filter[e[a].type].apply(null, e[a].matches), i[N]) {
                    for (n = ++a; o > n && !U.relative[e[n].type]; n++);
                    return y(a > 1 && m(c), a > 1 && f(e.slice(0, a - 1).concat({
                        value: " " === e[a - 2].type ? "*": ""
                    })).replace(lt, "$1"), i, n > a && v(e.slice(a, n)), o > n && v(e = e.slice(n)), o > n && f(e))
                }
                c.push(i)
            }
            return m(c)
        }
        function b(e, i) {
            var o = i.length > 0,
            r = e.length > 0,
            s = function(n, s, a, l, h) {
                var c, u, d, f = 0,
                p = "0",
                m = n && [],
                y = [],
                v = L,
                b = n || r && U.find.TAG("*", h),
                x = K += null == v ? 1 : Math.random() || .1,
                _ = b.length;
                if (h) L = s !== W && s;
                for (; p !== _ && null != (c = b[p]); p++) {
                    if (r && c) {
                        for (u = 0; d = e[u++];) if (d(c, s, a)) {
                            l.push(c);
                            break
                        }
                        if (h) K = x
                    }
                    if (o) {
                        if (c = !d && c) f--;
                        if (n) m.push(c)
                    }
                }
                if (f += p, o && p !== f) {
                    for (u = 0; d = i[u++];) d(m, y, s, a);
                    if (n) {
                        if (f > 0) for (; p--;) if (!m[p] && !y[p]) y[p] = $.call(l);
                        y = g(y)
                    }
                    if (Z.apply(l, y), h && !n && y.length > 0 && f + i.length > 1) t.uniqueSort(l)
                }
                if (h) K = x,
                L = v;
                return m
            };
            return o ? n(s) : s
        }
        function x(e, i, n) {
            for (var o = 0,
            r = i.length; r > o; o++) t(e, i[o], n);
            return n
        }
        function _(e, t, i, n) {
            var o, r, s, a, l, h = d(e);
            if (!n) if (1 === h.length) {
                if (r = h[0] = h[0].slice(0), r.length > 2 && "ID" === (s = r[0]).type && V.getById && 9 === t.nodeType && M && U.relative[r[1].type]) {
                    if (t = (U.find.ID(s.matches[0].replace(_t, wt), t) || [])[0], !t) return i;
                    e = e.slice(r.shift().value.length)
                }
                for (o = pt.needsContext.test(e) ? 0 : r.length; o--&&(s = r[o], !U.relative[a = s.type]);) if (l = U.find[a]) if (n = l(s.matches[0].replace(_t, wt), bt.test(r[0].type) && c(t.parentNode) || t)) {
                    if (r.splice(o, 1), e = n.length && f(r), !e) return Z.apply(i, n),
                    i;
                    break
                }
            }
            return S(e, h)(n, t, !M, i, bt.test(e) && c(t.parentNode) || t),
            i
        }
        var w, V, U, k, C, S, L, T, I, E, W, A, M, D, P, O, X, N = "sizzle" + -new Date,
        R = e.document,
        K = 0,
        F = 0,
        z = i(),
        H = i(),
        B = i(),
        J = function(e, t) {
            if (e === t) I = !0;
            return 0
        },
        j = "undefined",
        G = 1 << 31,
        q = {}.hasOwnProperty,
        Y = [],
        $ = Y.pop,
        Q = Y.push,
        Z = Y.push,
        et = Y.slice,
        tt = Y.indexOf ||
        function(e) {
            for (var t = 0,
            i = this.length; i > t; t++) if (this[t] === e) return t;
            return - 1
        },
        it = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
        nt = "[\\x20\\t\\r\\n\\f]",
        ot = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
        rt = ot.replace("w", "w#"),
        st = "\\[" + nt + "*(" + ot + ")" + nt + "*(?:([*^$|!~]?=)" + nt + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + rt + ")|)|)" + nt + "*\\]",
        at = ":(" + ot + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + st.replace(3, 8) + ")*)|.*)\\)|)",
        lt = new RegExp("^" + nt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + nt + "+$", "g"),
        ht = new RegExp("^" + nt + "*," + nt + "*"),
        ct = new RegExp("^" + nt + "*([>+~]|" + nt + ")" + nt + "*"),
        ut = new RegExp("=" + nt + "*([^\\]'\"]*?)" + nt + "*\\]", "g"),
        dt = new RegExp(at),
        ft = new RegExp("^" + rt + "$"),
        pt = {
            ID: new RegExp("^#(" + ot + ")"),
            CLASS: new RegExp("^\\.(" + ot + ")"),
            TAG: new RegExp("^(" + ot.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + st),
            PSEUDO: new RegExp("^" + at),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + nt + "*(even|odd|(([+-]|)(\\d*)n|)" + nt + "*(?:([+-]|)" + nt + "*(\\d+)|))" + nt + "*\\)|)", "i"),
            bool: new RegExp("^(?:" + it + ")$", "i"),
            needsContext: new RegExp("^" + nt + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + nt + "*((?:-\\d)?\\d*)" + nt + "*\\)|)(?=[^-]|$)", "i")
        },
        mt = /^(?:input|select|textarea|button)$/i,
        gt = /^h\d$/i,
        yt = /^[^{]+\{\s*\[native \w/,
        vt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        bt = /[+~]/,
        xt = /'|\\/g,
        _t = new RegExp("\\\\([\\da-f]{1,6}" + nt + "?|(" + nt + ")|.)", "ig"),
        wt = function(e, t, i) {
            var n = "0x" + t - 65536;
            return n !== n || i ? t: 0 > n ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320)
        };
        try {
            Z.apply(Y = et.call(R.childNodes), R.childNodes),
            Y[R.childNodes.length].nodeType
        } catch(Vt) {
            Z = {
                apply: Y.length ?
                function(e, t) {
                    Q.apply(e, et.call(t))
                }: function(e, t) {
                    for (var i = e.length,
                    n = 0; e[i++] = t[n++];);
                    e.length = i - 1
                }
            }
        }
        V = t.support = {},
        C = t.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return t ? "HTML" !== t.nodeName: !1
        },
        E = t.setDocument = function(e) {
            var t, i = e ? e.ownerDocument || e: R,
            n = i.defaultView;
            if (i === W || 9 !== i.nodeType || !i.documentElement) return W;
            if (W = i, A = i.documentElement, M = !C(i), n && n !== n.top) if (n.addEventListener) n.addEventListener("unload",
            function() {
                E()
            },
            !1);
            else if (n.attachEvent) n.attachEvent("onunload",
            function() {
                E()
            });
            if (V.attributes = o(function(e) {
                return e.className = "i",
                !e.getAttribute("className")
            }), V.getElementsByTagName = o(function(e) {
                return e.appendChild(i.createComment("")),
                !e.getElementsByTagName("*").length
            }), V.getElementsByClassName = yt.test(i.getElementsByClassName) && o(function(e) {
                return e.innerHTML = "<div class='a'></div><div class='a i'></div>",
                e.firstChild.className = "i",
                2 === e.getElementsByClassName("i").length
            }), V.getById = o(function(e) {
                return A.appendChild(e).id = N,
                !i.getElementsByName || !i.getElementsByName(N).length
            }), V.getById) U.find.ID = function(e, t) {
                if (typeof t.getElementById !== j && M) {
                    var i = t.getElementById(e);
                    return i && i.parentNode ? [i] : []
                }
            },
            U.filter.ID = function(e) {
                var t = e.replace(_t, wt);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            };
            else delete U.find.ID,
            U.filter.ID = function(e) {
                var t = e.replace(_t, wt);
                return function(e) {
                    var i = typeof e.getAttributeNode !== j && e.getAttributeNode("id");
                    return i && i.value === t
                }
            };
            if (U.find.TAG = V.getElementsByTagName ?
            function(e, t) {
                if (typeof t.getElementsByTagName !== j) return t.getElementsByTagName(e);
                else return void 0
            }: function(e, t) {
                var i, n = [],
                o = 0,
                r = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; i = r[o++];) if (1 === i.nodeType) n.push(i);
                    return n
                }
                return r
            },
            U.find.CLASS = V.getElementsByClassName &&
            function(e, t) {
                if (typeof t.getElementsByClassName !== j && M) return t.getElementsByClassName(e);
                else return void 0
            },
            P = [], D = [], V.qsa = yt.test(i.querySelectorAll)) o(function(e) {
                if (e.innerHTML = "<select t=''><option selected=''></option></select>", e.querySelectorAll("[t^='']").length) D.push("[*^$]=" + nt + "*(?:''|\"\")");
                if (!e.querySelectorAll("[selected]").length) D.push("\\[" + nt + "*(?:value|" + it + ")");
                if (!e.querySelectorAll(":checked").length) D.push(":checked")
            }),
            o(function(e) {
                var t = i.createElement("input");
                if (t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length) D.push("name" + nt + "*[*^$|!~]?=");
                if (!e.querySelectorAll(":enabled").length) D.push(":enabled", ":disabled");
                e.querySelectorAll("*,:x"),
                D.push(",.*:")
            });
            if (V.matchesSelector = yt.test(O = A.webkitMatchesSelector || A.mozMatchesSelector || A.oMatchesSelector || A.msMatchesSelector)) o(function(e) {
                V.disconnectedMatch = O.call(e, "div"),
                O.call(e, "[s!='']:x"),
                P.push("!=", at)
            });
            return D = D.length && new RegExp(D.join("|")),
            P = P.length && new RegExp(P.join("|")),
            t = yt.test(A.compareDocumentPosition),
            X = t || yt.test(A.contains) ?
            function(e, t) {
                var i = 9 === e.nodeType ? e.documentElement: e,
                n = t && t.parentNode;
                return e === n || !(!n || 1 !== n.nodeType || !(i.contains ? i.contains(n) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(n)))
            }: function(e, t) {
                if (t) for (; t = t.parentNode;) if (t === e) return ! 0;
                return ! 1
            },
            J = t ?
            function(e, t) {
                if (e === t) return I = !0,
                0;
                var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                if (n) return n;
                if (n = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, 1 & n || !V.sortDetached && t.compareDocumentPosition(e) === n) {
                    if (e === i || e.ownerDocument === R && X(R, e)) return - 1;
                    if (t === i || t.ownerDocument === R && X(R, t)) return 1;
                    else return T ? tt.call(T, e) - tt.call(T, t) : 0
                }
                return 4 & n ? -1 : 1
            }: function(e, t) {
                if (e === t) return I = !0,
                0;
                var n, o = 0,
                r = e.parentNode,
                a = t.parentNode,
                l = [e],
                h = [t];
                if (!r || !a) return e === i ? -1 : t === i ? 1 : r ? -1 : a ? 1 : T ? tt.call(T, e) - tt.call(T, t) : 0;
                else if (r === a) return s(e, t);
                for (n = e; n = n.parentNode;) l.unshift(n);
                for (n = t; n = n.parentNode;) h.unshift(n);
                for (; l[o] === h[o];) o++;
                return o ? s(l[o], h[o]) : l[o] === R ? -1 : h[o] === R ? 1 : 0
            },
            i
        },
        t.matches = function(e, i) {
            return t(e, null, null, i)
        },
        t.matchesSelector = function(e, i) {
            if ((e.ownerDocument || e) !== W) E(e);
            if (i = i.replace(ut, "='$1']"), !(!V.matchesSelector || !M || P && P.test(i) || D && D.test(i))) try {
                var n = O.call(e, i);
                if (n || V.disconnectedMatch || e.document && 11 !== e.document.nodeType) return n
            } catch(o) {}
            return t(i, W, null, [e]).length > 0
        },
        t.contains = function(e, t) {
            if ((e.ownerDocument || e) !== W) E(e);
            return X(e, t)
        },
        t.attr = function(e, t) {
            if ((e.ownerDocument || e) !== W) E(e);
            var i = U.attrHandle[t.toLowerCase()],
            n = i && q.call(U.attrHandle, t.toLowerCase()) ? i(e, t, !M) : void 0;
            return void 0 !== n ? n: V.attributes || !M ? e.getAttribute(t) : (n = e.getAttributeNode(t)) && n.specified ? n.value: null
        },
        t.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        },
        t.uniqueSort = function(e) {
            var t, i = [],
            n = 0,
            o = 0;
            if (I = !V.detectDuplicates, T = !V.sortStable && e.slice(0), e.sort(J), I) {
                for (; t = e[o++];) if (t === e[o]) n = i.push(o);
                for (; n--;) e.splice(i[n], 1)
            }
            return T = null,
            e
        },
        k = t.getText = function(e) {
            var t, i = "",
            n = 0,
            o = e.nodeType;
            if (!o) for (; t = e[n++];) i += k(t);
            else if (1 === o || 9 === o || 11 === o) if ("string" == typeof e.textContent) return e.textContent;
            else for (e = e.firstChild; e; e = e.nextSibling) i += k(e);
            else if (3 === o || 4 === o) return e.nodeValue;
            return i
        },
        U = t.selectors = {
            cacheLength: 50,
            createPseudo: n,
            match: pt,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    if (e[1] = e[1].replace(_t, wt), e[3] = (e[4] || e[5] || "").replace(_t, wt), "~=" === e[2]) e[3] = " " + e[3] + " ";
                    return e.slice(0, 4)
                },
                CHILD: function(e) {
                    if (e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3)) {
                        if (!e[3]) t.error(e[0]);
                        e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])),
                        e[5] = +(e[7] + e[8] || "odd" === e[3])
                    } else if (e[3]) t.error(e[0]);
                    return e
                },
                PSEUDO: function(e) {
                    var t, i = !e[5] && e[2];
                    if (pt.CHILD.test(e[0])) return null;
                    if (e[3] && void 0 !== e[4]) e[2] = e[4];
                    else if (i && dt.test(i) && (t = d(i, !0)) && (t = i.indexOf(")", i.length - t) - i.length)) e[0] = e[0].slice(0, t),
                    e[2] = i.slice(0, t);
                    return e.slice(0, 3)
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(_t, wt).toLowerCase();
                    return "*" === e ?
                    function() {
                        return ! 0
                    }: function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = z[e + " "];
                    return t || (t = new RegExp("(^|" + nt + ")" + e + "(" + nt + "|$)")) && z(e,
                    function(e) {
                        return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== j && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(e, i, n) {
                    return function(o) {
                        var r = t.attr(o, e);
                        if (null == r) return "!=" === i;
                        if (!i) return ! 0;
                        else return r += "",
                        "=" === i ? r === n: "!=" === i ? r !== n: "^=" === i ? n && 0 === r.indexOf(n) : "*=" === i ? n && r.indexOf(n) > -1 : "$=" === i ? n && r.slice( - n.length) === n: "~=" === i ? (" " + r + " ").indexOf(n) > -1 : "|=" === i ? r === n || r.slice(0, n.length + 1) === n + "-": !1
                    }
                },
                CHILD: function(e, t, i, n, o) {
                    var r = "nth" !== e.slice(0, 3),
                    s = "last" !== e.slice( - 4),
                    a = "of-type" === t;
                    return 1 === n && 0 === o ?
                    function(e) {
                        return !! e.parentNode
                    }: function(t, i, l) {
                        var h, c, u, d, f, p, m = r !== s ? "nextSibling": "previousSibling",
                        g = t.parentNode,
                        y = a && t.nodeName.toLowerCase(),
                        v = !l && !a;
                        if (g) {
                            if (r) {
                                for (; m;) {
                                    for (u = t; u = u[m];) if (a ? u.nodeName.toLowerCase() === y: 1 === u.nodeType) return ! 1;
                                    p = m = "only" === e && !p && "nextSibling"
                                }
                                return ! 0
                            }
                            if (p = [s ? g.firstChild: g.lastChild], s && v) {
                                for (c = g[N] || (g[N] = {}), h = c[e] || [], f = h[0] === K && h[1], d = h[0] === K && h[2], u = f && g.childNodes[f]; u = ++f && u && u[m] || (d = f = 0) || p.pop();) if (1 === u.nodeType && ++d && u === t) {
                                    c[e] = [K, f, d];
                                    break
                                }
                            } else if (v && (h = (t[N] || (t[N] = {}))[e]) && h[0] === K) d = h[1];
                            else for (; u = ++f && u && u[m] || (d = f = 0) || p.pop();) if ((a ? u.nodeName.toLowerCase() === y: 1 === u.nodeType) && ++d) {
                                if (v)(u[N] || (u[N] = {}))[e] = [K, d];
                                if (u === t) break
                            }
                            return d -= o,
                            d === n || d % n === 0 && d / n >= 0
                        }
                    }
                },
                PSEUDO: function(e, i) {
                    var o, r = U.pseudos[e] || U.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e);
                    if (r[N]) return r(i);
                    if (r.length > 1) return o = [e, e, "", i],
                    U.setFilters.hasOwnProperty(e.toLowerCase()) ? n(function(e, t) {
                        for (var n, o = r(e, i), s = o.length; s--;) n = tt.call(e, o[s]),
                        e[n] = !(t[n] = o[s])
                    }) : function(e) {
                        return r(e, 0, o)
                    };
                    else return r
                }
            },
            pseudos: {
                not: n(function(e) {
                    var t = [],
                    i = [],
                    o = S(e.replace(lt, "$1"));
                    return o[N] ? n(function(e, t, i, n) {
                        for (var r, s = o(e, null, n, []), a = e.length; a--;) if (r = s[a]) e[a] = !(t[a] = r)
                    }) : function(e, n, r) {
                        return t[0] = e,
                        o(t, null, r, i),
                        !i.pop()
                    }
                }),
                has: n(function(e) {
                    return function(i) {
                        return t(e, i).length > 0
                    }
                }),
                contains: n(function(e) {
                    return function(t) {
                        return (t.textContent || t.innerText || k(t)).indexOf(e) > -1
                    }
                }),
                lang: n(function(e) {
                    if (!ft.test(e || "")) t.error("unsupported lang: " + e);
                    return e = e.replace(_t, wt).toLowerCase(),
                    function(t) {
                        var i;
                        do
                        if (i = M ? t.lang: t.getAttribute("xml:lang") || t.getAttribute("lang")) return i = i.toLowerCase(),
                        i === e || 0 === i.indexOf(e + "-");
                        while ((t = t.parentNode) && 1 === t.nodeType);
                        return ! 1
                    }
                }),
                target: function(t) {
                    var i = e.location && e.location.hash;
                    return i && i.slice(1) === t.id
                },
                root: function(e) {
                    return e === A
                },
                focus: function(e) {
                    return e === W.activeElement && (!W.hasFocus || W.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return e.disabled === !1
                },
                disabled: function(e) {
                    return e.disabled === !0
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    if (e.parentNode) e.parentNode.selectedIndex;
                    return e.selected === !0
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return ! 1;
                    return ! 0
                },
                parent: function(e) {
                    return ! U.pseudos.empty(e)
                },
                header: function(e) {
                    return gt.test(e.nodeName)
                },
                input: function(e) {
                    return mt.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: h(function() {
                    return [0]
                }),
                last: h(function(e, t) {
                    return [t - 1]
                }),
                eq: h(function(e, t, i) {
                    return [0 > i ? i + t: i]
                }),
                even: h(function(e, t) {
                    for (var i = 0; t > i; i += 2) e.push(i);
                    return e
                }),
                odd: h(function(e, t) {
                    for (var i = 1; t > i; i += 2) e.push(i);
                    return e
                }),
                lt: h(function(e, t, i) {
                    for (var n = 0 > i ? i + t: i; --n >= 0;) e.push(n);
                    return e
                }),
                gt: h(function(e, t, i) {
                    for (var n = 0 > i ? i + t: i; ++n < t;) e.push(n);
                    return e
                })
            }
        },
        U.pseudos.nth = U.pseudos.eq;
        for (w in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        }) U.pseudos[w] = a(w);
        for (w in {
            submit: !0,
            reset: !0
        }) U.pseudos[w] = l(w);
        if (u.prototype = U.filters = U.pseudos, U.setFilters = new u, S = t.compile = function(e, t) {
            var i, n = [],
            o = [],
            r = B[e + " "];
            if (!r) {
                if (!t) t = d(e);
                for (i = t.length; i--;) if (r = v(t[i]), r[N]) n.push(r);
                else o.push(r);
                r = B(e, b(o, n))
            }
            return r
        },
        V.sortStable = N.split("").sort(J).join("") === N, V.detectDuplicates = !!I, E(), V.sortDetached = o(function(e) {
            return 1 & e.compareDocumentPosition(W.createElement("div"))
        }), !o(function(e) {
            return e.innerHTML = "<a href='#'></a>",
            "#" === e.firstChild.getAttribute("href")
        })) r("type|href|height|width",
        function(e, t, i) {
            if (!i) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2);
            else return void 0
        });
        if (!V.attributes || !o(function(e) {
            return e.innerHTML = "<input/>",
            e.firstChild.setAttribute("value", ""),
            "" === e.firstChild.getAttribute("value")
        })) r("value",
        function(e, t, i) {
            if (!i && "input" === e.nodeName.toLowerCase()) return e.defaultValue;
            else return void 0
        });
        if (!o(function(e) {
            return null == e.getAttribute("disabled")
        })) r(it,
        function(e, t, i) {
            var n;
            if (!i) return e[t] === !0 ? t.toLowerCase() : (n = e.getAttributeNode(t)) && n.specified ? n.value: null;
            else return void 0
        });
        return t
    } (e);
    rt.find = ct,
    rt.expr = ct.selectors,
    rt.expr[":"] = rt.expr.pseudos,
    rt.unique = ct.uniqueSort,
    rt.text = ct.getText,
    rt.isXMLDoc = ct.isXML,
    rt.contains = ct.contains;
    var ut = rt.expr.match.needsContext,
    dt = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    ft = /^.[^:#\[\.,]*$/;
    rt.filter = function(e, t, i) {
        var n = t[0];
        if (i) e = ":not(" + e + ")";
        return 1 === t.length && 1 === n.nodeType ? rt.find.matchesSelector(n, e) ? [n] : [] : rt.find.matches(e, rt.grep(t,
        function(e) {
            return 1 === e.nodeType
        }))
    },
    rt.fn.extend({
        find: function(e) {
            var t, i = [],
            n = this,
            o = n.length;
            if ("string" != typeof e) return this.pushStack(rt(e).filter(function() {
                for (t = 0; o > t; t++) if (rt.contains(n[t], this)) return ! 0
            }));
            for (t = 0; o > t; t++) rt.find(e, n[t], i);
            return i = this.pushStack(o > 1 ? rt.unique(i) : i),
            i.selector = this.selector ? this.selector + " " + e: e,
            i
        },
        filter: function(e) {
            return this.pushStack(n(this, e || [], !1))
        },
        not: function(e) {
            return this.pushStack(n(this, e || [], !0))
        },
        is: function(e) {
            return !! n(this, "string" == typeof e && ut.test(e) ? rt(e) : e || [], !1).length
        }
    });
    var pt, mt = e.document,
    gt = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
    yt = rt.fn.init = function(e, t) {
        var i, n;
        if (!e) return this;
        if ("string" == typeof e) {
            if ("<" === e.charAt(0) && ">" === e.charAt(e.length - 1) && e.length >= 3) i = [null, e, null];
            else i = gt.exec(e);
            if (i && (i[1] || !t)) if (i[1]) {
                if (t = t instanceof rt ? t[0] : t, rt.merge(this, rt.parseHTML(i[1], t && t.nodeType ? t.ownerDocument || t: mt, !0)), dt.test(i[1]) && rt.isPlainObject(t)) for (i in t) if (rt.isFunction(this[i])) this[i](t[i]);
                else this.attr(i, t[i]);
                return this
            } else {
                if (n = mt.getElementById(i[2]), n && n.parentNode) {
                    if (n.id !== i[2]) return pt.find(e);
                    this.length = 1,
                    this[0] = n
                }
                return this.context = mt,
                this.selector = e,
                this
            } else if (!t || t.jquery) return (t || pt).find(e);
            else return this.constructor(t).find(e)
        } else if (e.nodeType) return this.context = this[0] = e,
        this.length = 1,
        this;
        else if (rt.isFunction(e)) return "undefined" != typeof pt.ready ? pt.ready(e) : e(rt);
        if (void 0 !== e.selector) this.selector = e.selector,
        this.context = e.context;
        return rt.makeArray(e, this)
    };
    yt.prototype = rt.fn,
    pt = rt(mt);
    var vt = /^(?:parents|prev(?:Until|All))/,
    bt = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    rt.extend({
        dir: function(e, t, i) {
            for (var n = [], o = e[t]; o && 9 !== o.nodeType && (void 0 === i || 1 !== o.nodeType || !rt(o).is(i));) {
                if (1 === o.nodeType) n.push(o);
                o = o[t]
            }
            return n
        },
        sibling: function(e, t) {
            for (var i = []; e; e = e.nextSibling) if (1 === e.nodeType && e !== t) i.push(e);
            return i
        }
    }),
    rt.fn.extend({
        has: function(e) {
            var t, i = rt(e, this),
            n = i.length;
            return this.filter(function() {
                for (t = 0; n > t; t++) if (rt.contains(this, i[t])) return ! 0
            })
        },
        closest: function(e, t) {
            for (var i, n = 0,
            o = this.length,
            r = [], s = ut.test(e) || "string" != typeof e ? rt(e, t || this.context) : 0; o > n; n++) for (i = this[n]; i && i !== t; i = i.parentNode) if (i.nodeType < 11 && (s ? s.index(i) > -1 : 1 === i.nodeType && rt.find.matchesSelector(i, e))) {
                r.push(i);
                break
            }
            return this.pushStack(r.length > 1 ? rt.unique(r) : r)
        },
        index: function(e) {
            if (!e) return this[0] && this[0].parentNode ? this.first().prevAll().length: -1;
            if ("string" == typeof e) return rt.inArray(this[0], rt(e));
            else return rt.inArray(e.jquery ? e[0] : e, this)
        },
        add: function(e, t) {
            return this.pushStack(rt.unique(rt.merge(this.get(), rt(e, t))))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject: this.prevObject.filter(e))
        }
    }),
    rt.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t: null
        },
        parents: function(e) {
            return rt.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, i) {
            return rt.dir(e, "parentNode", i)
        },
        next: function(e) {
            return o(e, "nextSibling")
        },
        prev: function(e) {
            return o(e, "previousSibling")
        },
        nextAll: function(e) {
            return rt.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return rt.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, i) {
            return rt.dir(e, "nextSibling", i)
        },
        prevUntil: function(e, t, i) {
            return rt.dir(e, "previousSibling", i)
        },
        siblings: function(e) {
            return rt.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return rt.sibling(e.firstChild)
        },
        contents: function(e) {
            return rt.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document: rt.merge([], e.childNodes)
        }
    },
    function(e, t) {
        rt.fn[e] = function(i, n) {
            var o = rt.map(this, t, i);
            if ("Until" !== e.slice( - 5)) n = i;
            if (n && "string" == typeof n) o = rt.filter(n, o);
            if (this.length > 1) {
                if (!bt[e]) o = rt.unique(o);
                if (vt.test(e)) o = o.reverse()
            }
            return this.pushStack(o)
        }
    });
    var xt = /\S+/g,
    _t = {};
    rt.Callbacks = function(e) {
        e = "string" == typeof e ? _t[e] || r(e) : rt.extend({},
        e);
        var t, i, n, o, s, a, l = [],
        h = !e.once && [],
        c = function(r) {
            for (i = e.memory && r, n = !0, s = a || 0, a = 0, o = l.length, t = !0; l && o > s; s++) if (l[s].apply(r[0], r[1]) === !1 && e.stopOnFalse) {
                i = !1;
                break
            }
            if (t = !1, l) if (h) {
                if (h.length) c(h.shift())
            } else if (i) l = [];
            else u.disable()
        },
        u = {
            add: function() {
                if (l) {
                    var n = l.length;
                    if (function r(t) {
                        rt.each(t,
                        function(t, i) {
                            var n = rt.type(i);
                            if ("function" === n) {
                                if (!e.unique || !u.has(i)) l.push(i)
                            } else if (i && i.length && "string" !== n) r(i)
                        })
                    } (arguments), t) o = l.length;
                    else if (i) a = n,
                    c(i)
                }
                return this
            },
            remove: function() {
                if (l) rt.each(arguments,
                function(e, i) {
                    for (var n; (n = rt.inArray(i, l, n)) > -1;) if (l.splice(n, 1), t) {
                        if (o >= n) o--;
                        if (s >= n) s--
                    }
                });
                return this
            },
            has: function(e) {
                return e ? rt.inArray(e, l) > -1 : !(!l || !l.length)
            },
            empty: function() {
                return l = [],
                o = 0,
                this
            },
            disable: function() {
                return l = h = i = void 0,
                this
            },
            disabled: function() {
                return ! l
            },
            lock: function() {
                if (h = void 0, !i) u.disable();
                return this
            },
            locked: function() {
                return ! h
            },
            fireWith: function(e, i) {
                if (l && (!n || h)) if (i = i || [], i = [e, i.slice ? i.slice() : i], t) h.push(i);
                else c(i);
                return this
            },
            fire: function() {
                return u.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !! n
            }
        };
        return u
    },
    rt.extend({
        Deferred: function(e) {
            var t = [["resolve", "done", rt.Callbacks("once memory"), "resolved"], ["reject", "fail", rt.Callbacks("once memory"), "rejected"], ["notify", "progress", rt.Callbacks("memory")]],
            i = "pending",
            n = {
                state: function() {
                    return i
                },
                always: function() {
                    return o.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var e = arguments;
                    return rt.Deferred(function(i) {
                        rt.each(t,
                        function(t, r) {
                            var s = rt.isFunction(e[t]) && e[t];
                            o[r[1]](function() {
                                var e = s && s.apply(this, arguments);
                                if (e && rt.isFunction(e.promise)) e.promise().done(i.resolve).fail(i.reject).progress(i.notify);
                                else i[r[0] + "With"](this === n ? i.promise() : this, s ? [e] : arguments)
                            })
                        }),
                        e = null
                    }).promise()
                },
                promise: function(e) {
                    return null != e ? rt.extend(e, n) : n
                }
            },
            o = {};
            if (n.pipe = n.then, rt.each(t,
            function(e, r) {
                var s = r[2],
                a = r[3];
                if (n[r[1]] = s.add, a) s.add(function() {
                    i = a
                },
                t[1 ^ e][2].disable, t[2][2].lock);
                o[r[0]] = function() {
                    return o[r[0] + "With"](this === o ? n: this, arguments),
                    this
                },
                o[r[0] + "With"] = s.fireWith
            }), n.promise(o), e) e.call(o, o);
            return o
        },
        when: function(e) {
            var t, i, n, o = 0,
            r = q.call(arguments),
            s = r.length,
            a = 1 !== s || e && rt.isFunction(e.promise) ? s: 0,
            l = 1 === a ? e: rt.Deferred(),
            h = function(e, i, n) {
                return function(o) {
                    if (i[e] = this, n[e] = arguments.length > 1 ? q.call(arguments) : o, n === t) l.notifyWith(i, n);
                    else if (!--a) l.resolveWith(i, n)
                }
            };
            if (s > 1) for (t = new Array(s), i = new Array(s), n = new Array(s); s > o; o++) if (r[o] && rt.isFunction(r[o].promise)) r[o].promise().done(h(o, n, r)).fail(l.reject).progress(h(o, i, t));
            else--a;
            if (!a) l.resolveWith(n, r);
            return l.promise()
        }
    });
    var wt;
    rt.fn.ready = function(e) {
        return rt.ready.promise().done(e),
        this
    },
    rt.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(e) {
            if (e) rt.readyWait++;
            else rt.ready(!0)
        },
        ready: function(e) {
            if (e === !0 ? !--rt.readyWait: !rt.isReady) {
                if (!mt.body) return setTimeout(rt.ready);
                if (rt.isReady = !0, !(e !== !0 && --rt.readyWait > 0)) if (wt.resolveWith(mt, [rt]), rt.fn.trigger) rt(mt).trigger("ready").off("ready")
            }
        }
    }),
    rt.ready.promise = function(t) {
        if (!wt) if (wt = rt.Deferred(), "complete" === mt.readyState) setTimeout(rt.ready);
        else if (mt.addEventListener) mt.addEventListener("DOMContentLoaded", a, !1),
        e.addEventListener("load", a, !1);
        else {
            mt.attachEvent("onreadystatechange", a),
            e.attachEvent("onload", a);
            var i = !1;
            try {
                i = null == e.frameElement && mt.documentElement
            } catch(n) {}
            if (i && i.doScroll) !
            function o() {
                if (!rt.isReady) {
                    try {
                        i.doScroll("left")
                    } catch(e) {
                        return setTimeout(o, 50)
                    }
                    s(),
                    rt.ready()
                }
            } ()
        }
        return wt.promise(t)
    };
    var Vt, Ut = "undefined";
    for (Vt in rt(nt)) break;
    nt.ownLast = "0" !== Vt,
    nt.inlineBlockNeedsLayout = !1,
    rt(function() {
        var e, t, i = mt.getElementsByTagName("body")[0];
        if (i) {
            if (e = mt.createElement("div"), e.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", t = mt.createElement("div"), i.appendChild(e).appendChild(t), typeof t.style.zoom !== Ut) if (t.style.cssText = "border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1", nt.inlineBlockNeedsLayout = 3 === t.offsetWidth) i.style.zoom = 1;
            i.removeChild(e),
            e = t = null
        }
    }),
    function() {
        var e = mt.createElement("div");
        if (null == nt.deleteExpando) {
            nt.deleteExpando = !0;
            try {
                delete e.test
            } catch(t) {
                nt.deleteExpando = !1
            }
        }
        e = null
    } (),
    rt.acceptData = function(e) {
        var t = rt.noData[(e.nodeName + " ").toLowerCase()],
        i = +e.nodeType || 1;
        return 1 !== i && 9 !== i ? !1 : !t || t !== !0 && e.getAttribute("classid") === t
    };
    var kt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
    Ct = /([A-Z])/g;
    rt.extend({
        cache: {},
        noData: {
            "applet ": !0,
            "embed ": !0,
            "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function(e) {
            return e = e.nodeType ? rt.cache[e[rt.expando]] : e[rt.expando],
            !!e && !h(e)
        },
        data: function(e, t, i) {
            return c(e, t, i)
        },
        removeData: function(e, t) {
            return u(e, t)
        },
        _data: function(e, t, i) {
            return c(e, t, i, !0)
        },
        _removeData: function(e, t) {
            return u(e, t, !0)
        }
    }),
    rt.fn.extend({
        data: function(e, t) {
            var i, n, o, r = this[0],
            s = r && r.attributes;
            if (void 0 === e) {
                if (this.length) if (o = rt.data(r), 1 === r.nodeType && !rt._data(r, "parsedAttrs")) {
                    for (i = s.length; i--;) if (n = s[i].name, 0 === n.indexOf("data-")) n = rt.camelCase(n.slice(5)),
                    l(r, n, o[n]);
                    rt._data(r, "parsedAttrs", !0)
                }
                return o
            }
            if ("object" == typeof e) return this.each(function() {
                rt.data(this, e)
            });
            else return arguments.length > 1 ? this.each(function() {
                rt.data(this, e, t)
            }) : r ? l(r, e, rt.data(r, e)) : void 0
        },
        removeData: function(e) {
            return this.each(function() {
                rt.removeData(this, e)
            })
        }
    }),
    rt.extend({
        queue: function(e, t, i) {
            var n;
            if (e) {
                if (t = (t || "fx") + "queue", n = rt._data(e, t), i) if (!n || rt.isArray(i)) n = rt._data(e, t, rt.makeArray(i));
                else n.push(i);
                return n || []
            }
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var i = rt.queue(e, t),
            n = i.length,
            o = i.shift(),
            r = rt._queueHooks(e, t),
            s = function() {
                rt.dequeue(e, t)
            };
            if ("inprogress" === o) o = i.shift(),
            n--;
            if (o) {
                if ("fx" === t) i.unshift("inprogress");
                delete r.stop,
                o.call(e, s, r)
            }
            if (!n && r) r.empty.fire()
        },
        _queueHooks: function(e, t) {
            var i = t + "queueHooks";
            return rt._data(e, i) || rt._data(e, i, {
                empty: rt.Callbacks("once memory").add(function() {
                    rt._removeData(e, t + "queue"),
                    rt._removeData(e, i)
                })
            })
        }
    }),
    rt.fn.extend({
        queue: function(e, t) {
            var i = 2;
            if ("string" != typeof e) t = e,
            e = "fx",
            i--;
            if (arguments.length < i) return rt.queue(this[0], e);
            else return void 0 === t ? this: this.each(function() {
                var i = rt.queue(this, e, t);
                if (rt._queueHooks(this, e), "fx" === e && "inprogress" !== i[0]) rt.dequeue(this, e)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                rt.dequeue(this, e)
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, t) {
            var i, n = 1,
            o = rt.Deferred(),
            r = this,
            s = this.length,
            a = function() {
                if (!--n) o.resolveWith(r, [r])
            };
            if ("string" != typeof e) t = e,
            e = void 0;
            for (e = e || "fx"; s--;) if (i = rt._data(r[s], e + "queueHooks"), i && i.empty) n++,
            i.empty.add(a);
            return a(),
            o.promise(t)
        }
    });
    var St = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
    Lt = ["Top", "Right", "Bottom", "Left"],
    Tt = function(e, t) {
        return e = t || e,
        "none" === rt.css(e, "display") || !rt.contains(e.ownerDocument, e)
    },
    It = rt.access = function(e, t, i, n, o, r, s) {
        var a = 0,
        l = e.length,
        h = null == i;
        if ("object" === rt.type(i)) {
            o = !0;
            for (a in i) rt.access(e, t, a, i[a], !0, r, s)
        } else if (void 0 !== n) {
            if (o = !0, !rt.isFunction(n)) s = !0;
            if (h) if (s) t.call(e, n),
            t = null;
            else h = t,
            t = function(e, t, i) {
                return h.call(rt(e), i)
            };
            if (t) for (; l > a; a++) t(e[a], i, s ? n: n.call(e[a], a, t(e[a], i)))
        }
        return o ? e: h ? t.call(e) : l ? t(e[0], i) : r
    },
    Et = /^(?:checkbox|radio)$/i; !
    function() {
        var e = mt.createDocumentFragment(),
        t = mt.createElement("div"),
        i = mt.createElement("input");
        if (t.setAttribute("className", "t"), t.innerHTML = "  <link/><table></table><a href='/a'>a</a>", nt.leadingWhitespace = 3 === t.firstChild.nodeType, nt.tbody = !t.getElementsByTagName("tbody").length, nt.htmlSerialize = !!t.getElementsByTagName("link").length, nt.html5Clone = "<:nav></:nav>" !== mt.createElement("nav").cloneNode(!0).outerHTML, i.type = "checkbox", i.checked = !0, e.appendChild(i), nt.appendChecked = i.checked, t.innerHTML = "<textarea>x</textarea>", nt.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue, e.appendChild(t), t.innerHTML = "<input type='radio' checked='checked' name='t'/>", nt.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, nt.noCloneEvent = !0, t.attachEvent) t.attachEvent("onclick",
        function() {
            nt.noCloneEvent = !1
        }),
        t.cloneNode(!0).click();
        if (null == nt.deleteExpando) {
            nt.deleteExpando = !0;
            try {
                delete t.test
            } catch(n) {
                nt.deleteExpando = !1
            }
        }
        e = t = i = null
    } (),
    function() {
        var t, i, n = mt.createElement("div");
        for (t in {
            submit: !0,
            change: !0,
            focusin: !0
        }) if (i = "on" + t, !(nt[t + "Bubbles"] = i in e)) n.setAttribute(i, "t"),
        nt[t + "Bubbles"] = n.attributes[i].expando === !1;
        n = null
    } ();
    var Wt = /^(?:input|select|textarea)$/i,
    At = /^key/,
    Mt = /^(?:mouse|contextmenu)|click/,
    Dt = /^(?:focusinfocus|focusoutblur)$/,
    Pt = /^([^.]*)(?:\.(.+)|)$/;
    if (rt.event = {
        global: {},
        add: function(e, t, i, n, o) {
            var r, s, a, l, h, c, u, d, f, p, m, g = rt._data(e);
            if (g) {
                if (i.handler) l = i,
                i = l.handler,
                o = l.selector;
                if (!i.guid) i.guid = rt.guid++;
                if (! (s = g.events)) s = g.events = {};
                if (! (c = g.handle)) c = g.handle = function(e) {
                    return typeof rt !== Ut && (!e || rt.event.triggered !== e.type) ? rt.event.dispatch.apply(c.elem, arguments) : void 0
                },
                c.elem = e;
                for (t = (t || "").match(xt) || [""], a = t.length; a--;) if (r = Pt.exec(t[a]) || [], f = m = r[1], p = (r[2] || "").split(".").sort(), f) {
                    if (h = rt.event.special[f] || {},
                    f = (o ? h.delegateType: h.bindType) || f, h = rt.event.special[f] || {},
                    u = rt.extend({
                        type: f,
                        origType: m,
                        data: n,
                        handler: i,
                        guid: i.guid,
                        selector: o,
                        needsContext: o && rt.expr.match.needsContext.test(o),
                        namespace: p.join(".")
                    },
                    l), !(d = s[f])) if (d = s[f] = [], d.delegateCount = 0, !h.setup || h.setup.call(e, n, p, c) === !1) if (e.addEventListener) e.addEventListener(f, c, !1);
                    else if (e.attachEvent) e.attachEvent("on" + f, c);
                    if (h.add) if (h.add.call(e, u), !u.handler.guid) u.handler.guid = i.guid;
                    if (o) d.splice(d.delegateCount++, 0, u);
                    else d.push(u);
                    rt.event.global[f] = !0
                } else;
                e = null
            }
        },
        remove: function(e, t, i, n, o) {
            var r, s, a, l, h, c, u, d, f, p, m, g = rt.hasData(e) && rt._data(e);
            if (g && (c = g.events)) {
                for (t = (t || "").match(xt) || [""], h = t.length; h--;) if (a = Pt.exec(t[h]) || [], f = m = a[1], p = (a[2] || "").split(".").sort(), f) {
                    for (u = rt.event.special[f] || {},
                    f = (n ? u.delegateType: u.bindType) || f, d = c[f] || [], a = a[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), l = r = d.length; r--;) if (s = d[r], !(!o && m !== s.origType || i && i.guid !== s.guid || a && !a.test(s.namespace) || n && n !== s.selector && ("**" !== n || !s.selector))) {
                        if (d.splice(r, 1), s.selector) d.delegateCount--;
                        if (u.remove) u.remove.call(e, s)
                    }
                    if (l && !d.length) {
                        if (!u.teardown || u.teardown.call(e, p, g.handle) === !1) rt.removeEvent(e, f, g.handle);
                        delete c[f]
                    }
                } else for (f in c) rt.event.remove(e, f + t[h], i, n, !0);
                if (rt.isEmptyObject(c)) delete g.handle,
                rt._removeData(e, "events")
            }
        },
        trigger: function(t, i, n, o) {
            var r, s, a, l, h, c, u, d = [n || mt],
            f = tt.call(t, "type") ? t.type: t,
            p = tt.call(t, "namespace") ? t.namespace.split(".") : [];
            if (a = c = n = n || mt, 3 !== n.nodeType && 8 !== n.nodeType) if (!Dt.test(f + rt.event.triggered)) {
                if (f.indexOf(".") >= 0) p = f.split("."),
                f = p.shift(),
                p.sort();
                if (s = f.indexOf(":") < 0 && "on" + f, t = t[rt.expando] ? t: new rt.Event(f, "object" == typeof t && t), t.isTrigger = o ? 2 : 3, t.namespace = p.join("."), t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, !t.target) t.target = n;
                if (i = null == i ? [t] : rt.makeArray(i, [t]), h = rt.event.special[f] || {},
                o || !h.trigger || h.trigger.apply(n, i) !== !1) {
                    if (!o && !h.noBubble && !rt.isWindow(n)) {
                        if (l = h.delegateType || f, !Dt.test(l + f)) a = a.parentNode;
                        for (; a; a = a.parentNode) d.push(a),
                        c = a;
                        if (c === (n.ownerDocument || mt)) d.push(c.defaultView || c.parentWindow || e)
                    }
                    for (u = 0; (a = d[u++]) && !t.isPropagationStopped();) {
                        if (t.type = u > 1 ? l: h.bindType || f, r = (rt._data(a, "events") || {})[t.type] && rt._data(a, "handle")) r.apply(a, i);
                        if (r = s && a[s], r && r.apply && rt.acceptData(a)) if (t.result = r.apply(a, i), t.result === !1) t.preventDefault()
                    }
                    if (t.type = f, !o && !t.isDefaultPrevented()) if ((!h._default || h._default.apply(d.pop(), i) === !1) && rt.acceptData(n)) if (s && n[f] && !rt.isWindow(n)) {
                        if (c = n[s]) n[s] = null;
                        rt.event.triggered = f;
                        try {
                            n[f]()
                        } catch(m) {}
                        if (rt.event.triggered = void 0, c) n[s] = c
                    }
                    return t.result
                }
            }
        },
        dispatch: function(e) {
            e = rt.event.fix(e);
            var t, i, n, o, r, s = [],
            a = q.call(arguments),
            l = (rt._data(this, "events") || {})[e.type] || [],
            h = rt.event.special[e.type] || {};
            if (a[0] = e, e.delegateTarget = this, !h.preDispatch || h.preDispatch.call(this, e) !== !1) {
                for (s = rt.event.handlers.call(this, e, l), t = 0; (o = s[t++]) && !e.isPropagationStopped();) for (e.currentTarget = o.elem, r = 0; (n = o.handlers[r++]) && !e.isImmediatePropagationStopped();) if (!e.namespace_re || e.namespace_re.test(n.namespace)) if (e.handleObj = n, e.data = n.data, i = ((rt.event.special[n.origType] || {}).handle || n.handler).apply(o.elem, a), void 0 !== i) if ((e.result = i) === !1) e.preventDefault(),
                e.stopPropagation();
                if (h.postDispatch) h.postDispatch.call(this, e);
                return e.result
            }
        },
        handlers: function(e, t) {
            var i, n, o, r, s = [],
            a = t.delegateCount,
            l = e.target;
            if (a && l.nodeType && (!e.button || "click" !== e.type)) for (; l != this; l = l.parentNode || this) if (1 === l.nodeType && (l.disabled !== !0 || "click" !== e.type)) {
                for (o = [], r = 0; a > r; r++) {
                    if (n = t[r], i = n.selector + " ", void 0 === o[i]) o[i] = n.needsContext ? rt(i, this).index(l) >= 0 : rt.find(i, this, null, [l]).length;
                    if (o[i]) o.push(n)
                }
                if (o.length) s.push({
                    elem: l,
                    handlers: o
                })
            }
            if (a < t.length) s.push({
                elem: this,
                handlers: t.slice(a)
            });
            return s
        },
        fix: function(e) {
            if (e[rt.expando]) return e;
            var t, i, n, o = e.type,
            r = e,
            s = this.fixHooks[o];
            if (!s) this.fixHooks[o] = s = Mt.test(o) ? this.mouseHooks: At.test(o) ? this.keyHooks: {};
            for (n = s.props ? this.props.concat(s.props) : this.props, e = new rt.Event(r), t = n.length; t--;) i = n[t],
            e[i] = r[i];
            if (!e.target) e.target = r.srcElement || mt;
            if (3 === e.target.nodeType) e.target = e.target.parentNode;
            return e.metaKey = !!e.metaKey,
            s.filter ? s.filter(e, r) : e
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                if (null == e.which) e.which = null != t.charCode ? t.charCode: t.keyCode;
                return e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, t) {
                var i, n, o, r = t.button,
                s = t.fromElement;
                if (null == e.pageX && null != t.clientX) n = e.target.ownerDocument || mt,
                o = n.documentElement,
                i = n.body,
                e.pageX = t.clientX + (o && o.scrollLeft || i && i.scrollLeft || 0) - (o && o.clientLeft || i && i.clientLeft || 0),
                e.pageY = t.clientY + (o && o.scrollTop || i && i.scrollTop || 0) - (o && o.clientTop || i && i.clientTop || 0);
                if (!e.relatedTarget && s) e.relatedTarget = s === e.target ? t.toElement: s;
                if (!e.which && void 0 !== r) e.which = 1 & r ? 1 : 2 & r ? 3 : 4 & r ? 2 : 0;
                return e
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== p() && this.focus) try {
                        return this.focus(),
                        !1
                    } catch(e) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === p() && this.blur) return this.blur(),
                    !1;
                    else return void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if (rt.nodeName(this, "input") && "checkbox" === this.type && this.click) return this.click(),
                    !1;
                    else return void 0
                },
                _default: function(e) {
                    return rt.nodeName(e.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    if (void 0 !== e.result) e.originalEvent.returnValue = e.result
                }
            }
        },
        simulate: function(e, t, i, n) {
            var o = rt.extend(new rt.Event, i, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            if (n) rt.event.trigger(o, null, t);
            else rt.event.dispatch.call(t, o);
            if (o.isDefaultPrevented()) i.preventDefault()
        }
    },
    rt.removeEvent = mt.removeEventListener ?
    function(e, t, i) {
        if (e.removeEventListener) e.removeEventListener(t, i, !1)
    }: function(e, t, i) {
        var n = "on" + t;
        if (e.detachEvent) {
            if (typeof e[n] === Ut) e[n] = null;
            e.detachEvent(n, i)
        }
    },
    rt.Event = function(e, t) {
        if (! (this instanceof rt.Event)) return new rt.Event(e, t);
        if (e && e.type) this.originalEvent = e,
        this.type = e.type,
        this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && (e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault()) ? d: f;
        else this.type = e;
        if (t) rt.extend(this, t);
        this.timeStamp = e && e.timeStamp || rt.now(),
        this[rt.expando] = !0
    },
    rt.Event.prototype = {
        isDefaultPrevented: f,
        isPropagationStopped: f,
        isImmediatePropagationStopped: f,
        preventDefault: function() {
            var e = this.originalEvent;
            if (this.isDefaultPrevented = d, e) if (e.preventDefault) e.preventDefault();
            else e.returnValue = !1
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            if (this.isPropagationStopped = d, e) {
                if (e.stopPropagation) e.stopPropagation();
                e.cancelBubble = !0
            }
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = d,
            this.stopPropagation()
        }
    },
    rt.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    },
    function(e, t) {
        rt.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var i, n = this,
                o = e.relatedTarget,
                r = e.handleObj;
                if (!o || o !== n && !rt.contains(n, o)) e.type = r.origType,
                i = r.handler.apply(this, arguments),
                e.type = t;
                return i
            }
        }
    }), !nt.submitBubbles) rt.event.special.submit = {
        setup: function() {
            if (rt.nodeName(this, "form")) return ! 1;
            else return void rt.event.add(this, "click._submit keypress._submit",
            function(e) {
                var t = e.target,
                i = rt.nodeName(t, "input") || rt.nodeName(t, "button") ? t.form: void 0;
                if (i && !rt._data(i, "submitBubbles")) rt.event.add(i, "submit._submit",
                function(e) {
                    e._submit_bubble = !0
                }),
                rt._data(i, "submitBubbles", !0)
            })
        },
        postDispatch: function(e) {
            if (e._submit_bubble) if (delete e._submit_bubble, this.parentNode && !e.isTrigger) rt.event.simulate("submit", this.parentNode, e, !0)
        },
        teardown: function() {
            if (rt.nodeName(this, "form")) return ! 1;
            else return void rt.event.remove(this, "._submit")
        }
    };
    if (!nt.changeBubbles) rt.event.special.change = {
        setup: function() {
            if (Wt.test(this.nodeName)) {
                if ("checkbox" === this.type || "radio" === this.type) rt.event.add(this, "propertychange._change",
                function(e) {
                    if ("checked" === e.originalEvent.propertyName) this._just_changed = !0
                }),
                rt.event.add(this, "click._change",
                function(e) {
                    if (this._just_changed && !e.isTrigger) this._just_changed = !1;
                    rt.event.simulate("change", this, e, !0)
                });
                return ! 1
            }
            rt.event.add(this, "beforeactivate._change",
            function(e) {
                var t = e.target;
                if (Wt.test(t.nodeName) && !rt._data(t, "changeBubbles")) rt.event.add(t, "change._change",
                function(e) {
                    if (this.parentNode && !e.isSimulated && !e.isTrigger) rt.event.simulate("change", this.parentNode, e, !0)
                }),
                rt._data(t, "changeBubbles", !0)
            })
        },
        handle: function(e) {
            var t = e.target;
            if (this !== t || e.isSimulated || e.isTrigger || "radio" !== t.type && "checkbox" !== t.type) return e.handleObj.handler.apply(this, arguments);
            else return void 0
        },
        teardown: function() {
            return rt.event.remove(this, "._change"),
            !Wt.test(this.nodeName)
        }
    };
    if (!nt.focusinBubbles) rt.each({
        focus: "focusin",
        blur: "focusout"
    },
    function(e, t) {
        var i = function(e) {
            rt.event.simulate(t, e.target, rt.event.fix(e), !0)
        };
        rt.event.special[t] = {
            setup: function() {
                var n = this.ownerDocument || this,
                o = rt._data(n, t);
                if (!o) n.addEventListener(e, i, !0);
                rt._data(n, t, (o || 0) + 1)
            },
            teardown: function() {
                var n = this.ownerDocument || this,
                o = rt._data(n, t) - 1;
                if (!o) n.removeEventListener(e, i, !0),
                rt._removeData(n, t);
                else rt._data(n, t, o)
            }
        }
    });
    rt.fn.extend({
        on: function(e, t, i, n, o) {
            var r, s;
            if ("object" == typeof e) {
                if ("string" != typeof t) i = i || t,
                t = void 0;
                for (r in e) this.on(r, t, i, e[r], o);
                return this
            }
            if (null == i && null == n) n = t,
            i = t = void 0;
            else if (null == n) if ("string" == typeof t) n = i,
            i = void 0;
            else n = i,
            i = t,
            t = void 0;
            if (n === !1) n = f;
            else if (!n) return this;
            if (1 === o) s = n,
            n = function(e) {
                return rt().off(e),
                s.apply(this, arguments)
            },
            n.guid = s.guid || (s.guid = rt.guid++);
            return this.each(function() {
                rt.event.add(this, e, n, i, t)
            })
        },
        one: function(e, t, i, n) {
            return this.on(e, t, i, n, 1)
        },
        off: function(e, t, i) {
            var n, o;
            if (e && e.preventDefault && e.handleObj) return n = e.handleObj,
            rt(e.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace: n.origType, n.selector, n.handler),
            this;
            if ("object" == typeof e) {
                for (o in e) this.off(o, t, e[o]);
                return this
            }
            if (t === !1 || "function" == typeof t) i = t,
            t = void 0;
            if (i === !1) i = f;
            return this.each(function() {
                rt.event.remove(this, e, i, t)
            })
        },
        trigger: function(e, t) {
            return this.each(function() {
                rt.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var i = this[0];
            if (i) return rt.event.trigger(e, t, i, !0);
            else return void 0
        }
    });
    var Ot = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
    Xt = / jQuery\d+="(?:null|\d+)"/g,
    Nt = new RegExp("<(?:" + Ot + ")[\\s/>]", "i"),
    Rt = /^\s+/,
    Kt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    Ft = /<([\w:]+)/,
    zt = /<tbody/i,
    Ht = /<|&#?\w+;/,
    Bt = /<(?:script|style|link)/i,
    Jt = /checked\s*(?:[^=]|=\s*.checked.)/i,
    jt = /^$|\/(?:java|ecma)script/i,
    Gt = /^true\/(.*)/,
    qt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
    Yt = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        area: [1, "<map>", "</map>"],
        param: [1, "<object>", "</object>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: nt.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
    },
    $t = m(mt),
    Qt = $t.appendChild(mt.createElement("div"));
    Yt.optgroup = Yt.option,
    Yt.tbody = Yt.tfoot = Yt.colgroup = Yt.caption = Yt.thead,
    Yt.th = Yt.td,
    rt.extend({
        clone: function(e, t, i) {
            var n, o, r, s, a, l = rt.contains(e.ownerDocument, e);
            if (nt.html5Clone || rt.isXMLDoc(e) || !Nt.test("<" + e.nodeName + ">")) r = e.cloneNode(!0);
            else Qt.innerHTML = e.outerHTML,
            Qt.removeChild(r = Qt.firstChild);
            if (! (nt.noCloneEvent && nt.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || rt.isXMLDoc(e))) for (n = g(r), a = g(e), s = 0; null != (o = a[s]); ++s) if (n[s]) V(o, n[s]);
            if (t) if (i) for (a = a || g(e), n = n || g(r), s = 0; null != (o = a[s]); s++) w(o, n[s]);
            else w(e, r);
            if (n = g(r, "script"), n.length > 0) _(n, !l && g(e, "script"));
            return n = a = o = null,
            r
        },
        buildFragment: function(e, t, i, n) {
            for (var o, r, s, a, l, h, c, u = e.length,
            d = m(t), f = [], p = 0; u > p; p++) if (r = e[p], r || 0 === r) if ("object" === rt.type(r)) rt.merge(f, r.nodeType ? [r] : r);
            else if (!Ht.test(r)) f.push(t.createTextNode(r));
            else {
                for (a = a || d.appendChild(t.createElement("div")), l = (Ft.exec(r) || ["", ""])[1].toLowerCase(), c = Yt[l] || Yt._default, a.innerHTML = c[1] + r.replace(Kt, "<$1></$2>") + c[2], o = c[0]; o--;) a = a.lastChild;
                if (!nt.leadingWhitespace && Rt.test(r)) f.push(t.createTextNode(Rt.exec(r)[0]));
                if (!nt.tbody) for (r = "table" === l && !zt.test(r) ? a.firstChild: "<table>" === c[1] && !zt.test(r) ? a: 0, o = r && r.childNodes.length; o--;) if (rt.nodeName(h = r.childNodes[o], "tbody") && !h.childNodes.length) r.removeChild(h);
                for (rt.merge(f, a.childNodes), a.textContent = ""; a.firstChild;) a.removeChild(a.firstChild);
                a = d.lastChild
            }
            if (a) d.removeChild(a);
            if (!nt.appendChecked) rt.grep(g(f, "input"), y);
            for (p = 0; r = f[p++];) if (!n || -1 === rt.inArray(r, n)) {
                if (s = rt.contains(r.ownerDocument, r), a = g(d.appendChild(r), "script"), s) _(a);
                if (i) for (o = 0; r = a[o++];) if (jt.test(r.type || "")) i.push(r)
            } else;
            return a = null,
            d
        },
        cleanData: function(e, t) {
            for (var i, n, o, r, s = 0,
            a = rt.expando,
            l = rt.cache,
            h = nt.deleteExpando,
            c = rt.event.special; null != (i = e[s]); s++) if (t || rt.acceptData(i)) if (o = i[a], r = o && l[o]) {
                if (r.events) for (n in r.events) if (c[n]) rt.event.remove(i, n);
                else rt.removeEvent(i, n, r.handle);
                if (l[o]) {
                    if (delete l[o], h) delete i[a];
                    else if (typeof i.removeAttribute !== Ut) i.removeAttribute(a);
                    else i[a] = null;
                    G.push(o)
                }
            }
        }
    }),
    rt.fn.extend({
        text: function(e) {
            return It(this,
            function(e) {
                return void 0 === e ? rt.text(this) : this.empty().append((this[0] && this[0].ownerDocument || mt).createTextNode(e))
            },
            null, e, arguments.length)
        },
        append: function() {
            return this.domManip(arguments,
            function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = v(this, e);
                    t.appendChild(e)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments,
            function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = v(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments,
            function(e) {
                if (this.parentNode) this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return this.domManip(arguments,
            function(e) {
                if (this.parentNode) this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        remove: function(e, t) {
            for (var i, n = e ? rt.filter(e, this) : this, o = 0; null != (i = n[o]); o++) {
                if (!t && 1 === i.nodeType) rt.cleanData(g(i));
                if (i.parentNode) {
                    if (t && rt.contains(i.ownerDocument, i)) _(g(i, "script"));
                    i.parentNode.removeChild(i)
                }
            }
            return this
        },
        empty: function() {
            for (var e, t = 0; null != (e = this[t]); t++) {
                if (1 === e.nodeType) rt.cleanData(g(e, !1));
                for (; e.firstChild;) e.removeChild(e.firstChild);
                if (e.options && rt.nodeName(e, "select")) e.options.length = 0
            }
            return this
        },
        clone: function(e, t) {
            return e = null == e ? !1 : e,
            t = null == t ? e: t,
            this.map(function() {
                return rt.clone(this, e, t)
            })
        },
        html: function(e) {
            return It(this,
            function(e) {
                var t = this[0] || {},
                i = 0,
                n = this.length;
                if (void 0 === e) return 1 === t.nodeType ? t.innerHTML.replace(Xt, "") : void 0;
                if (! ("string" != typeof e || Bt.test(e) || !nt.htmlSerialize && Nt.test(e) || !nt.leadingWhitespace && Rt.test(e) || Yt[(Ft.exec(e) || ["", ""])[1].toLowerCase()])) {
                    e = e.replace(Kt, "<$1></$2>");
                    try {
                        for (; n > i; i++) if (t = this[i] || {},
                        1 === t.nodeType) rt.cleanData(g(t, !1)),
                        t.innerHTML = e;
                        t = 0
                    } catch(o) {}
                }
                if (t) this.empty().append(e)
            },
            null, e, arguments.length)
        },
        replaceWith: function() {
            var e = arguments[0];
            return this.domManip(arguments,
            function(t) {
                if (e = this.parentNode, rt.cleanData(g(this)), e) e.replaceChild(t, this)
            }),
            e && (e.length || e.nodeType) ? this: this.remove()
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(e, t) {
            e = Y.apply([], e);
            var i, n, o, r, s, a, l = 0,
            h = this.length,
            c = this,
            u = h - 1,
            d = e[0],
            f = rt.isFunction(d);
            if (f || h > 1 && "string" == typeof d && !nt.checkClone && Jt.test(d)) return this.each(function(i) {
                var n = c.eq(i);
                if (f) e[0] = d.call(this, i, n.html());
                n.domManip(e, t)
            });
            if (h) {
                if (a = rt.buildFragment(e, this[0].ownerDocument, !1, this), i = a.firstChild, 1 === a.childNodes.length) a = i;
                if (i) {
                    for (r = rt.map(g(a, "script"), b), o = r.length; h > l; l++) {
                        if (n = a, l !== u) if (n = rt.clone(n, !0, !0), o) rt.merge(r, g(n, "script"));
                        t.call(this[l], n, l)
                    }
                    if (o) for (s = r[r.length - 1].ownerDocument, rt.map(r, x), l = 0; o > l; l++) if (n = r[l], jt.test(n.type || "") && !rt._data(n, "globalEval") && rt.contains(s, n)) if (n.src) {
                        if (rt._evalUrl) rt._evalUrl(n.src)
                    } else rt.globalEval((n.text || n.textContent || n.innerHTML || "").replace(qt, ""));
                    a = i = null
                }
            }
            return this
        }
    }),
    rt.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    },
    function(e, t) {
        rt.fn[e] = function(e) {
            for (var i, n = 0,
            o = [], r = rt(e), s = r.length - 1; s >= n; n++) i = n === s ? this: this.clone(!0),
            rt(r[n])[t](i),
            $.apply(o, i.get());
            return this.pushStack(o)
        }
    });
    var Zt, ei = {}; !
    function() {
        var e, t, i = mt.createElement("div"),
        n = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";
        i.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        e = i.getElementsByTagName("a")[0],
        e.style.cssText = "float:left;opacity:.5",
        nt.opacity = /^0.5/.test(e.style.opacity),
        nt.cssFloat = !!e.style.cssFloat,
        i.style.backgroundClip = "content-box",
        i.cloneNode(!0).style.backgroundClip = "",
        nt.clearCloneStyle = "content-box" === i.style.backgroundClip,
        e = i = null,
        nt.shrinkWrapBlocks = function() {
            var e, i, o, r;
            if (null == t) {
                if (e = mt.getElementsByTagName("body")[0], !e) return;
                if (r = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px", i = mt.createElement("div"), o = mt.createElement("div"), e.appendChild(i).appendChild(o), t = !1, typeof o.style.zoom !== Ut) o.style.cssText = n + ";width:1px;padding:1px;zoom:1",
                o.innerHTML = "<div></div>",
                o.firstChild.style.width = "5px",
                t = 3 !== o.offsetWidth;
                e.removeChild(i),
                e = i = o = null
            }
            return t
        }
    } ();
    var ti, ii, ni = /^margin/,
    oi = new RegExp("^(" + St + ")(?!px)[a-z%]+$", "i"),
    ri = /^(top|right|bottom|left)$/;
    if (e.getComputedStyle) ti = function(e) {
        return e.ownerDocument.defaultView.getComputedStyle(e, null)
    },
    ii = function(e, t, i) {
        var n, o, r, s, a = e.style;
        if (i = i || ti(e), s = i ? i.getPropertyValue(t) || i[t] : void 0, i) {
            if ("" === s && !rt.contains(e.ownerDocument, e)) s = rt.style(e, t);
            if (oi.test(s) && ni.test(t)) n = a.width,
            o = a.minWidth,
            r = a.maxWidth,
            a.minWidth = a.maxWidth = a.width = s,
            s = i.width,
            a.width = n,
            a.minWidth = o,
            a.maxWidth = r
        }
        return void 0 === s ? s: s + ""
    };
    else if (mt.documentElement.currentStyle) ti = function(e) {
        return e.currentStyle
    },
    ii = function(e, t, i) {
        var n, o, r, s, a = e.style;
        if (i = i || ti(e), s = i ? i[t] : void 0, null == s && a && a[t]) s = a[t];
        if (oi.test(s) && !ri.test(t)) {
            if (n = a.left, o = e.runtimeStyle, r = o && o.left) o.left = e.currentStyle.left;
            if (a.left = "fontSize" === t ? "1em": s, s = a.pixelLeft + "px", a.left = n, r) o.left = r
        }
        return void 0 === s ? s: s + "" || "auto"
    }; !
    function() {
        function t() {
            var t, i, n = mt.getElementsByTagName("body")[0];
            if (n) {
                if (t = mt.createElement("div"), i = mt.createElement("div"), t.style.cssText = h, n.appendChild(t).appendChild(i), i.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%", rt.swap(n, null != n.style.zoom ? {
                    zoom: 1
                }: {},
                function() {
                    o = 4 === i.offsetWidth
                }), r = !0, s = !1, a = !0, e.getComputedStyle) s = "1%" !== (e.getComputedStyle(i, null) || {}).top,
                r = "4px" === (e.getComputedStyle(i, null) || {
                    width: "4px"
                }).width;
                n.removeChild(t),
                i = n = null
            }
        }
        var i, n, o, r, s, a, l = mt.createElement("div"),
        h = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px",
        c = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";
        l.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        i = l.getElementsByTagName("a")[0],
        i.style.cssText = "float:left;opacity:.5",
        nt.opacity = /^0.5/.test(i.style.opacity),
        nt.cssFloat = !!i.style.cssFloat,
        l.style.backgroundClip = "content-box",
        l.cloneNode(!0).style.backgroundClip = "",
        nt.clearCloneStyle = "content-box" === l.style.backgroundClip,
        i = l = null,
        rt.extend(nt, {
            reliableHiddenOffsets: function() {
                if (null != n) return n;
                var e, t, i, o = mt.createElement("div"),
                r = mt.getElementsByTagName("body")[0];
                if (r) return o.setAttribute("className", "t"),
                o.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
                e = mt.createElement("div"),
                e.style.cssText = h,
                r.appendChild(e).appendChild(o),
                o.innerHTML = "<table><tr><td></td><td>t</td></tr></table>",
                t = o.getElementsByTagName("td"),
                t[0].style.cssText = "padding:0;margin:0;border:0;display:none",
                i = 0 === t[0].offsetHeight,
                t[0].style.display = "",
                t[1].style.display = "none",
                n = i && 0 === t[0].offsetHeight,
                r.removeChild(e),
                o = r = null,
                n
            },
            boxSizing: function() {
                if (null == o) t();
                return o
            },
            boxSizingReliable: function() {
                if (null == r) t();
                return r
            },
            pixelPosition: function() {
                if (null == s) t();
                return s
            },
            reliableMarginRight: function() {
                var t, i, n, o;
                if (null == a && e.getComputedStyle) {
                    if (t = mt.getElementsByTagName("body")[0], !t) return;
                    i = mt.createElement("div"),
                    n = mt.createElement("div"),
                    i.style.cssText = h,
                    t.appendChild(i).appendChild(n),
                    o = n.appendChild(mt.createElement("div")),
                    o.style.cssText = n.style.cssText = c,
                    o.style.marginRight = o.style.width = "0",
                    n.style.width = "1px",
                    a = !parseFloat((e.getComputedStyle(o, null) || {}).marginRight),
                    t.removeChild(i)
                }
                return a
            }
        })
    } (),
    rt.swap = function(e, t, i, n) {
        var o, r, s = {};
        for (r in t) s[r] = e.style[r],
        e.style[r] = t[r];
        o = i.apply(e, n || []);
        for (r in t) e.style[r] = s[r];
        return o
    };
    var si = /alpha\([^)]*\)/i,
    ai = /opacity\s*=\s*([^)]*)/,
    li = /^(none|table(?!-c[ea]).+)/,
    hi = new RegExp("^(" + St + ")(.*)$", "i"),
    ci = new RegExp("^([+-])=(" + St + ")", "i"),
    ui = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    },
    di = {
        letterSpacing: 0,
        fontWeight: 400
    },
    fi = ["Webkit", "O", "Moz", "ms"];
    if (rt.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var i = ii(e, "opacity");
                        return "" === i ? "1": i
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": nt.cssFloat ? "cssFloat": "styleFloat"
        },
        style: function(e, t, i, n) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var o, r, s, a = rt.camelCase(t),
                l = e.style;
                if (t = rt.cssProps[a] || (rt.cssProps[a] = S(l, a)), s = rt.cssHooks[t] || rt.cssHooks[a], void 0 !== i) {
                    if (r = typeof i, "string" === r && (o = ci.exec(i))) i = (o[1] + 1) * o[2] + parseFloat(rt.css(e, t)),
                    r = "number";
                    if (null == i || i !== i) return;
                    if ("number" === r && !rt.cssNumber[a]) i += "px";
                    if (!nt.clearCloneStyle && "" === i && 0 === t.indexOf("background")) l[t] = "inherit";
                    if (! (s && "set" in s && void 0 === (i = s.set(e, i, n)))) try {
                        l[t] = "",
                        l[t] = i
                    } catch(h) {}
                } else if (s && "get" in s && void 0 !== (o = s.get(e, !1, n))) return o;
                else return l[t]
            }
        },
        css: function(e, t, i, n) {
            var o, r, s, a = rt.camelCase(t);
            if (t = rt.cssProps[a] || (rt.cssProps[a] = S(e.style, a)), s = rt.cssHooks[t] || rt.cssHooks[a], s && "get" in s) r = s.get(e, !0, i);
            if (void 0 === r) r = ii(e, t, n);
            if ("normal" === r && t in di) r = di[t];
            if ("" === i || i) return o = parseFloat(r),
            i === !0 || rt.isNumeric(o) ? o || 0 : r;
            else return r
        }
    }), rt.each(["height", "width"],
    function(e, t) {
        rt.cssHooks[t] = {
            get: function(e, i, n) {
                if (i) return 0 === e.offsetWidth && li.test(rt.css(e, "display")) ? rt.swap(e, ui,
                function() {
                    return E(e, t, n)
                }) : E(e, t, n);
                else return void 0
            },
            set: function(e, i, n) {
                var o = n && ti(e);
                return T(e, i, n ? I(e, t, n, nt.boxSizing() && "border-box" === rt.css(e, "boxSizing", !1, o), o) : 0)
            }
        }
    }), !nt.opacity) rt.cssHooks.opacity = {
        get: function(e, t) {
            return ai.test((t && e.currentStyle ? e.currentStyle.filter: e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "": t ? "1": ""
        },
        set: function(e, t) {
            var i = e.style,
            n = e.currentStyle,
            o = rt.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")": "",
            r = n && n.filter || i.filter || "";
            if (i.zoom = 1, (t >= 1 || "" === t) && "" === rt.trim(r.replace(si, "")) && i.removeAttribute) if (i.removeAttribute("filter"), "" === t || n && !n.filter) return;
            i.filter = si.test(r) ? r.replace(si, o) : r + " " + o
        }
    };
    rt.cssHooks.marginRight = C(nt.reliableMarginRight,
    function(e, t) {
        if (t) return rt.swap(e, {
            display: "inline-block"
        },
        ii, [e, "marginRight"]);
        else return void 0
    }),
    rt.each({
        margin: "",
        padding: "",
        border: "Width"
    },
    function(e, t) {
        if (rt.cssHooks[e + t] = {
            expand: function(i) {
                for (var n = 0,
                o = {},
                r = "string" == typeof i ? i.split(" ") : [i]; 4 > n; n++) o[e + Lt[n] + t] = r[n] || r[n - 2] || r[0];
                return o
            }
        },
        !ni.test(e)) rt.cssHooks[e + t].set = T
    }),
    rt.fn.extend({
        css: function(e, t) {
            return It(this,
            function(e, t, i) {
                var n, o, r = {},
                s = 0;
                if (rt.isArray(t)) {
                    for (n = ti(e), o = t.length; o > s; s++) r[t[s]] = rt.css(e, t[s], !1, n);
                    return r
                }
                return void 0 !== i ? rt.style(e, t, i) : rt.css(e, t)
            },
            e, t, arguments.length > 1)
        },
        show: function() {
            return L(this, !0)
        },
        hide: function() {
            return L(this)
        },
        toggle: function(e) {
            if ("boolean" == typeof e) return e ? this.show() : this.hide();
            else return this.each(function() {
                if (Tt(this)) rt(this).show();
                else rt(this).hide()
            })
        }
    }),
    rt.Tween = W,
    W.prototype = {
        constructor: W,
        init: function(e, t, i, n, o, r) {
            this.elem = e,
            this.prop = i,
            this.easing = o || "swing",
            this.options = t,
            this.start = this.now = this.cur(),
            this.end = n,
            this.unit = r || (rt.cssNumber[i] ? "": "px")
        },
        cur: function() {
            var e = W.propHooks[this.prop];
            return e && e.get ? e.get(this) : W.propHooks._default.get(this)
        },
        run: function(e) {
            var t, i = W.propHooks[this.prop];
            if (this.options.duration) this.pos = t = rt.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration);
            else this.pos = t = e;
            if (this.now = (this.end - this.start) * t + this.start, this.options.step) this.options.step.call(this.elem, this.now, this);
            if (i && i.set) i.set(this);
            else W.propHooks._default.set(this);
            return this
        }
    },
    W.prototype.init.prototype = W.prototype,
    W.propHooks = {
        _default: {
            get: function(e) {
                var t;
                if (null != e.elem[e.prop] && (!e.elem.style || null == e.elem.style[e.prop])) return e.elem[e.prop];
                else return t = rt.css(e.elem, e.prop, ""),
                !t || "auto" === t ? 0 : t
            },
            set: function(e) {
                if (rt.fx.step[e.prop]) rt.fx.step[e.prop](e);
                else if (e.elem.style && (null != e.elem.style[rt.cssProps[e.prop]] || rt.cssHooks[e.prop])) rt.style(e.elem, e.prop, e.now + e.unit);
                else e.elem[e.prop] = e.now
            }
        }
    },
    W.propHooks.scrollTop = W.propHooks.scrollLeft = {
        set: function(e) {
            if (e.elem.nodeType && e.elem.parentNode) e.elem[e.prop] = e.now
        }
    },
    rt.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return.5 - Math.cos(e * Math.PI) / 2
        }
    },
    rt.fx = W.prototype.init,
    rt.fx.step = {};
    var pi, mi, gi = /^(?:toggle|show|hide)$/,
    yi = new RegExp("^(?:([+-])=|)(" + St + ")([a-z%]*)$", "i"),
    vi = /queueHooks$/,
    bi = [P],
    xi = {
        "*": [function(e, t) {
            var i = this.createTween(e, t),
            n = i.cur(),
            o = yi.exec(t),
            r = o && o[3] || (rt.cssNumber[e] ? "": "px"),
            s = (rt.cssNumber[e] || "px" !== r && +n) && yi.exec(rt.css(i.elem, e)),
            a = 1,
            l = 20;
            if (s && s[3] !== r) {
                r = r || s[3],
                o = o || [],
                s = +n || 1;
                do a = a || ".5",
                s /= a,
                rt.style(i.elem, e, s + r);
                while (a !== (a = i.cur() / n) && 1 !== a && --l)
            }
            if (o) s = i.start = +s || +n || 0,
            i.unit = r,
            i.end = o[1] ? s + (o[1] + 1) * o[2] : +o[2];
            return i
        }]
    };
    rt.Animation = rt.extend(X, {
        tweener: function(e, t) {
            if (rt.isFunction(e)) t = e,
            e = ["*"];
            else e = e.split(" ");
            for (var i, n = 0,
            o = e.length; o > n; n++) i = e[n],
            xi[i] = xi[i] || [],
            xi[i].unshift(t)
        },
        prefilter: function(e, t) {
            if (t) bi.unshift(e);
            else bi.push(e)
        }
    }),
    rt.speed = function(e, t, i) {
        var n = e && "object" == typeof e ? rt.extend({},
        e) : {
            complete: i || !i && t || rt.isFunction(e) && e,
            duration: e,
            easing: i && t || t && !rt.isFunction(t) && t
        };
        if (n.duration = rt.fx.off ? 0 : "number" == typeof n.duration ? n.duration: n.duration in rt.fx.speeds ? rt.fx.speeds[n.duration] : rt.fx.speeds._default, null == n.queue || n.queue === !0) n.queue = "fx";
        return n.old = n.complete,
        n.complete = function() {
            if (rt.isFunction(n.old)) n.old.call(this);
            if (n.queue) rt.dequeue(this, n.queue)
        },
        n
    },
    rt.fn.extend({
        fadeTo: function(e, t, i, n) {
            return this.filter(Tt).css("opacity", 0).show().end().animate({
                opacity: t
            },
            e, i, n)
        },
        animate: function(e, t, i, n) {
            var o = rt.isEmptyObject(e),
            r = rt.speed(t, i, n),
            s = function() {
                var t = X(this, rt.extend({},
                e), r);
                if (o || rt._data(this, "finish")) t.stop(!0)
            };
            return s.finish = s,
            o || r.queue === !1 ? this.each(s) : this.queue(r.queue, s)
        },
        stop: function(e, t, i) {
            var n = function(e) {
                var t = e.stop;
                delete e.stop,
                t(i)
            };
            if ("string" != typeof e) i = t,
            t = e,
            e = void 0;
            if (t && e !== !1) this.queue(e || "fx", []);
            return this.each(function() {
                var t = !0,
                o = null != e && e + "queueHooks",
                r = rt.timers,
                s = rt._data(this);
                if (o) {
                    if (s[o] && s[o].stop) n(s[o])
                } else for (o in s) if (s[o] && s[o].stop && vi.test(o)) n(s[o]);
                for (o = r.length; o--;) if (r[o].elem === this && (null == e || r[o].queue === e)) r[o].anim.stop(i),
                t = !1,
                r.splice(o, 1);
                if (t || !i) rt.dequeue(this, e)
            })
        },
        finish: function(e) {
            if (e !== !1) e = e || "fx";
            return this.each(function() {
                var t, i = rt._data(this),
                n = i[e + "queue"],
                o = i[e + "queueHooks"],
                r = rt.timers,
                s = n ? n.length: 0;
                if (i.finish = !0, rt.queue(this, e, []), o && o.stop) o.stop.call(this, !0);
                for (t = r.length; t--;) if (r[t].elem === this && r[t].queue === e) r[t].anim.stop(!0),
                r.splice(t, 1);
                for (t = 0; s > t; t++) if (n[t] && n[t].finish) n[t].finish.call(this);
                delete i.finish
            })
        }
    }),
    rt.each(["toggle", "show", "hide"],
    function(e, t) {
        var i = rt.fn[t];
        rt.fn[t] = function(e, n, o) {
            return null == e || "boolean" == typeof e ? i.apply(this, arguments) : this.animate(M(t, !0), e, n, o)
        }
    }),
    rt.each({
        slideDown: M("show"),
        slideUp: M("hide"),
        slideToggle: M("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    },
    function(e, t) {
        rt.fn[e] = function(e, i, n) {
            return this.animate(t, e, i, n)
        }
    }),
    rt.timers = [],
    rt.fx.tick = function() {
        var e, t = rt.timers,
        i = 0;
        for (pi = rt.now(); i < t.length; i++) if (e = t[i], !e() && t[i] === e) t.splice(i--, 1);
        if (!t.length) rt.fx.stop();
        pi = void 0
    },
    rt.fx.timer = function(e) {
        if (rt.timers.push(e), e()) rt.fx.start();
        else rt.timers.pop()
    },
    rt.fx.interval = 13,
    rt.fx.start = function() {
        if (!mi) mi = setInterval(rt.fx.tick, rt.fx.interval)
    },
    rt.fx.stop = function() {
        clearInterval(mi),
        mi = null
    },
    rt.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    rt.fn.delay = function(e, t) {
        return e = rt.fx ? rt.fx.speeds[e] || e: e,
        t = t || "fx",
        this.queue(t,
        function(t, i) {
            var n = setTimeout(t, e);
            i.stop = function() {
                clearTimeout(n)
            }
        })
    },
    function() {
        var e, t, i, n, o = mt.createElement("div");
        o.setAttribute("className", "t"),
        o.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        e = o.getElementsByTagName("a")[0],
        i = mt.createElement("select"),
        n = i.appendChild(mt.createElement("option")),
        t = o.getElementsByTagName("input")[0],
        e.style.cssText = "top:1px",
        nt.getSetAttribute = "t" !== o.className,
        nt.style = /top/.test(e.getAttribute("style")),
        nt.hrefNormalized = "/a" === e.getAttribute("href"),
        nt.checkOn = !!t.value,
        nt.optSelected = n.selected,
        nt.enctype = !!mt.createElement("form").enctype,
        i.disabled = !0,
        nt.optDisabled = !n.disabled,
        t = mt.createElement("input"),
        t.setAttribute("value", ""),
        nt.input = "" === t.getAttribute("value"),
        t.value = "t",
        t.setAttribute("type", "radio"),
        nt.radioValue = "t" === t.value,
        e = t = i = n = o = null
    } ();
    var _i = /\r/g;
    rt.fn.extend({
        val: function(e) {
            var t, i, n, o = this[0];
            if (arguments.length) return n = rt.isFunction(e),
            this.each(function(i) {
                var o;
                if (1 === this.nodeType) {
                    if (n) o = e.call(this, i, rt(this).val());
                    else o = e;
                    if (null == o) o = "";
                    else if ("number" == typeof o) o += "";
                    else if (rt.isArray(o)) o = rt.map(o,
                    function(e) {
                        return null == e ? "": e + ""
                    });
                    if (t = rt.valHooks[this.type] || rt.valHooks[this.nodeName.toLowerCase()], !(t && "set" in t && void 0 !== t.set(this, o, "value"))) this.value = o
                }
            });
            else if (o) if (t = rt.valHooks[o.type] || rt.valHooks[o.nodeName.toLowerCase()], t && "get" in t && void 0 !== (i = t.get(o, "value"))) return i;
            else return i = o.value,
            "string" == typeof i ? i.replace(_i, "") : null == i ? "": i
        }
    }),
    rt.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = rt.find.attr(e, "value");
                    return null != t ? t: rt.text(e)
                }
            },
            select: {
                get: function(e) {
                    for (var t, i, n = e.options,
                    o = e.selectedIndex,
                    r = "select-one" === e.type || 0 > o,
                    s = r ? null: [], a = r ? o + 1 : n.length, l = 0 > o ? a: r ? o: 0; a > l; l++) if (i = n[l], !(!i.selected && l !== o || (nt.optDisabled ? i.disabled: null !== i.getAttribute("disabled")) || i.parentNode.disabled && rt.nodeName(i.parentNode, "optgroup"))) {
                        if (t = rt(i).val(), r) return t;
                        s.push(t)
                    }
                    return s
                },
                set: function(e, t) {
                    for (var i, n, o = e.options,
                    r = rt.makeArray(t), s = o.length; s--;) if (n = o[s], rt.inArray(rt.valHooks.option.get(n), r) >= 0) try {
                        n.selected = i = !0
                    } catch(a) {
                        n.scrollHeight
                    } else n.selected = !1;
                    if (!i) e.selectedIndex = -1;
                    return o
                }
            }
        }
    }),
    rt.each(["radio", "checkbox"],
    function() {
        if (rt.valHooks[this] = {
            set: function(e, t) {
                if (rt.isArray(t)) return e.checked = rt.inArray(rt(e).val(), t) >= 0;
                else return void 0
            }
        },
        !nt.checkOn) rt.valHooks[this].get = function(e) {
            return null === e.getAttribute("value") ? "on": e.value
        }
    });
    var wi, Vi, Ui = rt.expr.attrHandle,
    ki = /^(?:checked|selected)$/i,
    Ci = nt.getSetAttribute,
    Si = nt.input;
    if (rt.fn.extend({
        attr: function(e, t) {
            return It(this, rt.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                rt.removeAttr(this, e)
            })
        }
    }), rt.extend({
        attr: function(e, t, i) {
            var n, o, r = e.nodeType;
            if (e && 3 !== r && 8 !== r && 2 !== r) {
                if (typeof e.getAttribute === Ut) return rt.prop(e, t, i);
                if (1 !== r || !rt.isXMLDoc(e)) t = t.toLowerCase(),
                n = rt.attrHooks[t] || (rt.expr.match.bool.test(t) ? Vi: wi);
                if (void 0 !== i) if (null === i) rt.removeAttr(e, t);
                else if (n && "set" in n && void 0 !== (o = n.set(e, i, t))) return o;
                else return e.setAttribute(t, i + ""),
                i;
                else if (n && "get" in n && null !== (o = n.get(e, t))) return o;
                else return o = rt.find.attr(e, t),
                null == o ? void 0 : o
            }
        },
        removeAttr: function(e, t) {
            var i, n, o = 0,
            r = t && t.match(xt);
            if (r && 1 === e.nodeType) for (; i = r[o++];) {
                if (n = rt.propFix[i] || i, rt.expr.match.bool.test(i)) if (Si && Ci || !ki.test(i)) e[n] = !1;
                else e[rt.camelCase("default-" + i)] = e[n] = !1;
                else rt.attr(e, i, "");
                e.removeAttribute(Ci ? i: n)
            }
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!nt.radioValue && "radio" === t && rt.nodeName(e, "input")) {
                        var i = e.value;
                        if (e.setAttribute("type", t), i) e.value = i;
                        return t
                    }
                }
            }
        }
    }), Vi = {
        set: function(e, t, i) {
            if (t === !1) rt.removeAttr(e, i);
            else if (Si && Ci || !ki.test(i)) e.setAttribute(!Ci && rt.propFix[i] || i, i);
            else e[rt.camelCase("default-" + i)] = e[i] = !0;
            return i
        }
    },
    rt.each(rt.expr.match.bool.source.match(/\w+/g),
    function(e, t) {
        var i = Ui[t] || rt.find.attr;
        Ui[t] = Si && Ci || !ki.test(t) ?
        function(e, t, n) {
            var o, r;
            if (!n) r = Ui[t],
            Ui[t] = o,
            o = null != i(e, t, n) ? t.toLowerCase() : null,
            Ui[t] = r;
            return o
        }: function(e, t, i) {
            if (!i) return e[rt.camelCase("default-" + t)] ? t.toLowerCase() : null;
            else return void 0
        }
    }), !Si || !Ci) rt.attrHooks.value = {
        set: function(e, t, i) {
            if (rt.nodeName(e, "input")) e.defaultValue = t;
            else return wi && wi.set(e, t, i)
        }
    };
    if (!Ci) wi = {
        set: function(e, t, i) {
            var n = e.getAttributeNode(i);
            if (!n) e.setAttributeNode(n = e.ownerDocument.createAttribute(i));
            if (n.value = t += "", "value" === i || t === e.getAttribute(i)) return t;
            else return void 0
        }
    },
    Ui.id = Ui.name = Ui.coords = function(e, t, i) {
        var n;
        if (!i) return (n = e.getAttributeNode(t)) && "" !== n.value ? n.value: null;
        else return void 0
    },
    rt.valHooks.button = {
        get: function(e, t) {
            var i = e.getAttributeNode(t);
            if (i && i.specified) return i.value;
            else return void 0
        },
        set: wi.set
    },
    rt.attrHooks.contenteditable = {
        set: function(e, t, i) {
            wi.set(e, "" === t ? !1 : t, i)
        }
    },
    rt.each(["width", "height"],
    function(e, t) {
        rt.attrHooks[t] = {
            set: function(e, i) {
                if ("" === i) return e.setAttribute(t, "auto"),
                i;
                else return void 0
            }
        }
    });
    if (!nt.style) rt.attrHooks.style = {
        get: function(e) {
            return e.style.cssText || void 0
        },
        set: function(e, t) {
            return e.style.cssText = t + ""
        }
    };
    var Li = /^(?:input|select|textarea|button|object)$/i,
    Ti = /^(?:a|area)$/i;
    if (rt.fn.extend({
        prop: function(e, t) {
            return It(this, rt.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return e = rt.propFix[e] || e,
            this.each(function() {
                try {
                    this[e] = void 0,
                    delete this[e]
                } catch(t) {}
            })
        }
    }), rt.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(e, t, i) {
            var n, o, r, s = e.nodeType;
            if (e && 3 !== s && 8 !== s && 2 !== s) {
                if (r = 1 !== s || !rt.isXMLDoc(e)) t = rt.propFix[t] || t,
                o = rt.propHooks[t];
                if (void 0 !== i) return o && "set" in o && void 0 !== (n = o.set(e, i, t)) ? n: e[t] = i;
                else return o && "get" in o && null !== (n = o.get(e, t)) ? n: e[t]
            }
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    var t = rt.find.attr(e, "tabindex");
                    return t ? parseInt(t, 10) : Li.test(e.nodeName) || Ti.test(e.nodeName) && e.href ? 0 : -1
                }
            }
        }
    }), !nt.hrefNormalized) rt.each(["href", "src"],
    function(e, t) {
        rt.propHooks[t] = {
            get: function(e) {
                return e.getAttribute(t, 4)
            }
        }
    });
    if (!nt.optSelected) rt.propHooks.selected = {
        get: function(e) {
            var t = e.parentNode;
            if (t) if (t.selectedIndex, t.parentNode) t.parentNode.selectedIndex;
            return null
        }
    };
    if (rt.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"],
    function() {
        rt.propFix[this.toLowerCase()] = this
    }), !nt.enctype) rt.propFix.enctype = "encoding";
    var Ii = /[\t\r\n\f]/g;
    rt.fn.extend({
        addClass: function(e) {
            var t, i, n, o, r, s, a = 0,
            l = this.length,
            h = "string" == typeof e && e;
            if (rt.isFunction(e)) return this.each(function(t) {
                rt(this).addClass(e.call(this, t, this.className))
            });
            if (h) for (t = (e || "").match(xt) || []; l > a; a++) if (i = this[a], n = 1 === i.nodeType && (i.className ? (" " + i.className + " ").replace(Ii, " ") : " ")) {
                for (r = 0; o = t[r++];) if (n.indexOf(" " + o + " ") < 0) n += o + " ";
                if (s = rt.trim(n), i.className !== s) i.className = s
            }
            return this
        },
        removeClass: function(e) {
            var t, i, n, o, r, s, a = 0,
            l = this.length,
            h = 0 === arguments.length || "string" == typeof e && e;
            if (rt.isFunction(e)) return this.each(function(t) {
                rt(this).removeClass(e.call(this, t, this.className))
            });
            if (h) for (t = (e || "").match(xt) || []; l > a; a++) if (i = this[a], n = 1 === i.nodeType && (i.className ? (" " + i.className + " ").replace(Ii, " ") : "")) {
                for (r = 0; o = t[r++];) for (; n.indexOf(" " + o + " ") >= 0;) n = n.replace(" " + o + " ", " ");
                if (s = e ? rt.trim(n) : "", i.className !== s) i.className = s
            }
            return this
        },
        toggleClass: function(e, t) {
            var i = typeof e;
            if ("boolean" == typeof t && "string" === i) return t ? this.addClass(e) : this.removeClass(e);
            if (rt.isFunction(e)) return this.each(function(i) {
                rt(this).toggleClass(e.call(this, i, this.className, t), t)
            });
            else return this.each(function() {
                if ("string" === i) for (var t, n = 0,
                o = rt(this), r = e.match(xt) || []; t = r[n++];) if (o.hasClass(t)) o.removeClass(t);
                else o.addClass(t);
                else if (i === Ut || "boolean" === i) {
                    if (this.className) rt._data(this, "__className__", this.className);
                    this.className = this.className || e === !1 ? "": rt._data(this, "__className__") || ""
                }
            })
        },
        hasClass: function(e) {
            for (var t = " " + e + " ",
            i = 0,
            n = this.length; n > i; i++) if (1 === this[i].nodeType && (" " + this[i].className + " ").replace(Ii, " ").indexOf(t) >= 0) return ! 0;
            return ! 1
        }
    }),
    rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
    function(e, t) {
        rt.fn[t] = function(e, i) {
            return arguments.length > 0 ? this.on(t, null, e, i) : this.trigger(t)
        }
    }),
    rt.fn.extend({
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        },
        bind: function(e, t, i) {
            return this.on(e, null, t, i)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, i, n) {
            return this.on(t, e, i, n)
        },
        undelegate: function(e, t, i) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", i)
        }
    });
    var Ei = rt.now(),
    Wi = /\?/,
    Ai = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
    rt.parseJSON = function(t) {
        if (e.JSON && e.JSON.parse) return e.JSON.parse(t + "");
        var i, n = null,
        o = rt.trim(t + "");
        return o && !rt.trim(o.replace(Ai,
        function(e, t, o, r) {
            if (i && t) n = 0;
            if (0 === n) return e;
            else return i = o || t,
            n += !r - !o,
            ""
        })) ? Function("return " + o)() : rt.error("Invalid JSON: " + t)
    },
    rt.parseXML = function(t) {
        var i, n;
        if (!t || "string" != typeof t) return null;
        try {
            if (e.DOMParser) n = new DOMParser,
            i = n.parseFromString(t, "text/xml");
            else i = new ActiveXObject("Microsoft.XMLDOM"),
            i.async = "false",
            i.loadXML(t)
        } catch(o) {
            i = void 0
        }
        if (!i || !i.documentElement || i.getElementsByTagName("parsererror").length) rt.error("Invalid XML: " + t);
        return i
    };
    var Mi, Di, Pi = /#.*$/,
    Oi = /([?&])_=[^&]*/,
    Xi = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
    Ni = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
    Ri = /^(?:GET|HEAD)$/,
    Ki = /^\/\//,
    Fi = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
    zi = {},
    Hi = {},
    Bi = "*/".concat("*");
    try {
        Di = location.href
    } catch(Ji) {
        Di = mt.createElement("a"),
        Di.href = "",
        Di = Di.href
    }
    Mi = Fi.exec(Di.toLowerCase()) || [],
    rt.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Di,
            type: "GET",
            isLocal: Ni.test(Mi[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Bi,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": rt.parseJSON,
                "text xml": rt.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? K(K(e, rt.ajaxSettings), t) : K(rt.ajaxSettings, e)
        },
        ajaxPrefilter: N(zi),
        ajaxTransport: N(Hi),
        ajax: function(e, t) {
            function i(e, t, i, n) {
                var o, c, y, v, x, w = t;
                if (2 !== b) {
                    if (b = 2, a) clearTimeout(a);
                    if (h = void 0, s = n || "", _.readyState = e > 0 ? 4 : 0, o = e >= 200 && 300 > e || 304 === e, i) v = F(u, _, i);
                    if (v = z(u, v, _, o), o) {
                        if (u.ifModified) {
                            if (x = _.getResponseHeader("Last-Modified")) rt.lastModified[r] = x;
                            if (x = _.getResponseHeader("etag")) rt.etag[r] = x
                        }
                        if (204 === e || "HEAD" === u.type) w = "nocontent";
                        else if (304 === e) w = "notmodified";
                        else w = v.state,
                        c = v.data,
                        y = v.error,
                        o = !y
                    } else if (y = w, e || !w) if (w = "error", 0 > e) e = 0;
                    if (_.status = e, _.statusText = (t || w) + "", o) p.resolveWith(d, [c, w, _]);
                    else p.rejectWith(d, [_, w, y]);
                    if (_.statusCode(g), g = void 0, l) f.trigger(o ? "ajaxSuccess": "ajaxError", [_, u, o ? c: y]);
                    if (m.fireWith(d, [_, w]), l) if (f.trigger("ajaxComplete", [_, u]), !--rt.active) rt.event.trigger("ajaxStop")
                }
            }
            if ("object" == typeof e) t = e,
            e = void 0;
            t = t || {};
            var n, o, r, s, a, l, h, c, u = rt.ajaxSetup({},
            t),
            d = u.context || u,
            f = u.context && (d.nodeType || d.jquery) ? rt(d) : rt.event,
            p = rt.Deferred(),
            m = rt.Callbacks("once memory"),
            g = u.statusCode || {},
            y = {},
            v = {},
            b = 0,
            x = "canceled",
            _ = {
                readyState: 0,
                getResponseHeader: function(e) {
                    var t;
                    if (2 === b) {
                        if (!c) for (c = {}; t = Xi.exec(s);) c[t[1].toLowerCase()] = t[2];
                        t = c[e.toLowerCase()]
                    }
                    return null == t ? null: t
                },
                getAllResponseHeaders: function() {
                    return 2 === b ? s: null
                },
                setRequestHeader: function(e, t) {
                    var i = e.toLowerCase();
                    if (!b) e = v[i] = v[i] || e,
                    y[e] = t;
                    return this
                },
                overrideMimeType: function(e) {
                    if (!b) u.mimeType = e;
                    return this
                },
                statusCode: function(e) {
                    var t;
                    if (e) if (2 > b) for (t in e) g[t] = [g[t], e[t]];
                    else _.always(e[_.status]);
                    return this
                },
                abort: function(e) {
                    var t = e || x;
                    if (h) h.abort(t);
                    return i(0, t),
                    this
                }
            };
            if (p.promise(_).complete = m.add, _.success = _.done, _.error = _.fail, u.url = ((e || u.url || Di) + "").replace(Pi, "").replace(Ki, Mi[1] + "//"), u.type = t.method || t.type || u.method || u.type, u.dataTypes = rt.trim(u.dataType || "*").toLowerCase().match(xt) || [""], null == u.crossDomain) n = Fi.exec(u.url.toLowerCase()),
            u.crossDomain = !(!n || n[1] === Mi[1] && n[2] === Mi[2] && (n[3] || ("http:" === n[1] ? "80": "443")) === (Mi[3] || ("http:" === Mi[1] ? "80": "443")));
            if (u.data && u.processData && "string" != typeof u.data) u.data = rt.param(u.data, u.traditional);
            if (R(zi, u, t, _), 2 === b) return _;
            if (l = u.global, l && 0 === rt.active++) rt.event.trigger("ajaxStart");
            if (u.type = u.type.toUpperCase(), u.hasContent = !Ri.test(u.type), r = u.url, !u.hasContent) {
                if (u.data) r = u.url += (Wi.test(r) ? "&": "?") + u.data,
                delete u.data;
                if (u.cache === !1) u.url = Oi.test(r) ? r.replace(Oi, "$1_=" + Ei++) : r + (Wi.test(r) ? "&": "?") + "_=" + Ei++
            }
            if (u.ifModified) {
                if (rt.lastModified[r]) _.setRequestHeader("If-Modified-Since", rt.lastModified[r]);
                if (rt.etag[r]) _.setRequestHeader("If-None-Match", rt.etag[r])
            }
            if (u.data && u.hasContent && u.contentType !== !1 || t.contentType) _.setRequestHeader("Content-Type", u.contentType);
            _.setRequestHeader("Accept", u.dataTypes[0] && u.accepts[u.dataTypes[0]] ? u.accepts[u.dataTypes[0]] + ("*" !== u.dataTypes[0] ? ", " + Bi + "; q=0.01": "") : u.accepts["*"]);
            for (o in u.headers) _.setRequestHeader(o, u.headers[o]);
            if (u.beforeSend && (u.beforeSend.call(d, _, u) === !1 || 2 === b)) return _.abort();
            x = "abort";
            for (o in {
                success: 1,
                error: 1,
                complete: 1
            }) _[o](u[o]);
            if (h = R(Hi, u, t, _), !h) i( - 1, "No Transport");
            else {
                if (_.readyState = 1, l) f.trigger("ajaxSend", [_, u]);
                if (u.async && u.timeout > 0) a = setTimeout(function() {
                    _.abort("timeout")
                },
                u.timeout);
                try {
                    b = 1,
                    h.send(y, i)
                } catch(w) {
                    if (2 > b) i( - 1, w);
                    else throw w
                }
            }
            return _
        },
        getJSON: function(e, t, i) {
            return rt.get(e, t, i, "json")
        },
        getScript: function(e, t) {
            return rt.get(e, void 0, t, "script")
        }
    }),
    rt.each(["get", "post"],
    function(e, t) {
        rt[t] = function(e, i, n, o) {
            if (rt.isFunction(i)) o = o || n,
            n = i,
            i = void 0;
            return rt.ajax({
                url: e,
                type: t,
                dataType: o,
                data: i,
                success: n
            })
        }
    }),
    rt.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"],
    function(e, t) {
        rt.fn[t] = function(e) {
            return this.on(t, e)
        }
    }),
    rt._evalUrl = function(e) {
        return rt.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    },
    rt.fn.extend({
        wrapAll: function(e) {
            if (rt.isFunction(e)) return this.each(function(t) {
                rt(this).wrapAll(e.call(this, t))
            });
            if (this[0]) {
                var t = rt(e, this[0].ownerDocument).eq(0).clone(!0);
                if (this[0].parentNode) t.insertBefore(this[0]);
                t.map(function() {
                    for (var e = this; e.firstChild && 1 === e.firstChild.nodeType;) e = e.firstChild;
                    return e
                }).append(this)
            }
            return this
        },
        wrapInner: function(e) {
            if (rt.isFunction(e)) return this.each(function(t) {
                rt(this).wrapInner(e.call(this, t))
            });
            else return this.each(function() {
                var t = rt(this),
                i = t.contents();
                if (i.length) i.wrapAll(e);
                else t.append(e)
            })
        },
        wrap: function(e) {
            var t = rt.isFunction(e);
            return this.each(function(i) {
                rt(this).wrapAll(t ? e.call(this, i) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                if (!rt.nodeName(this, "body")) rt(this).replaceWith(this.childNodes)
            }).end()
        }
    }),
    rt.expr.filters.hidden = function(e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0 || !nt.reliableHiddenOffsets() && "none" === (e.style && e.style.display || rt.css(e, "display"))
    },
    rt.expr.filters.visible = function(e) {
        return ! rt.expr.filters.hidden(e)
    };
    var ji = /%20/g,
    Gi = /\[\]$/,
    qi = /\r?\n/g,
    Yi = /^(?:submit|button|image|reset|file)$/i,
    $i = /^(?:input|select|textarea|keygen)/i;
    rt.param = function(e, t) {
        var i, n = [],
        o = function(e, t) {
            t = rt.isFunction(t) ? t() : null == t ? "": t,
            n[n.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
        };
        if (void 0 === t) t = rt.ajaxSettings && rt.ajaxSettings.traditional;
        if (rt.isArray(e) || e.jquery && !rt.isPlainObject(e)) rt.each(e,
        function() {
            o(this.name, this.value)
        });
        else for (i in e) H(i, e[i], t, o);
        return n.join("&").replace(ji, "+")
    },
    rt.fn.extend({
        serialize: function() {
            return rt.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = rt.prop(this, "elements");
                return e ? rt.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !rt(this).is(":disabled") && $i.test(this.nodeName) && !Yi.test(e) && (this.checked || !Et.test(e))
            }).map(function(e, t) {
                var i = rt(this).val();
                return null == i ? null: rt.isArray(i) ? rt.map(i,
                function(e) {
                    return {
                        name: t.name,
                        value: e.replace(qi, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: i.replace(qi, "\r\n")
                }
            }).get()
        }
    }),
    rt.ajaxSettings.xhr = void 0 !== e.ActiveXObject ?
    function() {
        return ! this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && B() || J()
    }: B;
    var Qi = 0,
    Zi = {},
    en = rt.ajaxSettings.xhr();
    if (e.ActiveXObject) rt(e).on("unload",
    function() {
        for (var e in Zi) Zi[e](void 0, !0)
    });
    if (nt.cors = !!en && "withCredentials" in en, en = nt.ajax = !!en) rt.ajaxTransport(function(e) {
        if (!e.crossDomain || nt.cors) {
            var t;
            return {
                send: function(i, n) {
                    var o, r = e.xhr(),
                    s = ++Qi;
                    if (r.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields) for (o in e.xhrFields) r[o] = e.xhrFields[o];
                    if (e.mimeType && r.overrideMimeType) r.overrideMimeType(e.mimeType);
                    if (!e.crossDomain && !i["X-Requested-With"]) i["X-Requested-With"] = "XMLHttpRequest";
                    for (o in i) if (void 0 !== i[o]) r.setRequestHeader(o, i[o] + "");
                    if (r.send(e.hasContent && e.data || null), t = function(i, o) {
                        var a, l, h;
                        if (t && (o || 4 === r.readyState)) if (delete Zi[s], t = void 0, r.onreadystatechange = rt.noop, o) {
                            if (4 !== r.readyState) r.abort()
                        } else {
                            if (h = {},
                            a = r.status, "string" == typeof r.responseText) h.text = r.responseText;
                            try {
                                l = r.statusText
                            } catch(c) {
                                l = ""
                            }
                            if (!a && e.isLocal && !e.crossDomain) a = h.text ? 200 : 404;
                            else if (1223 === a) a = 204
                        }
                        if (h) n(a, l, h, r.getAllResponseHeaders())
                    },
                    !e.async) t();
                    else if (4 === r.readyState) setTimeout(t);
                    else r.onreadystatechange = Zi[s] = t
                },
                abort: function() {
                    if (t) t(void 0, !0)
                }
            }
        }
    });
    rt.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(e) {
                return rt.globalEval(e),
                e
            }
        }
    }),
    rt.ajaxPrefilter("script",
    function(e) {
        if (void 0 === e.cache) e.cache = !1;
        if (e.crossDomain) e.type = "GET",
        e.global = !1
    }),
    rt.ajaxTransport("script",
    function(e) {
        if (e.crossDomain) {
            var t, i = mt.head || rt("head")[0] || mt.documentElement;
            return {
                send: function(n, o) {
                    if (t = mt.createElement("script"), t.async = !0, e.scriptCharset) t.charset = e.scriptCharset;
                    t.src = e.url,
                    t.onload = t.onreadystatechange = function(e, i) {
                        if (i || !t.readyState || /loaded|complete/.test(t.readyState)) {
                            if (t.onload = t.onreadystatechange = null, t.parentNode) t.parentNode.removeChild(t);
                            if (t = null, !i) o(200, "success")
                        }
                    },
                    i.insertBefore(t, i.firstChild)
                },
                abort: function() {
                    if (t) t.onload(void 0, !0)
                }
            }
        }
    });
    var tn = [],
    nn = /(=)\?(?=&|$)|\?\?/;
    rt.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = tn.pop() || rt.expando + "_" + Ei++;
            return this[e] = !0,
            e
        }
    }),
    rt.ajaxPrefilter("json jsonp",
    function(t, i, n) {
        var o, r, s, a = t.jsonp !== !1 && (nn.test(t.url) ? "url": "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && nn.test(t.data) && "data");
        if (a || "jsonp" === t.dataTypes[0]) {
            if (o = t.jsonpCallback = rt.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, a) t[a] = t[a].replace(nn, "$1" + o);
            else if (t.jsonp !== !1) t.url += (Wi.test(t.url) ? "&": "?") + t.jsonp + "=" + o;
            return t.converters["script json"] = function() {
                if (!s) rt.error(o + " was not called");
                return s[0]
            },
            t.dataTypes[0] = "json",
            r = e[o],
            e[o] = function() {
                s = arguments
            },
            n.always(function() {
                if (e[o] = r, t[o]) t.jsonpCallback = i.jsonpCallback,
                tn.push(o);
                if (s && rt.isFunction(r)) r(s[0]);
                s = r = void 0
            }),
            "script"
        }
    }),
    rt.parseHTML = function(e, t, i) {
        if (!e || "string" != typeof e) return null;
        if ("boolean" == typeof t) i = t,
        t = !1;
        t = t || mt;
        var n = dt.exec(e),
        o = !i && [];
        if (n) return [t.createElement(n[1])];
        if (n = rt.buildFragment([e], t, o), o && o.length) rt(o).remove();
        return rt.merge([], n.childNodes)
    };
    var on = rt.fn.load;
    rt.fn.load = function(e, t, i) {
        if ("string" != typeof e && on) return on.apply(this, arguments);
        var n, o, r, s = this,
        a = e.indexOf(" ");
        if (a >= 0) n = e.slice(a, e.length),
        e = e.slice(0, a);
        if (rt.isFunction(t)) i = t,
        t = void 0;
        else if (t && "object" == typeof t) r = "POST";
        if (s.length > 0) rt.ajax({
            url: e,
            type: r,
            dataType: "html",
            data: t
        }).done(function(e) {
            o = arguments,
            s.html(n ? rt("<div>").append(rt.parseHTML(e)).find(n) : e)
        }).complete(i &&
        function(e, t) {
            s.each(i, o || [e.responseText, t, e])
        });
        return this
    },
    rt.expr.filters.animated = function(e) {
        return rt.grep(rt.timers,
        function(t) {
            return e === t.elem
        }).length
    };
    var rn = e.document.documentElement;
    if (rt.offset = {
        setOffset: function(e, t, i) {
            var n, o, r, s, a, l, h, c = rt.css(e, "position"),
            u = rt(e),
            d = {};
            if ("static" === c) e.style.position = "relative";
            if (a = u.offset(), r = rt.css(e, "top"), l = rt.css(e, "left"), h = ("absolute" === c || "fixed" === c) && rt.inArray("auto", [r, l]) > -1) n = u.position(),
            s = n.top,
            o = n.left;
            else s = parseFloat(r) || 0,
            o = parseFloat(l) || 0;
            if (rt.isFunction(t)) t = t.call(e, i, a);
            if (null != t.top) d.top = t.top - a.top + s;
            if (null != t.left) d.left = t.left - a.left + o;
            if ("using" in t) t.using.call(e, d);
            else u.css(d)
        }
    },
    rt.fn.extend({
        offset: function(e) {
            if (arguments.length) return void 0 === e ? this: this.each(function(t) {
                rt.offset.setOffset(this, e, t)
            });
            var t, i, n = {
                top: 0,
                left: 0
            },
            o = this[0],
            r = o && o.ownerDocument;
            if (r) {
                if (t = r.documentElement, !rt.contains(t, o)) return n;
                if (typeof o.getBoundingClientRect !== Ut) n = o.getBoundingClientRect();
                return i = j(r),
                {
                    top: n.top + (i.pageYOffset || t.scrollTop) - (t.clientTop || 0),
                    left: n.left + (i.pageXOffset || t.scrollLeft) - (t.clientLeft || 0)
                }
            }
        },
        position: function() {
            if (this[0]) {
                var e, t, i = {
                    top: 0,
                    left: 0
                },
                n = this[0];
                if ("fixed" === rt.css(n, "position")) t = n.getBoundingClientRect();
                else {
                    if (e = this.offsetParent(), t = this.offset(), !rt.nodeName(e[0], "html")) i = e.offset();
                    i.top += rt.css(e[0], "borderTopWidth", !0),
                    i.left += rt.css(e[0], "borderLeftWidth", !0)
                }
                return {
                    top: t.top - i.top - rt.css(n, "marginTop", !0),
                    left: t.left - i.left - rt.css(n, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var e = this.offsetParent || rn; e && !rt.nodeName(e, "html") && "static" === rt.css(e, "position");) e = e.offsetParent;
                return e || rn
            })
        }
    }), rt.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    },
    function(e, t) {
        var i = /Y/.test(t);
        rt.fn[e] = function(n) {
            return It(this,
            function(e, n, o) {
                var r = j(e);
                if (void 0 === o) return r ? t in r ? r[t] : r.document.documentElement[n] : e[n];
                if (r) r.scrollTo(!i ? o: rt(r).scrollLeft(), i ? o: rt(r).scrollTop());
                else e[n] = o
            },
            e, n, arguments.length, null)
        }
    }), rt.each(["top", "left"],
    function(e, t) {
        rt.cssHooks[t] = C(nt.pixelPosition,
        function(e, i) {
            if (i) return i = ii(e, t),
            oi.test(i) ? rt(e).position()[t] + "px": i;
            else return void 0
        })
    }), rt.each({
        Height: "height",
        Width: "width"
    },
    function(e, t) {
        rt.each({
            padding: "inner" + e,
            content: t,
            "": "outer" + e
        },
        function(i, n) {
            rt.fn[n] = function(n, o) {
                var r = arguments.length && (i || "boolean" != typeof n),
                s = i || (n === !0 || o === !0 ? "margin": "border");
                return It(this,
                function(t, i, n) {
                    var o;
                    if (rt.isWindow(t)) return t.document.documentElement["client" + e];
                    if (9 === t.nodeType) return o = t.documentElement,
                    Math.max(t.body["scroll" + e], o["scroll" + e], t.body["offset" + e], o["offset" + e], o["client" + e]);
                    else return void 0 === n ? rt.css(t, i, s) : rt.style(t, i, n, s)
                },
                t, r ? n: void 0, r, null)
            }
        })
    }), rt.fn.size = function() {
        return this.length
    },
    rt.fn.andSelf = rt.fn.addBack, "function" == typeof define && define.amd) define("jquery", [],
    function() {
        return rt
    });
    var sn = e.jQuery,
    an = e.$;
    if (rt.noConflict = function(t) {
        if (e.$ === rt) e.$ = an;
        if (t && e.jQuery === rt) e.jQuery = sn;
        return rt
    },
    typeof t === Ut) e.jQuery = e.$ = rt;
    return rt
}),
function() {
    function e(e) {
        var i = {
            r: 0,
            g: 0,
            b: 0
        },
        o = 1,
        s = !1,
        a = !1;
        if ("string" == typeof e) e = W(e);
        if ("object" == typeof e) {
            if (e.hasOwnProperty("r") && e.hasOwnProperty("g") && e.hasOwnProperty("b")) i = t(e.r, e.g, e.b),
            s = !0,
            a = "%" === String(e.r).substr( - 1) ? "prgb": "rgb";
            else if (e.hasOwnProperty("h") && e.hasOwnProperty("s") && e.hasOwnProperty("v")) e.s = T(e.s),
            e.v = T(e.v),
            i = r(e.h, e.s, e.v),
            s = !0,
            a = "hsv";
            else if (e.hasOwnProperty("h") && e.hasOwnProperty("s") && e.hasOwnProperty("l")) e.s = T(e.s),
            e.l = T(e.l),
            i = n(e.h, e.s, e.l),
            s = !0,
            a = "hsl";
            if (e.hasOwnProperty("a")) o = e.a
        }
        return o = w(o),
        {
            ok: s,
            format: e.format || a,
            r: X(255, N(i.r, 0)),
            g: X(255, N(i.g, 0)),
            b: X(255, N(i.b, 0)),
            a: o
        }
    }
    function t(e, t, i) {
        return {
            r: 255 * V(e, 255),
            g: 255 * V(t, 255),
            b: 255 * V(i, 255)
        }
    }
    function i(e, t, i) {
        e = V(e, 255),
        t = V(t, 255),
        i = V(i, 255);
        var n, o, r = N(e, t, i),
        s = X(e, t, i),
        a = (r + s) / 2;
        if (r == s) n = o = 0;
        else {
            var l = r - s;
            switch (o = a > .5 ? l / (2 - r - s) : l / (r + s), r) {
            case e:
                n = (t - i) / l + (i > t ? 6 : 0);
                break;
            case t:
                n = (i - e) / l + 2;
                break;
            case i:
                n = (e - t) / l + 4
            }
            n /= 6
        }
        return {
            h: n,
            s: o,
            l: a
        }
    }
    function n(e, t, i) {
        function n(e, t, i) {
            if (0 > i) i += 1;
            if (i > 1) i -= 1;
            if (1 / 6 > i) return e + 6 * (t - e) * i;
            if (.5 > i) return t;
            if (2 / 3 > i) return e + (t - e) * (2 / 3 - i) * 6;
            else return e
        }
        var o, r, s;
        if (e = V(e, 360), t = V(t, 100), i = V(i, 100), 0 === t) o = r = s = i;
        else {
            var a = .5 > i ? i * (1 + t) : i + t - i * t,
            l = 2 * i - a;
            o = n(l, a, e + 1 / 3),
            r = n(l, a, e),
            s = n(l, a, e - 1 / 3)
        }
        return {
            r: 255 * o,
            g: 255 * r,
            b: 255 * s
        }
    }
    function o(e, t, i) {
        e = V(e, 255),
        t = V(t, 255),
        i = V(i, 255);
        var n, o, r = N(e, t, i),
        s = X(e, t, i),
        a = r,
        l = r - s;
        if (o = 0 === r ? 0 : l / r, r == s) n = 0;
        else {
            switch (r) {
            case e:
                n = (t - i) / l + (i > t ? 6 : 0);
                break;
            case t:
                n = (i - e) / l + 2;
                break;
            case i:
                n = (e - t) / l + 4
            }
            n /= 6
        }
        return {
            h: n,
            s: o,
            v: a
        }
    }
    function r(e, t, i) {
        e = 6 * V(e, 360),
        t = V(t, 100),
        i = V(i, 100);
        var n = P.floor(e),
        o = e - n,
        r = i * (1 - t),
        s = i * (1 - o * t),
        a = i * (1 - (1 - o) * t),
        l = n % 6,
        h = [i, s, r, r, a, i][l],
        c = [a, i, i, s, r, r][l],
        u = [r, r, a, i, i, s][l];
        return {
            r: 255 * h,
            g: 255 * c,
            b: 255 * u
        }
    }
    function s(e, t, i, n) {
        var o = [L(O(e).toString(16)), L(O(t).toString(16)), L(O(i).toString(16))];
        if (n && o[0].charAt(0) == o[0].charAt(1) && o[1].charAt(0) == o[1].charAt(1) && o[2].charAt(0) == o[2].charAt(1)) return o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0);
        else return o.join("")
    }
    function a(e, t, i, n) {
        var o = [L(I(n)), L(O(e).toString(16)), L(O(t).toString(16)), L(O(i).toString(16))];
        return o.join("")
    }
    function l(e, t) {
        t = 0 === t ? 0 : t || 10;
        var i = K(e).toHsl();
        return i.s -= t / 100,
        i.s = U(i.s),
        K(i)
    }
    function h(e, t) {
        t = 0 === t ? 0 : t || 10;
        var i = K(e).toHsl();
        return i.s += t / 100,
        i.s = U(i.s),
        K(i)
    }
    function c(e) {
        return K(e).desaturate(100)
    }
    function u(e, t) {
        t = 0 === t ? 0 : t || 10;
        var i = K(e).toHsl();
        return i.l += t / 100,
        i.l = U(i.l),
        K(i)
    }
    function d(e, t) {
        t = 0 === t ? 0 : t || 10;
        var i = K(e).toRgb();
        return i.r = N(0, X(255, i.r - O(255 * -(t / 100)))),
        i.g = N(0, X(255, i.g - O(255 * -(t / 100)))),
        i.b = N(0, X(255, i.b - O(255 * -(t / 100)))),
        K(i)
    }
    function f(e, t) {
        t = 0 === t ? 0 : t || 10;
        var i = K(e).toHsl();
        return i.l -= t / 100,
        i.l = U(i.l),
        K(i)
    }
    function p(e, t) {
        var i = K(e).toHsl(),
        n = (O(i.h) + t) % 360;
        return i.h = 0 > n ? 360 + n: n,
        K(i)
    }
    function m(e) {
        var t = K(e).toHsl();
        return t.h = (t.h + 180) % 360,
        K(t)
    }
    function g(e) {
        var t = K(e).toHsl(),
        i = t.h;
        return [K(e), K({
            h: (i + 120) % 360,
            s: t.s,
            l: t.l
        }), K({
            h: (i + 240) % 360,
            s: t.s,
            l: t.l
        })]
    }
    function y(e) {
        var t = K(e).toHsl(),
        i = t.h;
        return [K(e), K({
            h: (i + 90) % 360,
            s: t.s,
            l: t.l
        }), K({
            h: (i + 180) % 360,
            s: t.s,
            l: t.l
        }), K({
            h: (i + 270) % 360,
            s: t.s,
            l: t.l
        })]
    }
    function v(e) {
        var t = K(e).toHsl(),
        i = t.h;
        return [K(e), K({
            h: (i + 72) % 360,
            s: t.s,
            l: t.l
        }), K({
            h: (i + 216) % 360,
            s: t.s,
            l: t.l
        })]
    }
    function b(e, t, i) {
        t = t || 6,
        i = i || 30;
        var n = K(e).toHsl(),
        o = 360 / i,
        r = [K(e)];
        for (n.h = (n.h - (o * t >> 1) + 720) % 360; --t;) n.h = (n.h + o) % 360,
        r.push(K(n));
        return r
    }
    function x(e, t) {
        t = t || 6;
        for (var i = K(e).toHsv(), n = i.h, o = i.s, r = i.v, s = [], a = 1 / t; t--;) s.push(K({
            h: n,
            s: o,
            v: r
        })),
        r = (r + a) % 1;
        return s
    }
    function _(e) {
        var t = {};
        for (var i in e) if (e.hasOwnProperty(i)) t[e[i]] = i;
        return t
    }
    function w(e) {
        if (e = parseFloat(e), isNaN(e) || 0 > e || e > 1) e = 1;
        return e
    }
    function V(e, t) {
        if (C(e)) e = "100%";
        var i = S(e);
        if (e = X(t, N(0, parseFloat(e))), i) e = parseInt(e * t, 10) / 100;
        if (P.abs(e - t) < 1e-6) return 1;
        else return e % t / parseFloat(t)
    }
    function U(e) {
        return X(1, N(0, e))
    }
    function k(e) {
        return parseInt(e, 16)
    }
    function C(e) {
        return "string" == typeof e && -1 != e.indexOf(".") && 1 === parseFloat(e)
    }
    function S(e) {
        return "string" == typeof e && -1 != e.indexOf("%")
    }
    function L(e) {
        return 1 == e.length ? "0" + e: "" + e
    }
    function T(e) {
        if (1 >= e) e = 100 * e + "%";
        return e
    }
    function I(e) {
        return Math.round(255 * parseFloat(e)).toString(16)
    }
    function E(e) {
        return k(e) / 255
    }
    function W(e) {
        e = e.replace(A, "").replace(M, "").toLowerCase();
        var t = !1;
        if (F[e]) e = F[e],
        t = !0;
        else if ("transparent" == e) return {
            r: 0,
            g: 0,
            b: 0,
            a: 0,
            format: "name"
        };
        var i;
        if (i = H.rgb.exec(e)) return {
            r: i[1],
            g: i[2],
            b: i[3]
        };
        if (i = H.rgba.exec(e)) return {
            r: i[1],
            g: i[2],
            b: i[3],
            a: i[4]
        };
        if (i = H.hsl.exec(e)) return {
            h: i[1],
            s: i[2],
            l: i[3]
        };
        if (i = H.hsla.exec(e)) return {
            h: i[1],
            s: i[2],
            l: i[3],
            a: i[4]
        };
        if (i = H.hsv.exec(e)) return {
            h: i[1],
            s: i[2],
            v: i[3]
        };
        if (i = H.hsva.exec(e)) return {
            h: i[1],
            s: i[2],
            v: i[3],
            a: i[4]
        };
        if (i = H.hex8.exec(e)) return {
            a: E(i[1]),
            r: k(i[2]),
            g: k(i[3]),
            b: k(i[4]),
            format: t ? "name": "hex8"
        };
        if (i = H.hex6.exec(e)) return {
            r: k(i[1]),
            g: k(i[2]),
            b: k(i[3]),
            format: t ? "name": "hex"
        };
        if (i = H.hex3.exec(e)) return {
            r: k(i[1] + "" + i[1]),
            g: k(i[2] + "" + i[2]),
            b: k(i[3] + "" + i[3]),
            format: t ? "name": "hex"
        };
        else return ! 1
    }
    var A = /^[\s,#]+/,
    M = /\s+$/,
    D = 0,
    P = Math,
    O = P.round,
    X = P.min,
    N = P.max,
    R = P.random,
    K = function B(t, i) {
        if (t = t ? t: "", i = i || {},
        t instanceof B) return t;
        if (! (this instanceof B)) return new B(t, i);
        var n = e(t);
        if (this._originalInput = t, this._r = n.r, this._g = n.g, this._b = n.b, this._a = n.a, this._roundA = O(100 * this._a) / 100, this._format = i.format || n.format, this._gradientType = i.gradientType, this._r < 1) this._r = O(this._r);
        if (this._g < 1) this._g = O(this._g);
        if (this._b < 1) this._b = O(this._b);
        this._ok = n.ok,
        this._tc_id = D++
    };
    K.prototype = {
        isDark: function() {
            return this.getBrightness() < 128
        },
        isLight: function() {
            return ! this.isDark()
        },
        isValid: function() {
            return this._ok
        },
        getOriginalInput: function() {
            return this._originalInput
        },
        getFormat: function() {
            return this._format
        },
        getAlpha: function() {
            return this._a
        },
        getBrightness: function() {
            var e = this.toRgb();
            return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3
        },
        setAlpha: function(e) {
            return this._a = w(e),
            this._roundA = O(100 * this._a) / 100,
            this
        },
        toHsv: function() {
            var e = o(this._r, this._g, this._b);
            return {
                h: 360 * e.h,
                s: e.s,
                v: e.v,
                a: this._a
            }
        },
        toHsvString: function() {
            var e = o(this._r, this._g, this._b),
            t = O(360 * e.h),
            i = O(100 * e.s),
            n = O(100 * e.v);
            return 1 == this._a ? "hsv(" + t + ", " + i + "%, " + n + "%)": "hsva(" + t + ", " + i + "%, " + n + "%, " + this._roundA + ")"
        },
        toHsl: function() {
            var e = i(this._r, this._g, this._b);
            return {
                h: 360 * e.h,
                s: e.s,
                l: e.l,
                a: this._a
            }
        },
        toHslString: function() {
            var e = i(this._r, this._g, this._b),
            t = O(360 * e.h),
            n = O(100 * e.s),
            o = O(100 * e.l);
            return 1 == this._a ? "hsl(" + t + ", " + n + "%, " + o + "%)": "hsla(" + t + ", " + n + "%, " + o + "%, " + this._roundA + ")"
        },
        toHex: function(e) {
            return s(this._r, this._g, this._b, e)
        },
        toHexString: function(e) {
            return "#" + this.toHex(e)
        },
        toHex8: function() {
            return a(this._r, this._g, this._b, this._a)
        },
        toHex8String: function() {
            return "#" + this.toHex8()
        },
        toRgb: function() {
            return {
                r: O(this._r),
                g: O(this._g),
                b: O(this._b),
                a: this._a
            }
        },
        toRgbString: function() {
            return 1 == this._a ? "rgb(" + O(this._r) + ", " + O(this._g) + ", " + O(this._b) + ")": "rgba(" + O(this._r) + ", " + O(this._g) + ", " + O(this._b) + ", " + this._roundA + ")"
        },
        toPercentageRgb: function() {
            return {
                r: O(100 * V(this._r, 255)) + "%",
                g: O(100 * V(this._g, 255)) + "%",
                b: O(100 * V(this._b, 255)) + "%",
                a: this._a
            }
        },
        toPercentageRgbString: function() {
            return 1 == this._a ? "rgb(" + O(100 * V(this._r, 255)) + "%, " + O(100 * V(this._g, 255)) + "%, " + O(100 * V(this._b, 255)) + "%)": "rgba(" + O(100 * V(this._r, 255)) + "%, " + O(100 * V(this._g, 255)) + "%, " + O(100 * V(this._b, 255)) + "%, " + this._roundA + ")"
        },
        toName: function() {
            if (0 === this._a) return "transparent";
            if (this._a < 1) return ! 1;
            else return z[s(this._r, this._g, this._b, !0)] || !1
        },
        toFilter: function(e) {
            var t = "#" + a(this._r, this._g, this._b, this._a),
            i = t,
            n = this._gradientType ? "GradientType = 1, ": "";
            if (e) {
                var o = K(e);
                i = o.toHex8String()
            }
            return "progid:DXImageTransform.Microsoft.gradient(" + n + "startColorstr=" + t + ",endColorstr=" + i + ")"
        },
        toString: function(e) {
            var t = !!e;
            e = e || this._format;
            var i = !1,
            n = this._a < 1 && this._a >= 0,
            o = !t && n && ("hex" === e || "hex6" === e || "hex3" === e || "name" === e);
            if (o) if ("name" === e && 0 === this._a) return this.toName();
            else return this.toRgbString();
            if ("rgb" === e) i = this.toRgbString();
            if ("prgb" === e) i = this.toPercentageRgbString();
            if ("hex" === e || "hex6" === e) i = this.toHexString();
            if ("hex3" === e) i = this.toHexString(!0);
            if ("hex8" === e) i = this.toHex8String();
            if ("name" === e) i = this.toName();
            if ("hsl" === e) i = this.toHslString();
            if ("hsv" === e) i = this.toHsvString();
            return i || this.toHexString()
        },
        _applyModification: function(e, t) {
            var i = e.apply(null, [this].concat([].slice.call(t)));
            return this._r = i._r,
            this._g = i._g,
            this._b = i._b,
            this.setAlpha(i._a),
            this
        },
        lighten: function() {
            return this._applyModification(u, arguments)
        },
        brighten: function() {
            return this._applyModification(d, arguments)
        },
        darken: function() {
            return this._applyModification(f, arguments)
        },
        desaturate: function() {
            return this._applyModification(l, arguments)
        },
        saturate: function() {
            return this._applyModification(h, arguments)
        },
        greyscale: function() {
            return this._applyModification(c, arguments)
        },
        spin: function() {
            return this._applyModification(p, arguments)
        },
        _applyCombination: function(e, t) {
            return e.apply(null, [this].concat([].slice.call(t)))
        },
        analogous: function() {
            return this._applyCombination(b, arguments)
        },
        complement: function() {
            return this._applyCombination(m, arguments)
        },
        monochromatic: function() {
            return this._applyCombination(x, arguments)
        },
        splitcomplement: function() {
            return this._applyCombination(v, arguments)
        },
        triad: function() {
            return this._applyCombination(g, arguments)
        },
        tetrad: function() {
            return this._applyCombination(y, arguments)
        }
    },
    K.fromRatio = function(e, t) {
        if ("object" == typeof e) {
            var i = {};
            for (var n in e) if (e.hasOwnProperty(n)) if ("a" === n) i[n] = e[n];
            else i[n] = T(e[n]);
            e = i
        }
        return K(e, t)
    },
    K.equals = function(e, t) {
        if (!e || !t) return ! 1;
        else return K(e).toRgbString() == K(t).toRgbString()
    },
    K.random = function() {
        return K.fromRatio({
            r: R(),
            g: R(),
            b: R()
        })
    },
    K.mix = function(e, t, i) {
        i = 0 === i ? 0 : i || 50;
        var n, o = K(e).toRgb(),
        r = K(t).toRgb(),
        s = i / 100,
        a = 2 * s - 1,
        l = r.a - o.a;
        if (a * l == -1) n = a;
        else n = (a + l) / (1 + a * l);
        n = (n + 1) / 2;
        var h = 1 - n,
        c = {
            r: r.r * n + o.r * h,
            g: r.g * n + o.g * h,
            b: r.b * n + o.b * h,
            a: r.a * s + o.a * (1 - s)
        };
        return K(c)
    },
    K.readability = function(e, t) {
        var i = K(e),
        n = K(t),
        o = i.toRgb(),
        r = n.toRgb(),
        s = i.getBrightness(),
        a = n.getBrightness(),
        l = Math.max(o.r, r.r) - Math.min(o.r, r.r) + Math.max(o.g, r.g) - Math.min(o.g, r.g) + Math.max(o.b, r.b) - Math.min(o.b, r.b);
        return {
            brightness: Math.abs(s - a),
            color: l
        }
    },
    K.isReadable = function(e, t) {
        var i = K.readability(e, t);
        return i.brightness > 125 && i.color > 500
    },
    K.mostReadable = function(e, t) {
        for (var i = null,
        n = 0,
        o = !1,
        r = 0; r < t.length; r++) {
            var s = K.readability(e, t[r]),
            a = s.brightness > 125 && s.color > 500,
            l = 3 * (s.brightness / 125) + s.color / 500;
            if (a && !o || a && o && l > n || !a && !o && l > n) o = a,
            n = l,
            i = K(t[r])
        }
        return i
    };
    var F = K.names = {
        aliceblue: "f0f8ff",
        antiquewhite: "faebd7",
        aqua: "0ff",
        aquamarine: "7fffd4",
        azure: "f0ffff",
        beige: "f5f5dc",
        bisque: "ffe4c4",
        black: "000",
        blanchedalmond: "ffebcd",
        blue: "00f",
        blueviolet: "8a2be2",
        brown: "a52a2a",
        burlywood: "deb887",
        burntsienna: "ea7e5d",
        cadetblue: "5f9ea0",
        chartreuse: "7fff00",
        chocolate: "d2691e",
        coral: "ff7f50",
        cornflowerblue: "6495ed",
        cornsilk: "fff8dc",
        crimson: "dc143c",
        cyan: "0ff",
        darkblue: "00008b",
        darkcyan: "008b8b",
        darkgoldenrod: "b8860b",
        darkgray: "a9a9a9",
        darkgreen: "006400",
        darkgrey: "a9a9a9",
        darkkhaki: "bdb76b",
        darkmagenta: "8b008b",
        darkolivegreen: "556b2f",
        darkorange: "ff8c00",
        darkorchid: "9932cc",
        darkred: "8b0000",
        darksalmon: "e9967a",
        darkseagreen: "8fbc8f",
        darkslateblue: "483d8b",
        darkslategray: "2f4f4f",
        darkslategrey: "2f4f4f",
        darkturquoise: "00ced1",
        darkviolet: "9400d3",
        deeppink: "ff1493",
        deepskyblue: "00bfff",
        dimgray: "696969",
        dimgrey: "696969",
        dodgerblue: "1e90ff",
        firebrick: "b22222",
        floralwhite: "fffaf0",
        forestgreen: "228b22",
        fuchsia: "f0f",
        gainsboro: "dcdcdc",
        ghostwhite: "f8f8ff",
        gold: "ffd700",
        goldenrod: "daa520",
        gray: "808080",
        green: "008000",
        greenyellow: "adff2f",
        grey: "808080",
        honeydew: "f0fff0",
        hotpink: "ff69b4",
        indianred: "cd5c5c",
        indigo: "4b0082",
        ivory: "fffff0",
        khaki: "f0e68c",
        lavender: "e6e6fa",
        lavenderblush: "fff0f5",
        lawngreen: "7cfc00",
        lemonchiffon: "fffacd",
        lightblue: "add8e6",
        lightcoral: "f08080",
        lightcyan: "e0ffff",
        lightgoldenrodyellow: "fafad2",
        lightgray: "d3d3d3",
        lightgreen: "90ee90",
        lightgrey: "d3d3d3",
        lightpink: "ffb6c1",
        lightsalmon: "ffa07a",
        lightseagreen: "20b2aa",
        lightskyblue: "87cefa",
        lightslategray: "789",
        lightslategrey: "789",
        lightsteelblue: "b0c4de",
        lightyellow: "ffffe0",
        lime: "0f0",
        limegreen: "32cd32",
        linen: "faf0e6",
        magenta: "f0f",
        maroon: "800000",
        mediumaquamarine: "66cdaa",
        mediumblue: "0000cd",
        mediumorchid: "ba55d3",
        mediumpurple: "9370db",
        mediumseagreen: "3cb371",
        mediumslateblue: "7b68ee",
        mediumspringgreen: "00fa9a",
        mediumturquoise: "48d1cc",
        mediumvioletred: "c71585",
        midnightblue: "191970",
        mintcream: "f5fffa",
        mistyrose: "ffe4e1",
        moccasin: "ffe4b5",
        navajowhite: "ffdead",
        navy: "000080",
        oldlace: "fdf5e6",
        olive: "808000",
        olivedrab: "6b8e23",
        orange: "ffa500",
        orangered: "ff4500",
        orchid: "da70d6",
        palegoldenrod: "eee8aa",
        palegreen: "98fb98",
        paleturquoise: "afeeee",
        palevioletred: "db7093",
        papayawhip: "ffefd5",
        peachpuff: "ffdab9",
        peru: "cd853f",
        pink: "ffc0cb",
        plum: "dda0dd",
        powderblue: "b0e0e6",
        purple: "800080",
        rebeccapurple: "663399",
        red: "f00",
        rosybrown: "bc8f8f",
        royalblue: "4169e1",
        saddlebrown: "8b4513",
        salmon: "fa8072",
        sandybrown: "f4a460",
        seagreen: "2e8b57",
        seashell: "fff5ee",
        sienna: "a0522d",
        silver: "c0c0c0",
        skyblue: "87ceeb",
        slateblue: "6a5acd",
        slategray: "708090",
        slategrey: "708090",
        snow: "fffafa",
        springgreen: "00ff7f",
        steelblue: "4682b4",
        tan: "d2b48c",
        teal: "008080",
        thistle: "d8bfd8",
        tomato: "ff6347",
        turquoise: "40e0d0",
        violet: "ee82ee",
        wheat: "f5deb3",
        white: "fff",
        whitesmoke: "f5f5f5",
        yellow: "ff0",
        yellowgreen: "9acd32"
    },
    z = K.hexNames = _(F),
    H = function() {
        var e = "[-\\+]?\\d+%?",
        t = "[-\\+]?\\d*\\.\\d+%?",
        i = "(?:" + t + ")|(?:" + e + ")",
        n = "[\\s|\\(]+(" + i + ")[,|\\s]+(" + i + ")[,|\\s]+(" + i + ")\\s*\\)?",
        o = "[\\s|\\(]+(" + i + ")[,|\\s]+(" + i + ")[,|\\s]+(" + i + ")[,|\\s]+(" + i + ")\\s*\\)?";
        return {
            rgb: new RegExp("rgb" + n),
            rgba: new RegExp("rgba" + o),
            hsl: new RegExp("hsl" + n),
            hsla: new RegExp("hsla" + o),
            hsv: new RegExp("hsv" + n),
            hsva: new RegExp("hsva" + o),
            hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
            hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
            hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
        }
    } ();
    if ("undefined" != typeof module && module.exports) module.exports = K;
    else if ("function" == typeof define && define.amd) define("tinycolor", [],
    function() {
        return K
    });
    else window.tinycolor = K
} (),
define("common/core/lib/base", ["jquery", "tinycolor"],
function() {
    function e(e) {
        var i = {},
        n = t.type(e);
        if ("array" === n) for (var o = 0,
        r = e.length; r > o; o++) i[e[o]] = e[o];
        else if ("object" === n) for (var o in e) if (e.hasOwnProperty(o)) i[e[o]] = o;
        return i
    }
    var t = require("jquery"),
    i = require("tinycolor"),
    n = Array.prototype.slice,
    o = Array.prototype.indexOf,
    r = /^[\s\t\xa0\u3000]*$/,
    s = /^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})$/,
    a = "-",
    l = "-",
    h = "__is__component__",
    c = "__component__",
    u = {},
    d = 0,
    f = u.uncurry = function(e) {
        return function() {
            return Function.call.apply(e, arguments)
        }
    };
    u.arraySlice = f(n),
    u.curry = function(e) {
        var t = n.call(arguments, 1);
        return function() {
            return e.apply(this, t.concat(n.call(arguments)))
        }
    },
    u.ieVersion = /msie (\d+\.\d+)/i.test(navigator.userAgent) ? document.documentMode || +RegExp.$1: void 0,
    u.encodeHTML = function(e) {
        return null == e ? "": String(e).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;")
    },
    u.decodeHTML = function(e) {
        if (null == e) return "";
        var t = String(e).replace(/&quot;/g, '"').replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&amp;/g, "&");
        return t.replace(/&#([\d]+);/g,
        function(e, t) {
            return String.fromCharCode(parseInt(t, 10))
        })
    },
    u.assert = function(e, t) {
        if (!e) throw new Error(t || "assert fail!")
    },
    u.objForEach = function(e, t) {
        var i;
        for (i in e) if (e.hasOwnProperty(i)) t(i, e[i]);
        if (p) for (var n = 0; i = m[n++];) if (e[i] !== Object.prototype[i]) t(i, e[i])
    };
    var p = !{
        toString: 1
    }.propertyIsEnumerable("toString"),
    m = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"];
    u.localUID = function() {
        return d++
    },
    u.makeInner = function() {
        var e = "__private_d_" + u.localUID(),
        t = function(t) {
            return t[e] || (t[e] = {})
        };
        return t.attach = function(t) {
            var i = "__private_s_",
            n = "__private_attach_",
            o = t.prototype;
            if (o.hasOwnProperty(n)) e = o[n];
            else if (o[n]) e = o[n] = i + (Number(o[n].split("_s_")[1]) + 1);
            else e = o[n] = i + "0";
            return t
        },
        t
    },
    u.isComponent = function(e, t) {
        if (Object(e) !== e) return ! 1;
        if (t) e[h] = 1;
        return !! e[h]
    },
    u.getComponent = function(e) {
        if (u.isJQuery(e)) e = e[0];
        if (!e) return ! 1;
        else return e[c]
    },
    u.bindComponent = function(e, t) {
        if (u.isJQuery(e)) e = e[0];
        if (!e) return ! 1;
        if (u.isComponent(t)) e[c] = t;
        else if (t === !1) e[c] = null;
        return e[c]
    },
    u.isJQuery = function(e) {
        return e instanceof t
    },
    u.toInt = function(e) {
        return parseInt(e, 10)
    },
    u.assign = function(t, i, n, o, r) {
        var s = e(n),
        a = e(o);
        for (var l in i) if (i.hasOwnProperty(l) && !a.hasOwnProperty(l)) {
            var h = null;
            if (!n) h = l;
            else if (s.hasOwnProperty(l)) h = s[l];
            if (null != h) {
                if (r && t.hasOwnProperty(h)) throw new Error('Target attr "' + h + '" exists!');
                t[h] = i[l]
            }
        }
        return t
    };
    var g = u.isObject = function(e) {
        var t = typeof e;
        return "function" == t || !!e && "object" == t
    };
    return u.isEmptyObj = function(e) {
        if (!g(e)) return ! 1;
        for (var t in e) if (e.hasOwnProperty(t)) return ! 1;
        return ! 0
    },
    u.isNaN = function(e) {
        return e !== e
    },
    u.arrayIndexOf = function(e, t, i) {
        if (!e) return - 1;
        if (arguments.length < 3 && "function" == typeof o) return o.call(e, t);
        for (var n = 0,
        r = e.length; r > n; n++) if (arguments.length < 3 && e[n] === t || g(e[n]) && e[n][i] === t) return n;
        return - 1
    },
    u.arrayRemoveItem = function(e, t) {
        var i = u.arrayIndexOf(e, t);
        if (i > 0) e.splice(i, 1);
        else if (0 === i) e.shift()
    },
    u.arrayEquals = function(e, t) {
        if (!e || !t || e.length !== t.length) return ! 1;
        for (var i = 0,
        n = e.length; n > i; i++) if (e[i] !== t[i]) return ! 1;
        return ! 0
    },
    u.objHasAttr = function(e, i) {
        if ("string" === t.type(i)) i = [i];
        for (var n = 0,
        o = i.length; o > n; n++) if (e.hasOwnProperty[i[n]]) return ! 0;
        return ! 1
    },
    u.isBlank = function(e) {
        return null == e || r.test(e)
    },
    u.toEcValue = function(e) {
        return null == e ? a: e
    },
    u.fromEcValue = function(e) {
        return e === a ? null: e
    },
    u.toNotEmptyEcName = function(e) {
        return u.isBlank(e) ? l: e
    },
    u.validateHexColor = function(e) {
        return "string" === t.type(e) && s.test(e)
    },
    u.validateColor = function(e) {
        return "transparent" === e || i(e).isValid()
    },
    u.isSupportBase64 = function() {
        var e = new Image,
        t = !0;
        return e.onload = e.onerror = function() {
            if (1 !== this.width || 1 !== this.height) t = !1
        },
        e.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",
        t
    } (),
    u.flashVersion = function() {
        var e;
        try {
            e = navigator.plugins["Shockwave Flash"],
            e = e.description
        } catch(t) {
            try {
                e = new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")
            } catch(i) {
                e = "0.0"
            }
        }
        return e = e.match(/\d+/g),
        parseFloat(e[0] + "." + e[1])
    } (),
    u.supportTransition = function() {
        var e = document.createElement("p").style,
        t = "transition" in e || "WebkitTransition" in e || "MozTransition" in e || "msTransition" in e || "OTransition" in e;
        return e = null,
        t
    } (),
    u.noop = new Function,
    u
}),
define("json2", ["require"],
function(require) {
    var JSON = window.JSON;
    if ("object" != typeof JSON) JSON = {};
    return function() {
        "use strict";
        function f(e) {
            return 10 > e ? "0" + e: e
        }
        function quote(e) {
            return escapable.lastIndex = 0,
            escapable.test(e) ? '"' + e.replace(escapable,
            function(e) {
                var t = meta[e];
                return "string" == typeof t ? t: "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice( - 4)
            }) + '"': '"' + e + '"'
        }
        function str(e, t) {
            var i, n, o, r, s, a = gap,
            l = t[e];
            if (l && "object" == typeof l && "function" == typeof l.toJSON) l = l.toJSON(e);
            if ("function" == typeof rep) l = rep.call(t, e, l);
            switch (typeof l) {
            case "string":
                return quote(l);
            case "number":
                return isFinite(l) ? String(l) : "null";
            case "boolean":
            case "null":
                return String(l);
            case "object":
                if (!l) return "null";
                if (gap += indent, s = [], "[object Array]" === Object.prototype.toString.apply(l)) {
                    for (r = l.length, i = 0; r > i; i += 1) s[i] = str(i, l) || "null";
                    return o = 0 === s.length ? "[]": gap ? "[\n" + gap + s.join(",\n" + gap) + "\n" + a + "]": "[" + s.join(",") + "]",
                    gap = a,
                    o
                }
                if (rep && "object" == typeof rep) {
                    for (r = rep.length, i = 0; r > i; i += 1) if ("string" == typeof rep[i]) if (n = rep[i], o = str(n, l)) s.push(quote(n) + (gap ? ": ": ":") + o)
                } else for (n in l) if (Object.prototype.hasOwnProperty.call(l, n)) if (o = str(n, l)) s.push(quote(n) + (gap ? ": ": ":") + o);
                return o = 0 === s.length ? "{}": gap ? "{\n" + gap + s.join(",\n" + gap) + "\n" + a + "}": "{" + s.join(",") + "}",
                gap = a,
                o
            }
        }
        if ("function" != typeof Date.prototype.toJSON) Date.prototype.toJSON = function() {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z": null
        },
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
            return this.valueOf()
        };
        var cx, escapable, gap, indent, meta, rep;
        if ("function" != typeof JSON.stringify) escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        meta = {
            "\b": "\\b",
            "	": "\\t",
            "\n": "\\n",
            "\f": "\\f",
            "\r": "\\r",
            '"': '\\"',
            "\\": "\\\\"
        },
        JSON.stringify = function(e, t, i) {
            var n;
            if (gap = "", indent = "", "number" == typeof i) for (n = 0; i > n; n += 1) indent += " ";
            else if ("string" == typeof i) indent = i;
            if (rep = t, t && "function" != typeof t && ("object" != typeof t || "number" != typeof t.length)) throw new Error("JSON.stringify");
            return str("", {
                "": e
            })
        };
        if ("function" != typeof JSON.parse) cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
        JSON.parse = function(text, reviver) {
            function walk(e, t) {
                var i, n, o = e[t];
                if (o && "object" == typeof o) for (i in o) if (Object.prototype.hasOwnProperty.call(o, i)) if (n = walk(o, i), void 0 !== n) o[i] = n;
                else delete o[i];
                return reviver.call(e, t, o)
            }
            var j;
            if (text = String(text), cx.lastIndex = 0, cx.test(text)) text = text.replace(cx,
            function(e) {
                return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice( - 4)
            });
            if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"),
            "function" == typeof reviver ? walk({
                "": j
            },
            "") : j;
            throw new SyntaxError("JSON.parse")
        }
    } (),
    JSON
}),
define("common/core/lib/json", ["require", "jquery", "json2"],
function(require) {
    var e = require("jquery"),
    t = require("json2"),
    i = {};
    return i.parseJSON = e.proxy(t.parse, t),
    i.stringifyJSON = e.proxy(t.stringify, t),
    i.parseJSONLaxly = function(e, t) {
        return new Function("return (" + e + ");").call(t)
    },
    i
}),
define("common/core/lib/throttle", [],
function() {
    var e = {};
    return e.throttle = function(e, t, i, n) {
        function o(o) {
            function f() {
                c = (new Date).getTime(),
                u = null,
                (d ? e: e[o]).apply(s, a || [])
            }
            return function() {
                if (l = (new Date).getTime(), s = this, a = arguments, r = l - (n ? h: c) - t, clearTimeout(u), n) {
                    if (i) u = setTimeout(f, t);
                    else if (r >= 0) f()
                } else if (r >= 0) f();
                else if (i) u = setTimeout(f, -r);
                h = l
            }
        }
        var r, s, a, l = (new Date).getTime(),
        h = 0,
        c = 0,
        u = null,
        d = "function" == typeof e;
        if (t = t || 0, d) return o();
        else {
            for (var f = [], p = 0; p < e.length; p++) f[p] = o(p);
            return f
        }
    },
    e.fixedRate = function(t, i) {
        return null != i ? e.throttle(t, i, !0, !1) : t
    },
    e.debounce = function(t, i) {
        return null != i ? e.throttle(t, i, !0, !0) : t
    },
    e
}),
define("common/core/lib/dataDriven", ["require", "common/core/lib/base", "jquery", "common/core/lib/throttle"],
function(require) {
    function e(e, t) {
        var i = null === e || s.type(e) in g;
        return i ? e === t: !1
    }
    function t(e, t) {
        var i, n, o = [],
        r = this[d + "children"];
        for (i = 0; n = r[i]; i++) o.push(n.getCallback());
        for (o = t(o, e), i = 0; n = r[i]; i++) n.setCallback(o[i])
    }
    function i(e, t, i) {
        if (arguments.length > 1) {
            this[d + "currValueInfo"] = i;
            var n = this();
            if (this.isDifferent(n[e], t)) this.valueWillMutate(),
            n[e] = t,
            this.valueHasMutated()
        } else return this()[e]
    }
    function n(e) {
        return {
            ob: 1,
            obArray: 1,
            obHash: 1
        }.hasOwnProperty(k(e))
    }
    var o, r = require("common/core/lib/base"),
    s = require("jquery"),
    a = require("common/core/lib/throttle"),
    l = Array.prototype.slice,
    h = {},
    c = "__ob__type__",
    u = "__ob__val__info__",
    d = "__prop__",
    f = "change",
    p = "arrayChange";
    h.subscribable = function(e) {
        r.assign(e, m),
        e._subscriptions = {}
    };
    var m = {
        subscribe: function(e, t, i) {
            i = i || f;
            var n = this._subscriptions[i] || (this._subscriptions[i] = []),
            o = new y(e, t,
            function() {
                r.arrayRemoveItem(n, o)
            });
            return n.push(o),
            o
        },
        notify: function(e, t) {
            if (t = t || f, this.hasSubscriptionsForEvent(t)) for (var i, n = this._subscriptions[t].slice(), o = 0; i = n[o]; o++) i.callback(e)
        },
        hasSubscriptionsForEvent: function(e) {
            return this._subscriptions[e] && this._subscriptions[e].length
        },
        isDifferent: function(e, t) {
            return ! this.equalityComparer || !this.equalityComparer(e, t)
        },
        equalityComparer: e
    },
    g = {
        undefined: 1,
        "boolean": 1,
        number: 1,
        string: 1
    },
    y = function(e, t, i) {
        this[d + "callback"] = e,
        this[d + "callbackScope"] = t,
        this[d + "disposeCallback"] = i,
        this[d + "isDisposed"] = !1
    },
    v = y.prototype;
    v.callback = function(e) {
        if (!this[d + "isDisposed"]) this[d + "callback"].apply(this[d + "callbackScope"], e || []);
        return this
    },
    v.setCallback = function(e) {
        return this[d + "callback"] = e,
        this
    },
    v.getCallback = function() {
        return this[d + "callback"]
    },
    v.dispose = function() {
        return this[d + "isDisposed"] = !0,
        this[d + "disposeCallback"](),
        this
    },
    v.throttle = function(e) {
        return this[d + "callback"] = a.fixedRate(this[d + "callback"], e),
        this
    },
    v.debounce = function(e) {
        return this[d + "callback"] = a.debounce(this[d + "callback"], e),
        this
    };
    var b = function(e) {
        this[d + "children"] = s.extend([], e)
    },
    x = b.prototype;
    x.callback = function(e) {
        for (var t, i = 0; t = this[d + "children"][i]; i++) t.callback(e)
    },
    x.dispose = function() {
        for (var e, t = 0; e = this[d + "children"][t]; t++) e.dispose()
    },
    x.throttle = function(e) {
        return t.call(this, e, a.fixedRate),
        this
    },
    x.debounce = function(e) {
        return t.call(this, e, a.debounce),
        this
    },
    h.ob = h.observable = function(e, t, i) {
        function n(e, t, i) {
            if (arguments.length > 0) return void n[d + "writer"](e, t, i);
            else return n[d + "currValue"]
        }
        if (k(e)) e = e.peek(),
        t = e.peekValueInfo();
        return n[d + "currValue"] = e,
        n[d + "currValueInfo"] = t,
        n[d + "authKey"] = i ? i.authKey: null,
        h.subscribable(n),
        r.assign(n, _),
        n[c] = "ob",
        n[d + "writer"] = function(e, t, i) {
            n.validateAuthKey(i ? i.authKey: null),
            n[d + "currValueInfo"] = t;
            var o = i && i.force;
            if (o || n.isDifferent(n[d + "currValue"], e)) n.valueWillMutate(),
            n[d + "currValue"] = e,
            n.valueHasMutated()
        },
        n
    };
    var _ = {
        force: function(e, t, i) {
            i = i || {},
            i.force = !0,
            this[d + "writer"](e, t, i)
        },
        peek: function() {
            return this[d + "currValue"]
        },
        peekValueInfo: function(e) {
            if (0 === arguments.length) return this[d + "currValueInfo"];
            else if (r.isObject(this[d + "currValueInfo"])) return this[d + "currValueInfo"][e]
        },
        extendWriter: function(e) {
            var t = this,
            i = t[d + "writer"];
            return this[d + "writer"] = function(n, o, r) {
                t.validateAuthKey(r ? r.authKey: null),
                e.call(t, i, n, o, r)
            },
            this
        },
        valueHasMutated: function() {
            this.notify([this[d + "currValue"], this])
        },
        valueWillMutate: function() {
            this.notify([this[d + "currValue"], this], "beforeChange")
        },
        validateAuthKey: function(e) {
            var t = this[d + "authKey"];
            if (null != t && e !== t) throw new Error("AuthKey error: " + e)
        }
    };
    h.obHash = function(e) {
        var t = h.ob(e || {});
        return t[c] = "obHash",
        t.prop = i,
        t
    },
    h.obArray = function(e) {
        r.assert(e === o || s.isArray(e));
        var t = h.ob(e || []);
        return r.assign(t, w),
        t[c] = "obArray",
        t
    };
    var w = {
        remove: function(e) {
            for (var t, i = this(), n = [], o = [], r = 0, s = i.length; s > r;) if ("function" == typeof e ? e(i[r]) : i[r] === e) {
                if (!t) this.valueWillMutate(),
                t = !0;
                n.push(i.splice(r, 1)),
                o.push(r),
                s--
            } else r++;
            if (n.length) {
                var a = {
                    key: V.REMOVE,
                    indexes: o
                };
                this.notify([a, this], p),
                this.valueHasMutated()
            }
            return n
        },
        removeAll: function() {
            return this.splice(0, this.count())
        },
        indexOf: function(e) {
            return r.arrayIndexOf(this(), e)
        },
        pop: function() {
            return this.splice(this.count() - 1, 1)
        },
        push: function() {
            return this.splice.apply(this, [this.count(), 0].concat(l.call(arguments)))
        },
        shift: function() {
            return this.splice(0, 1)
        },
        unshift: function(e) {
            return this.splice(0, 0, e)
        },
        splice: function(e, t) {
            var i = this(),
            n = i.length,
            o = arguments.length;
            if (!o || !(e >= 0 && n >= e)) return [];
            if (1 === o) t = n;
            else if (! (t >= 0)) t = 0;
            else if (t > n - e) t = n - e;
            this.valueWillMutate();
            var r = i.splice.apply(i, arguments),
            s = {
                key: V.SPLICE,
                index: e,
                removeCount: t,
                added: l.call(arguments, 2)
            };
            return this.notify([s, this], p),
            this.valueHasMutated(),
            r
        },
        slice: function() {
            return l.apply(this(), arguments)
        },
        pushArray: function(e) {
            return this.push.apply(this, e || [])
        },
        count: function() {
            return this().length
        },
        move: function(e, t) {
            var i = this(),
            n = i.length;
            if (! (0 > e || e >= n || 0 > t || t >= n || e === t)) {
                this.valueWillMutate();
                var o = i.splice(e, 1)[0];
                i.splice(t, 0, o);
                var r = {
                    key: V.MOVE,
                    originIndex: e,
                    finalIndex: t
                };
                this.notify([r, this], p),
                this.valueHasMutated()
            }
        }
    },
    V = h.obArray.ChangeKey = {
        REMOVE: "remove",
        SPLICE: "splice",
        MOVE: "move"
    };
    h.obSubscribe = function(e, t, i, n) {
        if (k(e)) return e.subscribe(t, i, n);
        else if (s.isArray(e)) {
            for (var o = [], r = 0, a = e.length; a > r; r++) if (k(e[r])) o.push(e[r].subscribe(t, i, n));
            return new b(o)
        }
    },
    h.value = function(e) {
        return k(e) ? e() : e
    },
    h.peek = function(e) {
        return k(e) ? e.peek() : e
    },
    h.peekValueInfo = function(e) {
        if (k(e)) return e[u];
        else return void 0
    },
    h.setValue = function(e, t, i) {
        return t = h.peek(t),
        n(e) ? (e(t, i), e) : t
    };
    var U = h.valueInfo = function(e, t) {
        if (r.isObject(e)) return r.assign({},
        e, ["type", "key"]);
        else return {
            type: e,
            key: t
        }
    };
    U.CONFIRMED = "confirmed",
    h.checkValueInfo = function(e, t, i) {
        var n = h.obTypeOf(e) ? e.peekValueInfo() : e;
        return r.isObject(n) && (null == t || n.type === t) && (null == i || n.key === i)
    };
    var k = h.obTypeOf = function(e) {
        return Object(e) === e && e[c]
    };
    return h
}),
define("common/core/lib/model", ["require", "jquery", "./base", "./dataDriven"],
function(require) {
    var e, t = require("jquery"),
    i = require("./base"),
    n = require("./dataDriven"),
    o = {},
    r = "__atom__",
    s = o.isAtom = function(e, o) {
        return Object(e) !== e || !o && e[r] || n.obTypeOf(e) || i.isComponent(e) || !t.isPlainObject(e)
    };
    o.isPlain = function(e, i) {
        return t.isArray(e) || !s(e, i)
    },
    o.atom = function(e) {
        if (Object(e) === e && !e[r]) e[r] = 1;
        return e
    },
    o.cloneAtom = function(e, o) {
        var r, l, h = t.type(e);
        if (s(e, !0)) {
            if (r = n.obTypeOf(e)) return n[r](a({},
            e.peek(), {
                clone: !0
            }));
            else if (i.isComponent(e)) return e.clone();
            else if ("date" === h) return new Date(e.getTime());
            else if ("regexp" === h) return new RegExp(e);
            else if ("array" === h) {
                l = [];
                for (var c in e) if (e.hasOwnProperty(c)) l[c] = a({},
                e[c], {
                    clone: !0
                });
                return l
            } else if (h in {
                "function": 1,
                undefined: 1,
                "null": 1,
                "boolean": 1,
                number: 1,
                string: 1
            } || o && o.assignWhenCannotClone) return e
        } else;
    };
    var a = o.merge = function(t, i, n) {
        if (i === e) return t;
        else if (s(i)) return n && n.clone ? o.cloneAtom(i, n) : i;
        else {
            if (s(t)) t = {};
            var r = n && n.levelOneNeedMerge;
            n && (n.levelOneNeedMerge = null);
            for (var l in i) if (i.hasOwnProperty(l) && (!n || !n.onlyMergeOwnPropertyInTarget || t.hasOwnProperty(l))) t[l] = !r || r[l] ? a(t[l], i[l], n) : i[l];
            else;
            return t
        }
    };
    return o.clone = function(t, i) {
        if (t === e) return e;
        else return a({},
        t, {
            clone: !0,
            assignWhenCannotClone: i
        })
    },
    o
}),
define("common/core/lib/objectAccess", ["require", "common/core/lib/model"],
function(require) {
    function e(e) {
        return e === Object(e)
    }
    function t(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }
    var i, n = {},
    o = require("common/core/lib/model"),
    r = /[\.\[]/,
    s = /\[/g,
    a = /\]/g,
    l = n.getByPath = function(e, i, n) {
        if (null == e) return i;
        var o = t(e) ? e: l.parsePath(e),
        n = n || u;
        i = {
            k: i
        },
        o.unshift("k");
        for (var r = 0,
        s = o.length; s > r; r++) {
            var a = o[r],
            c = !r ? h.DRILL_DOWN: n(i, a);
            switch (c) {
            case h.DRILL_DOWN:
                i = i[a];
                break;
            case h.RETURN:
                return;
            default:
                throw new Error("path: " + a)
            }
        }
        return i
    },
    h = l.Action = {
        DRILL_DOWN: "drillDown",
        THROW: "throw",
        RETURN: "return"
    },
    c = l.actionChoice = {
        notObjectThrow: function(t) {
            return e(t) ? h.DRILL_DOWN: h.THROW
        },
        notObjectReturn: function(t) {
            return e(t) ? h.DRILL_DOWN: h.RETURN
        },
        atomThrow: function(t) {
            return e(t) && !o.isAtom(t) ? h.DRILL_DOWN: h.THROW
        },
        notPlainThrow: function(t) {
            return e(t) && o.isPlain(t) ? h.DRILL_DOWN: h.THROW
        },
        notPlainReturn: function(t) {
            return e(t) && o.isPlain(t) ? h.DRILL_DOWN: h.RETURN
        }
    },
    u = c.notObjectThrow;
    l.normalizePath = function(e) {
        return e.replace(s, ".").replace(a, "")
    },
    l.parsePath = function(e) {
        return e.replace(a, "").split(r)
    };
    var d = n.setByPath = function(e, t, i, n, o) {
        if (null != e) {
            var s, a, l = e.split(r),
            n = n || m;
            i = {
                k: i
            },
            l.unshift("k");
            for (var h, c = 0,
            u = l.length; u > c; c++) {
                a = l[c];
                var d = a.length;
                if (h = 0, a.indexOf("]") === d - 1) l[c] = a = a.slice(0, d - 1),
                h = 1;
                var p = !c ? f.DRILL_DOWN: n(i, a);
                switch (p) {
                case f.OVERLAP:
                    s[l[c - 1]] = i = h ? [] : {};
                    break;
                case f.DELETE:
                    return void delete s[l[c - 1]];
                case f.DRILL_DOWN:
                    break;
                case f.RETURN:
                    return;
                default:
                    throw new Error("path: " + a)
                }
                s = i,
                i = i[a]
            }
            if ("function" == typeof o) t = o(s, a, t);
            else s[a] = t;
            return t
        }
    },
    f = d.Action = {
        DRILL_DOWN: "drillDown",
        THROW: "throw",
        RETURN: "return",
        OVERLAP: "overlap",
        DELETE: "delete"
    },
    p = d.actionChoice = {
        notObjectOverlap: function(t) {
            return e(t) ? f.DRILL_DOWN: f.OVERLAP
        },
        notObjectThrow: function(t) {
            return e(t) ? f.DRILL_DOWN: t !== i ? f.THROW: f.OVERLAP
        },
        notObjectReturn: function(t) {
            return e(t) ? f.DRILL_DOWN: t !== i ? f.RETURN: f.OVERLAP
        },
        atomThrow: function(t) {
            return e(t) && !o.isAtom(t) ? f.DRILL_DOWN: t !== i ? f.THROW: f.OVERLAP
        },
        notPlainThrow: function(t) {
            return e(t) && o.isPlain(t) ? f.DRILL_DOWN: t !== i ? f.THROW: f.OVERLAP
        },
        notPlainOverlap: function(t) {
            return e(t) && o.isPlain(t) ? f.DRILL_DOWN: f.OVERLAP
        }
    },
    m = p.notObjectThrow;
    return n.deleteByPath = function(e, t, n) {
        function o(e, t) {
            r = e[t],
            delete e[t]
        }
        var r;
        return d(e, i, t, n, o),
        r
    },
    n.reducePath = function(e, t) {
        for (var i = e.split(r), n = [], o = 0, s = i.length; s > o; o++) {
            var a = i[o],
            l = a.length,
            h = !1;
            if (a.indexOf("]") === l - 1) h = !0,
            a = a.slice(0, l - 1);
            if (a !== t[o]) break;
            else n.push((0 === o ? "": h ? "[": ".") + i[o])
        }
        return n.join("")
    },
    n
}),
define("common/core/lib/objectOriented", ["require", "exports", "./base"],
function(require, exports) {
    function e(e, t) {
        for (var i, n = this.constructor,
        o = this[e]; (n = n.prototype._superClass) && (i = n.prototype[e]) && i === o;);
        if (i) return i.apply(this, t || []);
        throw new Error("parent Class has no method named " + e)
    }
    function t(e, t) {
        var i = this[a] || (this[a] = {});
        return arguments.length > 1 ? i[e] = t: i[e]
    }
    function i(t) {
        var i = this,
        n = exports.newClass({
            _define: i.defineProperties
        }),
        r = function() {};
        r.prototype = i.prototype;
        var s = n.prototype = new r;
        return o(n.defineProperties, t._define),
        t._define = null,
        n.implement(t),
        s._applySuper = e,
        s._superClass = i,
        s.constructor = n,
        n
    }
    function n(e) {
        return o(this.prototype, e)
    }
    function o(e, t) {
        for (var i in t) if (t.hasOwnProperty(i)) e[i] = t[i];
        return e
    }
    function r(e) {
        return "[object Function]" === Object.prototype.toString.call(e)
    }
    var s = require("./base"),
    a = "privateProps";
    return exports.newClass = function(e) {
        var a = function() {
            return r(this._construct) ? this._construct.apply(this, arguments) : this
        };
        return a.extend = i,
        a.implement = n,
        o(a.defineProperties = {},
        e._define),
        e._define = null,
        a.implement(e),
        a.uid = "Class_" + s.localUID(),
        a.prototype._prop = t,
        a
    },
    exports.simpleInherit = function(t, i) {
        var n = t.prototype,
        r = new Function;
        r.prototype = i.prototype;
        var s = t.prototype = new r;
        return o(s, n),
        s._applySuper = e,
        s._superClass = i,
        s.constructor = t,
        t
    },
    exports
}),
define("common/core/lib/event", ["require", "jquery"],
function(require) {
    function e(e) {
        return t.extend(e, o)
    }
    var t = require("jquery"),
    i = t.isFunction,
    n = t.inArray,
    o = {
        addEventListener: function(e, t) {
            if (i(e)) t = e,
            e = "*";
            this.__listeners = this.__listeners || {};
            var o = this.__listeners[e] || (this.__listeners[e] = []);
            if (n(o, t) < 0) o.push(t);
            return this
        },
        removeEventListener: function(e, t) {
            if (i(e)) t = e,
            e = "*";
            this.__listeners = this.__listeners || {};
            var o = this.__listeners[e];
            if (o) if (t) {
                var r = n(o, t);
                if (~r) delete o[r]
            } else o.length = 0,
            delete this.__listeners[e];
            return this
        },
        removeAllEventListener: function() {
            return this.__listeners = [],
            this
        },
        fire: function(e, i) {
            this.__listeners = this.__listeners || {};
            var n = this.__listeners[e],
            o = this;
            if (n) t.each(n,
            function(t, n) {
                i = i || {},
                i.type = e,
                n.call(o, i)
            });
            if ("*" !== e) this.fire("*", i);
            return this
        }
    };
    return {
        enableEvent: e
    }
}),
define("common/core/lib/enumeration", ["require", "jquery"],
function(require) {
    function e(e) {
        var t;
        if ("array" === i.type(e)) {
            t = {};
            for (var n = 0,
            o = e.length; o > n; n++) t[e[n]] = e[n]
        } else t = e;
        return t
    }
    function t(e) {
        for (var t in e) if (e.hasOwnProperty(t) && !o.test(t)) throw new Error('Key must be spelled like "AAAA_BBB".')
    }
    var i = require("jquery"),
    n = {},
    o = /^[A-Z][A-Z_]*$/;
    n.makeEnum = function(n, o) {
        function s() {}
        return o = o || {},
        n = e(n),
        t(n),
        i.extend(s.prototype, r, o),
        i.extend(new s, n)
    };
    var r = {
        has: function(e) {
            return this.hasOwnProperty(e)
        },
        hasValue: function(e) {
            return null != this.getKeyByValue(e)
        },
        get: function(e) {
            return this.hasOwnProperty(e) ? this[e] : null
        },
        getKeyByValue: function(e) {
            for (var t in this) if (this.hasOwnProperty(t) && this[t] === e) return t;
            return null
        },
        contains: function(e, t) {
            if (t && !i.isArray(t)) t = [t];
            for (var n = 0,
            o = t.length; o > n; n++) {
                for (var r = !1,
                s = 0,
                a = e.length; a > s; s++) if (this[e[s]] === t[n]) r = !0;
                if (!r) return ! 1
            }
            return ! 0
        },
        forEachEnum: function(e, t) {
            for (var i in this) if (this.hasOwnProperty(i) && o.test(i)) e.call(t, i, this[i])
        }
    };
    return n
}),
define("common/core/lib/tooltip", ["require", "jquery", "common/core/lib/base", "common/core/lib/model"],
function(require) {
    function e(e) {
        var i = t(),
        n = e.x,
        o = e.y;
        null == n && (n = 0),
        null == o && (o = 0);
        var r = e.xAnchor || "center",
        s = e.yAnchor || "top",
        a = "left" === r ? 0 : i.outerWidth(),
        l = "top" === s ? 0 : i.outerHeight();
        i.css({
            left: Math.round("left" === r ? n: "center" === r ? n - a / 2 : n - a) + "px",
            top: Math.round("top" === s ? o: "center" === s ? o - l / 2 : o - l) + "px"
        })
    }
    function t() {
        if (!d) d = i('<div class="' + l + '" style="display:none;"></div>').appendTo(document.body);
        return d
    }
    var i = require("jquery"),
    n = require("common/core/lib/base"),
    o = require("common/core/lib/model"),
    r = i.isFunction,
    s = i.extend,
    a = ".dt-global-tooltip-namespace",
    l = "dt-global-tooltip",
    h = {
        x: 0,
        y: -5,
        xAnchor: "center",
        yAnchor: "bottom"
    },
    c = {
        x: 0,
        y: -15,
        xAnchor: "center",
        yAnchor: "bottom"
    },
    u = {},
    d = null,
    f = !1;
    return u.showTooltip = function(i) {
        if (!f) {
            i = i || {};
            var o = i.text;
            if (null == o) return void u.hideTooltip();
            o = i.encodeHTML !== !1 ? n.encodeHTML(o) : o,
            t().html(o).show(),
            e(i.location)
        }
    },
    u.hideTooltip = function() {
        t().hide()
    },
    u.disableTooltip = function() {
        u.hideTooltip(),
        f = !0
    },
    u.enableTooltip = function() {
        f = !1
    },
    u.bindTooltip = function(t) {
        function l(e) {
            g = {
                currentTarget: e.currentTarget,
                pageX: e.pageX,
                pageY: e.pageY
            }
        }
        function d(e) {
            var i = t.text;
            return r(i) ? i(e.currentTarget) : i
        }
        function f(e) {
            var t = r(p) ? p(e.currentTarget) : s({},
            p || (m ? c: h));
            if (m) t.x += e.pageX,
            t.y += e.pageY;
            else if (!p) {
                var n = i(e.currentTarget),
                o = n.offset();
                t.x += o.left + n.outerWidth() / 2,
                t.y += o.top
            }
            return t
        }
        t = o.merge({},
        t, {
            clone: !0,
            assignWhenCannotClone: !0
        });
        var p = t.location,
        m = t.followMouse;
        n.assert(!n.isJQuery(t.bindEl));
        var g, y = i(t.bindEl),
        v = ["mouseenter" + a,
        function(e) {
            l(e),
            u.showTooltip({
                text: d(g),
                encodeHTML: t.encodeHTML,
                location: f(g)
            })
        }],
        b = ["mouseleave" + a,
        function() {
            g = null,
            u.hideTooltip()
        }],
        x = ["mousemove" + a,
        function(t) {
            l(t),
            e(f(g))
        }],
        _ = t.selector;
        if (_) v.splice(1, 0, _),
        b.splice(1, 0, _),
        x.splice(1, 0, _);
        y.on.apply(y, v).on.apply(y, b),
        m && y.on.apply(y, x);
        var w = {
            refresh: function() {
                if (g) u.showTooltip({
                    text: d(g),
                    encodeHTML: t.encodeHTML,
                    location: f(g)
                })
            },
            setText: function(e) {
                if (g) u.showTooltip({
                    text: e,
                    encodeHTML: t.encodeHTML,
                    location: f(g)
                })
            },
            hide: function() {
                if (g) u.hideTooltip()
            },
            dispose: function() {
                if (g) u.hideTooltip(),
                g = null;
                y.off(a)
            }
        };
        return w
    },
    u
}),
define("common/core/lib/disable", ["require", "jquery"],
function(require) {
    function e(e, i, o) {
        e = null != e ? e: "";
        var s = r[e];
        if (!s && o) {
            var a = null != i ? n + "-" + i: "";
            s = r[e] = t('<div class="' + n + " " + a + '"></div>').appendTo(document.body)
        }
        return s
    }
    var t = require("jquery"),
    i = {},
    n = "dt-global-mask",
    o = "dtGlobalMask",
    r = {};
    return i.globalDisable = function(e) {
        i.globalMask(e ? 0 : !1)
    },
    i.globalMask = function(t, i, n, r) {
        var s;
        if (t === !1) s = e(i),
        s && s.hide().off("." + o);
        else {
            if (null == t) t = .5;
            s = e(i, n, !0),
            s.css({
                opacity: t
            }).show();
            for (var a in r) if (r.hasOwnProperty(a)) s.on(a + "." + o, r[a])
        }
    },
    i.disposeGlobalMask = function(t) {
        var i = e(t);
        i && i.off().remove()
    },
    i
}),
define("common/core/lib/number", [],
function() {
    var e = {},
    t = /^(\d+)px$/,
    i = /^(\d+|\d+\.\d+)%$/;
    e.ordinalSuffix = function(e) {
        if (1 == e) return "st";
        else if (2 == e) return "nd";
        else if (3 == e) return "rd";
        else return "th"
    },
    e.pad = function(e, t) {
        var i = "",
        n = 0 > e,
        o = String(Math.abs(e));
        if (o.length < t) i = new Array(t - o.length + 1).join("0");
        return (n ? "-": "") + i + o
    },
    e.formatNumber = function(t, i, n, o, r) {
        if (!i) return t;
        if (r && /[ID]%/.test(i)) t = 100 * t;
        var s = /D+/.exec(i),
        a = s && s.length > 0 ? s[0].length: 0;
        t = e.fixNumber(t, a, o);
        var l, h = t.toString(),
        c = h.split("."),
        u = c[0],
        d = c.length > 1 ? c[1] : "";
        return l = i.replace(/I+,*I*/g,
        function() {
            var e, t, i = arguments[0],
            o = i.lastIndexOf(","),
            r = [];
            if (o >= 0 && o !== u.length - 1) {
                t = i.length - 1 - o;
                for (var s; (s = u.length - t) > 0 && t > 0;) r.push(u.substr(s, t)),
                u = u.substring(0, s);
                if (r.push(u), r.reverse(), "-" === r[0]) r.shift(),
                e = "-" + r.join(",");
                else e = r.join(",")
            } else e = u;
            if (n && e && e.indexOf("-") < 0) e = "+" + e;
            return e
        }),
        l = l.replace(/D+/g,
        function() {
            var e = arguments[0],
            t = d;
            if (t.length > e.length) t = t.substr(0, e.length);
            else t += new Array(e.length - t.length).join("0");
            return t
        })
    },
    e.fixNumber = function(e, t, i) {
        if (e = n(e), null == t || null == e) return e;
        if (!i) {
            var o = Math.pow(10, t);
            return Math.round(e * o) / o
        } else if (2 == i) return Number(e).toFixed(t);
        else return Number(e)
    };
    var n = e.getNumber = function(e) {
        var t = parseFloat(e);
        return e - t >= 0 ? t: null
    };
    return e.refineNumber = function(e) {
        for (var t = [], i = 0, o = e.length; o > i; i++) {
            var r = n(e[i]);
            null != r && t.push(r)
        }
        return t
    },
    e.validateNumeric = function(e) {
        return e - parseFloat(e) >= 0
    },
    e.isInteger = function(t) {
        return e.validateNumeric(t) && t % 1 === 0
    },
    e.isPxStr = function(e) {
        return t.test(e)
    },
    e.parsePxStr = function(e) {
        return t.test(e) ? parseFloat(RegExp.$1) : null
    },
    e.isPercentStr = function(e) {
        return i.test(e)
    },
    e.parsePercentStr = function(e) {
        return i.test(e) ? parseFloat(RegExp.$1) : null
    },
    e
}),
define("common/core/lib/cmd", ["require", "jquery", "common/core/lib/base"],
function(require) {
    function e(e, i) {
        this.cmd = e,
        this.args = t.extend([], i)
    }
    var t = require("jquery"),
    i = require("common/core/lib/base"),
    n = {},
    o = {};
    return n.CMD_SET_DATA_CFG = "setDataCfg",
    n.CMD_APPEND_SERIES = "appendSeries",
    n.CMD_REMOVE_SERIES = "removeSeries",
    n.CMD_APPEND_CATEGORY = "appendCategory",
    n.CMD_REMOVE_CATEGORY = "removeCategory",
    n.CMD_REFRESH_SERIES = "refreshSeries",
    n.CMD_REFRESH_CATEGORY_DATA = "refreshCategoryData",
    n.makeDataCmd = function(t, i) {
        return new e(t, i)
    },
    n.registerDataCmdExecutor = function(e, t) {
        i.assert(!(e.cmd in o)),
        o[e.cmd] = t
    },
    n.exeDataCmds = function(e) {
        for (var t = 0,
        i = e.length; i > t; t++);
    },
    n.dspPatternSeries = function(e, t) {
        return "option.series[" + e + "]" + (null == t ? t: "")
    },
    n
}),
define("html2canvas", ["require"],
function() {
    return function(e, t, i) {
        "use strict";
        function n(e, t, i) {
            var n, o = e.runtimeStyle && e.runtimeStyle[t],
            r = e.style;
            if (!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(i) && /^-?\d/.test(i)) {
                if (n = r.left, o) e.runtimeStyle.left = e.currentStyle.left;
                if (r.left = "fontSize" === t ? "1em": i || 0, i = r.pixelLeft + "px", r.left = n, o) e.runtimeStyle.left = o
            }
            if (!/^(thin|medium|thick)$/i.test(i)) return Math.round(parseFloat(i)) + "px";
            else return i
        }
        function o(e) {
            return parseInt(e, 10)
        }
        function r(e, t, o, r) {
            if (e = (e || "").split(","), e = e[r || 0] || e[0] || "auto", e = u.Util.trimText(e).split(" "), "backgroundSize" === o && (!e[0] || e[0].match(/cover|contain|auto/)));
            else {
                if (e[0] = -1 === e[0].indexOf("%") ? n(t, o + "X", e[0]) : e[0], e[1] === i) if ("backgroundSize" === o) return e[1] = "auto",
                e;
                else e[1] = e[0];
                e[1] = -1 === e[1].indexOf("%") ? n(t, o + "Y", e[1]) : e[1]
            }
            return e
        }
        function s(e, t, i, n, o, r) {
            var s, a, l, h, c = u.Util.getCSS(t, e, o);
            if (1 === c.length) h = c[0],
            c = [],
            c[0] = h,
            c[1] = h;
            if ( - 1 !== c[0].toString().indexOf("%")) {
                if (l = parseFloat(c[0]) / 100, a = i.width * l, "backgroundSize" !== e) a -= (r || n).width * l
            } else if ("backgroundSize" === e) if ("auto" === c[0]) a = n.width;
            else if (/contain|cover/.test(c[0])) {
                var d = u.Util.resizeBounds(n.width, n.height, i.width, i.height, c[0]);
                a = d.width,
                s = d.height
            } else a = parseInt(c[0], 10);
            else a = parseInt(c[0], 10);
            if ("auto" === c[1]) s = a / n.width * n.height;
            else if ( - 1 !== c[1].toString().indexOf("%")) {
                if (l = parseFloat(c[1]) / 100, s = i.height * l, "backgroundSize" !== e) s -= (r || n).height * l
            } else s = parseInt(c[1], 10);
            return [a, s]
        }
        function a(e, t) {
            var i = [];
            return {
                storage: i,
                width: e,
                height: t,
                clip: function() {
                    i.push({
                        type: "function",
                        name: "clip",
                        arguments: arguments
                    })
                },
                translate: function() {
                    i.push({
                        type: "function",
                        name: "translate",
                        arguments: arguments
                    })
                },
                fill: function() {
                    i.push({
                        type: "function",
                        name: "fill",
                        arguments: arguments
                    })
                },
                save: function() {
                    i.push({
                        type: "function",
                        name: "save",
                        arguments: arguments
                    })
                },
                restore: function() {
                    i.push({
                        type: "function",
                        name: "restore",
                        arguments: arguments
                    })
                },
                fillRect: function() {
                    i.push({
                        type: "function",
                        name: "fillRect",
                        arguments: arguments
                    })
                },
                createPattern: function() {
                    i.push({
                        type: "function",
                        name: "createPattern",
                        arguments: arguments
                    })
                },
                drawShape: function() {
                    var e = [];
                    return i.push({
                        type: "function",
                        name: "drawShape",
                        arguments: e
                    }),
                    {
                        moveTo: function() {
                            e.push({
                                name: "moveTo",
                                arguments: arguments
                            })
                        },
                        lineTo: function() {
                            e.push({
                                name: "lineTo",
                                arguments: arguments
                            })
                        },
                        arcTo: function() {
                            e.push({
                                name: "arcTo",
                                arguments: arguments
                            })
                        },
                        bezierCurveTo: function() {
                            e.push({
                                name: "bezierCurveTo",
                                arguments: arguments
                            })
                        },
                        quadraticCurveTo: function() {
                            e.push({
                                name: "quadraticCurveTo",
                                arguments: arguments
                            })
                        }
                    }
                },
                drawImage: function() {
                    i.push({
                        type: "function",
                        name: "drawImage",
                        arguments: arguments
                    })
                },
                fillText: function() {
                    i.push({
                        type: "function",
                        name: "fillText",
                        arguments: arguments
                    })
                },
                setVariable: function(e, t) {
                    return i.push({
                        type: "variable",
                        name: e,
                        arguments: t
                    }),
                    t
                }
            }
        }
        function l(e) {
            return {
                zindex: e,
                children: []
            }
        }
        var h, c, u = {};
        u.Util = {},
        u.Util.log = function(t) {
            if (u.logging && e.console && e.console.log) e.console.log(t)
        },
        u.Util.trimText = function(e) {
            return function(t) {
                return e ? e.apply(t) : ((t || "") + "").replace(/^\s+|\s+$/g, "")
            }
        } (String.prototype.trim),
        u.Util.asFloat = function(e) {
            return parseFloat(e)
        },
        function() {
            var e = /((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,
            t = /(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;
            u.Util.parseTextShadows = function(i) {
                if (!i || "none" === i) return [];
                for (var n = i.match(e), o = [], r = 0; n && r < n.length; r++) {
                    var s = n[r].match(t);
                    o.push({
                        color: s[0],
                        offsetX: s[1] ? s[1].replace("px", "") : 0,
                        offsetY: s[2] ? s[2].replace("px", "") : 0,
                        blur: s[3] ? s[3].replace("px", "") : 0
                    })
                }
                return o
            }
        } (),
        u.Util.parseBackgroundImage = function(e) {
            var t, i, n, o, r, s, a, l, h = " \r\n	",
            c = [],
            u = 0,
            d = 0,
            f = function() {
                if (t) {
                    if ('"' === i.substr(0, 1)) i = i.substr(1, i.length - 2);
                    if (i) l.push(i);
                    if ("-" === t.substr(0, 1) && (o = t.indexOf("-", 1) + 1) > 0) n = t.substr(0, o),
                    t = t.substr(o);
                    c.push({
                        prefix: n,
                        method: t.toLowerCase(),
                        value: r,
                        args: l
                    })
                }
                l = [],
                t = n = i = r = ""
            };
            f();
            for (var p = 0,
            m = e.length; m > p; p++) if (s = e[p], !(0 === u && h.indexOf(s) > -1)) {
                switch (s) {
                case '"':
                    if (!a) a = s;
                    else if (a === s) a = null;
                    break;
                case "(":
                    if (a) break;
                    else if (0 === u) {
                        u = 1,
                        r += s;
                        continue
                    } else d++;
                    break;
                case ")":
                    if (a) break;
                    else if (1 === u) if (0 === d) {
                        u = 0,
                        r += s,
                        f();
                        continue
                    } else d--;
                    break;
                case ",":
                    if (a) break;
                    else if (0 === u) {
                        f();
                        continue
                    } else if (1 === u) if (0 === d && !t.match(/^url$/i)) {
                        l.push(i),
                        i = "",
                        r += s;
                        continue
                    }
                }
                if (r += s, 0 === u) t += s;
                else i += s
            } else;
            return f(),
            c
        },
        u.Util.Bounds = function(e) {
            var t, i = {};
            if (e.getBoundingClientRect) t = e.getBoundingClientRect(),
            i.top = t.top,
            i.bottom = t.bottom || t.top + t.height,
            i.left = t.left,
            i.width = e.offsetWidth,
            i.height = e.offsetHeight;
            return i
        },
        u.Util.OffsetBounds = function(e) {
            var t = e.offsetParent ? u.Util.OffsetBounds(e.offsetParent) : {
                top: 0,
                left: 0
            };
            return {
                top: e.offsetTop + t.top,
                bottom: e.offsetTop + e.offsetHeight + t.top,
                left: e.offsetLeft + t.left,
                width: e.offsetWidth,
                height: e.offsetHeight
            }
        },
        u.Util.getCSS = function(e, i, n) {
            if (h !== e) c = t.defaultView.getComputedStyle(e, null);
            var s = c[i];
            if (/^background(Size|Position)$/.test(i)) return r(s, e, i, n);
            else if (/border(Top|Bottom)(Left|Right)Radius/.test(i)) {
                var a = s.split(" ");
                if (a.length <= 1) a[1] = a[0];
                return a.map(o)
            }
            return s
        },
        u.Util.resizeBounds = function(e, t, i, n, o) {
            var r, s, a = i / n,
            l = e / t;
            if (!o || "auto" === o) r = i,
            s = n;
            else if (l > a ^ "contain" === o) s = n,
            r = n * l;
            else r = i,
            s = i / l;
            return {
                width: r,
                height: s
            }
        },
        u.Util.BackgroundPosition = function(e, t, i, n, o) {
            var r = s("backgroundPosition", e, t, i, n, o);
            return {
                left: r[0],
                top: r[1]
            }
        },
        u.Util.BackgroundSize = function(e, t, i, n) {
            var o = s("backgroundSize", e, t, i, n);
            return {
                width: o[0],
                height: o[1]
            }
        },
        u.Util.Extend = function(e, t) {
            for (var i in e) if (e.hasOwnProperty(i)) t[i] = e[i];
            return t
        },
        u.Util.Children = function(e) {
            var t;
            try {
                t = e.nodeName && "IFRAME" === e.nodeName.toUpperCase() ? e.contentDocument || e.contentWindow.document: function(e) {
                    var t = [];
                    if (null !== e) !
                    function(e, t) {
                        var n = e.length,
                        o = 0;
                        if ("number" == typeof t.length) for (var r = t.length; r > o; o++) e[n++] = t[o];
                        else for (; t[o] !== i;) e[n++] = t[o++];
                        return e.length = n,
                        e
                    } (t, e);
                    return t
                } (e.childNodes)
            } catch(n) {
                u.Util.log("html2canvas.Util.Children failed with exception: " + n.message),
                t = []
            }
            return t
        },
        u.Util.isTransparent = function(e) {
            return "transparent" === e || "rgba(0, 0, 0, 0)" === e
        },
        u.Util.Font = function() {
            var e = {};
            return function(t, n, o) {
                if (e[t + "-" + n] !== i) return e[t + "-" + n];
                var r, s, a, l = o.createElement("div"),
                h = o.createElement("img"),
                c = o.createElement("span"),
                u = "Hidden Text";
                return l.style.visibility = "hidden",
                l.style.fontFamily = t,
                l.style.fontSize = n,
                l.style.margin = 0,
                l.style.padding = 0,
                o.body.appendChild(l),
                h.src = "data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",
                h.width = 1,
                h.height = 1,
                h.style.margin = 0,
                h.style.padding = 0,
                h.style.verticalAlign = "baseline",
                c.style.fontFamily = t,
                c.style.fontSize = n,
                c.style.margin = 0,
                c.style.padding = 0,
                c.appendChild(o.createTextNode(u)),
                l.appendChild(c),
                l.appendChild(h),
                r = h.offsetTop - c.offsetTop + 1,
                l.removeChild(c),
                l.appendChild(o.createTextNode(u)),
                l.style.lineHeight = "normal",
                h.style.verticalAlign = "super",
                s = h.offsetTop - l.offsetTop + 1,
                a = {
                    baseline: r,
                    lineWidth: 1,
                    middle: s
                },
                e[t + "-" + n] = a,
                o.body.removeChild(l),
                a
            }
        } (),
        function() {
            function e(e) {
                return function(t) {
                    try {
                        e.addColorStop(t.stop, t.color)
                    } catch(n) {
                        i.log(["failed to add color stop: ", n, "; tried to add: ", t])
                    }
                }
            }
            var i = u.Util,
            n = {};
            u.Generate = n;
            var o = [/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/, /^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/, /^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/, /^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/, /^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/, /^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/, /^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];
            n.parseGradient = function(e, t) {
                var i, n, r, s, a, l, h, c, u, d, f, p, m = o.length;
                for (n = 0; m > n && !(r = e.match(o[n])); n += 1);
                if (r) switch (r[1]) {
                case "-webkit-linear-gradient":
                case "-o-linear-gradient":
                    if (i = {
                        type: "linear",
                        x0: null,
                        y0: null,
                        x1: null,
                        y1: null,
                        colorStops: []
                    },
                    a = r[2].match(/\w+/g)) for (l = a.length, n = 0; l > n; n += 1) switch (a[n]) {
                    case "top":
                        i.y0 = 0,
                        i.y1 = t.height;
                        break;
                    case "right":
                        i.x0 = t.width,
                        i.x1 = 0;
                        break;
                    case "bottom":
                        i.y0 = t.height,
                        i.y1 = 0;
                        break;
                    case "left":
                        i.x0 = 0,
                        i.x1 = t.width
                    }
                    if (null === i.x0 && null === i.x1) i.x0 = i.x1 = t.width / 2;
                    if (null === i.y0 && null === i.y1) i.y0 = i.y1 = t.height / 2;
                    if (a = r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)) for (l = a.length, h = 1 / Math.max(l - 1, 1), n = 0; l > n; n += 1) {
                        if (c = a[n].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/), c[2]) if (s = parseFloat(c[2]), "%" === c[3]) s /= 100;
                        else s /= t.width;
                        else s = n * h;
                        i.colorStops.push({
                            color: c[1],
                            stop: s
                        })
                    }
                    break;
                case "-webkit-gradient":
                    if (i = {
                        type: "radial" === r[2] ? "circle": r[2],
                        x0: 0,
                        y0: 0,
                        x1: 0,
                        y1: 0,
                        colorStops: []
                    },
                    a = r[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/)) i.x0 = a[1] * t.width / 100,
                    i.y0 = a[2] * t.height / 100,
                    i.x1 = a[3] * t.width / 100,
                    i.y1 = a[4] * t.height / 100;
                    if (a = r[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g)) for (l = a.length, n = 0; l > n; n += 1) {
                        if (c = a[n].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/), s = parseFloat(c[2]), "from" === c[1]) s = 0;
                        if ("to" === c[1]) s = 1;
                        i.colorStops.push({
                            color: c[3],
                            stop: s
                        })
                    }
                    break;
                case "-moz-linear-gradient":
                    if (i = {
                        type: "linear",
                        x0: 0,
                        y0: 0,
                        x1: 0,
                        y1: 0,
                        colorStops: []
                    },
                    a = r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/)) i.x0 = a[1] * t.width / 100,
                    i.y0 = a[2] * t.height / 100,
                    i.x1 = t.width - i.x0,
                    i.y1 = t.height - i.y0;
                    if (a = r[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g)) for (l = a.length, h = 1 / Math.max(l - 1, 1), n = 0; l > n; n += 1) {
                        if (c = a[n].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/), c[2]) {
                            if (s = parseFloat(c[2]), c[3]) s /= 100
                        } else s = n * h;
                        i.colorStops.push({
                            color: c[1],
                            stop: s
                        })
                    }
                    break;
                case "-webkit-radial-gradient":
                case "-moz-radial-gradient":
                case "-o-radial-gradient":
                    if (i = {
                        type: "circle",
                        x0: 0,
                        y0: 0,
                        x1: t.width,
                        y1: t.height,
                        cx: 0,
                        cy: 0,
                        rx: 0,
                        ry: 0,
                        colorStops: []
                    },
                    a = r[2].match(/(\d{1,3})%?\s(\d{1,3})%?/)) i.cx = a[1] * t.width / 100,
                    i.cy = a[2] * t.height / 100;
                    if (a = r[3].match(/\w+/), c = r[4].match(/[a-z\-]*/), a && c) switch (c[0]) {
                    case "farthest-corner":
                    case "cover":
                    case "":
                        u = Math.sqrt(Math.pow(i.cx, 2) + Math.pow(i.cy, 2)),
                        d = Math.sqrt(Math.pow(i.cx, 2) + Math.pow(i.y1 - i.cy, 2)),
                        f = Math.sqrt(Math.pow(i.x1 - i.cx, 2) + Math.pow(i.y1 - i.cy, 2)),
                        p = Math.sqrt(Math.pow(i.x1 - i.cx, 2) + Math.pow(i.cy, 2)),
                        i.rx = i.ry = Math.max(u, d, f, p);
                        break;
                    case "closest-corner":
                        u = Math.sqrt(Math.pow(i.cx, 2) + Math.pow(i.cy, 2)),
                        d = Math.sqrt(Math.pow(i.cx, 2) + Math.pow(i.y1 - i.cy, 2)),
                        f = Math.sqrt(Math.pow(i.x1 - i.cx, 2) + Math.pow(i.y1 - i.cy, 2)),
                        p = Math.sqrt(Math.pow(i.x1 - i.cx, 2) + Math.pow(i.cy, 2)),
                        i.rx = i.ry = Math.min(u, d, f, p);
                        break;
                    case "farthest-side":
                        if ("circle" === a[0]) i.rx = i.ry = Math.max(i.cx, i.cy, i.x1 - i.cx, i.y1 - i.cy);
                        else i.type = a[0],
                        i.rx = Math.max(i.cx, i.x1 - i.cx),
                        i.ry = Math.max(i.cy, i.y1 - i.cy);
                        break;
                    case "closest-side":
                    case "contain":
                        if ("circle" === a[0]) i.rx = i.ry = Math.min(i.cx, i.cy, i.x1 - i.cx, i.y1 - i.cy);
                        else i.type = a[0],
                        i.rx = Math.min(i.cx, i.x1 - i.cx),
                        i.ry = Math.min(i.cy, i.y1 - i.cy)
                    }
                    if (a = r[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)) for (l = a.length, h = 1 / Math.max(l - 1, 1), n = 0; l > n; n += 1) {
                        if (c = a[n].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/), c[2]) if (s = parseFloat(c[2]), "%" === c[3]) s /= 100;
                        else s /= t.width;
                        else s = n * h;
                        i.colorStops.push({
                            color: c[1],
                            stop: s
                        })
                    }
                }
                return i
            },
            n.Gradient = function(i, n) {
                if (0 !== n.width && 0 !== n.height) {
                    var o, r, s = t.createElement("canvas"),
                    a = s.getContext("2d");
                    if (s.width = n.width, s.height = n.height, o = u.Generate.parseGradient(i, n)) switch (o.type) {
                    case "linear":
                        r = a.createLinearGradient(o.x0, o.y0, o.x1, o.y1),
                        o.colorStops.forEach(e(r)),
                        a.fillStyle = r,
                        a.fillRect(0, 0, n.width, n.height);
                        break;
                    case "circle":
                        r = a.createRadialGradient(o.cx, o.cy, 0, o.cx, o.cy, o.rx),
                        o.colorStops.forEach(e(r)),
                        a.fillStyle = r,
                        a.fillRect(0, 0, n.width, n.height);
                        break;
                    case "ellipse":
                        var l = t.createElement("canvas"),
                        h = l.getContext("2d"),
                        c = Math.max(o.rx, o.ry),
                        d = 2 * c;
                        l.width = l.height = d,
                        r = h.createRadialGradient(o.rx, o.ry, 0, o.rx, o.ry, c),
                        o.colorStops.forEach(e(r)),
                        h.fillStyle = r,
                        h.fillRect(0, 0, d, d),
                        a.fillStyle = o.colorStops[o.colorStops.length - 1].color,
                        a.fillRect(0, 0, s.width, s.height),
                        a.drawImage(l, o.cx - o.rx, o.cy - o.ry, 2 * o.rx, 2 * o.ry)
                    }
                    return s
                }
            },
            n.ListAlpha = function(e) {
                var t, i = "";
                do t = e % 26,
                i = String.fromCharCode(t + 64) + i,
                e /= 26;
                while (26 * e > 26);
                return i
            },
            n.ListRoman = function(e) {
                var t, i = ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"],
                n = [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
                o = "",
                r = i.length;
                if (0 >= e || e >= 4e3) return e;
                for (t = 0; r > t; t += 1) for (; e >= n[t];) e -= n[t],
                o += i[t];
                return o
            }
        } (),
        u.Parse = function(n, o) {
            function r() {
                return Math.max(Math.max(ct.body.scrollWidth, ct.documentElement.scrollWidth), Math.max(ct.body.offsetWidth, ct.documentElement.offsetWidth), Math.max(ct.body.clientWidth, ct.documentElement.clientWidth))
            }
            function s() {
                return Math.max(Math.max(ct.body.scrollHeight, ct.documentElement.scrollHeight), Math.max(ct.body.offsetHeight, ct.documentElement.offsetHeight), Math.max(ct.body.clientHeight, ct.documentElement.clientHeight))
            }
            function h(e, t) {
                var i = parseInt(mt(e, t), 10);
                return isNaN(i) ? 0 : i
            }
            function c(e, t, i, n, o, r) {
                if ("transparent" !== r) e.setVariable("fillStyle", r),
                e.fillRect(t, i, n, o),
                ht += 1
            }
            function d(e, t, i) {
                if (e.length > 0) return t + i.toUpperCase();
                else return void 0
            }
            function f(e, t) {
                switch (t) {
                case "lowercase":
                    return e.toLowerCase();
                case "capitalize":
                    return e.replace(/(^|\s|:|-|\(|\))([a-z])/g, d);
                case "uppercase":
                    return e.toUpperCase();
                default:
                    return e
                }
            }
            function p(e) {
                return /^(normal|none|0px)$/.test(e)
            }
            function m(e, t, i, n) {
                if (null !== e && ut.trimText(e).length > 0) n.fillText(e, t, i),
                ht += 1
            }
            function g(e, t, i, n) {
                var o = !1,
                r = mt(t, "fontWeight"),
                s = mt(t, "fontFamily"),
                a = mt(t, "fontSize"),
                l = ut.parseTextShadows(mt(t, "textShadow"));
                switch (parseInt(r, 10)) {
                case 401:
                    r = "bold";
                    break;
                case 400:
                    r = "normal"
                }
                if (e.setVariable("fillStyle", n), e.setVariable("font", [mt(t, "fontStyle"), mt(t, "fontVariant"), r, a, s].join(" ")), e.setVariable("textAlign", o ? "right": "left"), l.length) e.setVariable("shadowColor", l[0].color),
                e.setVariable("shadowOffsetX", l[0].offsetX),
                e.setVariable("shadowOffsetY", l[0].offsetY),
                e.setVariable("shadowBlur", l[0].blur);
                if ("none" !== i) return ut.Font(s, a, ct);
                else return void 0
            }
            function y(e, t, i, n, o) {
                switch (t) {
                case "underline":
                    c(e, i.left, Math.round(i.top + n.baseline + n.lineWidth), i.width, 1, o);
                    break;
                case "overline":
                    c(e, i.left, Math.round(i.top), i.width, 1, o);
                    break;
                case "line-through":
                    c(e, i.left, Math.ceil(i.top + n.middle + n.lineWidth), i.width, 1, o)
                }
            }
            function v(e, t, i, n, o) {
                var r;
                if (dt.rangeBounds && !o) {
                    if ("none" !== i || 0 !== ut.trimText(t).length) r = b(t, e.node, e.textOffset);
                    e.textOffset += t.length
                } else if (e.node && "string" == typeof e.node.nodeValue) {
                    var s = n ? e.node.splitText(t.length) : null;
                    r = x(e.node, o),
                    e.node = s
                }
                return r
            }
            function b(e, t, i) {
                var n = ct.createRange();
                return n.setStart(t, i),
                n.setEnd(t, i + e.length),
                n.getBoundingClientRect()
            }
            function x(e, t) {
                var i = e.parentNode,
                n = ct.createElement("wrapper"),
                o = e.cloneNode(!0);
                n.appendChild(e.cloneNode(!0)),
                i.replaceChild(n, e);
                var r = t ? ut.OffsetBounds(n) : ut.Bounds(n);
                return i.replaceChild(o, n),
                r
            }
            function _(e, t, i) {
                var n, r, s = i.ctx,
                a = mt(e, "color"),
                l = mt(e, "textDecoration"),
                h = mt(e, "textAlign"),
                c = {
                    node: t,
                    textOffset: 0
                };
                if (ut.trimText(t.nodeValue).length > 0) {
                    if (t.nodeValue = f(t.nodeValue, mt(e, "textTransform")), h = h.replace(["-webkit-auto"], ["auto"]), r = !o.letterRendering && /^(left|right|justify|auto)$/.test(h) && p(mt(e, "letterSpacing")) ? t.nodeValue.split(/(\b| )/) : t.nodeValue.split(""), n = g(s, e, l, a), o.chinese) r.forEach(function(e, t) {
                        if (/.*[\u4E00-\u9FA5].*$/.test(e)) e = e.split(""),
                        e.unshift(t, 1),
                        r.splice.apply(r, e)
                    });
                    r.forEach(function(e, t) {
                        var o = v(c, e, l, t < r.length - 1, i.transform.matrix);
                        if (o) m(e, o.left, o.bottom, s),
                        y(s, l, o, n, a)
                    })
                }
            }
            function w(e, t) {
                var i, n, o = ct.createElement("boundelement");
                return o.style.display = "inline",
                i = e.style.listStyleType,
                e.style.listStyleType = "none",
                o.appendChild(ct.createTextNode(t)),
                e.insertBefore(o, e.firstChild),
                n = ut.Bounds(o),
                e.removeChild(o),
                e.style.listStyleType = i,
                n
            }
            function V(e) {
                var t = -1,
                i = 1,
                n = e.parentNode.childNodes;
                if (e.parentNode) {
                    for (; n[++t] !== e;) if (1 === n[t].nodeType) i++;
                    return i
                } else return - 1
            }
            function U(e, t) {
                var i, n = V(e);
                switch (t) {
                case "decimal":
                    i = n;
                    break;
                case "decimal-leading-zero":
                    i = 1 === n.toString().length ? n = "0" + n.toString() : n.toString();
                    break;
                case "upper-roman":
                    i = u.Generate.ListRoman(n);
                    break;
                case "lower-roman":
                    i = u.Generate.ListRoman(n).toLowerCase();
                    break;
                case "lower-alpha":
                    i = u.Generate.ListAlpha(n).toLowerCase();
                    break;
                case "upper-alpha":
                    i = u.Generate.ListAlpha(n)
                }
                return i + ". "
            }
            function k(e, t, i) {
                var n, o, r, s = t.ctx,
                a = mt(e, "listStyleType");
                if (/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(a)) {
                    if (o = U(e, a), r = w(e, o), g(s, e, "none", mt(e, "color")), "inside" === mt(e, "listStylePosition")) s.setVariable("textAlign", "left"),
                    n = i.left;
                    else return;
                    m(o, n, r.bottom, s)
                }
            }
            function C(e) {
                var t = n[e];
                return t && t.succeeded === !0 ? t.img: !1
            }
            function S(e, t) {
                var i = Math.max(e.left, t.left),
                n = Math.max(e.top, t.top),
                o = Math.min(e.left + e.width, t.left + t.width),
                r = Math.min(e.top + e.height, t.top + t.height);
                return {
                    left: i,
                    top: n,
                    width: o - i,
                    height: r - n
                }
            }
            function L(e, t, i) {
                var n, o = "static" !== t.cssPosition,
                r = o ? mt(e, "zIndex") : "auto",
                s = mt(e, "opacity"),
                a = "none" !== mt(e, "cssFloat");
                if (t.zIndex = n = l(r), n.isPositioned = o, n.isFloated = a, n.opacity = s, n.ownStacking = "auto" !== r || 1 > s, i) i.zIndex.children.push(t)
            }
            function T(e, t, i, n, o) {
                var r = h(t, "paddingLeft"),
                s = h(t, "paddingTop"),
                a = h(t, "paddingRight"),
                l = h(t, "paddingBottom");
                K(e, i, 0, 0, i.width, i.height, n.left + r + o[3].width, n.top + s + o[0].width, n.width - (o[1].width + o[3].width + r + a), n.height - (o[0].width + o[2].width + s + l))
            }
            function I(e) {
                return ["Top", "Right", "Bottom", "Left"].map(function(t) {
                    return {
                        width: h(e, "border" + t + "Width"),
                        color: mt(e, "border" + t + "Color")
                    }
                })
            }
            function E(e) {
                return ["TopLeft", "TopRight", "BottomRight", "BottomLeft"].map(function(t) {
                    return mt(e, "border" + t + "Radius")
                })
            }
            function W(e, t, i, n) {
                var o = function(e, t, i) {
                    return {
                        x: e.x + (t.x - e.x) * i,
                        y: e.y + (t.y - e.y) * i
                    }
                };
                return {
                    start: e,
                    startControl: t,
                    endControl: i,
                    end: n,
                    subdivide: function(r) {
                        var s = o(e, t, r),
                        a = o(t, i, r),
                        l = o(i, n, r),
                        h = o(s, a, r),
                        c = o(a, l, r),
                        u = o(h, c, r);
                        return [W(e, s, h, u), W(u, c, l, n)]
                    },
                    curveTo: function(e) {
                        e.push(["bezierCurve", t.x, t.y, i.x, i.y, n.x, n.y])
                    },
                    curveToReversed: function(n) {
                        n.push(["bezierCurve", i.x, i.y, t.x, t.y, e.x, e.y])
                    }
                }
            }
            function A(e, t, i, n, o, r, s) {
                if (t[0] > 0 || t[1] > 0) e.push(["line", n[0].start.x, n[0].start.y]),
                n[0].curveTo(e),
                n[1].curveTo(e);
                else e.push(["line", r, s]);
                if (i[0] > 0 || i[1] > 0) e.push(["line", o[0].start.x, o[0].start.y])
            }
            function M(e, t, i, n, o, r, s) {
                var a = [];
                if (t[0] > 0 || t[1] > 0) a.push(["line", n[1].start.x, n[1].start.y]),
                n[1].curveTo(a);
                else a.push(["line", e.c1[0], e.c1[1]]);
                if (i[0] > 0 || i[1] > 0) a.push(["line", r[0].start.x, r[0].start.y]),
                r[0].curveTo(a),
                a.push(["line", s[0].end.x, s[0].end.y]),
                s[0].curveToReversed(a);
                else a.push(["line", e.c2[0], e.c2[1]]),
                a.push(["line", e.c3[0], e.c3[1]]);
                if (t[0] > 0 || t[1] > 0) a.push(["line", o[1].end.x, o[1].end.y]),
                o[1].curveToReversed(a);
                else a.push(["line", e.c4[0], e.c4[1]]);
                return a
            }
            function D(e, t, i) {
                var n = e.left,
                o = e.top,
                r = e.width,
                s = e.height,
                a = t[0][0],
                l = t[0][1],
                h = t[1][0],
                c = t[1][1],
                u = t[2][0],
                d = t[2][1],
                f = t[3][0],
                p = t[3][1],
                m = r - h,
                g = s - d,
                y = r - u,
                v = s - p;
                return {
                    topLeftOuter: vt(n, o, a, l).topLeft.subdivide(.5),
                    topLeftInner: vt(n + i[3].width, o + i[0].width, Math.max(0, a - i[3].width), Math.max(0, l - i[0].width)).topLeft.subdivide(.5),
                    topRightOuter: vt(n + m, o, h, c).topRight.subdivide(.5),
                    topRightInner: vt(n + Math.min(m, r + i[3].width), o + i[0].width, m > r + i[3].width ? 0 : h - i[3].width, c - i[0].width).topRight.subdivide(.5),
                    bottomRightOuter: vt(n + y, o + g, u, d).bottomRight.subdivide(.5),
                    bottomRightInner: vt(n + Math.min(y, r + i[3].width), o + Math.min(g, s + i[0].width), Math.max(0, u - i[1].width), Math.max(0, d - i[2].width)).bottomRight.subdivide(.5),
                    bottomLeftOuter: vt(n, o + v, f, p).bottomLeft.subdivide(.5),
                    bottomLeftInner: vt(n + i[3].width, o + v, Math.max(0, f - i[3].width), Math.max(0, p - i[2].width)).bottomLeft.subdivide(.5)
                }
            }
            function P(e, t, i, n, o) {
                var r = mt(e, "backgroundClip"),
                s = [];
                switch (r) {
                case "content-box":
                case "padding-box":
                    A(s, n[0], n[1], t.topLeftInner, t.topRightInner, o.left + i[3].width, o.top + i[0].width),
                    A(s, n[1], n[2], t.topRightInner, t.bottomRightInner, o.left + o.width - i[1].width, o.top + i[0].width),
                    A(s, n[2], n[3], t.bottomRightInner, t.bottomLeftInner, o.left + o.width - i[1].width, o.top + o.height - i[2].width),
                    A(s, n[3], n[0], t.bottomLeftInner, t.topLeftInner, o.left + i[3].width, o.top + o.height - i[2].width);
                    break;
                default:
                    A(s, n[0], n[1], t.topLeftOuter, t.topRightOuter, o.left, o.top),
                    A(s, n[1], n[2], t.topRightOuter, t.bottomRightOuter, o.left + o.width, o.top),
                    A(s, n[2], n[3], t.bottomRightOuter, t.bottomLeftOuter, o.left + o.width, o.top + o.height),
                    A(s, n[3], n[0], t.bottomLeftOuter, t.topLeftOuter, o.left, o.top + o.height)
                }
                return s
            }
            function O(e, t, i) {
                var n, o, r, s, a, l, h = t.left,
                c = t.top,
                u = t.width,
                d = t.height,
                f = E(e),
                p = D(t, f, i),
                m = {
                    clip: P(e, p, i, f, t),
                    borders: []
                };
                for (n = 0; 4 > n; n++) if (i[n].width > 0) {
                    switch (o = h, r = c, s = u, a = d - i[2].width, n) {
                    case 0:
                        a = i[0].width,
                        l = M({
                            c1: [o, r],
                            c2: [o + s, r],
                            c3: [o + s - i[1].width, r + a],
                            c4: [o + i[3].width, r + a]
                        },
                        f[0], f[1], p.topLeftOuter, p.topLeftInner, p.topRightOuter, p.topRightInner);
                        break;
                    case 1:
                        o = h + u - i[1].width,
                        s = i[1].width,
                        l = M({
                            c1: [o + s, r],
                            c2: [o + s, r + a + i[2].width],
                            c3: [o, r + a],
                            c4: [o, r + i[0].width]
                        },
                        f[1], f[2], p.topRightOuter, p.topRightInner, p.bottomRightOuter, p.bottomRightInner);
                        break;
                    case 2:
                        r = r + d - i[2].width,
                        a = i[2].width,
                        l = M({
                            c1: [o + s, r + a],
                            c2: [o, r + a],
                            c3: [o + i[3].width, r],
                            c4: [o + s - i[3].width, r]
                        },
                        f[2], f[3], p.bottomRightOuter, p.bottomRightInner, p.bottomLeftOuter, p.bottomLeftInner);
                        break;
                    case 3:
                        s = i[3].width,
                        l = M({
                            c1: [o, r + a + i[2].width],
                            c2: [o, r],
                            c3: [o + s, r + i[0].width],
                            c4: [o + s, r + a]
                        },
                        f[3], f[0], p.bottomLeftOuter, p.bottomLeftInner, p.topLeftOuter, p.topLeftInner)
                    }
                    m.borders.push({
                        args: l,
                        color: i[n].color
                    })
                }
                return m
            }
            function X(e, t) {
                var i = e.drawShape();
                return t.forEach(function(e, t) {
                    i[0 === t ? "moveTo": e[0] + "To"].apply(null, e.slice(1))
                }),
                i
            }
            function N(e, t, i) {
                if ("transparent" !== i) e.setVariable("fillStyle", i),
                X(e, t),
                e.fill(),
                ht += 1
            }
            function R(e, t, i) {
                var n, o, r = ct.createElement("valuewrap"),
                s = ["lineHeight", "textAlign", "fontFamily", "color", "fontSize", "paddingLeft", "paddingTop", "width", "height", "border", "borderLeftWidth", "borderTopWidth"];
                if (s.forEach(function(t) {
                    try {
                        r.style[t] = mt(e, t)
                    } catch(i) {
                        ut.log("html2canvas: Parse: Exception caught in renderFormValue: " + i.message)
                    }
                }), r.style.borderColor = "black", r.style.borderStyle = "solid", r.style.display = "block", r.style.position = "absolute", /^(submit|reset|button|text|password)$/.test(e.type) || "SELECT" === e.nodeName) r.style.lineHeight = mt(e, "height");
                if (r.style.top = t.top + "px", r.style.left = t.left + "px", n = "SELECT" === e.nodeName ? (e.options[e.selectedIndex] || 0).text: e.value, !n) n = e.placeholder;
                o = ct.createTextNode(n),
                r.appendChild(o),
                pt.appendChild(r),
                _(e, o, i),
                pt.removeChild(r)
            }
            function K(e) {
                e.drawImage.apply(e, Array.prototype.slice.call(arguments, 1)),
                ht += 1
            }
            function F(i, n) {
                var o = e.getComputedStyle(i, n);
                if (o && o.content && "none" !== o.content && "-moz-alt-content" !== o.content && "none" !== o.display) {
                    var r = o.content + "",
                    s = r.substr(0, 1);
                    if (s === r.substr(r.length - 1) && s.match(/'|"/)) r = r.substr(1, r.length - 2);
                    var a = "url" === r.substr(0, 3),
                    l = t.createElement(a ? "img": "span");
                    if (l.className = gt + "-before " + gt + "-after", Object.keys(o).filter(z).forEach(function(e) {
                        try {
                            l.style[e] = o[e]
                        } catch(t) {
                            ut.log(["Tried to assign readonly property ", e, "Error:", t])
                        }
                    }), a) l.src = ut.parseBackgroundImage(r)[0].args[0];
                    else l.innerHTML = r;
                    return l
                }
            }
            function z(t) {
                return isNaN(e.parseInt(t, 10))
            }
            function H(e, t) {
                var i = F(e, ":before"),
                n = F(e, ":after");
                if (i || n) {
                    if (i) e.className += " " + gt + "-before",
                    e.parentNode.insertBefore(i, e),
                    rt(i, t, !0),
                    e.parentNode.removeChild(i),
                    e.className = e.className.replace(gt + "-before", "").trim();
                    if (n) e.className += " " + gt + "-after",
                    e.appendChild(n),
                    rt(n, t, !0),
                    e.removeChild(n),
                    e.className = e.className.replace(gt + "-after", "").trim()
                }
            }
            function B(e, t, i, n) {
                var o = Math.round(n.left + i.left),
                r = Math.round(n.top + i.top);
                e.createPattern(t),
                e.translate(o, r),
                e.fill(),
                e.translate( - o, -r)
            }
            function J(e, t, i, n, o, r, s, a) {
                var l = [];
                l.push(["line", Math.round(o), Math.round(r)]),
                l.push(["line", Math.round(o + s), Math.round(r)]),
                l.push(["line", Math.round(o + s), Math.round(a + r)]),
                l.push(["line", Math.round(o), Math.round(a + r)]),
                X(e, l),
                e.save(),
                e.clip(),
                B(e, t, i, n),
                e.restore()
            }
            function j(e, t, i) {
                c(e, t.left, t.top, t.width, t.height, i)
            }
            function G(e, t, i, n, o) {
                var r = ut.BackgroundSize(e, t, n, o),
                s = ut.BackgroundPosition(e, t, n, o, r),
                a = mt(e, "backgroundRepeat").split(",").map(ut.trimText);
                switch (n = Y(n, r), a = a[o] || a[0]) {
                case "repeat-x":
                    J(i, n, s, t, t.left, t.top + s.top, 99999, n.height);
                    break;
                case "repeat-y":
                    J(i, n, s, t, t.left + s.left, t.top, n.width, 99999);
                    break;
                case "no-repeat":
                    J(i, n, s, t, t.left + s.left, t.top + s.top, n.width, n.height);
                    break;
                default:
                    B(i, n, s, {
                        top: t.top,
                        left: t.left,
                        width: n.width,
                        height: n.height
                    })
                }
            }
            function q(e, t, i) {
                for (var n, o = mt(e, "backgroundImage"), r = ut.parseBackgroundImage(o), s = r.length; s--;) if (o = r[s], o.args && 0 !== o.args.length) {
                    var a = "url" === o.method ? o.args[0] : o.value;
                    if (n = C(a)) G(e, t, i, n, s);
                    else ut.log("html2canvas: Error loading background:", o)
                } else;
            }
            function Y(e, t) {
                if (e.width === t.width && e.height === t.height) return e;
                var i, n = ct.createElement("canvas");
                return n.width = t.width,
                n.height = t.height,
                i = n.getContext("2d"),
                K(i, e, 0, 0, e.width, e.height, 0, 0, t.width, t.height),
                n
            }
            function $(e, t, i) {
                return e.setVariable("globalAlpha", mt(t, "opacity") * (i ? i.opacity: 1))
            }
            function Q(e) {
                return e.replace("px", "")
            }
            function Z(e) {
                var t = mt(e, "transform") || mt(e, "-webkit-transform") || mt(e, "-moz-transform") || mt(e, "-ms-transform") || mt(e, "-o-transform"),
                i = mt(e, "transform-origin") || mt(e, "-webkit-transform-origin") || mt(e, "-moz-transform-origin") || mt(e, "-ms-transform-origin") || mt(e, "-o-transform-origin") || "0px 0px";
                i = i.split(" ").map(Q).map(ut.asFloat);
                var n;
                if (t && "none" !== t) {
                    var o = t.match(bt);
                    if (o) switch (o[1]) {
                    case "matrix":
                        n = o[2].split(",").map(ut.trimText).map(ut.asFloat)
                    }
                }
                return {
                    origin: i,
                    matrix: n
                }
            }
            function et(e, t, i, n) {
                var l = a(!t ? r() : i.width, !t ? s() : i.height),
                h = {
                    ctx: l,
                    opacity: $(l, e, t),
                    cssPosition: mt(e, "position"),
                    borders: I(e),
                    transform: n,
                    clip: t && t.clip ? ut.Extend({},
                    t.clip) : null
                };
                if (L(e, h, t), o.useOverflow === !0 && /(hidden|scroll|auto)/.test(mt(e, "overflow")) === !0 && /(BODY)/i.test(e.nodeName) === !1) h.clip = h.clip ? S(h.clip, i) : i;
                return h
            }
            function tt(e, t, i) {
                var n = {
                    left: t.left + e[3].width,
                    top: t.top + e[0].width,
                    width: t.width - (e[1].width + e[3].width),
                    height: t.height - (e[0].width + e[2].width)
                };
                if (i) n = S(n, i);
                return n
            }
            function it(e, t) {
                var i = t.matrix ? ut.OffsetBounds(e) : ut.Bounds(e);
                return t.origin[0] += i.left,
                t.origin[1] += i.top,
                i
            }
            function nt(e, t, i, n) {
                var o, r = Z(e, t),
                s = it(e, r),
                a = et(e, t, s, r),
                l = a.borders,
                h = a.ctx,
                c = tt(l, s, a.clip),
                u = O(e, s, l),
                d = ft.test(e.nodeName) ? "#efefef": mt(e, "backgroundColor");
                if (X(h, u.clip), h.save(), h.clip(), c.height > 0 && c.width > 0 && !n) j(h, s, d),
                q(e, c, h);
                else if (n) a.backgroundColor = d;
                if (h.restore(), u.borders.forEach(function(e) {
                    N(h, e.args, e.color)
                }), !i) H(e, a);
                switch (e.nodeName) {
                case "IMG":
                    if (o = C(e.getAttribute("src"))) T(h, e, o, s, l);
                    else ut.log("html2canvas: Error loading <img>:" + e.getAttribute("src"));
                    break;
                case "INPUT":
                    if (/^(text|url|email|submit|button|reset)$/.test(e.type) && (e.value || e.placeholder || "").length > 0) R(e, s, a);
                    break;
                case "TEXTAREA":
                    if ((e.value || e.placeholder || "").length > 0) R(e, s, a);
                    break;
                case "SELECT":
                    if ((e.options || e.placeholder || "").length > 0) R(e, s, a);
                    break;
                case "LI":
                    k(e, a, c);
                    break;
                case "CANVAS":
                    T(h, e, e, s, l)
                }
                return a
            }
            function ot(e) {
                return "none" !== mt(e, "display") && "hidden" !== mt(e, "visibility") && !e.hasAttribute("data-html2canvas-ignore")
            }
            function rt(e, t, i) {
                if (ot(e)) if (t = nt(e, t, i, !1) || t, !ft.test(e.nodeName)) st(e, t, i)
            }
            function st(e, t, i) {
                ut.Children(e).forEach(function(n) {
                    if (n.nodeType === n.ELEMENT_NODE) rt(n, t, i);
                    else if (n.nodeType === n.TEXT_NODE) _(e, n, t)
                })
            }
            function at() {
                var e = mt(t.documentElement, "backgroundColor"),
                i = ut.isTransparent(e) && lt === t.body,
                n = nt(lt, null, !1, i);
                if (st(lt, n), i) e = n.backgroundColor;
                return pt.removeChild(yt),
                {
                    backgroundColor: e,
                    stack: n
                }
            }
            e.scroll(0, 0);
            var lt = o.elements === i ? t.body: o.elements[0],
            ht = 0,
            ct = lt.ownerDocument,
            ut = u.Util,
            dt = ut.Support(o, ct),
            ft = new RegExp("(" + o.ignoreElements + ")"),
            pt = ct.body,
            mt = ut.getCSS,
            gt = "___html2canvas___pseudoelement",
            yt = ct.createElement("style");
            yt.innerHTML = "." + gt + '-before:before { content: "" !important; display: none !important; }.' + gt + '-after:after { content: "" !important; display: none !important; }',
            pt.appendChild(yt),
            n = n || {};
            var vt = function(e) {
                return function(t, i, n, o) {
                    var r = n * e,
                    s = o * e,
                    a = t + n,
                    l = i + o;
                    return {
                        topLeft: W({
                            x: t,
                            y: l
                        },
                        {
                            x: t,
                            y: l - s
                        },
                        {
                            x: a - r,
                            y: i
                        },
                        {
                            x: a,
                            y: i
                        }),
                        topRight: W({
                            x: t,
                            y: i
                        },
                        {
                            x: t + r,
                            y: i
                        },
                        {
                            x: a,
                            y: l - s
                        },
                        {
                            x: a,
                            y: l
                        }),
                        bottomRight: W({
                            x: a,
                            y: i
                        },
                        {
                            x: a,
                            y: i + s
                        },
                        {
                            x: t + r,
                            y: l
                        },
                        {
                            x: t,
                            y: l
                        }),
                        bottomLeft: W({
                            x: a,
                            y: l
                        },
                        {
                            x: a - r,
                            y: l
                        },
                        {
                            x: t,
                            y: i + s
                        },
                        {
                            x: t,
                            y: i
                        })
                    }
                }
            } (4 * ((Math.sqrt(2) - 1) / 3)),
            bt = /(matrix)\((.+)\)/;
            return at()
        },
        u.Preload = function(n) {
            function o(e) {
                C.href = e,
                C.href = C.href;
                var t = C.protocol + C.host;
                return t === m
            }
            function r() {
                if (x.log("html2canvas: start: images: " + b.numLoaded + " / " + b.numTotal + " (failed: " + b.numFailed + ")"), !b.firstRun && b.numLoaded >= b.numTotal) if (x.log("Finished loading images: # " + b.numTotal + " (failed: " + b.numFailed + ")"), "function" == typeof n.complete) n.complete(b)
            }
            function s(t, o, s) {
                var a, l, h = n.proxy;
                if (C.href = t, t = C.href, a = "html2canvas_" + _++, s.callbackname = a, h.indexOf("?") > -1) h += "&";
                else h += "?";
                h += "url=" + encodeURIComponent(t) + "&callback=" + a,
                l = V.createElement("script"),
                e[a] = function(t) {
                    if ("error:" === t.substring(0, 6)) s.succeeded = !1,
                    b.numLoaded++,
                    b.numFailed++,
                    r();
                    else p(o, s),
                    o.src = t;
                    e[a] = i;
                    try {
                        delete e[a]
                    } catch(n) {}
                    l.parentNode.removeChild(l),
                    l = null,
                    delete s.script,
                    delete s.callbackname
                },
                l.setAttribute("type", "text/javascript"),
                l.setAttribute("src", h),
                s.script = l,
                e.document.body.appendChild(l)
            }
            function a(t, i) {
                var n = e.getComputedStyle(t, i),
                o = n.content;
                if ("url" === o.substr(0, 3)) g.loadImage(u.Util.parseBackgroundImage(o)[0].args[0]);
                d(n.backgroundImage, t)
            }
            function l(e) {
                a(e, ":before"),
                a(e, ":after")
            }
            function h(e, t) {
                var n = u.Generate.Gradient(e, t);
                if (n !== i) b[e] = {
                    img: n,
                    succeeded: !0
                },
                b.numTotal++,
                b.numLoaded++,
                r()
            }
            function c(e) {
                return e && e.method && e.args && e.args.length > 0
            }
            function d(e, t) {
                var n;
                u.Util.parseBackgroundImage(e).filter(c).forEach(function(e) {
                    if ("url" === e.method) g.loadImage(e.args[0]);
                    else if (e.method.match(/\-?gradient$/)) {
                        if (n === i) n = u.Util.Bounds(t);
                        h(e.value, n)
                    }
                })
            }
            function f(e) {
                var t = !1;
                try {
                    x.Children(e).forEach(f)
                } catch(n) {}
                try {
                    t = e.nodeType
                } catch(o) {
                    t = !1,
                    x.log("html2canvas: failed to access some element's nodeType - Exception: " + o.message)
                }
                if (1 === t || t === i) {
                    l(e);
                    try {
                        d(x.getCSS(e, "backgroundImage"), e)
                    } catch(n) {
                        x.log("html2canvas: failed to get background-image - Exception: " + n.message)
                    }
                    d(e)
                }
            }
            function p(t, o) {
                t.onload = function() {
                    if (o.timer !== i) e.clearTimeout(o.timer);
                    b.numLoaded++,
                    o.succeeded = !0,
                    t.onerror = t.onload = null,
                    r()
                },
                t.onerror = function() {
                    if ("anonymous" === t.crossOrigin) if (e.clearTimeout(o.timer), n.proxy) {
                        var i = t.src;
                        return t = new Image,
                        o.img = t,
                        t.src = i,
                        void s(t.src, t, o)
                    }
                    b.numLoaded++,
                    b.numFailed++,
                    o.succeeded = !1,
                    t.onerror = t.onload = null,
                    r()
                }
            }
            var m, g, y, v, b = {
                numLoaded: 0,
                numFailed: 0,
                numTotal: 0,
                cleanupDone: !1
            },
            x = u.Util,
            _ = 0,
            w = n.elements[0] || t.body,
            V = w.ownerDocument,
            U = w.getElementsByTagName("img"),
            k = U.length,
            C = V.createElement("a"),
            S = function(e) {
                return e.crossOrigin !== i
            } (new Image);
            if (C.href = e.location.href, m = C.protocol + C.host, g = {
                loadImage: function(e) {
                    var t, r;
                    if (e && b[e] === i) if (t = new Image, e.match(/data:image\/.*;base64,/i)) t.src = e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi, ""),
                    r = b[e] = {
                        img: t
                    },
                    b.numTotal++,
                    p(t, r);
                    else if (o(e) || n.allowTaint === !0) r = b[e] = {
                        img: t
                    },
                    b.numTotal++,
                    p(t, r),
                    t.src = e;
                    else if (S && !n.allowTaint && n.useCORS) t.crossOrigin = "anonymous",
                    r = b[e] = {
                        img: t
                    },
                    b.numTotal++,
                    p(t, r),
                    t.src = e;
                    else if (n.proxy) r = b[e] = {
                        img: t
                    },
                    b.numTotal++,
                    s(e, t, r)
                },
                cleanupDOM: function(o) {
                    var s, a;
                    if (!b.cleanupDone) {
                        if (o && "string" == typeof o) x.log("html2canvas: Cleanup because: " + o);
                        else x.log("html2canvas: Cleanup after timeout: " + n.timeout + " ms.");
                        for (a in b) if (b.hasOwnProperty(a)) if (s = b[a], "object" == typeof s && s.callbackname && s.succeeded === i) {
                            e[s.callbackname] = i;
                            try {
                                delete e[s.callbackname]
                            } catch(l) {}
                            if (s.script && s.script.parentNode) s.script.setAttribute("src", "about:blank"),
                            s.script.parentNode.removeChild(s.script);
                            b.numLoaded++,
                            b.numFailed++,
                            x.log("html2canvas: Cleaned up failed img: '" + a + "' Steps: " + b.numLoaded + " / " + b.numTotal)
                        }
                        if (e.stop !== i) e.stop();
                        else if (t.execCommand !== i) t.execCommand("Stop", !1);
                        if (t.close !== i) t.close();
                        if (b.cleanupDone = !0, !o || "string" != typeof o) r()
                    }
                },
                renderingDone: function() {
                    if (v) e.clearTimeout(v)
                }
            },
            n.timeout > 0) v = e.setTimeout(g.cleanupDOM, n.timeout);
            for (x.log("html2canvas: Preload starts: finding background-images"), b.firstRun = !0, f(w), x.log("html2canvas: Preload: Finding images"), y = 0; k > y; y += 1) g.loadImage(U[y].getAttribute("src"));
            if (b.firstRun = !1, x.log("html2canvas: Preload: Done."), b.numTotal === b.numLoaded) r();
            return g
        },
        u.Renderer = function(e, n) {
            function o(e) {
                function t(e) {
                    Object.keys(e).sort().forEach(function(i) {
                        var n = [],
                        r = [],
                        s = [],
                        a = [];
                        e[i].forEach(function(e) {
                            if (e.node.zIndex.isPositioned || e.node.zIndex.opacity < 1) s.push(e);
                            else if (e.node.zIndex.isFloated) r.push(e);
                            else n.push(e)
                        }),
                        function l(e) {
                            e.forEach(function(e) {
                                if (a.push(e), e.children) l(e.children)
                            })
                        } (n.concat(r, s)),
                        a.forEach(function(e) {
                            if (e.context) t(e.context);
                            else o.push(e.node)
                        })
                    })
                }
                var n, o = [];
                return n = function(e) {
                    function t(e, n, o) {
                        var r = "auto" === n.zIndex.zindex ? 0 : Number(n.zIndex.zindex),
                        s = e,
                        a = n.zIndex.isPositioned,
                        l = n.zIndex.isFloated,
                        h = {
                            node: n
                        },
                        c = o;
                        if (n.zIndex.ownStacking) s = h.context = {
                            "!": [{
                                node: n,
                                children: []
                            }]
                        },
                        c = i;
                        else if (a || l) c = h.children = [];
                        if (0 === r && o) o.push(h);
                        else {
                            if (!e[r]) e[r] = [];
                            e[r].push(h)
                        }
                        n.zIndex.children.forEach(function(e) {
                            t(s, e, c)
                        })
                    }
                    var n = {};
                    return t(n, e),
                    n
                } (e),
                t(n),
                o
            }
            function r(e) {
                var t;
                if ("string" == typeof n.renderer && u.Renderer[e] !== i) t = u.Renderer[e](n);
                else if ("function" == typeof e) t = e(n);
                else throw new Error("Unknown renderer");
                if ("function" != typeof t) throw new Error("Invalid renderer defined");
                return t
            }
            return r(n.renderer)(e, n, t, o(e.stack), u)
        },
        u.Util.Support = function(e, t) {
            function n() {
                var e = new Image,
                n = t.createElement("canvas"),
                o = n.getContext === i ? !1 : n.getContext("2d");
                if (o === !1) return ! 1;
                n.width = n.height = 10,
                e.src = ["data:image/svg+xml,", "<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>", "<foreignObject width='10' height='10'>", "<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>", "sup", "</div>", "</foreignObject>", "</svg>"].join("");
                try {
                    o.drawImage(e, 0, 0),
                    n.toDataURL()
                } catch(r) {
                    return ! 1
                }
                return u.Util.log("html2canvas: Parse: SVG powered rendering available"),
                !0
            }
            function o() {
                var e, i, n, o, r = !1;
                if (t.createRange) if (e = t.createRange(), e.getBoundingClientRect) {
                    if (i = t.createElement("boundtest"), i.style.height = "123px", i.style.display = "block", t.body.appendChild(i), e.selectNode(i), n = e.getBoundingClientRect(), o = n.height, 123 === o) r = !0;
                    t.body.removeChild(i)
                }
                return r
            }
            return {
                rangeBounds: o(),
                svgRendering: e.svgRendering && n()
            }
        },
        e.html2canvas = function(t, i) {
            t = t.length ? t: [t];
            var n, o, r = {
                logging: !1,
                elements: t,
                background: "#fff",
                proxy: null,
                timeout: 0,
                useCORS: !1,
                allowTaint: !1,
                svgRendering: !1,
                ignoreElements: "IFRAME|OBJECT|PARAM",
                useOverflow: !0,
                letterRendering: !1,
                chinese: !1,
                width: null,
                height: null,
                taintTest: !0,
                renderer: "Canvas"
            };
            return r = u.Util.Extend(i, r),
            u.logging = r.logging,
            r.complete = function(e) {
                if ("function" == typeof r.onpreloaded) if (r.onpreloaded(e) === !1) return;
                if (n = u.Parse(e, r), "function" == typeof r.onparsed) if (r.onparsed(n) === !1) return;
                if (o = u.Renderer(n, r), "function" == typeof r.onrendered) r.onrendered(o)
            },
            e.setTimeout(function() {
                u.Preload(r)
            },
            0),
            {
                render: function(e, t) {
                    return u.Renderer(e, u.Util.Extend(t, r))
                },
                parse: function(e, t) {
                    return u.Parse(e, u.Util.Extend(t, r))
                },
                preload: function(e) {
                    return u.Preload(u.Util.Extend(e, r))
                },
                log: u.Util.log
            }
        },
        e.html2canvas.log = u.Util.log,
        e.html2canvas.Renderer = {
            Canvas: i
        },
        u.Renderer.Canvas = function(e) {
            function n(e, t) {
                e.beginPath(),
                t.forEach(function(t) {
                    e[t.name].apply(e, t.arguments)
                }),
                e.closePath()
            }
            function o(e) {
                if ( - 1 === a.indexOf(e.arguments[0].src)) {
                    h.drawImage(e.arguments[0], 0, 0);
                    try {
                        h.getImageData(0, 0, 1, 1)
                    } catch(t) {
                        return l = s.createElement("canvas"),
                        h = l.getContext("2d"),
                        !1
                    }
                    a.push(e.arguments[0].src)
                }
                return ! 0
            }
            function r(t, i) {
                switch (i.type) {
                case "variable":
                    t[i.name] = i.arguments;
                    break;
                case "function":
                    switch (i.name) {
                    case "createPattern":
                        if (i.arguments[0].width > 0 && i.arguments[0].height > 0) try {
                            t.fillStyle = t.createPattern(i.arguments[0], "repeat")
                        } catch(r) {
                            c.log("html2canvas: Renderer: Error creating pattern", r.message)
                        }
                        break;
                    case "drawShape":
                        n(t, i.arguments);
                        break;
                    case "drawImage":
                        if (i.arguments[8] > 0 && i.arguments[7] > 0) if (!e.taintTest || e.taintTest && o(i)) t.drawImage.apply(t, i.arguments);
                        break;
                    default:
                        t[i.name].apply(t, i.arguments)
                    }
                }
            }
            e = e || {};
            var s = t,
            a = [],
            l = t.createElement("canvas"),
            h = l.getContext("2d"),
            c = u.Util,
            d = e.canvas || s.createElement("canvas");
            return function(e, t, n, o, s) {
                var a, l, h, u = d.getContext("2d"),
                f = e.stack;
                if (d.width = d.style.width = t.width || f.ctx.width, d.height = d.style.height = t.height || f.ctx.height, h = u.fillStyle, u.fillStyle = c.isTransparent(f.backgroundColor) && t.background !== i ? t.background: e.backgroundColor, u.fillRect(0, 0, d.width, d.height), u.fillStyle = h, o.forEach(function(e) {
                    if (u.textBaseline = "bottom", u.save(), e.transform.matrix) u.translate(e.transform.origin[0], e.transform.origin[1]),
                    u.transform.apply(u, e.transform.matrix),
                    u.translate( - e.transform.origin[0], -e.transform.origin[1]);
                    if (e.clip) u.beginPath(),
                    u.rect(e.clip.left, e.clip.top, e.clip.width, e.clip.height),
                    u.clip();
                    if (e.ctx.storage) e.ctx.storage.forEach(function(e) {
                        r(u, e)
                    });
                    u.restore()
                }), c.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"), 1 === t.elements.length) if ("object" == typeof t.elements[0] && "BODY" !== t.elements[0].nodeName) return l = s.Util.Bounds(t.elements[0]),
                a = n.createElement("canvas"),
                a.width = Math.ceil(l.width),
                a.height = Math.ceil(l.height),
                u = a.getContext("2d"),
                u.drawImage(d, l.left, l.top, l.width, l.height, 0, 0, l.width, l.height),
                d = null,
                a;
                return d
            }
        }
    } (window, document),
    html2canvas
}),
define("common/core/lib/screenshot", ["require", "html2canvas", "jquery"],
function(require) {
    function e(e, i) {
        i = i || {};
        var o = new n.Deferred,
        r = new Image;
        return r.onload = function() {
            var e = i.width || 0,
            n = i.height || 0,
            s = r.width,
            a = r.height;
            if (e + n === 0) e = s,
            n = a;
            else if (e * n === 0) {
                var l;
                if (e) l = e / s,
                n = parseInt(a * l, 10);
                else l = n / a,
                e = parseInt(s * l, 10)
            }
            var h = document.createElement("canvas");
            h.width = e,
            h.height = n;
            var c = h.getContext("2d");
            c.drawImage(r, 0, 0, s, a, 0, 0, e, n);
            var u = h.toDataURL("image/png");
            if (i.maxWidth && e > i.maxWidth || i.maxHeight && n > i.maxHeight) {
                var d = i.maxWidth && e > i.maxWidth ? i.maxWidth: e,
                f = i.maxHeight && n > i.maxHeight ? i.maxHeight: n;
                t(u, e, n, d, f).then(function(e) {
                    o.resolve(e)
                },
                function(e) {
                    o.reject(e)
                }),
                h.width = d,
                h.height = f,
                c.drawImage(r, 0, 0, e, n, 0, 0, e, n)
            } else o.resolve(u)
        },
        r.src = e,
        o.promise()
    }
    function t(e, t, i, o, r) {
        var s = new n.Deferred,
        a = new Image;
        return a.onload = function() {
            var e = document.createElement("canvas");
            e.width = o,
            e.height = r;
            var n = e.getContext("2d");
            n.drawImage(a, 0, 0, t, i, 0, 0, t, i),
            s.resolve(e.toDataURL("image/png"))
        },
        s.promise()
    }
    var i = require("html2canvas"),
    n = require("jquery"),
    exports = {};
    return exports.screenshot = function(t, o) {
        o = o || {};
        var r = new n.Deferred,
        s = window.scrollX,
        a = window.scrollY;
        return r.always(function() {
            n("html, body").animate({
                scrollLeft: s,
                scrollTop: a
            },
            0)
        }),
        i(t, {
            proxy: "/html2canvasproxy.php",
            height: 2e3,
            onrendered: function(t) {
                var i = t.toDataURL("image/png"),
                n = e(i, o);
                n.then(function(e) {
                    r.resolve(e)
                },
                function(e) {
                    r.reject(e)
                })
            }
        }),
        setTimeout(function() {
            r.reject()
        },
        5e3),
        r
    },
    exports
}),
define("common/core/lib/cursor", ["require"],
function() {
    function e(e, t) {
        for (var i = e.length; i--;) if (e[i] === t) return ! 0;
        return ! 1
    }
    function t(t) {
        if (1 === t.nodeType) return ! e(n, t.nodeName);
        else return ! 1
    }
    function i(e) {
        var t = e.lastChild;
        if (!t) return null;
        for (; 1 !== t.nodeType && t.previousSibling;) t = t.previousSibling;
        return t
    }
    var exports = {},
    n = ["AREA", "BASE", "BR", "COL", "EMBED", "HR", "IMG", "INPUT", "KEYGEN", "LINK", "MENUITEM", "META", "PARAM", "SOURCE", "TRACK", "WBR", "BASEFONT", "BGSOUND", "FRAME", "ISINDEX"];
    return exports.setEndOfContenteditable = function(e) {
        for (; i(e) && t(i(e));) e = i(e);
        var n, o;
        if (document.createRange) n = document.createRange(),
        n.selectNodeContents(e),
        n.collapse(!1),
        o = window.getSelection(),
        o.removeAllRanges(),
        o.addRange(n);
        else if (document.selection) n = document.body.createTextRange(),
        n.moveToElementText(e),
        n.collapse(!1),
        n.select()
    },
    exports
}),
define("common/core/lib/htmlCleaner", [],
function() {
    function e(t, i) {
        switch (t.nodeType) {
        case 1:
            var o = t.tagName,
            r = t.attributes,
            s = i[o.toLowerCase()];
            if (!s) return n;
            for (var a = document.createElement(o), l = 0, h = r.length; h > l; l++) if (~s.indexOf(r[l].name)) a.setAttribute(r[l].name, r[l].value);
            for (var c = t.childNodes,
            l = 0,
            h = c.length; h > l; l++) {
                var u = e(c[l], i);
                if (u !== n) a.appendChild(u)
            }
            return a;
        case 3:
            return document.createTextNode(t.nodeValue);
        default:
            return n
        }
    }
    function t(e) {
        try {
            return (new DOMParser).parseFromString(e, "text/html")
        } catch(t) {
            var i = new ActiveXObject("MSXML2.DOMDocument");
            return i.loadXML(e)
        }
    }
    function i(i, r) {
        r = r || {};
        var s = t(i),
        a = r.htmlAllow || o.BASE,
        l = r.targetEl || document.createElement("div"),
        h = s.body.childNodes;
        l.innerHTML = "";
        for (var c = 0,
        u = h.length; u > c; c++) {
            var d = e(h[c], a);
            if (d !== n) l.appendChild(d)
        }
        return l.innerHTML
    }
    var n, o = {
        BASE: {
            a: ["title", "alt", "href", "class", "style"],
            b: ["class", "style"],
            em: ["class", "style"],
            strong: ["class", "style"],
            i: ["class", "style"],
            img: ["src", "class", "style"],
            div: ["class", "style"],
            p: ["class", "style"],
            br: []
        },
        EC_FORMATTER: {
            a: ["title", "alt", "href", "class", "style"],
            b: ["class", "style"],
            em: ["class", "style"],
            strong: ["class", "style"],
            i: ["class", "style"],
            img: ["src", "class", "style"],
            div: ["class", "style"],
            p: ["class", "style"],
            br: []
        }
    };
    return {
        htmlClean: i,
        HTMLCleanAllow: o
    }
}),
define("common/core/lib/others", ["require", "jquery", "common/core/lib/base"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib/base"),
    i = {},
    n = /#\{(.+?)\}/g;
    i.parseURL = function(e) {
        var t = [];
        if (!e) return t;
        var i = document.createElement("a");
        i.href = e;
        for (var n = (i.search || "").replace(/^\?/, "").split("&"), o = 0, r = n.length; r > o; o++) {
            var s = (n[o] || "").split("=");
            if (s.length > 1 && s[0]) t.push({
                name: s[0],
                value: s[1]
            })
        }
        return t
    },
    i.loadLazyImg = function(t, i) { ! i && (i = "src-origin"),
        t.each(function(t, n) {
            n = e(n);
            var o = n.data(i);
            if (o) n.attr("src", o),
            n.data(i, "")
        })
    },
    i.parseInlineCss = function(t) {
        t = t || "";
        for (var i = {},
        n = t.split(";"), o = 0, r = n.length; r > o; o++) {
            var s = n[o].split(":");
            i[e.trim(s[0])] = e.trim(s[1])
        }
        return i
    },
    i.showBalloonTip = function() {
        var t, n, o = "BAIDUHUI_BALLOON_TIP_SHOWN",
        r = "DNOT_SHOW_WHEN_CLOSE";
        return function(s, a, l, h) {
            function c() {
                if (t) t.hide();
                n === r && i.cookie(o, 1),
                n = null
            }
            if (s === !1) c();
            else {
                if (n = h, n === r && i.cookie(o)) return;
                if (!t) t = e(['<div class="balloon-tip">', '<div class="content"></div>', '<div class="triangle"><i></i><em></em></div>', '<div class="close-btn">X</div>', "</div>"].join("")).hide().appendTo(document.body),
                e(".close-btn", t).click(c);
                e(".content", t).html(s),
                t.css({
                    position: "absolute",
                    left: a,
                    top: l
                }).show()
            }
        }
    } (),
    i.cookie = function(e, t) {
        if (null != t) return document.cookie = e + "=" + encodeURIComponent(t),
        t;
        else {
            var i = new RegExp("(^| )" + e + "=([^;]*)(;|$)"),
            n = i.exec(document.cookie);
            return n ? decodeURIComponent(n[2]) : null
        }
    },
    function() {
        var t = !1;
        i.enableWindowScroll = function(e) {
            t = !e
        },
        e(window).scroll(function(e) {
            if (t) e.preventDefault(),
            e.stopPropagation()
        })
    } (),
    i.linkTargetBlank = function(e) {
        var t = document,
        i = t.body,
        n = t.createElement("a");
        n.style.display = "none",
        n.href = e || "#",
        n.target = "_blank",
        i.appendChild(n),
        n.click(),
        i.removeChild(n)
    };
    var o = i.appendParam = function(e, t) {
        return e + (e.indexOf("?") < 0 ? "?": "&") + t
    };
    return i.replaceIntoParam = function(e, i, n) {
        if (!e || t.isBlank(e)) return e;
        n = null != n ? encodeURIComponent(n) : "";
        var r = new RegExp("([&~?])" + i + "=[^&]*"),
        s = i + "=" + n;
        if (r.test(e)) e = e.replace(r, "$1" + s);
        else e = o(e, s);
        return e
    },
    i.strTemplate = function(i, o) {
        i = String(i);
        var r = Array.prototype.slice.call(arguments, 1);
        if (r.length) return r = 1 === r.length ? t.isObject(o) ? o: r: r,
        i.replace(n,
        function(t, i) {
            var n = r[i];
            if (e.isFunction(n)) n = n(i);
            return null == n ? "": n
        });
        else return i
    },
    i.enhanceContentEditable = function(e) {
        e.keypress(function(e) {
            13 === (e.keyCode || e.witch) && e.preventDefault()
        })
    },
    i.getOpposite = function(t) {
        var i = ["top", "right", "bottom", "left"],
        n = e.inArray(t, i);
        if (0 > n) return null;
        if (n + 2 < i.length) return i[n + 2];
        else return i[i.length - n - 2]
    },
    function() {
        var e = [],
        n = !1;
        i.enableBeforeUnloadCheck = function() {
            if (!n) n = !0,
            window.onbeforeunload = function() {
                for (var t, i, n, o = 0; i = e[o]; o++) if (n = i()) t = n;
                if (t) window.event.returnValue = t
            }
        },
        i.addBeforeUnloadChecker = function(t) {
            e.push(t)
        },
        i.removeBeforeUnloadChecker = function(i) {
            var n = t.arrayIndexOf(e, i);
            return~n && e.splice(n, 1),
            !!~n
        }
    } (),
    i.printFunction = function(t, i, n) {
        var o = new Array((i + 1) * n).join(" "),
        r = (t + "").split("\n"),
        s = "";
        if (r.length > 1 && "}" === e.trim(r[r.length - 1])) r.pop(),
        s = "\n" + new Array(i * n).join(" ") + "}";
        return r.join("\n" + o) + s
    },
    i
}),
define("common/core/lib", ["require", "./lib/base", "./lib/json", "./lib/dataDriven", "./lib/objectAccess", "./lib/objectOriented", "./lib/model", "./lib/event", "./lib/enumeration", "./lib/tooltip", "./lib/disable", "./lib/number", "./lib/throttle", "./lib/cmd", "./lib/screenshot", "./lib/cursor", "./lib/htmlCleaner", "./lib/others"],
function(require) {
    function e(e) {
        for (var t = 1,
        i = arguments.length; i > t; t++) {
            var n = arguments[t];
            for (var o in n) if (n.hasOwnProperty(o)) {
                if (e[o]) throw new Error("Duplicate key: " + o);
                e[o] = n[o]
            }
        }
        return e
    }
    var t = {};
    return e(t, require("./lib/base"), require("./lib/json"), require("./lib/dataDriven"), require("./lib/objectAccess"), require("./lib/objectOriented"), require("./lib/model"), require("./lib/event"), require("./lib/enumeration"), require("./lib/tooltip"), require("./lib/disable"), require("./lib/number"), require("./lib/throttle"), require("./lib/cmd"), require("./lib/screenshot"), require("./lib/cursor"), require("./lib/htmlCleaner"), require("./lib/others")),
    t
}),
define("common/core/constant", ["require", "jquery", "common/core/lib"],
function(require) {
    function e(e) {
        return n[e]
    }
    var t = require("jquery"),
    i = require("common/core/lib"),
    n = {};
    if (t.extend(n, window.TPL_DATA), e.getUIRootPath = function() {
        return e("uiRoot") + "/" + e("uiAsset") + e("uiVersion")
    },
    e.PAPER_TAG = "data-dtppr", e.CSS_WGT = "dtp-wgt", e.SELECTOR_WGT = "." + e.CSS_WGT, e.SELECTOR_WGT_CONTAINER = ".dtp-wgt-container", e.SELECTOR_WGT_MAIN = ".dtp-wgt-main", e.SELECTOR_PAPER = ".dtp-paper", e.SELECTOR_PAPER_VIEW = ".dtp-paper-view", e.SELECTOR_PAPER_CON = ".dtp-paper-con", e.ATTR_PAPER_THEME = "data-paper-theme", e.CSS_LAY_MANNER_DOC = "dtp-lay-mnr-doc", e.CSS_LAY_MANNER_ABS = "dtp-lay-mnr-abs", e.MAX_INPUT_TEXT_LENGTH = 9999, e.MAX_FORMATTER_TEXT_LENGTH = 199, e.EDITOR_MASK_FADE_DURATION = 150, e.PANEL_MASK_OPACITY = .7, e.APP_CTX_CREATE_CHART_PROD_BLUEPRINT = "createChartProdBlueprint", e.APP_CTX_IS_CREATE_NEW_PROD = "isCreateNewProd", e.WAVE_PROD_WIDTH = 200, e.WAVE_PROD_MAX_HEIGHT = 400, e.DEFAULT_PAPER_WIDTH = 550, e.DEFAULT_PAPER_PADDING_LEFT = 35, e.DEFAULT_PAPER_PADDING_RIGHT = 35, e.WIN_PANEL_Z_INDEX_BASE = 1200, e.debug = e("debug"), "string" === t.type(e.debug)) e.debug = "true" === e.debug;
    e.prodDepVersion = e("prodDepVersion"),
    e.LocalObKey = i.makeEnum(["LOCAL_OB_SCROLL_RESIZE", "LOCAL_OB_REFRESH_CFG", "LOCAL_OB_REFRESH_CHART_CFG", "LOCAL_OB_RESIZE_PAPER_WIDTH"]),
    e.GlobalEvent = i.makeEnum(["PAPER_RESIZED"]),
    e.ProdType = i.makeEnum({
        NORMAL: 1,
        MOTHER: 2
    }),
    e.EcAxisType = i.makeEnum({
        CATEGORY: "category",
        VALUE: "value"
    });
    var o = e.EcChartType = i.makeEnum({
        LINE: "line",
        BAR: "bar",
        SCATTER: "scatter",
        K: "k",
        PIE: "pie",
        RADAR: "radar",
        CHORD: "chord",
        FORCE: "force",
        MAP: "map",
        GAUGE: "gauge",
        FUNNEL: "funnel"
    },
    {
        contains: function(e, i) {
            if (i && !t.isArray(i)) i = [i];
            for (var n = this._makeValueArray(e).join(","), o = 0, r = i.length; r > o; o++) if (!~n.indexOf(i[o])) return ! 1;
            return ! 0
        },
        exists: function(e, i) {
            if (i && !t.isArray(i)) i = [i];
            for (var n = this._makeValueArray(e).join(","), o = 0, r = i.length; r > o; o++) if (~n.indexOf(i[o])) return ! 0;
            return ! 1
        },
        _makeValueArray: function(e) {
            for (var t = [], n = 0, o = e.length; o > n; n++) {
                var r = this.get(e[n]);
                i.assert(r),
                t.push(r)
            }
            return t
        }
    });
    return e.DataEditType = i.makeEnum({
        CATVAL: {
            key: "catval",
            charts: [o.LINE, o.BAR]
        },
        PIE: {
            key: "pie",
            charts: [o.PIE]
        },
        SCATTER: {
            key: "scatter",
            charts: [o.SCATTER]
        },
        BUBBLE: {
            key: "bubble",
            charts: [o.SCATTER]
        },
        FUNNEL: {
            key: "funnel",
            charts: [o.FUNNEL]
        },
        MAP: {
            key: "map",
            charts: [o.MAP]
        },
        GAUGE: {
            key: "gauge",
            charts: [o.GAUGE]
        },
        RADAR: {
            key: "radar",
            charts: [o.RADAR]
        }
    },
    {
        getSwitchableChartTypes: function() {}
    }),
    e.PaperMode = i.makeEnum({
        SINGLE: "single",
        MULTIPLE: "multiple"
    }),
    e.SyncStatus = i.makeEnum({
        EMPTY: "empty",
        RAW: "raw",
        LOADED: "loaded",
        SAVING: "saving",
        SAVED: "saved",
        MODIFIED: "modified"
    },
    {
        isConsistent: function(e) {
            return e === this.LOADED || e === this.SAVED
        },
        hasUnsaved: function(e) {
            return e === this.RAW || e === this.MODIFIED
        }
    }),
    e.PanelStatus = i.makeEnum({
        OPENED: "opened",
        ANIMATING: "animating",
        CLOSED: "closed"
    }),
    e.WgtType = i.makeEnum({
        SIMPLE_CHART: "schart",
        PLAIN_TEXT: "ptext",
        FORMAT_TEXT: "ftext",
        IMAGE: "image"
    }),
    e.OpType = i.makeEnum({
        DATA_EDIT: "dedit",
        CONF_EDIT: "cedit",
        SELF_EDIT: "sedit",
        DRAG: "drag",
        LAY_MANNER: "lmanner",
        LAY_MANNER_TO_ABS: "lmanner-to-abs",
        LAY_MANNER_TO_DOC: "lmanner-to-doc",
        RESIZE: "resize",
        REMOVE: "remove",
        CODE: "code"
    }),
    e.Visibility = i.makeEnum({
        PUBLIC: 2,
        PRIVATE: 1
    }),
    e.ResidentPanelName = i.makeEnum({
        CHART_EDITOR: "chartEditor",
        PAPER_CONFIGURER: "paperConfigurer",
        IMAGE_CONFIGURER: "imageConfigurer",
        FORMAT_TEXT_CONFIGURER: "formatTextConfigurer",
        PAPER_NAVIGATOR: "paperNavigator"
    }),
    e.PanelOpenMode = i.makeEnum({
        LEFT_TO_RIGHT: "leftToRight",
        RIGHT_TO_LEFT: "rightToLeft"
    }),
    e.UploadType = i.makeEnum({
        IMAGE: {
            acceptFileTypes: ["gif", "jpg", "jpeg", "png"],
            maxFileSize: 2e5
        },
        EXCEL: {
            acceptFileTypes: ["xls", "xlsx", "csv"],
            maxFileSize: 5e5
        }
    }),
    e.Publish = i.makeEnum({
        UNPUBLISHED: 1,
        PUBLIC: 2,
        PRIVATE: 3
    }),
    e.Audit = i.makeEnum({
        PENDING: 1,
        PASS: 2,
        FAIL: 3
    }),
    e.CfgEvent = i.makeEnum({
        SYNC_WHEN_MAP_TYPE_CHANGE: "SYNC_WHEN_MAP_TYPE_CHANGE"
    }),
    e.ALLOW_BG_CFG = ["background-color", "background-image", "background-repeat", "background-size"],
    e.DEFAULT_BACKGROUND_TYPE = "image",
    e.DEFAULT_BACKGROUND_IMAGE_SHOW_TYPE = "auto",
    e
}),
function(e) {
    function t(e, t, i, n, o) {
        this._listener = t,
        this._isOnce = i,
        this.context = n,
        this._signal = e,
        this._priority = o || 0
    }
    function i(e, t) {
        if ("function" != typeof e) throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}", t))
    }
    function n() {
        this._bindings = [],
        this._prevParams = null;
        var e = this;
        this.dispatch = function() {
            n.prototype.dispatch.apply(e, arguments)
        }
    }
    t.prototype = {
        active: !0,
        params: null,
        execute: function(e) {
            var t, i;
            if (this.active && this._listener) if (i = this.params ? this.params.concat(e) : e, t = this._listener.apply(this.context, i), this._isOnce) this.detach();
            return t
        },
        detach: function() {
            return this.isBound() ? this._signal.remove(this._listener, this.context) : null
        },
        isBound: function() {
            return !! this._signal && !!this._listener
        },
        isOnce: function() {
            return this._isOnce
        },
        getListener: function() {
            return this._listener
        },
        getSignal: function() {
            return this._signal
        },
        _destroy: function() {
            delete this._signal,
            delete this._listener,
            delete this.context
        },
        toString: function() {
            return "[SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]"
        }
    },
    n.prototype = {
        VERSION: "1.0.0",
        memorize: !1,
        _shouldPropagate: !0,
        active: !0,
        _registerListener: function(e, i, n, o) {
            var r, s = this._indexOfListener(e, n);
            if ( - 1 !== s) {
                if (r = this._bindings[s], r.isOnce() !== i) throw new Error("You cannot add" + (i ? "": "Once") + "() then add" + (!i ? "": "Once") + "() the same listener without removing the relationship first.")
            } else r = new t(this, e, i, n, o),
            this._addBinding(r);
            if (this.memorize && this._prevParams) r.execute(this._prevParams);
            return r
        },
        _addBinding: function(e) {
            var t = this._bindings.length;
            do--t;
            while (this._bindings[t] && e._priority <= this._bindings[t]._priority);
            this._bindings.splice(t + 1, 0, e)
        },
        _indexOfListener: function(e, t) {
            for (var i, n = this._bindings.length; n--;) if (i = this._bindings[n], i._listener === e && i.context === t) return n;
            return - 1
        },
        has: function(e, t) {
            return - 1 !== this._indexOfListener(e, t)
        },
        add: function(e, t, n) {
            return i(e, "add"),
            this._registerListener(e, !1, t, n)
        },
        addOnce: function(e, t, n) {
            return i(e, "addOnce"),
            this._registerListener(e, !0, t, n)
        },
        remove: function(e, t) {
            i(e, "remove");
            var n = this._indexOfListener(e, t);
            if ( - 1 !== n) this._bindings[n]._destroy(),
            this._bindings.splice(n, 1);
            return e
        },
        removeAll: function() {
            for (var e = this._bindings.length; e--;) this._bindings[e]._destroy();
            this._bindings.length = 0
        },
        getNumListeners: function() {
            return this._bindings.length
        },
        halt: function() {
            this._shouldPropagate = !1
        },
        dispatch: function() {
            if (this.active) {
                var e, t = Array.prototype.slice.call(arguments),
                i = this._bindings.length;
                if (this.memorize) this._prevParams = t;
                if (i) {
                    e = this._bindings.slice(),
                    this._shouldPropagate = !0;
                    do i--;
                    while (e[i] && this._shouldPropagate && e[i].execute(t) !== !1)
                }
            }
        },
        forget: function() {
            this._prevParams = null
        },
        dispose: function() {
            this.removeAll(),
            delete this._bindings,
            delete this._prevParams
        },
        toString: function() {
            return "[Signal active:" + this.active + " numListeners:" + this.getNumListeners() + "]"
        }
    };
    var o = n;
    if (o.Signal = n, "function" == typeof define && define.amd) define("signals", [],
    function() {
        return o
    });
    else if ("undefined" != typeof module && module.exports) module.exports = o;
    else e.signals = o
} (this),
function() {
    var e = function(e) {
        var t = function(t) {
            function i(e) {
                return String(e || "").replace(/\W/g, "\\$&")
            }
            function n(e) {
                if (!e) return "";
                var t = new RegExp("^" + i(f.prependHash) + "|" + i(f.appendHash) + "$", "g");
                return e.replace(t, "")
            }
            function o() {
                var e = w.exec(f.getURL()),
                t = e && e[1] || "";
                try {
                    return f.raw ? t: decodeURIComponent(t)
                } catch(i) {
                    return t
                }
            }
            function r() {
                return y ? y.contentWindow.frameHash: null
            }
            function s() {
                y = x.createElement("iframe"),
                y.src = "about:blank",
                y.style.display = "none",
                x.body.appendChild(y)
            }
            function a() {
                if (y && p !== r()) {
                    var e = y.contentWindow.document;
                    e.open(),
                    e.write("<html><head><title>" + x.title + '</title><script type="text/javascript">var frameHash="' + p + '";</script></head><body>&nbsp;</body></html>'),
                    e.close()
                }
            }
            function l(e, t) {
                if (p !== e) {
                    var i = p;
                    if (p = e, S) if (!t) a();
                    else y.contentWindow.frameHash = e;
                    f.changed.dispatch(n(e), n(i))
                }
            }
            function h(e, t, i) {
                if (e.addEventListener) e.addEventListener(t, i, !1);
                else if (e.attachEvent) e.attachEvent("on" + t, i)
            }
            function c(e, t, i) {
                if (e.removeEventListener) e.removeEventListener(t, i, !1);
                else if (e.detachEvent) e.detachEvent("on" + t, i)
            }
            function u(e) {
                e = Array.prototype.slice.call(arguments);
                var t = e.join(f.separator);
                return t = t ? f.prependHash + t.replace(U, "") + f.appendHash: t
            }
            function d(e) {
                if (e = encodeURI(e), k && L) e = e.replace(/\?/, "%3F");
                return e
            }
            var f, p, m, g, y, v, b = 25,
            x = t.document,
            _ = (t.history, e.Signal),
            w = /#(.*)$/,
            V = /(\?.*)|(\#.*)/,
            U = /^\#/,
            k = !1,
            C = "onhashchange" in t && 7 !== x.documentMode,
            S = k && !C,
            L = "file:" === location.protocol;
            if (S) v = function() {
                var e = o(),
                t = r();
                if (t !== p && t !== e) f.setHash(n(t));
                else if (e !== p) l(e)
            };
            else v = function() {
                var e = o();
                if (e !== p) l(e)
            };
            return f = {
                VERSION: "1.2.0",
                raw: !1,
                appendHash: "",
                prependHash: "/",
                separator: "/",
                changed: new _,
                stopped: new _,
                initialized: new _,
                init: function() {
                    if (!g) {
                        if (p = o(), C) h(t, "hashchange", v);
                        else {
                            if (S) {
                                if (!y) s();
                                a()
                            }
                            m = setInterval(v, b)
                        }
                        g = !0,
                        f.initialized.dispatch(n(p))
                    }
                },
                stop: function() {
                    if (g) {
                        if (C) c(t, "hashchange", v);
                        else clearInterval(m),
                        m = null;
                        g = !1,
                        f.stopped.dispatch(n(p))
                    }
                },
                isActive: function() {
                    return g
                },
                getURL: function() {
                    return t.location.href
                },
                getBaseURL: function() {
                    return f.getURL().replace(V, "")
                },
                setHash: function(e) {
                    if (e = u.apply(null, arguments), e !== p) if (l(e), e === p) {
                        if (!f.raw) e = d(e);
                        t.location.hash = "#" + e
                    }
                },
                replaceHash: function(e) {
                    if (e = u.apply(null, arguments), e !== p) if (l(e, !0), e === p) {
                        if (!f.raw) e = d(e);
                        t.location.replace("#" + e)
                    }
                },
                getHash: function() {
                    return n(p)
                },
                getHashAsArray: function() {
                    return f.getHash().split(f.separator)
                },
                dispose: function() {
                    f.stop(),
                    f.initialized.dispose(),
                    f.stopped.dispose(),
                    f.changed.dispose(),
                    y = f = t.hasher = null
                },
                toString: function() {
                    return '[hasher version="' + f.VERSION + '" hash="' + f.getHash() + '"]'
                }
            },
            f.initialized.memorize = !0,
            f
        } (window);
        return t
    };
    if ("function" == typeof define && define.amd) define("hasher", ["signals"], e);
    else if ("object" == typeof exports) module.exports = e(require("signals"));
    else window.hasher = e(window.signals)
} (),
define("common/core/url", ["require", "common/core/constant", "hasher"],
function(require) {
    var e = require("common/core/constant"),
    t = require("hasher"),
    i = {},
    n = {
        listProd: "/gallery/listProd",
        duplicateProd: "/manufacture/duplicateProd",
        createChartProd: "/manufacture/createChartProd",
        loadBlueprint: "/manufacture/loadBlueprint",
        saveAll: "/manufacture/saveAll",
        createWgt: "/manufacture/createWgt",
        removeProd: "/manufacture/removeProd",
        wgtImgUpload: "/manufacture/wgtImgUpload",
        embedSample: "/wave/embedSample",
        excelUpload: "/manufacture/excelUpload",
        publish: "/manufacture/publish",
        uploadThumbnail: "/manufacture/uploadThumbnail",
        uploadBgImage: "/manufacture/uploadBgImage",
        getAllStyle: "/manufacture/getAllStyle",
        viewProd: "/p.php",
        uiLog: ""
    },
    o = {
        gallery: "gallery",
        galleryPagination: "gallery/{page}",
        manufacture: "manufacture/{prodId}",
        manufacturePaper: "manufacture/{prodId}/{paperId}",
        error: "error"
    },
    r = {
        gallery: "gallery",
        galleryPagination: "gallery/{page}",
        manufacture: "manufacture/{prodId}",
        manufacturePaper: "manufacture/{prodId}/{paperId}",
        error: "error"
    };
    i.UI_ROOT = e("uiRoot");
    var s = i.SERVICE_ROOT = e("serviceRoot");
    return i.UI_CODE_ROOT = e("uiCodeRoot"),
    i.STUB_URL = e("stubRoot") + e("stubPath"),
    i.LOGOUT_URL = e("logoutUrl"),
    i.ZERO_CLIPBOARD_SWF_PATH = e("zeroClipboardSwfPath"),
    i.JPICKER_IMAGE_PATH = e("jpickerImagePath"),
    i.net = function(e) {
        return s + n[e]
    },
    i.routerPattern = function(e) {
        return o[e]
    },
    i.route = function(e, n) {
        t.setHash(i.constructHash(e, n))
    },
    i.goHome = function() {
        location.href = s
    },
    i.constructHash = function(e, t) {
        return r[e].replace(/\{(\w+?)\}/g,
        function(e, i) {
            return (t || {})[i]
        })
    },
    i.getCurrHash = function() {
        return t.getHash()
    },
    i.setHashSilently = function(e) {
        if (t.getHash() !== e) t.changed.active = !1,
        t.setHash(e),
        t.changed.active = !0
    },
    i.replaceHashSilently = function(e) {
        if (t.getHash() !== e) t.changed.active = !1,
        t.replaceHash(e),
        t.changed.active = !0
    },
    i
}),
function(e, t) {
    if ("object" == typeof exports) module.exports = t();
    else if ("function" == typeof define && define.amd) define("stacktrace", [], t);
    else e.printStackTrace = t()
} (this,
function() {
    function e(t) {
        t = t || {
            guess: !0
        };
        var i = t.e || null,
        n = !!t.guess,
        o = new e.implementation,
        r = o.run(i);
        return n ? o.guessAnonymousFunctions(r) : r
    }
    return e.implementation = function() {},
    e.implementation.prototype = {
        run: function(e, t) {
            if (e = e || this.createException(), t = t || this.mode(e), "other" === t) return this.other(arguments.callee);
            else return this[t](e)
        },
        createException: function() {
            try {
                this.undef()
            } catch(e) {
                return e
            }
        },
        mode: function(e) {
            if (e.arguments && e.stack) return "chrome";
            if (e.stack && e.sourceURL) return "safari";
            if (e.stack && e.number) return "ie";
            if (e.stack && e.fileName) return "firefox";
            if (e.message && e["opera#sourceloc"]) {
                if (!e.stacktrace) return "opera9";
                if (e.message.indexOf("\n") > -1 && e.message.split("\n").length > e.stacktrace.split("\n").length) return "opera9";
                else return "opera10a"
            }
            if (e.message && e.stack && e.stacktrace) if (e.stacktrace.indexOf("called from line") < 0) return "opera10b";
            else return "opera11";
            if (e.stack && !e.fileName) return "chrome";
            else return "other"
        },
        instrumentFunction: function(t, i, n) {
            t = t || window;
            var o = t[i];
            t[i] = function() {
                return n.call(this, e().slice(4)),
                t[i]._instrumented.apply(this, arguments)
            },
            t[i]._instrumented = o
        },
        deinstrumentFunction: function(e, t) {
            if (e[t].constructor === Function && e[t]._instrumented && e[t]._instrumented.constructor === Function) e[t] = e[t]._instrumented
        },
        chrome: function(e) {
            return (e.stack + "\n").replace(/^[\s\S]+?\s+at\s+/, " at ").replace(/^\s+(at eval )?at\s+/gm, "").replace(/^([^\(]+?)([\n$])/gm, "{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm, "{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm, "$1@$2").split("\n").slice(0, -1)
        },
        safari: function(e) {
            return e.stack.replace(/\[native code\]\n/m, "").replace(/^(?=\w+Error\:).*$\n/m, "").replace(/^@/gm, "{anonymous}()@").split("\n")
        },
        ie: function(e) {
            return e.stack.replace(/^\s*at\s+(.*)$/gm, "$1").replace(/^Anonymous function\s+/gm, "{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm, "$1@$2").split("\n").slice(1)
        },
        firefox: function(e) {
            return e.stack.replace(/(?:\n@:0)?\s+$/m, "").replace(/^(?:\((\S*)\))?@/gm, "{anonymous}($1)@").split("\n")
        },
        opera11: function(e) {
            for (var t = "{anonymous}",
            i = /^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,
            n = e.stacktrace.split("\n"), o = [], r = 0, s = n.length; s > r; r += 2) {
                var a = i.exec(n[r]);
                if (a) {
                    var l = a[4] + ":" + a[1] + ":" + a[2],
                    h = a[3] || "global code";
                    h = h.replace(/<anonymous function: (\S+)>/, "$1").replace(/<anonymous function>/, t),
                    o.push(h + "@" + l + " -- " + n[r + 1].replace(/^\s+/, ""))
                }
            }
            return o
        },
        opera10b: function(e) {
            for (var t = /^(.*)@(.+):(\d+)$/,
            i = e.stacktrace.split("\n"), n = [], o = 0, r = i.length; r > o; o++) {
                var s = t.exec(i[o]);
                if (s) {
                    var a = s[1] ? s[1] + "()": "global code";
                    n.push(a + "@" + s[2] + ":" + s[3])
                }
            }
            return n
        },
        opera10a: function(e) {
            for (var t = "{anonymous}",
            i = /Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,
            n = e.stacktrace.split("\n"), o = [], r = 0, s = n.length; s > r; r += 2) {
                var a = i.exec(n[r]);
                if (a) {
                    var l = a[3] || t;
                    o.push(l + "()@" + a[2] + ":" + a[1] + " -- " + n[r + 1].replace(/^\s+/, ""))
                }
            }
            return o
        },
        opera9: function(e) {
            for (var t = "{anonymous}",
            i = /Line (\d+).*script (?:in )?(\S+)/i,
            n = e.message.split("\n"), o = [], r = 2, s = n.length; s > r; r += 2) {
                var a = i.exec(n[r]);
                if (a) o.push(t + "()@" + a[2] + ":" + a[1] + " -- " + n[r + 1].replace(/^\s+/, ""))
            }
            return o
        },
        other: function(e) {
            for (var t, i, n = "{anonymous}",
            o = /function(?:\s+([\w$]+))?\s*\(/,
            r = [], s = 10, a = Array.prototype.slice; e && r.length < s;) {
                t = o.test(e.toString()) ? RegExp.$1 || n: n;
                try {
                    i = a.call(e.arguments || [])
                } catch(l) {
                    i = ["Cannot access arguments: " + l]
                }
                r[r.length] = t + "(" + this.stringifyArguments(i) + ")";
                try {
                    e = e.caller
                } catch(l) {
                    r[r.length] = "Cannot access caller: " + l;
                    break
                }
            }
            return r
        },
        stringifyArguments: function(e) {
            for (var t = [], i = Array.prototype.slice, n = 0; n < e.length; ++n) {
                var o = e[n];
                if (void 0 === o) t[n] = "undefined";
                else if (null === o) t[n] = "null";
                else if (o.constructor) if (o.constructor === Array) if (o.length < 3) t[n] = "[" + this.stringifyArguments(o) + "]";
                else t[n] = "[" + this.stringifyArguments(i.call(o, 0, 1)) + "..." + this.stringifyArguments(i.call(o, -1)) + "]";
                else if (o.constructor === Object) t[n] = "#object";
                else if (o.constructor === Function) t[n] = "#function";
                else if (o.constructor === String) t[n] = '"' + o + '"';
                else if (o.constructor === Number) t[n] = o;
                else t[n] = "?"
            }
            return t.join(",")
        },
        sourceCache: {},
        ajax: function(e) {
            var t = this.createXMLHTTPObject();
            if (t) try {
                return t.open("GET", e, !1),
                t.send(null),
                t.responseText
            } catch(i) {}
            return ""
        },
        createXMLHTTPObject: function() {
            for (var e, t = [function() {
                return new XMLHttpRequest
            },
            function() {
                return new ActiveXObject("Msxml2.XMLHTTP")
            },
            function() {
                return new ActiveXObject("Msxml3.XMLHTTP")
            },
            function() {
                return new ActiveXObject("Microsoft.XMLHTTP")
            }], i = 0; i < t.length; i++) try {
                return e = t[i](),
                this.createXMLHTTPObject = t[i],
                e
            } catch(n) {}
        },
        isSameDomain: function(e) {
            return "undefined" != typeof location && -1 !== e.indexOf(location.hostname)
        },
        getSource: function(e) {
            if (! (e in this.sourceCache)) this.sourceCache[e] = this.ajax(e).split("\n");
            return this.sourceCache[e]
        },
        guessAnonymousFunctions: function(e) {
            for (var t = 0; t < e.length; ++t) {
                var i = /\{anonymous\}\(.*\)@(.*)/,
                n = /^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,
                o = e[t],
                r = i.exec(o);
                if (r) {
                    var s = n.exec(r[1]);
                    if (s) {
                        var a = s[1],
                        l = s[2],
                        h = s[3] || 0;
                        if (a && this.isSameDomain(a) && l) {
                            var c = this.guessAnonymousFunction(a, l, h);
                            e[t] = o.replace("{anonymous}", c)
                        }
                    }
                }
            }
            return e
        },
        guessAnonymousFunction: function(e, t) {
            var i;
            try {
                i = this.findFunctionName(this.getSource(e), t)
            } catch(n) {
                i = "getSource failed with url: " + e + ", exception: " + n.toString()
            }
            return i
        },
        findFunctionName: function(e, t) {
            for (var i, n, o, r = /function\s+([^(]*?)\s*\(([^)]*)\)/,
            s = /['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,
            a = /['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,
            l = "",
            h = Math.min(t, 20), c = 0; h > c; ++c) {
                if (i = e[t - c - 1], o = i.indexOf("//"), o >= 0) i = i.substr(0, o);
                if (i) {
                    if (l = i + l, n = s.exec(l), n && n[1]) return n[1];
                    if (n = r.exec(l), n && n[1]) return n[1];
                    if (n = a.exec(l), n && n[1]) return n[1]
                }
            }
            return "(?)"
        }
    },
    e
}),
define("common/core/log", ["require", "jquery", "common/core/lib", "common/core/url", "stacktrace"],
function(require) {
    function e(e) {
        var t = window.console;
        if (i.isObject(t) && "function" == typeof t.log) t.log(i.stringifyJSON(e))
    }
    var t = require("jquery"),
    i = require("common/core/lib"),
    n = require("common/core/url"),
    o = require("stacktrace"),
    r = {
        TRACE: 3,
        INFO: 4,
        ERROR: 5
    },
    s = function(t, i) {
        if (i >= r.INFO) e(t);
        else e(t)
    };
    s.trace = function(e) {
        s(e, r.TRACE)
    },
    s.info = function(e) {
        s(e, r.INFO)
    },
    s.error = function(e, i) {
        if ("error" === t.type(e)) i = e,
        e = {};
        if ("object" !== t.type(e)) e = {
            msg: e
        };
        if (i) {
            var n = new o.implementation,
            a = n.run(i).join("\n");
            if (a.length > 1600) a = a.slice(0, 1600);
            e.stackTrace = a
        }
        e.key = "BIZ_UI_ERROR",
        s(e, r.ERROR)
    }; !
    function() {
        var e = [];
        return function(t) {
            var o = e.push(document.createElement("img")) - 1;
            e[o].onload = e[o].onerror = function() {
                e[o] = e[o].onload = e[o].onerror = null,
                delete e[o]
            };
            var r = i.appendParam(n.net("uiLog"), "data=" + i.stringifyJSON(t));
            e[o].src = r + "&" + ( + new Date).toString(36)
        }
    } ();
    return s
}),
define("common/core/ajax", ["require", "jquery", "common/core/lib", "common/core/log"],
function(require) {
    function e(e) {
        if (e.success) {
            var t = e.success;
            e.success = function(e, i, n) {
                return c(this, n, t, x(arguments))
            }
        }
    }
    function t(e) {
        var t = e.error;
        e.error = function(e, i, n) {
            var o = g(e, i, n),
            r = c(this, e, t, o);
            if (r !== !1) V.data(e, "exeDefaultError", !0);
            return r
        }
    }
    function i(e) {
        var t = e.complete;
        e.complete = function(i) {
            try {
                var n = c(this, i, t, x(arguments));
                if (V.data(i, "exeDefaultError") && !e.supressDefaultErrorHandler) w.DEFAULT_ERROR_HANDLER.apply(this, arguments);
                return n
            } catch(o) {
                b.error(o)
            } finally {
                f(i)
            }
        }
    }
    function n(e) {
        e.success = e.done = d(e.done, a)
    }
    function o(e) {
        e.error = e.fail = d(e.fail, l)
    }
    function r(e) {
        e.always = d(e.always, h)
    }
    function s(e) {
        var t = e.then;
        e.then = function() {
            var e = arguments[0],
            i = arguments[1];
            if (e) e = u(x([e]), a)[0];
            if (i) i = u(x([i]), l)[0];
            return t.call(this, e, i)
        }
    }
    function a(e) {
        return function(t, i, n) {
            return c(this, n, e, x(arguments))
        }
    }
    function l(e) {
        return function(t, i, n) {
            var o = g(t, i, n),
            r = c(this, t, e, o);
            if (r !== !1) V.data(t, "exeDefaultError")
        }
    }
    function h(e) {
        return function(t, i, n) {
            return c(this, V.getJqXHR(t) || V.getJqXHR(n), e, x(arguments))
        }
    }
    function c(e, t, i, n) {
        if (!V.data(t, "silencelyTerminated")) try {
            if (i) return i.apply(e, n || [])
        } catch(o) {
            b.error(o)
        }
    }
    function u(e, t) {
        for (var i = 0; i < e.length; i++) {
            var n = e[i];
            n = y.isArray(n) ? x(n) : [n];
            for (var o = 0; o < n.length; o++) n[o] = t(n[o]);
            e[i] = n
        }
        return e
    }
    function d(e, t) {
        return function() {
            var i = u(x(arguments), t);
            return e.apply(this, i || [])
        }
    }
    function f(e) {
        U.remove(e),
        k.hide(e),
        V.clean(e)
    }
    function p(e) {
        var t = w.DEFAULT_PARAM() || {},
        i = e.data;
        if ("string" === y.type(e.data)) {
            var n = [];
            i && n.push(i);
            var o = y.param(t);
            o && n.push(o),
            e.data = n.join("&")
        } else e.data = y.extend(i, t)
    }
    function m(e) {
        if (e = e || {},
        "string" === y.type(e)) try {
            e = y.parseJSON(e)
        } catch(t) {
            e = {
                data: e,
                status: w.EJSON_STATUS_PARSE_ERROR
            }
        }
        var i = e.data || "",
        n = null != e.status ? e.status: w.EJSON_STATUS_EMPTY_ERROR,
        o = e.statusInfo || "";
        if (n) throw new Error("ejsonerror|" + n + "|" + o);
        return i
    }
    function g(e, t, i) {
        var n = V.data(e, "errorArgs");
        if (n) return [e].concat(n);
        var o = "error" === y.type(i) && /^ejsonerror\|(\d+)\|(.*)$/.exec(i.message);
        return e.ejson = o ? {
            status: o[1],
            statusInfo: o[2]
        }: {},
        n = [o ? "ejsonerror": t, o ? "ejsonerror": i],
        V.data(e, "errorArgs", n),
        [e].concat(n)
    }
    var y = require("jquery"),
    v = require("common/core/lib"),
    b = require("common/core/log"),
    x = v.arraySlice,
    _ = 12e4;
    y.ajaxSetup({
        timeout: _
    });
    var w = function(a, l) {
        if ("object" === y.type(a)) l = a,
        a = void 0;
        else l.url = a;
        if (l = y.extend({},
        l), null == l.showWaiting) l.showWaiting = w.DEFAULT_SHOW_WAITING;
        var h = "ejson" === l.dataType;
        l["throws"] = !1,
        p(l),
        e(l),
        t(l),
        i(l);
        var c = V.mark(y.ajax.call(y, l));
        return V.data(c, "isEJSON", h),
        n(c, l),
        o(c, l),
        r(c, l),
        s(c.then, l),
        U.add(c, l),
        k.show(c, l),
        c
    };
    w.EJSON_STATUS_EMPTY_ERROR = 999999,
    w.EJSON_STATUS_PARSE_ERROR = 999998,
    w.DEFAULT_ERROR_HANDLER = y.noop,
    w.DEFAULT_PARAM = y.noop,
    w.SHOW_WAITING_HANDLER = y.noop,
    w.HIDE_WAITING_HANDLER = y.noop,
    w.DEFAULT_SHOW_WAITING = !0,
    y.ajaxSetup({
        accepts: {
            ejson: "application/json, text/javascript"
        },
        responseFields: {
            ejson: "responseEJSON"
        },
        converters: {
            "text ejson": m
        }
    });
    var V = function() {
        var e = "^_^";
        return {
            mark: function(t) {
                return t[e] = {},
                t
            },
            data: function(t, i, n) {
                if (2 === arguments.length) return t[e][i];
                else return t[e][i] = n,
                n
            },
            clean: function(t) {
                t[e] = null
            },
            getJqXHR: function(t) {
                return "object" === y.type(t) && t[e] ? t: null
            },
            validate: function(e) {
                if (!V.getJqXHR(e)) throw new Error("This is not a acceptable jqXHR!")
            }
        }
    } (),
    U = function() {
        var e = {};
        return {
            add: function(t, i) {
                var n = i.terminateKey;
                if (n) {
                    if (!e[n]) e[n] = [];
                    e[n].push(t),
                    V.data(t, "terminateKey", n)
                }
            },
            remove: function(t) {
                var i = e[V.data(t, "terminateKey")] || [],
                n = y.inArray(t, i);
                i.splice(n, 1),
                V.data(t, "terminateKey", null)
            },
            removeByTerminateKey: function(t) {
                var i = e[t];
                return delete e[t],
                i
            },
            removeAll: function() {
                var t = [];
                return y.each(e,
                function(e, i) {
                    t.push.apply(t, i || [])
                }),
                e = {},
                t
            }
        }
    } ();
    w.terminate = function(e, t) {
        t = t || !0;
        var i = [];
        if ("string" === y.type(e)) i = U.removeByTerminateKey(e);
        else if (!e) i = U.removeAll();
        else V.validate(e),
        i = [e],
        U.remove(e);
        for (var n, o = 0,
        r = i.length; r > o; o++) {
            n = i[o],
            V.data(n, "silencelyTerminated", t);
            try {
                n.abort()
            } catch(s) {
                b.error(s)
            }
        }
    };
    var k = function() {
        var e = [];
        return {
            show: function(t, i) {
                if (i.showWaiting) e.push(t),
                e.length && w.SHOW_WAITING_HANDLER()
            },
            hide: function(t) {
                var i = v.arrayIndexOf(e, t);
                if (i >= 0) if (e.splice(i, 1), !e.length) w.HIDE_WAITING_HANDLER()
            }
        }
    } ();
    return w
}),
define("common/core/lang", ["require", "jquery", "common/core/lib", "common/core/constant"],
function(require) {
    function e(t, o, r) {
        for (var s in o) if (o.hasOwnProperty(s)) {
            var a = o[s],
            l = t[s],
            h = i.type(a);
            if ("array" === h && (l = l || []) || "object" === h && (l = l || {})) t[s] = l,
            e(l, a);
            else t[s] = r ? n.encodeHTML(a) : a
        }
    }
    function t(e) {
        return '&nbsp;<span style="color:#FFEA00">' + e + "</span>&nbsp"
    }
    var i = require("jquery"),
    n = require("common/core/lib"),
    o = require("common/core/constant"),
    r = o.OpType,
    s = {
        string: {},
        html: {}
    },
    a = {
        ajaxTimeout: "请求超时，请稍后重试",
        ajaxWaiting: "加载中...",
        someError: "网络处理失败",
        systemError: "系统异常",
        dataError: "数据异常",
        paramError: "抱歉，参数校验失败",
        noData: "缺失数据",
        noPageAuth: "抱歉，您没有查看当前页面的权限",
        noOptAuth: "抱歉，您没有权限进行此操作",
        noSystemAuth: "抱歉，您没有系统权限",
        reLogin: "请重新登陆",
        loadBlueprintFail: "作品加载失败（可能此作品 从未保存过 或 从未存在）",
        saveFailRetry: "抱歉，保存失败，请重试",
        saveFail: "抱歉，系统忙碌，保存失败了...",
        saveSuccess: "保存成功",
        unloadButUnsavedCry: "您尚未保存 ！！！！！不保存则所做的修改会丢失。",
        unloadButUnsaved: "您尚未保存。",
        optSuccess: "操作成功",
        needSelected: "请选择",
        panelOpenerCollapse: "▲ 折叠选项",
        panelOpenerExpand: "▼ 展开选项",
        panelOpenerMore: "▼ 更多选项",
        inputMandatory: "必填",
        invalidFormat: "格式错误",
        numberOverflow: "数据过大",
        numberUnderflow: "数据过小",
        textOverflow: "输入文字过多",
        createProdFail: "创建失败",
        loadProdFail: "加载失败",
        downloadFail: "下载失败",
        offlineDownloadFail: "离线下载请求失败",
        confirmAddShare: "您真的要添加分享吗？",
        confirmRemoveShare: "您真的要取消分享吗？",
        confirmDelete: "您真的要删除吗？",
        deleteSuccess: "删除成功",
        saveBtnSave: "保存",
        saveBtnSaved: "已保存",
        saveBtnSaving: "保存中",
        myProd: "我的作品",
        addBtn: "添加",
        publishBtn: "分享",
        paperSettingBtn: "页面设置",
        createProdBtn: "创建图表",
        closeBtnText: "关闭",
        galleryHead: "作品集",
        publishViewWeb: "在网页上观看",
        copyToClipboard: "点击复制到剪切板",
        copyToClipboardDone: "已经复制到剪切板！",
        audit: {
            fail: "该作品审核未通过"
        },
        pagination: {
            first: "起始页",
            prev: "上一页",
            next: "下一页",
            last: "终止页"
        },
        copy: "副本",
        themeSelect: "主题选择",
        radarRangeMin: "雷达圆心对应值",
        radarRangeMax: "雷达顶点对应值",
        uploadBtnNormal: "选择文件 ...",
        uploading: "正在上传 ...",
        uploadBtnCancel: "取消",
        applyRangeThisSeries: "选项仅应用于本系列",
        applyRangeAllSeries: "选项应用于所有系列",
        dialog: {
            confirm: "确定",
            yes: "是",
            no: "否",
            save: "保存",
            dontSave: "不保存",
            cancel: "取消",
            saveFail: "保存失败",
            remove: "删除",
            confirmRemove: "您确认要删除吗？一旦删除，不可恢复。"
        },
        prodListTab: {
            myProd: "我的作品",
            publicProd: "公开的作品",
            newProd: "模板和新建"
        },
        prodItemBtnTooltip: {
            manufacture: "进入编辑视图",
            visibility: "改变可见性",
            share: "共享作品",
            preview: "预览此作品",
            duplicate: "以此为模板克隆出一个新的作品",
            remove: "删除此作品"
        },
        addSelectPanel: {
            addChart: "图表",
            addText: "文字",
            addPicture: "图片"
        },
        addChartPanel: {
            errorMsg: "哎呀，创建失败了"
        },
        addTextPanel: {
            errorMsg: "哎呀，创建失败了"
        },
        addProdPanel: {
            errorMsg: "哎呀，创建失败了"
        },
        chartEditor: {
            tabDataEditor: "数据编辑",
            tabChartConfigurer: "参数调整",
            gadgetSwitchBtn: "切换"
        },
        dataEditor: {
            exchangAxis: "交换",
            xAxis: "X轴",
            yAxis: "Y轴",
            categoryAxis: "类目轴",
            valueAxis: "数值轴",
            importExcel: "导入Excel"
        },
        textEditor: {
            dbclickToEdit: "双击开始编辑"
        },
        publish: {
            copyURLBtn: "复制URL",
            copyCodeBtn: "复制代码",
            sampleBtn: "嵌入网页示例",
            embedLabel: "嵌入到自己的网页中：",
            embedLabelPre: "将第",
            embedLabelSufCurr: "页（即当前页）",
            embedLabelSuf: "页",
            sizeByInner: "自适应内容大小",
            sizeByOuter: "自适应外壳大小",
            sizeFixed: "固定尺寸",
            widthSetting: "宽度设定：",
            heightSetting: "高度设定：",
            saveAndPublish: "保存并分享",
            title: "分享",
            already: "已",
            publicPublish: "公开分享",
            privatePublish: "私密分享",
            publicTip: "任何人都可以查看",
            privateTip: "只有分享的好友可以查看，其他人看不到",
            succCreateUrl: "成功创建分享链接~",
            publicShareHint: "您可以复制链接发送给好友，或者分享至",
            privateShareHint: "您可以复制链接和分享码发送给好友，好友输入分享码后即可查看~",
            copyPriBtn: "复制",
            preview: "预览",
            cancelShare: "取消分享",
            modify: "修改",
            ok: "确定",
            cancel: "取消",
            copyBothToClipboard: "点击复制链接和分享码到剪切板",
            link: "链接",
            code: "分享码",
            codeError: "分享码为4位字母和数字的组合，请重新输入",
            codeServerError: "修改失败，请重试",
            moreSetting: "更多设置",
            cancelShareTip: "取消分享后可以点击分享按钮重新设置分享",
            moreSettingTip: "展开嵌入网页更多设置选项"
        },
        addText: {
            hint: "请选择要添加的文本类型",
            textType: {
                title: "标题",
                charttitle: "图表标题",
                bodytext: "正文",
                quote: "引用"
            }
        },
        chartType: {
            line: "折线",
            bar: "条柱",
            scatter: "散点",
            k: "k线",
            pie: "饼",
            radar: "雷达",
            chord: "弦图",
            force: "力导",
            map: "地图",
            gauge: "仪表",
            funnel: "漏斗"
        },
        cfg: {
            theme: "主题",
            image: "图片",
            transparent: "透明",
            tile: "平铺",
            stretch: "拉伸",
            fit: "适应屏幕",
            chtcfgBase: "基础",
            chtcfgTitle: "标题",
            chtcfgPolar: "雷达",
            chtcfgGrid: "视区",
            chtcfgXAxis: "X轴",
            chtcfgXAxis0: "X轴A",
            chtcfgXAxis1: "X轴B",
            chtcfgYAxis: "Y轴",
            chtcfgYAxis0: "Y轴A",
            chtcfgYAxis1: "Y轴B",
            chtcfgLegend: "图例",
            chtcfgTooltip: "提示",
            chtcfgToolbox: "工具",
            chtcfgDataRange: "值域",
            chtcfgRoamController: "缩放",
            chtcfgDataZoom: "导航",
            left: "居左",
            right: "居右",
            top: "居上",
            bottom: "居下",
            center: "居中",
            show: "启用/禁用",
            inside: "内部",
            insideBottom: "内部下方",
            insideTop: "内部上方",
            insideLeft: "内部左方",
            insideRight: "内部右方",
            ecWgtHeight: "图的高度",
            ascending: "升序",
            descending: "降序",
            ratioColorListDesc: "输入框中可输入0到1之间的值，表示百分比",
            paperBackgroundType: "页面背景类型",
            paperBackgroundColor: "页面背景颜色",
            paperBackgroundImage: "页面背景图片",
            paperBackgroundSize: "背景展现形式",
            paperWidth: "页面宽度",
            imgSrc: "输入网络上的图片URL",
            color: "颜色",
            commonColorBlock: "通用颜色",
            fontSize: "字号",
            backgroundColor: "背景颜色",
            baseBackgroundColor: "图整体背景颜色",
            baseColorList: "系列的默认颜色列表",
            borderColor: "边框颜色",
            borderRadius: "边框圆角",
            borderWidth: "边框粗细",
            padding: "内边距",
            orientHorizontal: "水平放置",
            orientVertical: "垂直放置",
            booleanTrue: "是",
            booleanFalse: "否",
            selectedMode: "鼠标点选模式",
            selectedModeFalse: "不可选",
            selectedModeMultiple: "多选",
            selectedModeSingle: "单选",
            innerRadius: "内",
            outerRadius: "外",
            borderAttr: "边框属性",
            borderAttrSymbol: "小标志边框属性",
            paperPaddingLeft: "页面内边距（左）",
            paperPaddingRight: "页面内边距（右）",
            paperPaddingTop: "页面内边距（上）",
            paperPaddingBottom: "页面内边距（下）",
            calculable: "拖拽重计算",
            calculableEnable: "启用拖拽重计算",
            calculableColor: "拖拽重计算边框颜色",
            calculableHolderColor: "拖拽重计算占位提示颜色",
            animationBlock: "动画",
            animation: "图表初始化动画（建议IE8关闭）",
            addDataAnimation: "动态数据接口动画（建议IE8关闭）",
            animationThreshold: "阀值（图元数超此值则不出动画）",
            animationDuration: "动画时长",
            animationEasing: "动画缓动效果",
            polarType: "底盘形状",
            polorTypePolygon: "棱角型",
            polorTypeCircle: "圆环型",
            polarCenter: "圆心位置",
            polarRadius: "半径长度",
            polarStartAngle: "起始角度",
            polarSplitNumber: "环形分割数",
            polarScale: "是否聚焦到最大最小值区间",
            textStyle: "文本样式",
            textStyleColor: "文本颜色",
            textStyleDecoration: "文本修饰",
            textStyleAlign: "文本水平对齐方式",
            textStyleAlignLeft: "居左",
            textStyleAlignRight: "居右",
            textStyleAlignCenter: "居中",
            textStyleBaseline: "文本垂直对齐方式",
            textStyleBaselineTop: "居上",
            textStyleBaselineBottom: "居下",
            textStyleBaselineMiddle: "居中",
            textStyleFontFamily: "字体系列",
            textStyleFontSize: "字体大小",
            textStyleFontStyle: "字体样式",
            textStyleFontStyleNormal: "普通",
            textStyleFontStyleOblique: "倾斜文字（oblique）",
            textStyleFontStyleItalic: "斜体（italic）",
            textStyleFontWeight: "字体粗细",
            textStyleFontWeightNormal: "普通",
            textStyleFontWeightBold: "加粗",
            textStyleFontWeightBolder: "更粗",
            textStyleFontWeightLighter: "更细",
            lineStyleBlock: "线条特定样式设置",
            lineStyleColor: "线条颜色",
            lineStyleType: "线条类型",
            lineStyleTypeWithSupport: "线条类型（平滑曲线只支持实线）",
            lineStyleWidth: "线条宽度",
            lineStyleShadowColor: "光影颜色（IE7以下不支持）",
            lineStyleBlur: "光影模糊度（IE7以下不支持）",
            lineStyleShadowOffsetX: "光影横向偏移（IE7以下不支持）",
            lineStyleShadowOffsetY: "光影纵向偏移（IE7以下不支持）",
            lineStyleSolid: "实线",
            lineStyleDotted: "点状线",
            lineStyleDashed: "虚线",
            itemStyleNormal: "普通状态（normal）",
            itemStyleEmphasis: "高亮状态（emphasis）",
            itemStyleColor: "系列特定主色",
            itemStyleBorderColor: "边框颜色",
            itemStyleBorderRadius: "边框圆角",
            itemStyleBorderWidth: "边框线宽",
            itemStyleLabelBlock: "数据项标签",
            itemStyleLabelShow: "数据项标签是否显示",
            itemStyleLabelPosition: "数据项标签位置",
            itemStyleLabelLineShow: "显示标签视觉导引线",
            itemStyleLabelFormatter: "文本标签内容模板",
            itemStyleLabelDistance: "文本标签距圆心距离与半径比值",
            titleTextStyleBlock: "主标题文本样式",
            titleSubTextStyleBlock: "副标题文本样式",
            titleText: "主标题文本",
            titleLink: "主标题文本超链接",
            titleSubText: "副标题文本",
            titleSubLink: "副标题文本超链接",
            titleX: "水平安放位置",
            titleY: "垂直安放位置",
            titleTextAlign: "水平对齐方式",
            titleBackgroundColor: "标题背景颜色",
            titleBorderColor: "标题边框颜色",
            titleBorderWidth: "标题边框线宽",
            titlePadding: "标题内边距",
            titleItemGap: "主副标题纵向间隔",
            titleTextStyle: "主标题文本样式",
            titleSubTextStyle: "副标题文本样式",
            titlePositionBlock: "标题块位置",
            titleSurfaceBlock: "标题块外观",
            legendShow: "是否显示图例",
            legendOrient: "水平放置还是垂直放置",
            legendX: "水平安放位置",
            legendY: "垂直安放位置",
            legendTextAlign: "水平对齐方式",
            legendBackgroundColor: "图例背景颜色",
            legendBorderColor: "图例边框颜色",
            legendBorderWidth: "图例边框线宽",
            legendPadding: "图例内边距",
            legendItemGap: "图例各项之间间隔",
            legendItemWidth: "图例项宽度",
            legendItemHeight: "图例项高度",
            legendTextStyle: "图例文字样式",
            legendLocationBlock: "图例位置",
            legendSurfaceBlock: "图例外观",
            legendSelectedMode: "图例选择模式",
            dataRangeCfg: "值域漫游控制器",
            dataRangeMinMax: "值域范围（最小值--最大值）",
            dataRangeShow: "是否显示值域漫游控制器",
            dataRangeOrient: "水平放置还是垂直放置",
            dataRangeX: "水平安放位置",
            dataRangeY: "垂直安放位置",
            dataRangeBgColor: "控制器背景颜色",
            dataRangeBorderColor: "控制器边框主色",
            dataRangeBorderWidth: "控制器边框线宽",
            dataRangePadding: "控制器内边距",
            dataRangePrecision: "小数精度",
            dataRangeItemWidth: "控制器宽度",
            dataRangeItemHeight: "控制器每项高度",
            dataRangeItemGap: "各项间隔（启用“漫游”时无效）",
            dataRangeSplitNumber: "分割段数（启用“漫游”时无效）",
            dataRangeCalculable: "是否启用“漫游”（自动等分百份）",
            dataRangeSurfaceBlock: "控制器外观",
            dataRangeLocBlock: "控制器位置",
            dataRangeColorList: "控制器颜色列表",
            dataRangeText: "控制器两端文字",
            dataRangeTextStyle: "控制器文字样式",
            positionX: "左上角横坐标（x1）",
            positionY: "左上角纵坐标（y1）",
            positionX2: "右下角横坐标（x2）",
            positionY2: "右下角纵坐标（y2）",
            positionWidth: "宽度（启用此项则x2失效）",
            positionHeight: "高度（启用此项则y2失效）",
            gridBackgroundColor: "绘图区域背景颜色",
            gridBorderColor: "绘图区域边框颜色",
            gridBorderWidth: "绘图区域边框线宽",
            gridSurfaceBlock: "直角坐标系绘图区域外观（仅直角坐标系有效）",
            gridPositionBlock: "直角坐标系绘图区域位置（仅直角坐标系有效）",
            gridSetWhere: "（网格线相关设置请到“x轴”、“y轴”的“隔线”、“隔区”中进行）",
            tooltipShow: "是否使用提示",
            tooltipShowContent: "是否显示图例主体内容",
            tooltipTextStyle: "提示文本样式",
            tooltipTriggerType: "提示触发点",
            triggerAtItem: "在项上触发（item）",
            triggerAtAxis: "在轴上触发（axis）",
            axisPointerType: "坐标轴指示器类型",
            axisPointerTypeLine: "提示线",
            axisPointerTypeShadow: "提示阴影",
            axisPointerTypeNone: "无",
            colorPickerTitle: "请选择颜色",
            areaStyleBlock: "区域特定样式设置",
            areaStyleColor: "区域填充颜色自定义",
            areaStyleType: "区域是否填充默认颜色",
            areaStyleTypeFill: "填充",
            showDelay: "显示延迟",
            hideDelay: "隐藏延迟",
            transitionDuration: "动画变换时长",
            tooltipFormatter: "普通提示模板",
            tooltipIslandFormatter: "孤岛提示模板（用于拖拽重计算）",
            tooltipFormatterBlock: "格式模板",
            tooltipSurfaceBlock: "提示外观",
            tooltipPointerBlock: "提示的指示器设置",
            tooltipAxisPointerType: "提示的指示器类型",
            tooltipAxisPointerLineStyle: "提示线样式设置（类型为“提示线”时有效）",
            tooltipAxisPointerAreaStyle: "提示阴影样式设置（类型为“提示阴影”时有效）",
            tooltipAxisAnimationBlock: "延时和动画",
            toolboxShow: "是否显示工具箱",
            toolboxOrient: "水平放置还是垂直放置",
            toolboxX: "水平安放位置",
            toolboxY: "垂直安放位置",
            toolboxTextAlign: "水平对齐方式",
            toolboxBackgroundColor: "工具箱背景颜色",
            toolboxBorderColor: "工具箱边框颜色",
            toolboxBorderWidth: "工具箱边框线宽",
            toolboxPadding: "工具箱内边距",
            toolboxItemGap: "工具箱各项之间间隔",
            toolboxItemSize: "工具箱每项的大小",
            toolboxTextStyle: "工具箱文字样式",
            toolboxShowTitle: "鼠标放上时是否显示文字提示",
            toolboxSelectedMode: "工具箱选择模式",
            toolboxLocationBlock: "工具箱位置",
            toolboxSurfaceBlock: "工具箱外观",
            toolboxTextTooltipBlock: "鼠标放上时的提示文字设置",
            toolboxFnBlock: "功能按钮设定",
            toolboxFnMark: "绘制辅助线功能按钮",
            toolboxFnDataZoom: "选区缩放功能按钮",
            toolboxFnDataView: "切换至数据视图按钮",
            toolboxFnMagicType: "折柱切换按钮",
            toolboxFnRestore: "还原按钮",
            toolboxFnSaveAsImage: "保存为图片按钮",
            axisType: "坐标轴类型",
            axisTypeCategory: "类目轴",
            axisTypeValue: "数值轴",
            axisPosition: "坐标轴位置",
            axisName: "坐标轴名称",
            axisNameLocation: "坐标轴名称位置",
            axisNameLocationStart: "位于开端",
            axisNameLocationEnd: "位于末端",
            axisNameTextStyle: "坐标轴名称文字样式",
            axisScale: "坐标轴显示区间策略",
            axisScaleTrue: "根据最大最小值自适应",
            axisScaleFalse: "总是包含0值",
            axisMin: "坐标轴最小值",
            axisMax: "坐标轴最大值",
            axisBoundaryGap: "类目起始和结束两端空白策略",
            axisBoundaryGapTrue: "留空",
            axisBoundaryGapFalse: "顶头",
            axisSplitNumber: "分割段数",
            axisLineShow: "轴线是否显示",
            axisTickShow: "坐标轴刻度是否显示",
            axisTickInterval: "刻度显示间隔",
            axisTickInside: "刻度位置",
            axisTickInsideTrue: "在内部",
            axisTickInsideFalse: "在外部",
            axisTickLength: "刻度长度",
            axisLabelShow: "坐标轴文本标签是否显示",
            axisLabelInterval: "坐标轴文本标签显示间隔",
            axisLabelRotate: "坐标轴文本标签旋转角度",
            axisLabelMargin: "坐标轴文本标签与坐标轴的间距",
            axisLabelTextStyle: "坐标轴文本标签文本样式",
            axisLabelFormatter: "坐标轴文本标签内容模板",
            splitLineShow: "网格线是否显示",
            splitLineOnGap: "网格线间隔",
            splitAreaShow: "网格区域是否显示",
            splitAreaOnGap: "网格区域间隔",
            roamCtrlCfg: "缩放/漫游控制器",
            roamCtrlShow: "是否显示缩放漫游控制器",
            roamCtrlLocBlock: "控制器位置",
            roamCtrlSurfaceBlock: "控制器外观",
            romeCtrlOtherBlock: "其他",
            romeCtrlStep: "四方向移动步伐大小",
            roamCtrlBgColor: "控制器背景色",
            roamCtrlBorderColor: "控制器边框颜色",
            roamCtrlBorderWidth: "控制器边框宽度",
            roamCtrlPadding: "控制器内边距",
            roamCtrlFillerColor: "控制器文字填充色",
            roamCtrlHandleColor: "控制器手柄颜色",
            markLineBlock: "标线设置",
            markLineShow: "显示标线",
            markPointBlock: "数据标注设置",
            markPointShow: "显示数据标注",
            seriesChartType: "系列的图形类型",
            seriesXAxisIndex: "多X轴时本系列使用哪个X轴",
            seriesYAxisIndex: "多Y轴时本系列使用哪个Y轴",
            seriesStack: "堆积命名（同名系列会被堆积）",
            seriesShowAllSymbol: "小标志图形是否不随主轴标签间隔隐藏",
            seriesSmooth: "折线转为平滑曲线",
            seriesScatterLarge: "启动大规模散点图",
            seriesSymbolBlock: "小标志设置",
            seriesSymbol: "小标志图形",
            seriesSymbolSize: "小标志大小",
            seriesSymbolHeart: "心形",
            seriesSymbolDroplet: "水滴",
            seriesSymbolPin: "标注",
            seriesSymbolArrow: "箭头",
            seriesSymbolStar: "星星",
            seriesSymbolCircle: "圆",
            seriesSymbolRectangle: "矩形",
            seriesSymbolTriangle: "三角形",
            seriesSymbolDiamond: "菱形",
            seriesSymbolEmptyCircle: "空心圆",
            seriesSymbolEmptyRectangle: "空心矩形",
            seriesSymbolEmptyTriangle: "空心三角",
            seriesSymbolEmptyDiamond: "空心菱形",
            seriesSymbolRotate: "小标志图形旋转角度",
            seriesBarBlock: "柱外观设置（针对本系列）",
            seriesBarGap: "同类目柱间距离",
            seriesBarCategoryGap: "不同类目柱间距离",
            seriesBarMinHeight: "柱条最小高度",
            seriesBarWidth: "柱条宽度",
            seriesPieBlock: "饼图设置（针对本系列）",
            seriesPieCenter: "饼图圆心坐标",
            seriesPieRadius: "饼图半径",
            seriesPieStartAngle: "饼图起始角度",
            seriesPieMinAngle: "饼图最小角度",
            seriesRoseType: "南丁格尔玫瑰图模式",
            seriesRoseTypeRadius: "半径模式",
            seriesRoseTypeArea: "面积模式",
            seriesPieSelectedOffset: "选中时扇区偏移量",
            seriesPieSectionColorSetTip: "扇型的自定义颜色设置：请在 “通用” -> “系列默认的颜色列表” 中进行",
            baseBubbleBlock: "气泡图设置（针对整图）",
            seriesBubbleBlock: "气泡图设置（针对本系列）",
            seriesBubbleSymbolSize: "气泡半径范围",
            seriesBubbleSymbolSizeDelta: "半径比率（值×比率=半径）",
            seriesBubbleSymbolSizeMin: "最小值",
            seriesBubbleSymbolSizeMax: "最大值",
            seriesBubbleSymbolShape: "气泡形状",
            seriesBubbleSymbolRotate: "气泡旋转角度",
            seriesMapBlock: "地图设置（针对本系列）",
            seriesMapType: "地图选择",
            seriesMapTypeCurr: "本系列地图：",
            seriesMapHoverable: "是否鼠标浮过时高亮",
            seriesMapLocationX: "地图位置X坐标",
            seriesMapLocationY: "地图位置Y坐标",
            seriesMapLocationWidth: "地图宽度",
            seriesMapLocationHeight: "地图高度",
            seriesMapValueCal: "地图数值计算方式",
            seriesMapValueCalSum: "加和",
            seriesMapValueCalAverage: "均值",
            seriesMapValuePrecision: "计算均值时结果小数精度",
            seriesMapShowLegendSymbol: "是否显示图例颜色标识",
            seriesMapRoam: "是否开启滚轮缩放和拖拽漫游",
            seriesMapRoamFalse: "全关闭",
            seriesMapRoamTrue: "全开启",
            seriesMapRoamScale: "只开启滚轮缩放",
            seriesMapRoamMove: "只开启拖拽漫游",
            seriesFunnelBlock: "漏斗图设置（针对本系列）",
            seriesFunnelPositionBlock: "漏斗位置（针对本系列）",
            seriesFunnelSort: "数据排序方式",
            seriesFunnelGap: "漏斗条的间距",
            seriesGaugeValueBlock: "仪表盘数值相关设置",
            seriesGaugeMinMax: "值域范围（最小值--最大值）",
            seriesGaugeSplitNumber: "分割段数",
            seriesGaugePrecision: "小数精度",
            seriesGaugeBaseBlock: "仪表盘基础设置",
            seriesGaugeRatioColor: "仪表盘颜色",
            seriesGaugeCenter: "圆心坐标",
            seriesGaugeRadius: "半径",
            seriesGaugeStartAngle: "起始角度",
            seriesGaugeEndAngle: "结束角度",
            seriesGaugeTitleBlock: "盘内标题设置",
            seriesGaugeTitleShow: "盘内标题是否显示",
            seriesGaugeTitleOffsetCenter: "盘内标题位置（偏移量）",
            seriesGaugeDetailBlock: "仪表盘数据描述设置",
            seriesGaugeDetailShow: "数据描述是否显示",
            seriesGaugeDetailBgColor: "数据描述背景颜色",
            seriesGaugeDetailBorderWidth: "数据表述边框线宽",
            seriesGaugeDetailBorderColor: "数据表述边框颜色",
            seriesGaugeDetailWidth: "数据描述宽度",
            seriesGaugeDetailHeight: "数据描述高度",
            seriesGaugeDetailOffsetCenter: "数据描述位置",
            seriesGaugeDetailFormatter: "数据描述内容模板",
            seriesGaugeAxisLabelBlock: "仪表盘刻度文字设置",
            seriesGaugeAxisLabelShow: "刻度文字是否显示",
            seriesGaugeAxisLabelFormatter: "刻度文字内容模板",
            seriesGaugeAxisLineBlock: "仪表盘轮廓线设置",
            seriesGaugeAxisLineShow: "轮廓线是否显示",
            seriesGaugeAxisTickBlock: "仪表盘刻度线设置",
            seriesGaugeAxisTickShow: "刻度线是否显示",
            seriesGaugeAxisTickLength: "刻度线长度",
            seriesGaugeAxisTickSplitNumber: "刻度线分隔段数",
            seriesGaugeSplitLineBlock: "仪表盘主分割线设置",
            seriesGaugeSplitLineShow: "主分隔线是否显示",
            seriesGaugeSplitLineLength: "主分隔线长度",
            seriesGaugePointerBlock: "仪表盘指针设置",
            seriesGaugePointerLength: "仪表盘指针长度",
            seriesGaugePointerWidth: "仪表盘指针宽度",
            seriesKBarWidth: "K线图蜡烛宽度",
            seriesKBarMaxWidth: "K线图蜡烛最大宽度"
        }
    },
    l = {
        confirmRemovePaper: "您确认要删除" + t("此页面") + "吗？一旦删除，不可恢复。",
        editItemToOn: "点击则开启此项的" + t("自定义设定"),
        editItemToOff: "关闭此项则使用" + t("图表的默认设定"),
        switchGadgetTooltip: t("数据类型切换") + "（共&nbsp;" + t("#{gadgetCount}") + "&nbsp;种数据类型可以选择）",
        subSwitchGadgetTooltip: t("子数据类型切换") + "（共&nbsp;" + t("#{gadgetCount}") + "&nbsp;种数据类型可以选择）",
        uploadInvalidFileType: "错误：您选择的文件类型不被支持<br />（只支持：" + t("#{fileTypes}") + "）",
        uploadOverMaxFileSize: "错误：文件过大（文件大小不可超过" + t("#{fileSize}") + "）",
        uploadFail: "错误：上传失败",
        publishWidthAdaptInner: "选择此项时须保证：" + t("“页面设置”") + "->" + t("“页面宽度”") + "有进行设置",
        publishWidthFixed: "宽度固定",
        publishHeightFixed: "高度固定",
        publishWidthByOuter: "宽度自适应外壳（如浏览器窗口）大小，注意选择此项时" + t("不要勾选") + "“页面设置” -> “页面宽度”",
        publishHeightByInner: "高度自适应内容大小",
        applyRangeThisSeriesDesc: t("不同系列") + "设定" + t("不同地图") + "时，选择此项",
        commonFormatter: "模板中可以试试看“{a} {b} {c} {d} {e}”这些变量",
        valueFormatter: "模板中可以使用“{value}”获得当前量值",
        smileFace: '&nbsp;<div class="global-smile-face"></div>&nbsp;&nbsp;&nbsp;',
        badFace: '&nbsp;<div class="global-sad-face"></div>&nbsp;&nbsp;&nbsp;'
    },
    h = l.opTooltipDesc = {};
    return h[r.DATA_EDIT] = "编辑本块的数据",
    h[r.SELF_EDIT] = "设置本块的属性",
    h[r.CONF_EDIT] = "调整本块的参数",
    h[r.DRAG] = "在此按钮上 按住鼠标进行拖动",
    h[r.LAY_MANNER_TO_ABS] = '变为<span style="color:#FFEA00">按坐标</span>的定位方式',
    h[r.LAY_MANNER_TO_DOC] = "变为自然定位方式",
    h[r.RESIZE] = "修改尺寸",
    h[r.REMOVE] = "删除本块",
    function() {
        s.string = a,
        e(s.html, a, !0),
        e(s.html, l, !1)
    } (),
    s
}),
define("common/core/ajaxConfig", ["require", "common/core/ajax", "common/core/lib", "common/core/lang"],
function(require) {
    var e = require("common/core/ajax"),
    t = require("common/core/lib"),
    i = require("common/core/lang"),
    n = window.alert,
    o = {},
    r = o.EjsonErrorHandler = {
        10001 : function(e) {
            location.href = (e.data || {}).loginUrl
        }
    };
    o.setAlertFn = function(e) {
        n = e
    };
    var s = o.makeShowExtMessge = function(e) {
        return " [信息：" + t.encodeHTML("(" + e.status + ") " + e.statusInfo) + "]"
    };
    return e.DEFAULT_ERROR_HANDLER = function(e, t) {
        if ("ejsonerror" === t) {
            var o = e.ejson || {},
            a = r[o.status];
            if (a) a(o);
            else n(i.string.someError + s(o))
        } else n(i.string.someError)
    },
    e.DEFAULT_PARAM = function() {
        var e = new Date;
        return {
            _ctm: e.getTime(),
            _ctmzn: e.getTimezoneOffset()
        }
    },
    e.SHOW_WAITING_HANDLER = function() {
        t.globalDisable(!0)
    },
    e.HIDE_WAITING_HANDLER = function() {
        t.globalDisable(!1)
    },
    o
}),
function(e) {
    function t(e, t) {
        for (var i in t) if (t.hasOwnProperty(i)) e[i] = t[i];
        return e
    }
    function i() {
        this.raw = [],
        this.length = 0
    }
    function n() {
        return "___" + T++
    }
    function o(e, t) {
        var i = new Function;
        i.prototype = t.prototype,
        e.prototype = new i,
        e.prototype.constructor = e
    }
    function r(e) {
        return I[e]
    }
    function s(e) {
        return '"' + e.replace(/\x5C/g, "\\\\").replace(/"/g, '\\"').replace(/\x0A/g, "\\n").replace(/\x09/g, "\\t").replace(/\x0D/g, "\\r") + '"'
    }
    function a(e) {
        return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,
        function(e) {
            return "\\" + e
        })
    }
    function l(e) {
        var t = arguments;
        return e.replace(/\{([0-9]+)\}/g,
        function(e, i) {
            return t[i - 0 + 1]
        })
    }
    function h(e) {
        return e = e.replace(/^\s*\*/, ""),
        l('gv({0},["{1}"])', s(e), e.replace(/\[['"]?([^'"]+)['"]?\]/g,
        function(e, t) {
            return "." + t
        }).split(".").join('","'))
    }
    function c(e, t, i, n, o, r) {
        for (var s = i.length,
        a = e.split(t), l = 0, h = [], c = 0, u = a.length; u > c; c++) {
            var d = a[c];
            if (c) {
                var f = 1;
                for (l++;;) {
                    var p = d.indexOf(i);
                    if (0 > p) {
                        h.push(l > 1 && f ? t: "", d);
                        break
                    }
                    if (l = n ? l - 1 : 0, h.push(l > 0 && f ? t: "", d.slice(0, p), l > 0 ? i: ""), d = d.slice(p + s), f = 0, 0 === l) break
                }
                if (0 === l) o(h.join("")),
                r(d),
                h = []
            } else d && r(d)
        }
        if (l > 0 && h.length > 0) r(t),
        r(h.join(""))
    }
    function u(e, t, i) {
        var n, o = [],
        r = t.options,
        a = "",
        l = "",
        d = "",
        f = "";
        if (i) a = "ts(",
        l = ")",
        d = A,
        f = M,
        n = r.defaultFilter;
        return c(e, r.variableOpen, r.variableClose, 1,
        function(e) {
            if (i && e.indexOf("|") < 0 && n) e += "|" + n;
            var r = e.indexOf("|"),
            s = (r > 0 ? e.slice(0, r) : e).replace(/^\s+/, "").replace(/\s+$/, ""),
            c = r > 0 ? e.slice(r + 1) : "",
            p = 0 === s.indexOf("*"),
            m = [p ? "": a, h(s), p ? "": l];
            if (c) {
                c = u(c, t);
                for (var g = c.split("|"), y = 0, v = g.length; v > y; y++) {
                    var b = g[y];
                    if (/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(b)) {
                        if (m.unshift('fs["' + RegExp.$1 + '"]('), RegExp.$3) m.push(",", RegExp.$3);
                        m.push(")")
                    }
                }
            }
            o.push(d, m.join(""), f)
        },
        function(e) {
            o.push(d, i ? s(e) : e, f)
        }),
        o.join("")
    }
    function d(e, t) {
        this.value = e,
        this.engine = t
    }
    function f(e, t) {
        this.value = e,
        this.engine = t,
        this.children = [],
        this.cloneProps = []
    }
    function p(e, t) {
        var i = e.stack,
        n = t ? i.find(function(e) {
            return e instanceof t
        }) : i.bottom();
        if (n) {
            for (var o; (o = i.top()) !== n;) {
                if (!o.autoClose) throw new Error(o.type + " must be closed manually: " + o.value);
                o.autoClose(e)
            }
            n.close(e)
        }
        return n
    }
    function m(e, t) {
        if (!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e)) throw new Error("Invalid " + this.type + " syntax: " + e);
        this.master = RegExp.$3,
        this.name = RegExp.$1,
        f.call(this, e, t),
        this.blocks = {}
    }
    function g(e, t) {
        if (!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e)) throw new Error("Invalid " + this.type + " syntax: " + e);
        this.name = RegExp.$1,
        f.call(this, e, t),
        this.cloneProps = ["name"]
    }
    function y(e, t) {
        if (!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e)) throw new Error("Invalid " + this.type + " syntax: " + e);
        this.name = RegExp.$1,
        f.call(this, e, t),
        this.cloneProps = ["name", "state", "blocks"],
        this.blocks = {}
    }
    function v(e, t) {
        if (!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e)) throw new Error("Invalid " + this.type + " syntax: " + e);
        this.name = RegExp.$1,
        this.expr = RegExp.$2,
        f.call(this, e, t),
        this.cloneProps = ["name", "expr"]
    }
    function b(e, t) {
        if (!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e)) throw new Error("Invalid " + this.type + " syntax: " + e);
        this.name = RegExp.$1,
        this.args = RegExp.$3,
        f.call(this, e, t),
        this.cloneProps = ["name", "args"]
    }
    function x(e, t) {
        if (!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e)) throw new Error("Invalid " + this.type + " syntax: " + e);
        this.name = RegExp.$1,
        this.args = RegExp.$3,
        f.call(this, e, t),
        this.cloneProps = ["name", "args"]
    }
    function _(e, t) {
        var i = new RegExp(l("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$", a(t.options.variableOpen), a(t.options.variableClose)), "i");
        if (!i.test(e)) throw new Error("Invalid " + this.type + " syntax: " + e);
        this.list = RegExp.$1,
        this.item = RegExp.$2,
        this.index = RegExp.$4,
        f.call(this, e, t),
        this.cloneProps = ["list", "item", "index"]
    }
    function w(e, t) {
        f.call(this, e, t)
    }
    function V(e, t) {
        w.call(this, e, t)
    }
    function U(e, t) {
        f.call(this, e, t)
    }
    function k(e, t) {
        t.target = e;
        var i = t.engine,
        n = e.name;
        if (i.targets[n]) switch (i.options.namingConflict) {
        case "override":
            i.targets[n] = e,
            t.targets.push(n);
        case "ignore":
            break;
        default:
            throw new Error("Target exists: " + n)
        } else i.targets[n] = e,
        t.targets.push(n)
    }
    function C(e, t) {
        X[e] = t,
        t.prototype.type = e
    }
    function S(e) {
        this.options = {
            commandOpen: "<!--",
            commandClose: "-->",
            commandSyntax: /^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,
            variableOpen: "${",
            variableClose: "}",
            defaultFilter: "html"
        },
        this.config(e),
        this.targets = {},
        this.filters = t({},
        E)
    }
    function L(e, t) {
        function n() {
            var e;
            if (u.length > 0 && (e = u.join(""))) {
                var i = new d(e, t);
                if (i.beforeAdd(h), l.top().addChild(i), u = [], t.options.strip && h.current instanceof f) i.value = e.replace(/^[\x20\t\r]*\n/, "");
                h.current = i
            }
        }
        var o, r = t.options.commandOpen,
        s = t.options.commandClose,
        a = t.options.commandSyntax,
        l = new i,
        h = {
            engine: t,
            targets: [],
            stack: l,
            target: null
        },
        u = [];
        return c(e, r, s, 0,
        function(e) {
            var i = a.exec(e);
            if (i && (o = X[i[2].toLowerCase()]) && "function" == typeof o) {
                n();
                var l = h.current;
                if (t.options.strip && l instanceof d) l.value = l.value.replace(/\r?\n[\x20\t]*$/, "\n");
                if (i[1]) l = p(h, o);
                else {
                    if (l = new o(i[3], t), "function" == typeof l.beforeOpen) l.beforeOpen(h);
                    l.open(h)
                }
                h.current = l
            } else if (!/^\s*\/\//.test(e)) u.push(r, e, s);
            o = null
        },
        function(e) {
            u.push(e)
        }),
        n(),
        p(h),
        h.targets
    }
    i.prototype = {
        push: function(e) {
            this.raw[this.length++] = e
        },
        pop: function() {
            if (this.length > 0) {
                var e = this.raw[--this.length];
                return this.raw.length = this.length,
                e
            }
        },
        top: function() {
            return this.raw[this.length - 1]
        },
        bottom: function() {
            return this.raw[0]
        },
        find: function(e) {
            for (var t = this.length; t--;) {
                var i = this.raw[t];
                if (e(i)) return i
            }
        }
    };
    var T = 178245,
    I = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
    },
    E = {
        html: function(e) {
            return e.replace(/[&<>"']/g, r)
        },
        url: encodeURIComponent,
        raw: function(e) {
            return e
        }
    },
    W = 'var r="";',
    A = "r+=",
    M = ";",
    D = "return r;";
    if ("undefined" != typeof navigator && /msie\s*([0-9]+)/i.test(navigator.userAgent) && RegExp.$1 - 0 < 8) W = "var r=[],ri=0;",
    A = "r[ri++]=",
    D = 'return r.join("");';
    d.prototype = {
        getRendererBody: function() {
            var e = this.value,
            t = this.engine.options;
            if (!e || t.strip && /^\s*$/.test(e)) return "";
            else return u(e, this.engine, 1)
        },
        clone: function() {
            return this
        }
    },
    f.prototype = {
        addChild: function(e) {
            this.children.push(e)
        },
        open: function(e) {
            var t = e.stack.top();
            t && t.addChild(this),
            e.stack.push(this)
        },
        close: function(e) {
            if (e.stack.top() === this) e.stack.pop()
        },
        getRendererBody: function() {
            for (var e = [], t = this.children, i = 0; i < t.length; i++) e.push(t[i].getRendererBody());
            return e.join("")
        },
        clone: function() {
            for (var e = new this.constructor(this.value, this.engine), t = 0, i = this.children.length; i > t; t++) e.addChild(this.children[t].clone());
            for (var t = 0,
            i = this.cloneProps.length; i > t; t++) {
                var n = this.cloneProps[t];
                e[n] = this[n]
            }
            return e
        }
    };
    var P = 'data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';
    o(m, f),
    o(g, f),
    o(y, f),
    o(v, f),
    o(b, f),
    o(x, f),
    o(_, f),
    o(w, f),
    o(V, w),
    o(U, w);
    var O = {
        READING: 1,
        READED: 2,
        APPLIED: 3,
        READY: 4
    };
    y.prototype.applyMaster = m.prototype.applyMaster = function(e) {
        function t(e) {
            var n = e.children;
            if (n instanceof Array) for (var o = 0,
            r = n.length; r > o; o++) {
                var s = n[o];
                if (s instanceof g && i[s.name]) s = n[o] = i[s.name];
                t(s)
            }
        }
        if (this.state >= O.APPLIED) return 1;
        var i = this.blocks,
        n = this.engine.targets[e];
        if (n && n.applyMaster(n.master)) return this.children = n.clone().children,
        t(this),
        this.state = O.APPLIED,
        1;
        else return void 0
    },
    m.prototype.isReady = function() {
        function e(n) {
            for (var o = 0,
            r = n.children.length; r > o; o++) {
                var s = n.children[o];
                if (s instanceof y) {
                    var a = t.targets[s.name];
                    i = i && a && a.isReady(t)
                } else if (s instanceof f) e(s)
            }
        }
        if (this.state >= O.READY) return 1;
        var t = this.engine,
        i = 1;
        if (this.applyMaster(this.master)) return e(this),
        i && (this.state = O.READY),
        i;
        else return void 0
    },
    m.prototype.getRenderer = function() {
        if (this.renderer) return this.renderer;
        if (this.isReady()) {
            var e = new Function("data", "engine", [P, W, this.getRendererBody(), D].join("\n")),
            t = this.engine;
            return this.renderer = function(i) {
                return e(i, t)
            },
            this.renderer
        }
        return null
    },
    m.prototype.open = function(e) {
        p(e),
        f.prototype.open.call(this, e),
        this.state = O.READING,
        k(this, e)
    },
    v.prototype.open = x.prototype.open = function(e) {
        e.stack.top().addChild(this)
    },
    g.prototype.open = function(e) {
        f.prototype.open.call(this, e),
        (e.imp || e.target).blocks[this.name] = this
    },
    V.prototype.open = function(e) {
        var t = new U;
        t.open(e);
        var i = p(e, w);
        i.addChild(this),
        e.stack.push(this)
    },
    U.prototype.open = function(e) {
        var t = p(e, w);
        t.addChild(this),
        e.stack.push(this)
    },
    y.prototype.open = function(e) {
        this.parent = e.stack.top(),
        this.target = e.target,
        f.prototype.open.call(this, e),
        this.state = O.READING,
        e.imp = this
    },
    x.prototype.close = v.prototype.close = function() {},
    y.prototype.close = function(e) {
        f.prototype.close.call(this, e),
        this.state = O.READED,
        e.imp = null
    },
    m.prototype.close = function(e) {
        f.prototype.close.call(this, e),
        this.state = this.master ? O.READED: O.APPLIED,
        e.target = null
    },
    y.prototype.autoClose = function(e) {
        var t = this.parent.children;
        t.push.apply(t, this.children),
        this.children.length = 0;
        for (var i in this.blocks) this.target.blocks[i] = this.blocks[i];
        this.blocks = {},
        this.close(e)
    },
    x.prototype.beforeOpen = y.prototype.beforeOpen = v.prototype.beforeOpen = _.prototype.beforeOpen = b.prototype.beforeOpen = g.prototype.beforeOpen = w.prototype.beforeOpen = d.prototype.beforeAdd = function(e) {
        if (!e.stack.bottom()) {
            var t = new m(n(), e.engine);
            t.open(e)
        }
    },
    y.prototype.getRendererBody = function() {
        return this.applyMaster(this.name),
        f.prototype.getRendererBody.call(this)
    },
    x.prototype.getRendererBody = function() {
        return l("{0}engine.render({2},{{3}}){1}", A, M, s(this.name), u(this.args, this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,
        function(e, t, i) {
            return (t || "") + s(i) + ":"
        }))
    },
    v.prototype.getRendererBody = function() {
        if (this.expr) return l("v[{0}]={1};", s(this.name), u(this.expr, this.engine));
        else return ""
    },
    w.prototype.getRendererBody = function() {
        return l("if({0}){{1}}", u(this.value, this.engine), f.prototype.getRendererBody.call(this))
    },
    U.prototype.getRendererBody = function() {
        return l("}else{{0}", f.prototype.getRendererBody.call(this))
    },
    _.prototype.getRendererBody = function() {
        return l('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}', n(), u(this.list, this.engine), s(this.index || n()), s(this.item), n(), n(), f.prototype.getRendererBody.call(this))
    },
    b.prototype.getRendererBody = function() {
        var e = this.args;
        return l("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}", W, D, A, M, f.prototype.getRendererBody.call(this), s(this.name), e ? "," + u(e, this.engine) : "")
    };
    var X = {};
    C("target", m),
    C("block", g),
    C("import", y),
    C("use", x),
    C("var", v),
    C("for", _),
    C("if", w),
    C("elif", V),
    C("else", U),
    C("filter", b),
    S.prototype.config = function(e) {
        t(this.options, e)
    },
    S.prototype.compile = S.prototype.parse = function(e) {
        if (e) {
            var t = L(e, this);
            if (t.length) return this.targets[t[0]].getRenderer()
        }
        return new Function('return ""')
    },
    S.prototype.getRenderer = function(e) {
        var t = this.targets[e];
        if (t) return t.getRenderer();
        else return void 0
    },
    S.prototype.render = function(e, t) {
        var i = this.getRenderer(e);
        if (i) return i(t);
        else return ""
    },
    S.prototype.addFilter = function(e, t) {
        if ("function" == typeof t) this.filters[e] = t
    };
    var N = new S;
    if (N.Engine = S, "object" == typeof exports && "object" == typeof module) exports = module.exports = N;
    else if ("function" == typeof define && define.amd) define("etpl", [], N);
    else e.etpl = N
} (this),
define("common/core/tpl", ["require", "etpl", "common/core/lib"],
function(require) {
    function e(e) {
        for (var t = !1,
        i = !1,
        o = 1; o < arguments.length; o++)"raw" === arguments[o] && (t = !0),
        "null" === arguments[o] && (i = !0);
        if (null == e && !i) e = "";
        if (n.obTypeOf(e)) e = e();
        return e = String(e),
        t ? e: n.encodeHTML(e)
    }
    function t(e) {
        if (null == e) e = "";
        return String(e).replace(/^option\./, "")
    }
    var i = require("etpl"),
    n = require("common/core/lib"),
    o = {};
    return i.config({
        commandOpen: "{{",
        commandClose: "}}",
        defaultFilter: "ob"
    }),
    i.addFilter("ob", e),
    i.addFilter("dsp", t),
    o.render = function(e, t, n) {
        if (!i.getRenderer(e) && n) i.compile(n);
        return i.render(e, t || {})
    },
    o
}),
define("common/component/Component", ["require", "jquery", "common/core/lib", "common/core/lang", "common/core/constant", "common/core/tpl", "common/core/url", "common/core/log"],
function(require) {
    function e() {
        function e(e) {
            t.disabled(e)
        }
        var t = this._viewModel();
        t.visible = m.ob(!0);
        var i = t.disabled;
        if (t.disabled = m.ob(!1), null != i) this._disposable(i.subscribe(e, this))
    }
    function t(e) {
        if (e) {
            var t = V(this);
            e = t.$el = p(e),
            t.el = e[0],
            m.bindComponent(e, this),
            e.addClass(this.getFullCss().join(" "));
            var o = this._viewModel(),
            r = o.disabled,
            s = o.visible;
            this._disposable(r.subscribe(i, this)),
            this._disposable(s.subscribe(n, this)),
            i.call(this, r()),
            s("none" !== e[0].style.display)
        }
    }
    function i(e) {
        this.$el()[e ? "addClass": "removeClass"](this.getFullCss("-disabled").join(" "))
    }
    function n(e) {
        this.$el()[e ? "show": "hide"]()
    }
    function o() {
        var e = V(this).cptDef.tplTarget || this._getDefineProperty("tplTarget"),
        t = this.$el();
        if (e && t && t.length) this._renderTpl(e, null, t);
        if (!this._getDefineProperty("suppressConstructSub") && t && t.length) this._constructSub(t)
    }
    function r() {
        var e = this.$el(),
        t = V(this);
        e.off(t.eventNamespace),
        e.removeClass(this.getFullCss().join(" ")),
        t.viewModel = null,
        t.el = null,
        t.$el = null,
        t.subComponents = null,
        t.sub$Els = null,
        m.bindComponent(e, !1)
    }
    function s(e, t, i) {
        if (!i && m.isComponent(e) || i && m.isJQuery(e)) t(e);
        else if ("object" === p.type(e) && !m.isAtom(e)) for (var n in e) if (e.hasOwnProperty(n) && null != e[n]) s(e[n], t, i)
    }
    function a(e) {
        var t = V(this),
        i = t.viewModel = {},
        n = this;
        return this._traverseFromAncestor(function(e) {
            i = m.merge(i, e.defineProperties.viewModel.call(n), {
                onlyMergeOwnPropertyInTarget: !1,
                levelOneNeedMerge: null,
                clone: !1
            })
        }),
        i = m.merge(i, e, {
            onlyMergeOwnPropertyInTarget: !!this._getDefineProperty("viewModelOnlyAccessDeclaredProperties"),
            levelOneNeedMerge: t.viewModelMergeMap || {}
        }),
        t.viewModel = i,
        i
    }
    function l() {
        var e = V(this),
        t = e.viewModelPublicMap = {},
        i = e.viewModelMergeMap = {};
        this._traverseFromAncestor(function(e) {
            for (var n = e.defineProperties.viewModelPublic || [], o = 0, r = n.length; r > o; o++) t[n[o]] = 1;
            for (var s = e.defineProperties.viewModelMerge || [], o = 0, r = s.length; r > o; o++) i[s[o]] = 1
        })
    }
    function h() {
        var e = this._viewModel(),
        t = V(this),
        i = [];
        this._traverseFromAncestor(function(e) {
            var t = e.defineProperties.css;
            if (p.isArray(t)) i.push.apply(i, t);
            else if (t) i.push(t)
        }),
        t.basicCss = i;
        var n = e && e.css || [];
        if (!p.isArray(n)) n = [n];
        t.extraCss = n
    }
    function c(e) {
        return e = _.normalizePath(e),
        !!V(this).viewModelPublicMap[e]
    }
    function u(e) {
        if (e && p.isFunction(e.dispose)) try {
            e.dispose()
        } catch(t) {
            if (y.debug) throw t;
            else x.error(t)
        } else if (e && m.isJQuery(e)) e.off(this._event())
    }
    function d(e) {
        if (e = e || V(this).subComponents, s(e,
        function(e) {
            try {
                e.dispose()
            } catch(t) {
                if (y.debug) throw t;
                else x.error(t)
            }
        }), !m.isAtom(e)) for (var t in e) if (e.hasOwnProperty(t)) e[t] = null
    }
    function f(e) {
        e = e || V(this).sub$els;
        var t = this._event();
        if (s(e,
        function(e) {
            e.off(t)
        },
        !0), !m.isAtom(e)) for (var i in e) if (e.hasOwnProperty(i)) e[i] = null
    }
    var p = require("jquery"),
    m = require("common/core/lib"),
    g = require("common/core/lang"),
    y = require("common/core/constant"),
    v = require("common/core/tpl"),
    b = require("common/core/url"),
    x = require("common/core/log"),
    _ = m.getByPath,
    w = m.setByPath,
    V = m.makeInner(),
    U = "cpt",
    k = "__originalHTML",
    C = V.attach(m.newClass(m.enableEvent({
        _define: {
            tpl: "",
            tplTarget: "",
            css: "",
            viewModel: function() {
                return {
                    disabled: null,
                    visible: null,
                    css: "",
                    tplTarget: null,
                    tplRenderMode: "html"
                }
            },
            viewModelPublic: ["disabled", "visible"],
            viewModelMerge: [],
            viewModelOnlyAccessDeclaredProperties: !0,
            suppressConstructSub: !1
        },
        _prepare: p.noop,
        _init: p.noop,
        _dispose: p.noop,
        _disposeFinally: p.noop,
        _run: p.noop,
        _event: function(e) {
            var t = V(this).eventNamespace;
            return (null != e ? e: "") + t
        },
        _parseViewModel: function(e) {
            return e
        },
        _parseCptDef: function(e) {
            return e
        },
        _construct: function(i, n, r) {
            if (arguments.length > 0 && m.assert(null != i), !i || p.isPlainObject(i)) r = n,
            n = i,
            i = null;
            else i = p(i);
            r = p.extend({},
            r),
            m.isComponent(this, !0);
            var s = V(this);
            s.cptDef = r,
            s.eventNamespace = ".namespace" + m.localUID(),
            s.subComponents = {},
            s.sub$Els = {},
            s.disposed = !1,
            s.cptDisposableArea = {},
            s.cptInstanceUID = "cpt-instance-" + m.localUID(),
            l.call(this),
            n = this._parseViewModel(n || {},
            r) || {},
            a.call(this, n),
            h.call(this),
            e.call(this),
            t.call(this, i),
            this._prepare(),
            o.call(this),
            this._init()
        },
        dispose: function() {
            var e = V(this);
            if (!e.disposed) {
                var t = this.el(),
                i = this[k] || "";
                this._dispose(),
                d.call(this),
                f.call(this),
                this._disposable(!1),
                r.call(this),
                this._disposeFinally(),
                t.innerHTML = i,
                e.disposed = !0
            }
        },
        _disposable: function(e, t) {
            m.assert(null != e);
            var i = V(this).cptDisposableArea;
            if (null == e) return e;
            else if (e === !1) {
                for (var n in i) if (i.hasOwnProperty(n)) u.call(this, i[n]),
                i[n] = null
            } else if ("string" === p.type(e)) u.call(this, i[e]),
            i[e] = null;
            else m.assert(p.isFunction(e.dispose) || m.isJQuery(e), "No dispose method nor not jQuery!"),
            t = t || "-component-anonymouse-disposable" + m.localUID(),
            i[t] = e;
            return e
        },
        resize: p.noop,
        _manuInitView: function(e) {
            t.call(this, e),
            this._constructSub(e)
        },
        _applyTpl: function(e, t) {
            if (t) this._renderTpl(t, null, e),
            this._constructSub(e)
        },
        _renderTpl: function(e, t, i) {
            var n = {
                viewModel: t || this._viewModel(),
                lang: g,
                constant: y,
                url: b
            },
            o = v.render(e, n, this._getDefineProperty("tpl")) || "";
            return i && p(i)[this._viewModel().tplRenderMode](o),
            o
        },
        _constructSub: function(e, t) {
            var i = p(e);
            if (m.assert(i.length), t && i.data("cpt")) this._constructSubCpt.call(this, e);
            var n = this;
            p("*[data-cpt]", i).each(function(e, t) {
                n._constructSubCpt(t)
            })
        },
        _constructSubCpt: function(e) {
            var t = p(e),
            i = e.innerHTML,
            n = this._viewModel(),
            o = this._parseCptDef(new Function("viewModel", "lib", "lang", "constant", "url", "return {" + t.data("cpt") + "};").call(this, n, m, g, y, b)),
            r = this.getCptClass(o.type),
            s = o.viewModelGet ? _(o.viewModelGet, n) : o.viewModel,
            a = new r(e, s, o);
            return a[k] = i,
            this._sub(o.name || "-sub-cpt-name-" + m.localUID(), a)
        },
        recreateSubCpt: function(e) {
            var t = this._sub(e);
            if (t) {
                var i = t.el();
                t.dispose(),
                this._sub(e, null),
                this._constructSubCpt(i)
            }
        },
        traversalRun: function(e) {
            s(V(this).subComponents,
            function(t) {
                t.traversalRun(e)
            }),
            this._run(e)
        },
        _sub: function(e, t, i) {
            var n = V(this).subComponents;
            if (arguments.length < 2) return _(e, n, _.actionChoice.notPlainReturn);
            else return w(e, t, n, i ? w.actionChoice.notPlainOverlap: w.actionChoice.notPlainThrow),
            t
        },
        _getDefineProperty: function(e) {
            return this.constructor.defineProperties[e]
        },
        el: function() {
            return V(this).el
        },
        $el: function(e, t, i) {
            var n = V(this);
            if (0 === arguments.length) return n.$el;
            if (1 === arguments.length) return _(e, n.sub$Els, _.actionChoice.notPlainReturn);
            else return w(e, t, n.sub$Els, i ? w.actionChoice.notPlainOverlap: w.actionChoice.notPlainThrow),
            t
        },
        css: function() {
            return this._getDefineProperty("css") || ""
        },
        viewModel: function(e) {
            if (c.call(this, e)) return _(e, V(this).viewModel);
            else throw new Error(e + " is private!")
        },
        _viewModel: function() {
            return V(this).viewModel
        },
        getCptClass: function(e) {
            return C.cptClasses[e]
        },
        getCptDef: function(e) {
            return V(this).cptDef[e]
        },
        uid: function() {
            return V(this).cptInstanceUID
        },
        getFullCss: function(e) {
            var t = [U],
            i = V(this);
            return t.push.apply(t, i.basicCss || []),
            t.push.apply(t, i.extraCss || []),
            p.map(t,
            function(t) {
                return t + (e || "")
            })
        },
        isDisabled: function() {
            return !! m.peek(this._viewModel().disabled)
        },
        clone: p.noop,
        _traverseFromAncestor: function(e) {
            for (var t = [], i = this.constructor; i; i = i.prototype._superClass) t.push(i);
            for (var n = t.length; n--;) e.call(this, t[n])
        },
        localOb: function(e, t) {
            m.assert(y.LocalObKey.has(e));
            var i, n = V(this),
            o = n.localObRepo || (n.localObRepo = {});
            if (arguments.length > 1) if (t === !1) i = o[e],
            delete o[e];
            else m.assert(null == o[e]),
            i = o[e] = t;
            else i = o[e];
            return i
        },
        getAncestorLocalOb: function(e) {
            m.assert(y.LocalObKey.has(e));
            for (var t, i, n = this.$el(); (n = n && n.parent())[0] && !(i = (t = m.getComponent(n)) && t.localOb(e)) && n[0] !== document.body;);
            return i
        }
    })));
    return C.cptClasses = {},
    C
}),
define("common/component/Foreach", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    function e(e) {
        d[e.key].call(this, e)
    }
    function t(e, t) {
        for (var i = this._items(), n = this._getCommonConfig("itemTplTarget"), a = this._getCommonConfig("itemTplParam"), l = this._getCommonConfig("itemType"), h = l ? this.getCptClass(l) : this.Item, c = 0, u = t.length; u > c; c++) {
            var d = t[c],
            f = this.getCptDef("itemConfigAttr");
            if (f && d) {
                var p = d[f];
                p.itemType && (h = this.getCptClass(p.itemType)),
                p.itemTplTarget && (n = p.itemTplTarget),
                p.itemTplParam && (a = p.itemTplParam)
            }
            var m = r(n ? this._renderTpl(n, r.extend({
                index: e + c,
                itemTplParam: a
            },
            d)) : "<div></div>");
            s.assert(1 === m.length, "MUST be only one root element in item "),
            o.call(this, m, e + c);
            var g = new h(m, d);
            i.splice(e + c, 0, g)
        }
    }
    function i(e, t) {
        for (var i = this._items(), n = i.splice(e, t), o = 0, r = n.length; r > o; o++) {
            var s = n[o],
            a = s.$el();
            s.dispose(),
            a.remove()
        }
    }
    function n(e, t) {
        var i = this._items(),
        n = i[e],
        o = n.$el(),
        r = i[t].$el();
        if (t > e) o.insertAfter(r);
        else o.insertBefore(r);
        i.splice(e, 1)[0],
        i.splice(t, 0, n)
    }
    function o(e, t) {
        var i = this._items();
        if (!i.length || t >= i.length) return e.appendTo(h(this).$itemsContainer);
        else return e.insertBefore(i[t].el())
    }
    var r = require("jquery"),
    s = require("common/core/lib"),
    a = require("common/component/Component"),
    l = s.obArray.ChangeKey,
    h = s.makeInner(),
    c = "-foreach-items-prop",
    u = h.attach(a.extend({
        _define: {
            viewModel: function() {
                return {
                    data: s.obArray([])
                }
            },
            viewModelPublic: ["data"],
            css: "cpt-foreach"
        },
        _prepare: function() {
            var t = this._viewModel().data;
            this._sub(c, []),
            this._setItemsContainer(),
            this._disposable(t.subscribe(e, this, "arrayChange"));
            for (var i = {
                key: l.SPLICE,
                index: 0,
                removeCount: 0,
                added: []
            },
            n = 0, o = t.peek(), r = o.length; r > n; n++) i.added.push(o[n]);
            e.call(this, i)
        },
        _dispose: function() {
            this.foreach(function(e, t) {
                t.dispose()
            })
        },
        _parseViewModel: function(e) {
            return s.assert("obArray" === s.obTypeOf(e)),
            {
                data: e
            }
        },
        foreach: function(e) {
            for (var t = this._items(), i = 0, n = t.length; n > i; i++) e(i, t[i])
        },
        getItemAt: function(e) {
            return this._items()[e]
        },
        count: function() {
            return this._viewModel().data.count()
        },
        _items: function() {
            return this._sub(c)
        },
        _setItemsContainer: function() {
            h(this).$itemsContainer = this.$el()
        },
        _getCommonConfig: function(e) {
            return this.getCptDef(e) || this._getDefineProperty(e)
        }
    })),
    d = {};
    return d[l.REMOVE] = function(e) {
        for (var t = e.indexes,
        n = 0,
        o = t.length; o > n; n++) i.call(this, t[n], 1)
    },
    d[l.SPLICE] = function(e) {
        if (e.removeCount) i.call(this, e.index, e.removeCount);
        if (e.added.length) t.call(this, e.index, e.added)
    },
    d[l.MOVE] = function(e) {
        n.call(this, e.originIndex, e.finalIndex)
    },
    u.prototype.Item = a.extend({
        _define: {
            css: "cpt-foreach-item",
            viewModelOnlyAccessDeclaredProperties: !1
        }
    }),
    u
}),
define("common/component/Button", ["require", "jquery", "common/component/Component", "common/core/lib"],
function(require) {
    var e = require("jquery"),
    t = require("common/component/Component"),
    i = require("common/core/lib"),
    n = "cpt-btn",
    o = ["click", "mouseenter", "mouseleave"],
    r = t.extend({
        _define: {
            viewModel: function() {
                return {
                    text: i.ob(""),
                    dontEncodeHTML: !1
                }
            },
            viewModelPublic: ["text"],
            css: n
        },
        _init: function() {
            function t() {
                if (!l.disabled()) if (h.addClass(u), f) h.addClass(d)
            }
            function n() {
                h.removeClass(u),
                h.removeClass(d)
            }
            function r() {
                if (!l.disabled()) h.addClass(d),
                f = !0,
                p.one(c._event("mouseup"),
                function() {
                    f = !1
                })
            }
            function s() {
                h.removeClass(d)
            }
            function a(e) {
                h.html(l.dontEncodeHTML ? e: i.encodeHTML(e))
            }
            var l = this._viewModel(),
            h = this.$el(),
            c = this,
            u = this.getFullCss("-hover").join(" "),
            d = this.getFullCss("-active").join(" "),
            f = !1,
            p = e(document);
            this._eventHandlerMap = {},
            h.on(this._event("mouseenter"), t),
            h.on(this._event("mouseleave"), n),
            h.on(this._event("mousedown"), r),
            h.on(this._event("mouseup"), s);
            var m = this;
            e.each(o,
            function(e, t) {
                h.on(m._event(t),
                function(e) {
                    m.trigger.call(m, t, e)
                })
            }),
            this._disposable(i.obSubscribe(l.text, a));
            var g = i.value(l.text);
            h.html(l.dontEncodeHTML ? g: i.encodeHTML(g))
        },
        _parseViewModel: function(e, t) {
            if (null != t.text) e.text = t.text;
            if (null != t.dontEncodeHTML) e.dontEncodeHTML = t.dontEncodeHTML;
            return e
        },
        on: function(t, n) {
            i.assert(t.indexOf(".") < 0);
            var r = this._eventHandlerMap;
            if (e.inArray(t, o) >= 0) r[t] = r[t] || [],
            r[t].push(n)
        },
        trigger: function(t, i) {
            var n = this._viewModel(),
            o = this._eventHandlerMap[t];
            if (!n.disabled()) if (o && o.length) e.each(o,
            function(t, n) {
                if (e.isFunction(n)) n.call(this, i)
            })
        },
        _dispose: function() {
            this.$el().off(),
            this._eventHandlerMap = null
        }
    });
    return r
}),
define("common/component/Tab", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    function e(e, t) {
        var i = n.getComponent(e);
        i ? i.viewModel("visible")(t) : e[t ? "show": "hide"]()
    }
    function t(e, t) {
        var i = n.getComponent(e);
        i && i.viewModel("disabled")(t)
    }
    var i = require("jquery"),
    n = require("common/core/lib"),
    o = require("common/component/Component"),
    r = n.peek,
    s = "cpt-tab",
    a = o.extend({
        _define: {
            viewModel: function() {
                return {
                    currentTab: n.ob(),
                    currentTab1: n.ob(),
                    baseCss: s,
                    tabAttr: null,
                    tabAttr1: null,
                    conAttr: null,
                    conAttr1: null
                }
            },
            viewModelPublic: ["currentTab", "currentTab1"],
            suppressConstructSub: !0,
            css: s
        },
        _prepare: function() {
            var e = this._viewModel(),
            t = e.baseCss;
            e.headItemCss = t + "-hi",
            e.currentHeadItemCss = t + "-hi-curr",
            e.headItemCss1 = t + "-hi1",
            e.currentHeadItemCss1 = t + "-hi1-curr",
            e.conItemCss = t + "-coni",
            e.headItemDisabledCss = e.headItemCss + "-disabled",
            e.conItemDisabledCss = e.conItemCss + "-disabled"
        },
        _init: function() {
            var e = this._viewModel(),
            t = e.currentTab,
            i = e.currentTab1;
            this._disposable(t.subscribe(function(e) {
                this._changeTabByModel(e, r(i))
            },
            this)),
            this._useTab1() && this._disposable(i.subscribe(function(e) {
                this._changeTabByModel(r(t), e)
            },
            this)),
            this.bind()
        },
        bind: function() {
            if (this._prop("bound")) throw new Error("It has been bound.");
            var e = this._viewModel();
            this._bindDom(),
            this._changeTabByModel(r(e.currentTab), r(e.currentTab1)),
            this._bindModelUpdater(),
            this._prop("bound", !0)
        },
        unbind: function() {
            this._removeCurrSelect(),
            this._unbindModelUpdater(),
            this._unbindDom(),
            this._prop("bound", !1)
        },
        isBound: function() {
            return this._prop("bound")
        },
        getCurrentTabKey: function() {
            return this._prop("currentTabKey")
        },
        getCurrentTabKey1: function() {
            return this._prop("currentTabKey1")
        },
        hasTab: function(e, t) {
            return !! this._getTabWrap(e, t)
        },
        setTabDisabled: function(e, i, n) {
            var o = this._viewModel(),
            r = this._getTabWrap(i, n);
            r.$tabEl[e ? "addClass": "removeClass"](o.headItemDisabledCss),
            r.$conEl[e ? "addClass": "removeClass"](o.conItemDisabledCss),
            t(r.$conEl, e)
        },
        isTabDisabled: function(e, t) {
            var i = this._getTabWrap(e, t);
            return i ? i.$tabEl.hasClass(this._viewModel().headItemDisabledCss) : null
        },
        setTabLabel: function(e, t) {
            var i = this._prop("tabWraps");
            i[e].$tabEl[0].innerHTML = t
        },
        _bindDom: function() {
            var t = this._prop("tabWraps", {}),
            n = this.$el(),
            o = this._viewModel(),
            r = o.tabAttr,
            s = o.tabAttr1,
            a = o.conAttr,
            l = o.conAttr1,
            h = this._useTab1(),
            c = n.find("*[data-" + r + "]"),
            u = h && n.find("*[data-" + s + "]"),
            d = n.find("*[data-" + o.conAttr + "]");
            c.each(function(e, n) {
                var a = i(n);
                if (a.addClass(o.headItemCss), !h) t[a.data(r)] = {
                    $tabEl: a
                };
                else u.each(function(e, n) {
                    var l = i(n);
                    l.addClass(o.headItemCss1);
                    var h = t[a.data(r)] || (t[a.data(r)] = {});
                    h[l.data(s)] = {
                        $tabEl: a,
                        $tabEl1: l
                    }
                })
            }),
            d.each(function(n, r) {
                var s = i(r);
                if (s.addClass(o.conItemCss), e(s, !1), !h) t[s.data(a)].$conEl = s;
                else t[s.data(a)][s.data(l)].$conEl = s
            })
        },
        _unbindDom: function() {
            this._prop("tabWraps", {})
        },
        _getTabWrap: function(e, t) {
            var i = this._prop("tabWraps")[e];
            if (this._useTab1() && i) i = i[t];
            return i
        },
        _removeCurrSelect: function() {
            var t = this._viewModel(),
            i = this._useTab1(),
            n = this._getTabWrap(this._prop("currentTabKey"), this._prop("currentTabKey1"));
            if (n) n.$tabEl.removeClass(t.currentHeadItemCss),
            i && n.$tabEl1.removeClass(t.currentHeadItemCss1),
            e(n.$conEl, !1),
            this._prop("currentTabKey", null),
            i && this._prop("currentTabKey1", null)
        },
        _addSelect: function(t, i) {
            var n = this._viewModel(),
            o = this._useTab1(),
            r = this._getTabWrap(t, i);
            if (r) r.$tabEl.addClass(n.currentHeadItemCss),
            o && r.$tabEl1.addClass(n.currentHeadItemCss1),
            e(r.$conEl, !0),
            this._prop("currentTabKey", t),
            o && this._prop("currentTabKey1", i)
        },
        _changeTabByModel: function(e, t) {
            this._removeCurrSelect(),
            this._addSelect(e, t)
        },
        _bindModelUpdater: function() {
            var e = this._viewModel(),
            t = e.tabAttr,
            n = e.tabAttr1,
            o = this,
            r = this.$el();
            r.on(this._event("click"), "*[data-" + t + "]",
            function() {
                var n = i(this).data(t);
                if (n !== o._prop("currentTabKey")) e.currentTab(n)
            }),
            r.on(this._event("click"), "*[data-" + n + "]",
            function() {
                var t = i(this).data(n);
                if (t !== o._prop("currentTabKey1")) e.currentTab1(t)
            })
        },
        _unbindModelUpdater: function() {
            this.$el().off(this._event())
        },
        _useTab1: function() {
            return null != this._viewModel().tabAttr1
        },
        _dispose: function() {
            this._prop("tabWraps", null)
        }
    });
    return a
}),
define("common/component/ScrollPanel", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/component/Component"),
    n = t.toInt,
    o = "cpt-sclpn",
    r = o + "-con",
    s = o + "-con-vscl",
    a = o + "-vsclbar",
    l = o + "-vsclbar-thumb",
    h = "cpt-sclpn-con",
    c = "cpt-sclpn-anchor",
    u = i.extend({
        _define: {
            viewModel: function() {
                return {
                    conAttr: h,
                    anchorAttr: c,
                    updater: d()
                }
            },
            viewModelPublic: ["conAttr", "anchorAttr", "updater"],
            suppressConstructSub: !0,
            css: o
        },
        _init: function() {
            var t = this._viewModel(),
            i = this.$el(),
            n = t.updater;
            this.localOb("LOCAL_OB_SCROLL_RESIZE", n._refresher),
            this.$el("con", i.find("[data-" + t.conAttr + "]")).css({
                position: "absolute",
                top: 0
            }).addClass(r),
            this._initVScrollBar(),
            this._initWheel(),
            this._disposable(n._refresher.subscribe(this._refresh, this)),
            this._disposable(n._pos.subscribe(this._applyPosObj, this)),
            e(window).on(this._event("resize"), e.proxy(this._refresh, this))
        },
        _dispose: function() {
            e(window).off(this._event()),
            this.$el("con").off("mousewheel")
        },
        _initVScrollBar: function() {
            function t(e, t) {
                n._updatePositionByThumb(t.position.top)
            }
            var i = e(['<div class="', a, '">', '<div class="', l, '">', "</div>", "</div>"].join("")).appendTo(this.$el());
            this.$el("vsclbar", i),
            this.$el("vsclbarThumb", i.find("." + l)).draggable({
                containment: "parent",
                axis: "y",
                scroll: !1,
                drag: e.proxy(t, this)
            });
            var n = this
        },
        _initWheel: function() {
            function e(e) {
                var i = 4;
                t._moveThumb( - e.deltaY * i),
                e.preventDefault(),
                e.stopPropagation()
            }
            this.$el("con").on("mousewheel", e);
            var t = this
        },
        setContentHeightScale: function(e) {
            this._contentHeightSale = e
        },
        refresh: function() {
            this._viewModel().updater.refresh()
        },
        _refresh: function() {
            var e = this.$el("vsclbar"),
            t = this.$el("con"),
            i = this.$el("vsclbarThumb"),
            o = this.$el().height(),
            r = this._getContentHeight();
            if (!this._outerCached) this._thumbVOuter = n(i.css("padding-top")) + n(i.css("padding-bottom")) + n(i.css("border-top-width")) + n(i.css("border-bottom-width")) + n(i.css("margin-top")) + n(i.css("margin-bottom")),
            this._outerCached = !0;
            if (r && r > o) {
                this._scrollDisabled = !1,
                e.show(),
                t.addClass(s),
                r = this._getContentHeight(),
                o = this.$el().height();
                var a = e.height(),
                l = n(a * (o / r));
                i.css("height", l - this._thumbVOuter + "px"),
                this._mainHeight = o,
                this._conHeight = r,
                this._vsclbarHeight = a,
                this._vsclbarThumbHeight = l,
                this._setPosition(null, !1)
            } else this._scrollDisabled = !0,
            e.hide(),
            t.removeClass(s),
            this._setPosition(0, !1)
        },
        _getContentHeight: function() {
            var e = this.$el("con").height();
            if (null != this._contentHeightSale) e *= this._contentHeightSale;
            return e
        },
        _moveThumb: function(e) {
            if (!this._scrollDisabled) {
                var t = this.$el("vsclbarThumb"),
                i = n(t.css("top")) || 0;
                this._setThumb(i + e)
            }
        },
        _setThumb: function(e, t) {
            var i = this._vsclbarHeight - this._vsclbarThumbHeight;
            if (e > i) e = i;
            if (0 > e) e = 0;
            var o = this.$el("vsclbarThumb");
            o.css("top", n(e) + "px"),
            !t && this._updatePositionByThumb(e)
        },
        _setPosition: function(e, t) {
            var i = this.$el("con");
            if (null == e) e = -(n(i.css("top")) || 0);
            var o = this._conHeight - this._mainHeight;
            0 > e && (e = 0),
            e > o && (e = o),
            i.css("top", -n(e) + "px"),
            !t && this._updateThumbByPosition(e)
        },
        _updatePositionByThumb: function(e) {
            this._setPosition(n(this._conHeight * e / this._vsclbarHeight), !0)
        },
        _updateThumbByPosition: function(e) {
            this._setThumb(n(e * this._vsclbarHeight / this._conHeight), !0)
        },
        _applyPosObj: function(e) {
            var t = this.$el("con").find("*[data-" + this._viewModel().anchorAttr + "=" + e.anchor + "]");
            if (t.length) {
                var i = t.position().top;
                this._setThumb(n(this._vsclbarHeight * i / this._conHeight))
            }
        }
    }),
    d = u.createUpdater = function() {
        var i = t.ob({});
        return i._pos = t.ob({}),
        i._refresher = t.ob(),
        e.extend(i, f),
        i
    },
    f = {
        refresh: function() {
            this._refresher({})
        },
        position: function(e) {
            this._pos(e)
        }
    };
    return u
}),
define("common/component/input/GadgetSwitch", ["require", "common/core/lib", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/component/Component"),
    i = t.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "iptGadgetSwitch",
            css: "cpt-ggtswc",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        }
    });
    return i
}),
define("common/component/input/StatusButton", ["require", "common/component/Component", "common/core/lib", "jquery"],
function(require) {
    var e = require("common/component/Component"),
    t = require("common/core/lib"),
    i = require("jquery"),
    n = "cpt-sttbtn",
    o = e.extend({
        _define: {
            viewModel: function() {
                return {
                    status: t.ob("on"),
                    statusList: [{
                        status: "on",
                        text: "ON"
                    },
                    {
                        status: "off",
                        text: "OFF"
                    }]
                }
            },
            viewModelPublic: ["status"],
            css: n
        },
        _init: function() {
            this._initHover(),
            this._initViewUpdater(),
            this._initModelUpdater()
        },
        _initHover: function() {
            var e = this.$el(),
            t = this.getFullCss("-hover").join(" ");
            e.on(this._event("mouseenter"),
            function() {
                e.addClass(t)
            }),
            e.on(this._event("mouseleave"),
            function() {
                e.removeClass(t)
            })
        },
        _initViewUpdater: function() {
            function e(e) {
                if (n.html(t.encodeHTML(this._findStatus(e, 0).text)), null != this._currStatus) n.removeClass(this.getFullCss("-stt-" + this._currStatus).join(" "));
                n.addClass(this.getFullCss("-stt-" + e).join(" ")),
                this._currStatus = e
            }
            var i = this._viewModel().status,
            n = this.$el();
            this._disposable(t.obSubscribe(i, e, this)),
            n.html(t.encodeHTML(this._findStatus(i(), 0).text)),
            n.addClass(this.getFullCss("-stt-" + i()).join(" ")),
            this._currStatus = i()
        },
        _initModelUpdater: function() {
            function e() {
                var e = this._findStatus(n.status(), 1);
                n.status(e.status, t.valueInfo(t.valueInfo.CONFIRMED, this.uid()))
            }
            var n = this._viewModel();
            this.$el().on(this._event("click"), i.proxy(e, this))
        },
        _findStatus: function(e, t) {
            for (var i, n, o = this._viewModel().statusList, r = 0; n = o[r]; r++) if (n.status === e) i = r;
            return o[(i + t) % o.length]
        },
        _dispose: function() {
            var e = this._viewModel().status();
            this.$el().removeClass(this.getFullCss("-hover").join(" ")).removeClass(this.getFullCss("-stt-" + e).join(" "))
        }
    });
    return o
}),
define("common/component/input/SwitchButton", ["require", "common/core/lib", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/component/Component"),
    i = t.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "iptSwitchButton",
            css: "cpt-swcbtn",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        }
    });
    return i
}),
define("common/component/input/Select", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    function e() {}
    var t = require("jquery"),
    i = require("common/core/lib"),
    n = require("common/component/Component"),
    o = "cpt-slt",
    r = "cpt-slt",
    s = 300,
    a = 300,
    l = n.extend({
        _define: {
            css: o,
            viewModel: function() {
                return {
                    value: i.ob(!1),
                    dataList: []
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {
            var i = this._viewModel();
            this._createOpener(),
            this._createOptionPanel(),
            this.$el("opener").on(this._event("click"), t.proxy(this._onClickOpener, this)),
            this.$el("optionPanel").on(this._event("click"), "." + o + "-option", t.proxy(this._onSelectOption, this)),
            this._disposable(i.value.subscribe(t.proxy(this._updateViewByModel, this))),
            this._disposable(i.disabled.subscribe(t.proxy(this._onDisabled, this))),
            e(i.value)
        },
        _createOpener: function() {
            var e = t(['<div class="', o, '-opener">', '<div class="', o, '-opener-tx"></div>', '<div class="', o, '-opener-btn" ctp-data="', "type: 'button'", "name: 'button'\"><i></i></div>", "</div>"].join("")).appendTo(this.$el()),
            i = e.find("." + o + "-opener-tx");
            this.$el("opener", e),
            this.$el("openerText", i),
            this._constructSub(e, !0)
        },
        _createOptionPanel: function() {
            for (var e, n = this._viewModel().dataList, r = [], s = 0; e = n[s]; s++) r.push('<li class="', o, '-option" data-option-index="', s, '">', i.encodeHTML(e.text), "</li>");
            var a = t(['<ul class="', o, '-panel">', r.join(""), "</ul>"].join("")).css("position", "absolute").appendTo(document.body).hide();
            this.$el("optionPanel", a),
            this._constructSub(a, !0)
        },
        _openOptionPanel: function() {
            function e() {
                a._closeOptionPanel()
            }
            var t = this._viewModel();
            this._panelOpened = !0,
            this._updateOptionPanel(i.arrayIndexOf(t.dataList, t.value(), "value"));
            var n = this.$el("opener"),
            o = n.offset();
            this.$el("optionPanel").css({
                left: o.left + "px",
                top: n.outerHeight() + "px"
            }).fadeIn(s),
            i.globalMask(0, r, r, {
                click: e
            });
            var a = this;
            i.enableWindowScroll(!1)
        },
        _closeOptionPanel: function(e) {
            var t = this._viewModel();
            i.globalMask(!1, r),
            this.$el("optionPanel").stop(!0, !0).fadeOut(a),
            this._panelOpened = !1,
            i.enableWindowScroll(!0),
            t.value.force(t.value(), i.valueInfo(e ? "": i.valueInfo.CONFIRMED, this.uid()))
        },
        _onClickOpener: function() {
            if (!this._viewModel().disabled()) this._panelOpened ? this._closeOptionPanel() : this._openOptionPanel()
        },
        _onSelectOption: function(e) {
            var i = this._viewModel();
            if (!i.disabled()) {
                var n = t(e.currentTarget),
                o = n.date("option-index");
                i.value(this._viewModel().dataList[o].value),
                this._closeOptionPanel()
            }
        },
        _onDisabled: function(e) {
            e && this._closeOptionPanel(!0)
        },
        _updateViewByModel: function(e, t) {
            if (!i.checkValueInfo(t, i.valueInfo.CONFIRMED)) {
                var n = i.arrayIndexOf(this._viewModel().dataList, e, "value"),
                o = this._viewModel().dataList[n];
                this.$el("openerText").html(i.encodeHTML(o ? o.text: "")),
                this._panelOpened && this._updateOptionPanel(n)
            }
        },
        _updateOptionPanel: function(e) {
            this.$el("optionPanel").find("li").$each(function(i, n) {
                var r = t(n);
                r[r.data("option-index") === e ? "addClass": "removeClass"](o + "-option-active")
            })
        }
    });
    return l
}),
define("common/component/input/TreeSelect", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    function e(t, i, n) {
        if (n = null == n || "" === n ? "": n + ",", t && t.length) {
            i.preList && i.preList(t, n);
            for (var o, r = 0,
            s = t.length; s > r; r++) if (o = t[r]) {
                var a = n + r;
                i.preChildren && i.preChildren(o, a),
                e(o.children, i, a),
                i.postChildren && i.postChildren(o, a)
            } else;
            i.postList && i.postList(t, n)
        }
    }
    function t(e, t) {
        t = t.split(","),
        e = e || [];
        for (var i, n = 0,
        o = t.length; o > n && e; n++) i = e[t[n]],
        e = (i || {}).children;
        return i
    }
    function i(e) {
        for (var t = this.css(), i = this._getCss("item"); ! e.hasClass(i);) {
            if (e.hasClass(t)) return null;
            e = e.parent()
        }
        return e
    }
    function n(e) {
        return e.find("> ." + this._getCss("list"))
    }
    var o = require("jquery"),
    r = require("common/core/lib"),
    s = require("common/component/Component"),
    a = r.encodeHTML,
    l = "data-item-path",
    h = 500,
    c = s.extend({
        _define: {
            css: "cpt-treeslt",
            viewModel: function() {
                return {
                    selected: r.ob(),
                    datasource: [],
                    resizeEvent: r.ob()
                }
            },
            viewModelPublic: ["selected", "resizeEvent"]
        },
        _init: function() {
            r.assert(r.obTypeOf(this._viewModel().selected)),
            this._initContent(),
            this._initTooltip(),
            this._initChange(),
            this._initMouse()
        },
        _getCss: function(e) {
            var t = {
                item: "-i",
                thumb: "-thumb",
                text: "-text",
                textActive: "-text-active",
                textHover: "-text-hover",
                list: "-list",
                parent: "-parent",
                collapsed: "-collapsed",
                expanded: "-expanded"
            } [e || ""];
            return this.css() + t
        },
        _initContent: function() {
            var t = this._getCss("item"),
            i = this._getCss("parent"),
            n = this._getCss("collapsed"),
            o = this._getCss("thumb"),
            r = this._getCss("text"),
            s = this._getCss("list"),
            h = [];
            e(this._viewModel().datasource, {
                preList: function(e, t) {
                    var i = "" === t ? "": "display:none";
                    h.push('<ul class="', s, '" style="', i, '">')
                },
                postList: function() {
                    h.push("</ul>")
                },
                preChildren: function(e, s) {
                    var c = e.children && e.children.length ? i + " " + n: "",
                    u = l + '="' + s + '" ';
                    h.push('<li class="', t, " ", c, '" ', u, ">", '<i class="', o, '"></i>', '<span class="', r, '" ', u, ">", a(e.text), "</span>")
                },
                postChildren: function() {
                    h.push("</li>")
                }
            }),
            this.el().innerHTML = h.join("")
        },
        _initTooltip: function() {
            function e(e) {
                var n = t(i, o(e).attr(l)),
                r = (n || {}).tooltip;
                if (null != r) return n.tooltipEncodeHTML !== !1 ? a(r) : r;
                else return void 0
            }
            var i = this._viewModel().datasource,
            n = {
                x: 0,
                y: -15,
                xAnchor: "center",
                yAnchor: "bottom"
            };
            this._disposable(r.bindTooltip({
                bindEl: this.el(),
                followMouse: !0,
                selector: "." + this._getCss("text"),
                location: n,
                text: e,
                encodeHTML: !1
            }))
        },
        _initChange: function() {
            function e(e) {
                s.each(function() {
                    var n = o(this),
                    r = t(i.datasource, n.attr(l)).value;
                    n[("obHash" === a ? e[r] : r === e) ? "addClass": "removeClass"](h)
                })
            }
            var i = this._viewModel(),
            n = i.selected;
            this._disposable(r.obSubscribe(n, e));
            var s = this.$el().find("." + this._getCss("text")),
            a = r.obTypeOf(n),
            h = this._getCss("textActive");
            e(n())
        },
        _initMouse: function() {
            function e() {
                if (!f.disabled()) o(this).addClass(m)
            }
            function s() {
                o(this).removeClass(m)
            }
            function a() {
                if (!f.disabled()) f.selected(t(f.datasource, o(this).attr(l)).value, r.valueInfo(r.valueInfo.CONFIRMED, x))
            }
            function c() {
                if (!f.disabled()) {
                    var e = i.call(_, o(this)),
                    t = n.call(_, e);
                    if (e) if (e.hasClass(g)) e.removeClass(g),
                    e.addClass(y),
                    t.slideDown(h, u);
                    else if (e.hasClass(y)) e.removeClass(y),
                    e.addClass(g),
                    t.slideUp(h, u)
                }
            }
            function u() {
                _._viewModel().resizeEvent({})
            }
            var d = this.$el(),
            f = this._viewModel(),
            p = this._getCss("item"),
            m = this._getCss("textHover"),
            g = this._getCss("collapsed"),
            y = this._getCss("expanded"),
            v = this._getCss("text"),
            b = this._getCss("thumb"),
            x = this.uid(),
            _ = this;
            d.on(this._event("mouseenter"), "." + v, "." + p, e),
            d.on(this._event("mouseleave"), "." + v, "." + p, s),
            d.on(this._event("click"), "." + v, a),
            d.on(this._event("click"), "." + b, c)
        },
        hasValue: function(t) {
            function i(e) {
                if (e.value === t) n = !0
            }
            var n = !1;
            return e(this._viewModel().datasource, {
                preChildren: i
            }),
            n
        }
    });
    return c
}),
define("common/component/input/Slider", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/component/Component"),
    n = t.toInt,
    o = t.obTypeOf,
    r = t.value,
    s = t.peek,
    a = "cpt-sld",
    l = a + "-thumb",
    h = a + "-bar",
    c = a + "-highlight",
    u = a + "-background",
    d = a + "-capture",
    f = i.extend({
        _define: {
            viewModel: function() {
                return {
                    min: t.ob(0),
                    max: t.ob(100),
                    value0: t.ob(60),
                    value1: null,
                    precision: t.ob(0),
                    rateLimit: 10
                }
            },
            viewModelPublic: ["min", "max", "value0", "value1", "precision"],
            css: a
        },
        _init: function() {
            var i = this._viewModel(),
            n = this.$el();
            t.assert(o(i.max) && o(i.min) && o(i.value0)),
            n.html(['<div class="' + h + '">', '<div class="' + u + '"></div>', '<div class="' + c + '"></div>', '<div class="' + d + '"></div>', '<div class="' + l + '"><div></div></div>', '<div class="' + l + '"><div></div></div>', "</div>"].join(""));
            var r = n.find("." + l);
            r.css({
                position: "absolute",
                width: 0,
                height: 0
            }),
            this.$el("thumb0", e(r[0])),
            this.$el("thumb1", e(r[1])),
            this.$el("highlight", n.find("." + c)),
            this.$el("highlight").css("position", "absolute");
            var s = this.$el("bar", n.find("." + h));
            if (this._barWidth = s.width(), s.css("width", this._barWidth + "px"), this._lastCLefts = [], !this._useThumb1()) this.$el("thumb1").hide();
            this._initViewUpdater(),
            this._initDrag(),
            this._initClick(),
            this._updateHightlight()
        },
        _initDrag: function() {
            function i(e) {
                r.draggable(e ? "disable": "enable"),
                l && s.draggable(e ? "disable": "enable")
            }
            function n(e, t, i, n) {
                var r = this._lastCLefts[e] = n.position.left;
                o.call(this, e, t, r),
                this._updateHightlight()
            }
            function o(e, i, n) {
                var o = this._calculateValueByMosue(n),
                r = t.valueInfo(i ? t.valueInfo.CONFIRMED: "", this.uid()),
                s = a["value" + e]; ! i ? s(o, r) : s.force(o, r)
            }
            var r = this.$el("thumb0"),
            s = this.$el("thumb1"),
            a = this._viewModel(),
            l = this._useThumb1();
            r.draggable({
                containment: "parent",
                axis: "x",
                scroll: !1,
                handle: "div",
                drag: e.proxy(n, this, 0, !1),
                stop: e.proxy(n, this, 0, !0)
            }),
            l && s.draggable({
                containment: "parent",
                axis: "x",
                scroll: !1,
                handle: "div",
                drag: e.proxy(n, this, 1, !1),
                stop: e.proxy(n, this, 1, !0)
            }),
            this._disposable(a.disabled.subscribe(i), this)
        },
        _initClick: function() {
            function i(i) {
                var n = this._calculateValueByMosue(i.offsetX + (parseInt(e(i.currentTarget).css("left"), 10) || 0)),
                o = this._viewModel(),
                r = o.value0,
                a = o.value1,
                l = this._useThumb1() && Math.abs(n - s(a)) < Math.abs(n - s(r)) ? a: r;
                l(n, t.valueInfo(t.valueInfo.CONFIRMED))
            }
            this.$el().on(this._event("click"), "." + d, e.proxy(i, this))
        },
        _calculateValueByMosue: function(e) {
            e = n(e),
            0 > e && (e = 0),
            e > this._barWidth && (e = this._barWidth);
            var t = this._viewModel(),
            i = s(t.max),
            o = s(t.min);
            return o + (i - o) * (e / this._barWidth)
        },
        _initViewUpdater: function() {
            function e(e, n) {
                var o = r(a),
                u = r(l),
                d = r(h),
                f = r(c),
                p = n === h || n === c,
                m = n.peekValueInfo("key"),
                g = n.peekValueInfo("type");
                if (g !== t.valueInfo.CONFIRMED || m !== s) {
                    if (n === a && m !== s || p) i.call(this, o, d, f, 0),
                    this._updateHightlight();
                    if (this._useThumb1() && (n === l && m !== s || p)) i.call(this, u, d, f, 1),
                    this._updateHightlight()
                }
            }
            function i(e, t, i, o) {
                var r = n(this._barWidth * ((e - t) / (i - t)));
                0 > r && (r = 0),
                r > this._barWidth && (r = this._barWidth),
                this._lastCLefts[o] = r,
                this.$el("thumb" + o).css("left", r + "px")
            }
            var o = this._viewModel(),
            s = this.uid(),
            a = o.value0,
            l = o.value1,
            h = o.min,
            c = o.max,
            u = [a, l, h, c];
            this._disposable(t.obSubscribe(u, e, this).throttle(o.rateLimit));
            var d = r(h),
            f = r(c);
            i.call(this, r(a), d, f, 0),
            i.call(this, r(l), d, f, 1)
        },
        _useThumb1: function() {
            return null != this._viewModel().value1
        },
        _updateHightlight: function() {
            var e = this._lastCLefts,
            t = e[0] || 0,
            i = e[1] || 0;
            if (t > i) t = e[1] || 0,
            i = e[0] || 0;
            this.$el("highlight").css({
                left: t + "px",
                width: i - t + "px"
            })
        }
    });
    return f
}),
define("common/component/input/ColorPicker", ["require", "jquery", "tinycolor", "common/core/lib", "common/core/url", "common/core/lang", "common/component/Component"],
function(require) {
    function e(e) {
        if (i) {
            var t, n = o._viewModel(),
            r = e.val(n.colorMode);
            if ("rgba" === n.colorMode) if (null != r) r.a /= 255,
            t = s(r).toRgbString();
            else t = g;
            else t = r ? s(r).toHexString() : m;
            n.value(t)
        }
    }
    function t(e) {
        var t = r.jPicker.List[0].color.active,
        i = e.value();
        if ("rgba" === e.colorMode) {
            if (i) i = s(i).toRgb(),
            null != i.a && (i.a = parseInt(255 * i.a, 10));
            else i = null;
            t.val("rgba", i)
        } else i = i && i !== m ? s(i).toHex() : null,
        t.val("hex", i)
    }
    var i, n, o, r = require("jquery"),
    s = require("tinycolor"),
    a = require("common/core/lib"),
    l = require("common/core/url"),
    h = require("common/core/lang"),
    c = require("common/component/Component"),
    u = "cpt-clrpkr",
    d = "cpt-clrpkr",
    f = 300,
    p = 300,
    m = "transparent",
    g = "rgba(0,0,0,0)",
    y = {
        hex: null,
        rgba: null
    },
    v = c.extend({
        _define: {
            css: u,
            viewModel: function() {
                return {
                    value: a.ob("#0F0"),
                    colorMode: "hex"
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {
            function e(e) {
                e._openColorPanel(r(this))
            }
            function t(e, t) {
                if (!a.checkValueInfo(t, a.valueInfo.CONFIRMED)) l.css({
                    backgroundColor: e
                })
            }
            function i(e) {
                e && this._closeColorPanel(!0)
            }
            var n = this.$el(),
            o = this._viewModel(),
            s = r(['<div class="', u, '-opener">', '<div class="', u, '-opener-color"></div>', '<div class="', u, '-opener-corner"><i></i></div>', "</div>"].join("")).appendTo(n),
            l = s.find("." + u + "-opener-color");
            this._createColorPanel(),
            s.on(this._event("click"), a.curry(e, this)),
            this._disposable(o.value.subscribe(t)),
            this._disposable(o.disabled.subscribe(i, this)),
            t(o.value())
        },
        _createColorPanel: function() {
            var t = this._viewModel(),
            i = t.colorMode,
            n = y[i];
            if (!n) {
                r.fn.jPicker.defaults.images.clientPath = l.JPICKER_IMAGE_PATH,
                y[i] = n = r(['<div class="', u, '-panel"><div></div></div>'].join("")).appendTo(document.body).hide();
                var o = r.proxy(this._closeColorPanel, this, !1);
                r(n[0].firstChild).jPicker({
                    window: {
                        expandable: !1,
                        title: h.string.cfg.colorPickerTitle,
                        alphaSupport: "rgba" === t.colorMode,
                        effects: {
                            type: "show",
                            speed: {
                                show: 0,
                                hide: 0
                            }
                        }
                    }
                },
                o, e, o)
            }
        },
        _openColorPanel: function(e) {
            this._closeColorPanel(!0);
            var s = this._viewModel();
            if (!s.disabled()) {
                i = e,
                n = e.find("." + u + "-opener-color"),
                o = this,
                t(s);
                var l = i.offset(),
                h = r(document).scrollTop(),
                c = {
                    position: "fixed",
                    left: l.left + i.outerWidth() + 10 + "px",
                    top: l.top - h - 80 + "px"
                };
                y[s.colorMode].css(c).fadeIn(f),
                a.globalMask(0, d, d, {
                    click: r.proxy(this._closeColorPanel, this, !1)
                })
            }
        },
        _closeColorPanel: function(e) {
            a.globalMask(!1, d);
            for (var t in y) if (y.hasOwnProperty(t)) {
                var r = y[t];
                if (r && r[0].offsetWidth) r.stop(!0, !0).fadeOut(p)
            }
            if (i) {
                var s = o._viewModel();
                i = n = o = null,
                s.value.force(s.value(), a.valueInfo(e ? "": a.valueInfo.CONFIRMED))
            }
        }
    });
    return v
}),
define("common/component/input/TextInput", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/component/Component"),
    n = i.extend({
        _define: {
            css: "cpt-txipt",
            viewModel: function() {
                return {
                    value: t.ob(""),
                    mouseEnterSelect: !1
                }
            },
            viewModelPublic: ["value"]
        },
        _init: function() {
            if (this._$input = e(e('<div><input type="text" /></div>').appendTo(this.$el())[0].firstChild), this._viewModel().mouseEnterSelect) this._$input.on(this._event("mouseenter"),
            function() {
                this.select && this.select()
            });
            this._initViewUpdater(),
            this._initModelUpdater()
        },
        _initViewUpdater: function() {
            function e(e) {
                i.val(e)
            }
            var t = this._viewModel(),
            i = this._$input;
            this._disposable(t.disabled.subscribe(function(e) {
                i[0].disabled = !!e
            },
            this)),
            this._disposable(t.value.subscribe(e, this)),
            e(t.value())
        },
        _initModelUpdater: function() {
            function e(e) {
                if (!s.isDisabled()) if (13 === e.which) i(),
                e.preventDefault()
            }
            function i() {
                if (!s.isDisabled()) n.value(r.val(), t.valueInfo(t.valueInfo.CONFIRMED, o)),
                r.val(n.value())
            }
            var n = this._viewModel(),
            o = this.uid(),
            r = this._$input,
            s = this;
            r.on(this._event("blur"), i),
            r.on(this._event("keypress"), e)
        },
        _dispose: function() {
            this._$input.off(this._event()),
            this._$input = null,
            this.$el().html("")
        }
    });
    return n
}),
define("common/component/input/LinkInput", ["require", "common/core/lib", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/component/Component"),
    i = t.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "iptLinkInput",
            css: "cpt-lkipt",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        }
    });
    return i
}),
define("common/component/input/CheckButton", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/component/Component"),
    n = t.encodeHTML,
    o = "value-index",
    r = i.extend({
        _define: {
            css: "cpt-chkbtn",
            viewModel: function() {
                return {
                    checked: t.ob(),
                    dataList: []
                }
            },
            viewModelPublic: ["checked"]
        },
        _init: function() {
            t.assert(t.obTypeOf(this._viewModel().checked)),
            this._initContent(),
            this._initTooltip(),
            this._initChange(),
            this._initMouse()
        },
        _getItemCss: function(e) {
            var t = {
                "": "-i",
                hover: "-i-hover",
                active: "-i-active"
            } [e || ""];
            return this.css() + t
        },
        _initContent: function() {
            for (var e, t = this._viewModel().dataList, i = this._getItemCss(), r = [], s = 0; e = t[s]; s++) r.push('<div class="', i, '" data-', o, '="', s, '">', "<i><em></em></i>", "<span>", n(e.text), "</span>", "</div>");
            this.el().innerHTML = r.join("")
        },
        _initTooltip: function() {
            function i(t) {
                var i = r[e(t).data(o)],
                s = i.tooltip;
                if (null != s) return i.tooltipEncodeHTML !== !1 ? n(s) : s;
                else return void 0
            }
            var r = this._viewModel().dataList,
            s = {
                x: 0,
                y: -15,
                xAnchor: "center",
                yAnchor: "bottom"
            };
            this._disposable(t.bindTooltip({
                bindEl: this.el(),
                followMouse: !0,
                selector: "." + this._getItemCss(),
                location: s,
                text: i,
                encodeHTML: !1
            }))
        },
        _initChange: function() {
            function i(i) {
                var a = t.obTypeOf(n.checked);
                r.each(function() {
                    var t = e(this),
                    r = n.dataList[t.data(o)].value;
                    t[("obHash" === a ? i[r] : r === i) ? "addClass": "removeClass"](s)
                })
            }
            var n = this._viewModel(),
            r = this.$el().find("." + this._getItemCss()),
            s = this._getItemCss("active");
            this._disposable(t.obSubscribe(n.checked, i)),
            i(n.checked())
        },
        _initMouse: function() {
            function i() {
                if (!a.disabled()) e(this).addClass(h)
            }
            function n() {
                e(this).removeClass(h)
            }
            function r() {
                if (!a.disabled()) a.checked(a.dataList[e(this).data(o)].value, t.valueInfo(t.valueInfo.CONFIRMED, c))
            }
            var s = this.$el(),
            a = this._viewModel(),
            l = this._getItemCss(),
            h = this._getItemCss("hover"),
            c = this.uid();
            s.on(this._event("mouseenter"), "." + l, i),
            s.on(this._event("mouseleave"), "." + l, n),
            s.on(this._event("click"), "." + l, r)
        }
    });
    return r
}),
define("common/component/input/BoxParamInput", ["require", "common/core/lib", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/component/Component"),
    i = t.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "iptBoxParamInput",
            css: "cpt-bxprmipt",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        }
    });
    return i
}),
define("common/component/input/RadiusInput", ["require", "common/core/lib", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/component/Component"),
    i = t.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "iptRadiusInput",
            css: "cpt-rdsipt",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        }
    });
    return i
}),
define("common/component/input/ChartTypeInput", ["require", "common/core/lib", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/component/Component"),
    i = t.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "iptChartTypeInput",
            css: "cpt-chttyipt",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        }
    });
    return i
}),
define("wave/app/BasePanel", ["require", "jquery", "common/core/lib", "common/component/Component"],
function(require) {
    function e(e) {
        this._prop(s, e)
    }
    function t(e) {
        return~n.arrayIndexOf(e, this.getPanelState())
    }
    var i = require("jquery"),
    n = require("common/core/lib"),
    o = require("common/component/Component"),
    r = o.extend({
        _define: {
            viewModel: function() {
                return {
                    panelOpenStatus: null
                }
            },
            viewModelPublic: ["panelOpenStatus"]
        },
        PanelState: {
            NONE: "NONE",
            CREATED: "CREATED",
            READY: "READY",
            DATA_FILLED: "DATA_FILLED",
            DISPOSED: "DISPOSED"
        },
        getPanelState: function() {
            return this._prop(s)
        },
        _construct: function() {
            e.call(this, this.PanelState.NONE);
            var t = this._applySuper("_construct", arguments);
            return e.call(this, this.PanelState.CREATED),
            t
        },
        dispose: function() {
            var t = this._applySuper("dispose", arguments);
            return e.call(this, this.PanelState.DISPOSED),
            t
        },
        enter: function(t) {
            if (!this.isOpened()) return ! 1;
            if (this.getPanelState() === this.PanelState.CREATED) this._fillContent(t),
            e.call(this, this.PanelState.READY);
            this._enter(t),
            e.call(this, this.PanelState.DATA_FILLED)
        },
        _fillContent: i.noop,
        _enter: i.noop,
        clear: function() {
            if (t.call(this, [this.PanelState.DATA_FILLED, this.PanelState.READY])) this._clear(),
            e.call(this, this.PanelState.READY)
        },
        _clear: i.noop,
        isOpened: function() {
            var e = this._viewModel().panelOpenStatus;
            return e ? "opened" === e() : !0
        }
    }),
    s = "__panelState__" + r.uid;
    return r
}),
define("wave/app/WinPanel", ["require", "jquery", "common/core/lib", "common/core/constant", "wave/app/BasePanel", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/core/constant"),
    n = require("wave/app/BasePanel"),
    o = "winPanel",
    r = ".dtm-close-cross",
    s = ".dtm-winpn-con",
    a = "winpn",
    l = "winPanelMainEl",
    h = "winPanelMaskKey",
    c = "winPanelIsOpen",
    u = 300,
    d = i.WIN_PANEL_Z_INDEX_BASE,
    f = n.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "winPanel",
            closeWhenClickOther: !1
        },
        _init: function() {
            function t() {
                if (!this._onCloseBtnClick || this._onCloseBtnClick() !== !1) this.close()
            }
            var i = e(this._renderTpl(o)).appendTo(document.body).hide();
            this._manuInitView(i),
            this._prop(l, i),
            this._prop(c, !1),
            this.$el("winPanel$content", i.find(s)),
            this._prop(h, Math.random() + ""),
            i.on(this._event("click"), r, e.proxy(t, this))
        },
        _disposeFinally: function() {
            t.disposeGlobalMask(this._prop(h)),
            this._prop(l).remove(),
            this._prop(l, null)
        },
        open: function(n) {
            function o() {
                if (this._getDefineProperty("closeWhenClickOther")) this.close()
            }
            if (!this.isOpen()) {
                var r = this.$el(),
                s = this.$content();
                t.globalMask(i.PANEL_MASK_OPACITY, this._prop(h), a, {
                    click: e.proxy(o, this)
                }),
                this._prop(c, !0),
                this._beforeShow(s, n),
                r.show(),
                this._afterShow(s, n),
                r.css({
                    top: 0 - Math.round(r.outerHeight()),
                    marginLeft: 0 - Math.round(r.outerWidth() / 2),
                    marginTop: 0,
                    "z-index": d++
                });
                var l = this._getDefineProperty("noAnimate");
                r.animate({
                    top: "50%",
                    marginTop: 0 - Math.round(r.outerHeight() / 2)
                },
                l ? 0 : u)
            }
        },
        close: function() {
            if (this.isOpen()) {
                var e = this.$el();
                this._prop(c, !1),
                this._beforeHide(this.$content());
                var i = this,
                n = this._getDefineProperty("noAnimate");
                e.animate({
                    top: 0 - Math.round(e.outerHeight()),
                    marginTop: 0
                },
                n ? 0 : u, "swing",
                function() {
                    e.hide(),
                    t.globalMask(!1, i._prop(h)),
                    i._afterHide(i.$content()),
                    i.fire("close")
                })
            }
        },
        $content: function() {
            return this.$el("winPanel$content")
        },
        isOpen: function() {
            return this._prop(c)
        },
        _beforeShow: e.noop,
        _afterShow: e.noop,
        _beforeHide: e.noop,
        _afterHide: e.noop,
        _onCloseBtnClick: e.noop
    });
    return f
}),
define("wave/app/dialog", ["require", "jquery", "common/core/lib", "common/core/lang", "wave/app/WinPanel", "d8f3fd38.tpl"],
function(require) {
    function e(e, t, i, n) {
        p.open({
            key: e,
            content: t.content,
            encodeHTML: t.encodeHTML,
            buttonHandler: function(e) {
                var t = i[e];
                return t ? t() : null
            },
            buttonText: n
        })
    }
    function t(e) {
        function t(e) {
            if (!this._buttonHandler || this._buttonHandler(e) !== !1) this.close()
        }
        for (var i = this._viewModel(), r = i.btnViewModels = [], s = i.buttons || [], a = 0, h = s.length; h > a; a++) r.push({
            text: o.ob(s[a].text),
            css: [u, c + s[a].value]
        });
        this._renderTpl(l, null, e),
        this._constructSub(e);
        for (var a = 0,
        h = s.length; h > a; a++) this._sub("btns." + a).on("click", n.proxy(t, this, s[a].value));
        this._onCloseBtnClick = n.proxy(t, this, d)
    }
    function i(e) {
        if (e) for (var t = this._viewModel().buttons || [], i = 0, n = t.length; n > i; i++) {
            var o = e[t[i].value];
            if (null != o) this._sub("btns." + i).viewModel("text")(o)
        }
    }
    var n = require("jquery"),
    o = require("common/core/lib"),
    r = require("common/core/lang"),
    s = require("wave/app/WinPanel"),
    a = r.string.dialog,
    l = "dialogPanel",
    h = ".dtm-con",
    c = "dtm-dlg-btn-",
    u = "dtm-btn",
    d = "",
    f = {},
    p = {
        create: function(e) {
            o.assert(e.key && !f[e.key]),
            f[e.key] = new m(e)
        },
        open: function(e) {
            f[e.key].open(e)
        },
        close: function(e) {
            f[e].close()
        },
        confirm: function(t) {
            var i = {
                confirm: t.onYes,
                cancel: t.onCancel
            };
            i[d] = t.onCancel;
            var n = {
                confirm: t.textYes,
                cancel: t.textCancel
            };
            e("confirm", t, i, n)
        },
        alert: function(t) {
            var i = {
                confirm: t.onYes
            },
            n = {
                confirm: t.textYes
            };
            e("alert", t, i, n)
        },
        ask: function(t) {
            var i = {
                yes: t.onYes,
                no: t.onNo,
                cancel: t.onCancel
            };
            i[d] = t.onCancel;
            var n = {
                yes: t.textYes,
                no: t.textNo,
                cancel: t.textCancel
            };
            e("ask", t, i, n)
        }
    },
    m = s.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            viewModel: function() {
                return {
                    key: null,
                    buttons: []
                }
            }
        },
        _afterShow: function(e, n) {
            if (!this._contentInitialized) this._contentInitialized = !0,
            t.call(this, e);
            e.find(h)[0].innerHTML = n.encodeHTML === !1 ? n.content: o.encodeHTML(n.content),
            i.call(this, n.buttonText),
            this._buttonHandler = n.buttonHandler
        },
        _afterHide: function() {
            this._buttonHandler = null
        }
    });
    return p.create({
        key: "confirm",
        buttons: [{
            value: "confirm",
            text: a.confirm
        },
        {
            value: "cancel",
            text: a.cancel
        }]
    }),
    p.create({
        key: "alert",
        buttons: [{
            value: "confirm",
            text: a.confirm
        }]
    }),
    p.create({
        key: "ask",
        buttons: [{
            value: "yes",
            text: a.yes
        },
        {
            value: "no",
            text: a.no
        },
        {
            value: "cancel",
            text: a.cancel
        }]
    }),
    p
}),
define("common/component/input/Uploader", ["require", "jquery", "common/core/lib", "common/core/lang", "common/core/constant", "common/component/Component", "wave/app/dialog", "d8f3fd38.tpl"],
function(require) {
    function e() {
        s.globalMask(l.PANEL_MASK_OPACITY, y, y),
        n.show().find(f).css("width", "0")
    }
    function t() {
        s.globalMask(!1, y),
        n.hide()
    }
    function i() {
        o && o.abort()
    }
    var n, o, r = require("jquery"),
    s = require("common/core/lib"),
    a = require("common/core/lang"),
    l = require("common/core/constant"),
    h = require("common/component/Component"),
    c = require("wave/app/dialog"),
    u = s.strTemplate,
    d = a.html,
    f = ".dtm-upld-progress em",
    p = ".dtm-upld-btn input",
    m = ".dtm-upld-cancel",
    g = "uploaderMask",
    y = "upld-mask",
    v = h.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "uploader",
            css: "cpt-upld",
            viewModel: function() {
                return {
                    uploadURL: null,
                    uploadType: null,
                    done: null,
                    uploadBtnNormal: a.string.uploadBtnNormal,
                    formData: []
                }
            }
        },
        _prepare: function() {
            if (!n) n = r(this._renderTpl(g)).appendTo(document.body),
            n.find(m).on("click", i)
        },
        _init: function() {
            var i = this,
            s = this._viewModel(),
            a = s.uploadType;
            this.$el().find(f).css("width", "0"),
            this.$el().find(p).fileupload({
                url: s.uploadURL,
                dataType: "json",
                pasteZone: null,
                autoUpload: !1,
                maxFileSize: a.maxFileSize,
                messages: {
                    acceptFileTypes: this._getErrorMsg("acceptFileTypes"),
                    maxFileSize: this._getErrorMsg("maxFileSize")
                },
                formData: function() {
                    var e = s.formData;
                    if (r.isFunction(e)) e = e();
                    return [{
                        name: "maxFileSize",
                        value: a.maxFileSize
                    },
                    {
                        name: "acceptFileTypes",
                        value: a.acceptFileTypes.join("#")
                    }].concat(e || [])
                },
                progressall: function(e, t) {
                    var i = parseInt(t.loaded / t.total * 100, 10);
                    n.find(f).css("width", i + "%")
                },
                processdone: function(e, t) {
                    o = t.submit()
                },
                processfail: function(e, t) {
                    var i = t.files[t.index];
                    c.alert({
                        content: i.error,
                        encodeHTML: !1
                    })
                },
                start: function() {
                    e()
                },
                done: function(e, t) {
                    var n = t.result;
                    if (null == n.errorCode) s.done && s.done(n);
                    else c.alert({
                        content: i._getErrorMsg(n.errorCode),
                        encodeHTML: !1
                    })
                },
                fail: function(e, t) {
                    if ("abort" !== t.textStatus) c.alert({
                        content: d.uploadFail,
                        encodeHTML: !1
                    })
                },
                stop: function() {
                    o = null,
                    t()
                }
            })
        },
        _getErrorMsg: function(e) {
            var t = this._viewModel().uploadType,
            i = u(d.uploadOverMaxFileSize, {
                fileSize: t.maxFileSize / 1e3 + "KB"
            }),
            n = u(d.uploadInvalidFileType, {
                fileTypes: t.acceptFileTypes.join(", ")
            }),
            o = d.uploadFail,
            r = {
                1 : i,
                2 : i,
                3 : o,
                4 : o,
                6 : o,
                7 : o,
                8 : o,
                postMaxSize: i,
                maxFileSize: i,
                minFileSize: o,
                acceptFileTypes: n,
                abort: o,
                imageResize: o,
                noTmpFile: o,
                defaultError: o
            };
            return r[e]
        }
    });
    return v
}),
define("common/component/Failure", ["require", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/component/Component"),
    t = e.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "failure",
            css: "cpt-failure",
            viewModel: function() {
                return {}
            }
        }
    });
    return t
}),
function() {
    var e = function(e) {
        function t(e, t) {
            if (e.indexOf) return e.indexOf(t);
            else {
                for (var i = e.length; i--;) if (e[i] === t) return i;
                return - 1
            }
        }
        function i(e, i) {
            var n = t(e, i);
            if ( - 1 !== n) e.splice(n, 1)
        }
        function n(e, t) {
            return "[object " + t + "]" === Object.prototype.toString.call(e)
        }
        function o(e) {
            return n(e, "RegExp")
        }
        function r(e) {
            return n(e, "Array")
        }
        function s(e) {
            return "function" == typeof e
        }
        function a(e) {
            var t;
            if (null === e || "null" === e) t = null;
            else if ("true" === e) t = !0;
            else if ("false" === e) t = !1;
            else if (e === p || "undefined" === e) t = p;
            else if ("" === e || isNaN(e)) t = e;
            else t = parseFloat(e);
            return t
        }
        function l(e) {
            for (var t = e.length,
            i = []; t--;) i[t] = a(e[t]);
            return i
        }
        function h(e, t) {
            for (var i, n, o = (e || "").replace("?", "").split("&"), r = o.length, s = {}; r--;) i = o[r].split("="),
            n = t ? a(i[1]) : i[1],
            s[i[0]] = "string" == typeof n ? decodeURIComponent(n) : n;
            return s
        }
        function c() {
            this.bypassed = new e.Signal,
            this.routed = new e.Signal,
            this._routes = [],
            this._prevRoutes = [],
            this._piped = [],
            this.resetState()
        }
        function u(t, i, n, r) {
            var s = o(t),
            a = r.patternLexer;
            if (this._router = r, this._pattern = t, this._paramsIds = s ? null: a.getParamIds(t), this._optionalParamsIds = s ? null: a.getOptionalParamsIds(t), this._matchRegexp = s ? t: a.compilePattern(t, r.ignoreCase), this.matched = new e.Signal, this.switched = new e.Signal, i) this.matched.add(i);
            this._priority = n || 0
        }
        var d, f, p;
        return f = "" === /t(.+)?/.exec("t")[1],
        c.prototype = {
            greedy: !1,
            greedyEnabled: !0,
            ignoreCase: !0,
            ignoreState: !1,
            shouldTypecast: !1,
            normalizeFn: null,
            resetState: function() {
                this._prevRoutes.length = 0,
                this._prevMatchedRequest = null,
                this._prevBypassedRequest = null
            },
            create: function() {
                return new c
            },
            addRoute: function(e, t, i) {
                var n = new u(e, t, i, this);
                return this._sortedInsert(n),
                n
            },
            removeRoute: function(e) {
                i(this._routes, e),
                e._destroy()
            },
            removeAllRoutes: function() {
                for (var e = this.getNumRoutes(); e--;) this._routes[e]._destroy();
                this._routes.length = 0
            },
            parse: function(e, t) {
                if (e = e || "", t = t || [], this.ignoreState || e !== this._prevMatchedRequest && e !== this._prevBypassedRequest) {
                    var i, n = this._getMatchedRoutes(e),
                    o = 0,
                    r = n.length;
                    if (r) for (this._prevMatchedRequest = e, this._notifyPrevRoutes(n, e), this._prevRoutes = n; r > o;) i = n[o],
                    i.route.matched.dispatch.apply(i.route.matched, t.concat(i.params)),
                    i.isFirst = !o,
                    this.routed.dispatch.apply(this.routed, t.concat([e, i])),
                    o += 1;
                    else this._prevBypassedRequest = e,
                    this.bypassed.dispatch.apply(this.bypassed, t.concat([e]));
                    this._pipeParse(e, t)
                }
            },
            _notifyPrevRoutes: function(e, t) {
                for (var i, n = 0; i = this._prevRoutes[n++];) if (i.route.switched && this._didSwitch(i.route, e)) i.route.switched.dispatch(t)
            },
            _didSwitch: function(e, t) {
                for (var i, n = 0; i = t[n++];) if (i.route === e) return ! 1;
                return ! 0
            },
            _pipeParse: function(e, t) {
                for (var i, n = 0; i = this._piped[n++];) i.parse(e, t)
            },
            getNumRoutes: function() {
                return this._routes.length
            },
            _sortedInsert: function(e) {
                var t = this._routes,
                i = t.length;
                do--i;
                while (t[i] && e._priority <= t[i]._priority);
                t.splice(i + 1, 0, e)
            },
            _getMatchedRoutes: function(e) {
                for (var t, i = [], n = this._routes, o = n.length; t = n[--o];) {
                    if ((!i.length || this.greedy || t.greedy) && t.match(e)) i.push({
                        route: t,
                        params: t._getParamsArray(e)
                    });
                    if (!this.greedyEnabled && i.length) break
                }
                return i
            },
            pipe: function(e) {
                this._piped.push(e)
            },
            unpipe: function(e) {
                i(this._piped, e)
            },
            toString: function() {
                return "[crossroads numRoutes:" + this.getNumRoutes() + "]"
            }
        },
        d = new c,
        d.VERSION = "0.12.0",
        d.NORM_AS_ARRAY = function(e, t) {
            return [t.vals_]
        },
        d.NORM_AS_OBJECT = function(e, t) {
            return [t]
        },
        u.prototype = {
            greedy: !1,
            rules: void 0,
            match: function(e) {
                return e = e || "",
                this._matchRegexp.test(e) && this._validateParams(e)
            },
            _validateParams: function(e) {
                var t, i = this.rules,
                n = this._getParamsObject(e);
                for (t in i) if ("normalize_" !== t && i.hasOwnProperty(t) && !this._isValidParam(e, t, n)) return ! 1;
                return ! 0
            },
            _isValidParam: function(e, i, n) {
                var a = this.rules[i],
                l = n[i],
                h = !1,
                c = 0 === i.indexOf("?");
                if (null == l && this._optionalParamsIds && -1 !== t(this._optionalParamsIds, i)) h = !0;
                else if (o(a)) {
                    if (c) l = n[i + "_"];
                    h = a.test(l)
                } else if (r(a)) {
                    if (c) l = n[i + "_"];
                    h = this._isValidArrayRule(a, l)
                } else if (s(a)) h = a(l, e, n);
                return h
            },
            _isValidArrayRule: function(e, i) {
                if (!this._router.ignoreCase) return - 1 !== t(e, i);
                if ("string" == typeof i) i = i.toLowerCase();
                for (var n, o, r = e.length; r--;) if (n = e[r], o = "string" == typeof n ? n.toLowerCase() : n, o === i) return ! 0;
                return ! 1
            },
            _getParamsObject: function(e) {
                for (var i, n, o = this._router.shouldTypecast,
                r = this._router.patternLexer.getParamValues(e, this._matchRegexp, o), s = {},
                l = r.length; l--;) {
                    if (n = r[l], this._paramsIds) {
                        if (i = this._paramsIds[l], 0 === i.indexOf("?") && n) s[i + "_"] = n,
                        n = h(n, o),
                        r[l] = n;
                        if (f && "" === n && -1 !== t(this._optionalParamsIds, i)) n = void 0,
                        r[l] = n;
                        s[i] = n
                    }
                    s[l] = n
                }
                return s.request_ = o ? a(e) : e,
                s.vals_ = r,
                s
            },
            _getParamsArray: function(e) {
                var t, i = this.rules ? this.rules.normalize_: null;
                if (i = i || this._router.normalizeFn, i && s(i)) t = i(e, this._getParamsObject(e));
                else t = this._getParamsObject(e).vals_;
                return t
            },
            interpolate: function(e) {
                var t = this._router.patternLexer.interpolate(this._pattern, e);
                if (!this._validateParams(t)) throw new Error("Generated string doesn't validate against `Route.rules`.");
                return t
            },
            dispose: function() {
                this._router.removeRoute(this)
            },
            _destroy: function() {
                this.matched.dispose(),
                this.switched.dispose(),
                this.matched = this.switched = this._pattern = this._matchRegexp = null
            },
            toString: function() {
                return '[Route pattern:"' + this._pattern + '", numListeners:' + this.matched.getNumListeners() + "]"
            }
        },
        c.prototype.patternLexer = function() {
            function e() {
                var e, t;
                for (e in f) if (f.hasOwnProperty(e)) t = f[e],
                t.id = "__CR_" + e + "__",
                t.save = "save" in t ? t.save.replace("{{id}}", t.id) : t.id,
                t.rRestore = new RegExp(t.id, "g")
            }
            function t(e, t) {
                var i, n = [];
                for (e.lastIndex = 0; i = e.exec(t);) n.push(i[1]);
                return n
            }
            function i(e) {
                return t(d, e)
            }
            function n(e) {
                return t(f.OP.rgx, e)
            }
            function o(e, t) {
                if (e = e || "") {
                    if (y === p) e = e.replace(c, "");
                    else if (y === g) e = e.replace(u, "");
                    if (e = r(e, "rgx", "save"), e = e.replace(h, "\\$&"), e = r(e, "rRestore", "res"), y === p) e = "\\/?" + e
                }
                if (y !== m) e += "\\/?";
                return new RegExp("^" + e + "$", t ? "i": "")
            }
            function r(e, t, i) {
                var n, o;
                for (o in f) if (f.hasOwnProperty(o)) n = f[o],
                e = e.replace(n[t], n[i]);
                return e
            }
            function s(e, t, i) {
                var n = t.exec(e);
                if (n) if (n.shift(), i) n = l(n);
                return n
            }
            function a(e, t) {
                if ("string" != typeof e) throw new Error("Route pattern should be a string.");
                var i = function(e, i) {
                    var n;
                    if (i = "?" === i.substr(0, 1) ? i.substr(1) : i, null != t[i]) {
                        if ("object" == typeof t[i]) {
                            var o = [];
                            for (var r in t[i]) o.push(encodeURI(r + "=" + t[i][r]));
                            n = "?" + o.join("&")
                        } else n = String(t[i]);
                        if ( - 1 === e.indexOf("*") && -1 !== n.indexOf("/")) throw new Error('Invalid value "' + n + '" for segment "' + e + '".')
                    } else if ( - 1 !== e.indexOf("{")) throw new Error("The segment " + e + " is required.");
                    else n = "";
                    return n
                };
                if (!f.OS.trail) f.OS.trail = new RegExp("(?:" + f.OS.id + ")+$");
                return e.replace(f.OS.rgx, f.OS.save).replace(d, i).replace(f.OS.trail, "").replace(f.OS.rRestore, "/")
            }
            var h = /[\\.+*?\^$\[\](){}\/'#]/g,
            c = /^\/|\/$/g,
            u = /\/$/g,
            d = /(?:\{|:)([^}:]+)(?:\}|:)/g,
            f = {
                OS: {
                    rgx: /([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,
                    save: "$1{{id}}$2",
                    res: "\\/?"
                },
                RS: {
                    rgx: /([:}])\/?(\{)/g,
                    save: "$1{{id}}$2",
                    res: "\\/"
                },
                RQ: {
                    rgx: /\{\?([^}]+)\}/g,
                    res: "\\?([^#]+)"
                },
                OQ: {
                    rgx: /:\?([^:]+):/g,
                    res: "(?:\\?([^#]*))?"
                },
                OR: {
                    rgx: /:([^:]+)\*:/g,
                    res: "(.*)?"
                },
                RR: {
                    rgx: /\{([^}]+)\*\}/g,
                    res: "(.+)"
                },
                RP: {
                    rgx: /\{([^}]+)\}/g,
                    res: "([^\\/?]+)"
                },
                OP: {
                    rgx: /:([^:]+):/g,
                    res: "([^\\/?]+)?/?"
                }
            },
            p = 1,
            m = 2,
            g = 3,
            y = p;
            return e(),
            {
                strict: function() {
                    y = m
                },
                loose: function() {
                    y = p
                },
                legacy: function() {
                    y = g
                },
                getParamIds: i,
                getOptionalParamsIds: n,
                getParamValues: s,
                compilePattern: o,
                interpolate: a
            }
        } (),
        d
    };
    if ("function" == typeof define && define.amd) define("crossroads", ["signals"], e);
    else if ("undefined" != typeof module && module.exports) module.exports = e(require("signals"));
    else window.crossroads = e(window.signals)
} (),
define("common/core/user", ["require", "jquery", "common/core/constant", "common/core/tpl", "common/core/url", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/constant"),
    i = require("common/core/tpl"),
    n = require("common/core/url"),
    o = require("d8f3fd38.tpl"),
    r = t("uname"),
    s = t("uid"),
    a = {
        renderUserInfo: function(t) {
            var a = "";
            if (s) var a = i.render("userInfoHeader", {
                uname: r,
                logoutUrl: n.LOGOUT_URL
            },
            o);
            else var a = i.render("loginHeader", {},
            o);
            e(t)[0].innerHTML = a
        },
        getUid: function() {
            return s
        },
        getUname: function() {
            return r
        }
    };
    return a
}),
define("common/core/appContext", ["require", "common/core/lib", "common/core/constant"],
function(require) {
    var e = {},
    t = require("common/core/lib"),
    i = require("common/core/constant"),
    n = {},
    o = {},
    r = {},
    s = {};
    return i.GlobalEvent.forEachEnum(function(e) {
        s[e] = t.ob()
    }),
    n.addInstance = function(i, n) {
        return t.assert(i in e, i + " must be declared!"),
        t.assert(!(i in o), i + " exists!"),
        o[i] = n,
        n
    },
    n.getInstance = function(e) {
        return o[e]
    },
    n.setData = function(e, t) {
        return r[e] = t,
        t
    },
    n.getData = function(e) {
        return r[e]
    },
    n.onGlobalEvent = function(e, i, n) {
        var o = s[e];
        return t.assert( !! o),
        o.subscribe(i, n)
    },
    n.fireGlobalEvent = function(e, i) {
        var n = s[e];
        t.assert( !! n),
        n(i || {})
    },
    n
}),
define("wave/app/addChartConfig", ["require", "common/core/constant"],
function(require) {
    var e = require("common/core/constant"),
    t = {},
    i = e.getUIRootPath() + "/common/core/img/addChart/";
    return t.ChartDef = {
        LINE: {
            text: "折线图",
            molds: [{
                title: "标准折线图",
                desc: "普通的折线图",
                pic: i + "line11.png",
                wgtType: "schart",
                wgtCfgMoldId: "lineStandard0",
                dataCfgMoldId: "lineStandard0"
            },
            {
                title: "标准面积图",
                desc: "填充样式，平滑曲线",
                pic: i + "line3.png",
                wgtType: "schart",
                wgtCfgMoldId: "lineArea0",
                dataCfgMoldId: "lineArea0"
            },
            {
                title: "堆积面积图",
                desc: "任意系列多维度堆积",
                pic: i + "line4.png",
                wgtType: "schart",
                wgtCfgMoldId: "lineAreaStack0",
                dataCfgMoldId: "lineAreaStack0"
            },
            {
                title: "标准折线图",
                desc: "横纵坐标互换，平滑曲线",
                pic: i + "line5.png",
                wgtType: "schart",
                wgtCfgMoldId: "lineReverse0",
                dataCfgMoldId: "lineReverse0"
            },
            {
                title: "折线图柱状图双轴",
                desc: "双轴，不同系列对应不同的轴",
                pic: i + "dt-mix0.png",
                wgtType: "schart",
                wgtCfgMoldId: "lineBarMix0",
                dataCfgMoldId: "lineBarMix0"
            }]
        },
        BAR: {
            text: "柱状图",
            molds: [{
                title: "标准柱状图",
                desc: "基本的柱状图",
                pic: i + "bar1.png",
                wgtType: "schart",
                wgtCfgMoldId: "barStandard0",
                dataCfgMoldId: "barStandard0"
            },
            {
                title: "堆积柱状图",
                desc: "任意系列多维度堆积",
                pic: i + "bar21.png",
                wgtType: "schart",
                wgtCfgMoldId: "barStack0",
                dataCfgMoldId: "barStack0"
            },
            {
                title: "标准条形图",
                desc: "柱状图的横纵坐标互换",
                pic: i + "bar3.png",
                wgtType: "schart",
                wgtCfgMoldId: "barHorizontal0",
                dataCfgMoldId: "barHorizontal0"
            },
            {
                title: "堆积条形图",
                desc: "任意系列多维度堆积",
                pic: i + "bar4.png",
                wgtType: "schart",
                wgtCfgMoldId: "barHorizontalStack0",
                dataCfgMoldId: "barHorizontalStack0"
            }]
        },
        PIE: {
            text: "饼　图",
            molds: [{
                title: "标准饼图",
                desc: "基本的饼图",
                pic: i + "pie1.png",
                wgtType: "schart",
                wgtCfgMoldId: "pieStandard0",
                dataCfgMoldId: "pieStandard0"
            },
            {
                title: "标准饼图",
                desc: "基本的饼图，数据标注",
                pic: i + "pie1.png",
                wgtType: "schart",
                wgtCfgMoldId: "pieStandardLabel0",
                dataCfgMoldId: "pieStandardLabel0"
            },
            {
                title: "标准环形图",
                desc: "基本的环形饼图",
                pic: i + "pie2.png",
                wgtType: "schart",
                wgtCfgMoldId: "pieRing0",
                dataCfgMoldId: "pieRing0"
            },
            {
                title: "嵌套饼图",
                desc: "由两个（或多个）饼图嵌套而成",
                pic: i + "pie3.png",
                wgtType: "schart",
                wgtCfgMoldId: "pieEmbed0",
                dataCfgMoldId: "pieEmbed0"
            },
            {
                title: "南丁格尔玫瑰图",
                desc: "半径模式的玫瑰图",
                pic: i + "pie10.png",
                wgtType: "schart",
                wgtCfgMoldId: "pieRoseRadius0",
                dataCfgMoldId: "pieRoseRadius0"
            },
            {
                title: "南丁格尔玫瑰图",
                desc: "面积模式的玫瑰图",
                pic: i + "pie11.png",
                wgtType: "schart",
                wgtCfgMoldId: "pieRoseArea0",
                dataCfgMoldId: "pieRoseArea0"
            },
            {
                title: "南丁格尔玫瑰图",
                desc: "双玫瑰图",
                pic: i + "pie4.png",
                wgtType: "schart",
                wgtCfgMoldId: "pieRoseCouple0",
                dataCfgMoldId: "pieRoseCouple0"
            }]
        },
        SCATTER: {
            text: "散点图",
            molds: [{
                title: "标准散点图",
                desc: "标注，标线",
                pic: i + "scatter1.png",
                wgtType: "schart",
                wgtCfgMoldId: "scatterStandard0",
                dataCfgMoldId: "scatterStandard0"
            }]
        },
        BUBBLE: {
            text: "气泡图",
            molds: [{
                title: "标准汽包图",
                desc: "气泡大小计算",
                pic: i + "scatter2.png",
                wgtType: "schart",
                wgtCfgMoldId: "bubbleStandard0",
                dataCfgMoldId: "bubbleStandard0"
            }]
        },
        FUNNEL: {
            text: "漏斗图",
            molds: [{
                title: "标准漏斗图",
                desc: "基本的漏斗图",
                pic: i + "funnel10.png",
                wgtType: "schart",
                wgtCfgMoldId: "funnelStandard0",
                dataCfgMoldId: "funnelStandard0"
            },
            {
                title: "带辅助背景的漏斗图",
                desc: "背景调谐了漏斗的“丁字形状”",
                pic: i + "funnel12.png",
                wgtType: "schart",
                wgtCfgMoldId: "funnelWithBg0",
                dataCfgMoldId: "funnelWithBg0"
            }]
        },
        MAP: {
            text: "地　图",
            molds: [{
                title: "标准中图地图",
                desc: "标准中图地图（省级）",
                pic: i + "map1.png",
                wgtType: "schart",
                wgtCfgMoldId: "mapChina0",
                dataCfgMoldId: "mapChina0"
            },
            {
                title: "标准世界地图",
                desc: "标准世界地图",
                pic: i + "map4.png",
                wgtType: "schart",
                wgtCfgMoldId: "mapWorld0",
                dataCfgMoldId: "mapWorld0"
            },
            {
                title: "标准省市区地图",
                desc: "标准省市区地图",
                pic: i + "map3.png",
                wgtType: "schart",
                wgtCfgMoldId: "mapProvince0",
                dataCfgMoldId: "mapProvince0"
            },
            {
                title: "多地图",
                desc: "多个地图并存",
                pic: i + "map8.png",
                wgtType: "schart",
                wgtCfgMoldId: "mapMultiWorld0",
                dataCfgMoldId: "mapMultiWorld0"
            }]
        },
        GAUGE: {
            text: "仪表盘",
            molds: [{
                title: "标准仪表盘",
                desc: "标准仪表盘",
                pic: i + "gauge1.png",
                wgtType: "schart",
                wgtCfgMoldId: "gaugeStandard0",
                dataCfgMoldId: "gaugeStandard0"
            }]
        },
        RADAR: {
            text: "雷达图",
            molds: [{
                title: "标准雷达图",
                desc: "标准雷达图",
                pic: i + "radar1.png",
                wgtType: "schart",
                wgtCfgMoldId: "radarStandard0",
                dataCfgMoldId: "radarStandard0"
            }]
        },
        OTHERS: {
            text: "其　他",
            showMessage: "Coming Soon ..."
        }
    },
    t.chartDefSequence = ["LINE", "BAR", "PIE", "MAP", "SCATTER", "BUBBLE", "RADAR", "FUNNEL", "GAUGE"],
    t
}),
define("common/core/themeMgr", ["require", "common/core/lib", "common/core/constant"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/constant"),
    i = t("themeInfo"),
    n = i.themeList,
    o = {};
    return o.LEGACY_STYLE_ID = i.defaultStyleId,
    o.DEFAULT_STYLE_ID = i.legacyStyleId,
    o.getInfo = function(t) {
        for (var i = 0,
        o = n.length; o > i; i++) if (t === n[i].styleId) return e.clone(n[i])
    },
    o.listThemes = function() {
        return e.clone(n)
    },
    o.listThumbnails = function() {
        for (var e = [], t = 0, i = n.length; i > t; t++) {
            var o = n[t].thumbnail;
            o && e.push(o)
        }
        return e
    },
    o.listPaperBgImgs = function() {
        for (var e = [], t = 0, i = n.length; i > t; t++) {
            var o = n[t].paperBgImg;
            o && e.push(o)
        }
        return e
    },
    o.getEcThemePackageId = function(e) {
        if (e !== o.DEFAULT_STYLE_ID && e !== o.LEGACY_STYLE_ID) return i.ecThemePackageBase + "/" + e;
        else return void 0
    },
    o
}),
define("prod/app/prodHelper", ["require"],
function() {
    function e(e) {
        return e.getAttribute(r)
    }
    function t(e) {
        return new RegExp("(^|\\s)" + d.escapeReg(e) + "(\\s|$)")
    }
    var i, n = "dtp-paper",
    o = "dtp-paper-curr",
    r = "data-dtppr",
    s = "data-dtwgt",
    a = typeof i,
    l = /#\{(.+?)\}/g,
    h = Object.prototype.toString,
    c = Array.prototype.slice,
    u = Array.prototype.indexOf,
    d = {};
    return d.getPaperEls = function(e) {
        return d.q(n, e, !0)
    },
    d.getCurrPaperInfoFromHTML = function(t, i) {
        var n = d.q(o, t, !0)[0];
        if (n) {
            var r = e(n);
            return {
                paperEl: n,
                paperId: r,
                paperIndex: d.getPaperIndexByPaperId(i, r)
            }
        }
    },
    d.getPaperEl = function(t, i) {
        for (var n = d.getPaperEls(i), o = 0, r = n.length; r > o; o++) if (e(n[o]) === t) return n[o]
    },
    d.getTransitPaperInfo = function(t, i) {
        var n = d.getCurrPaperInfoFromHTML(t);
        if (!n) return {};
        var o = d[i > 0 ? "nextNode": "previousNode"](n.paperEl);
        return {
            originPaperEl: n.paperEl,
            originPaperId: n.paperId,
            targetPaperEl: o,
            targetPaperId: o ? e(o) : null
        }
    },
    d.getWgtElsByPaper = function(e, t) {
        for (var i, n = d.getPaperEl(e, t), o = n.all || n.getElementsByTagName("*"), r = {},
        a = 0, l = o.length; l > a; a++) if (i = o[a].getAttribute(s)) r[i] = o[a];
        return r
    },
    d.getPaperIndexByPaperId = function(e, t) {
        return d.arrayIndexOf(e.prodCfg.paperSeq, t)
    },
    d.getPaperIdByPaperIndex = function(e, t) {
        return e.prodCfg.paperSeq[t]
    },
    d.getPaperCount = function(e) {
        return e.prodCfg.paperSeq.length
    },
    d.q = function(e, i, n) {
        var o = [];
        if (n && t(e).test(i.className)) o.push(i);
        if (i.getElementsByClassName) for (var r = i.getElementsByClassName(e), s = 0, a = r.length; a > s; s++) {
            var l = r[s];
            o.push(l)
        } else for (var h = t(e), r = i.all || i.getElementsByTagName("*"), s = 0, a = r.length; a > s; s++) {
            var l = r[s];
            h.test(l.className) && o.push(l)
        }
        return o
    },
    d.isArray = function(e) {
        return "[object Array]" === h.call(e)
    },
    d.previousNode = function(e) {
        for (; (e = e.previousSibling) && 1 !== e.nodeType;);
        return e
    },
    d.nextNode = function(e) {
        for (; (e = e.nextSibling) && 1 !== e.nodeType;);
        return e
    },
    d.curry = function(e) {
        var t = c.call(arguments, 1);
        return function() {
            return e.apply(this, t.concat(c.call(arguments)))
        }
    },
    d.escapeReg = function(e) {
        return String(e).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])", "g"), "\\$1")
    },
    d.attachEvent = function(e, t, i) {
        if (e.addEventListener) e.addEventListener(t, i, !1);
        else if (e.attachEvent) e.attachEvent("on" + t, i)
    },
    d.detachEvent = function(e, t, i) {
        if (e.removeEventListener) e.removeEventListener(t, i, !1);
        else if (e.detachEvent) {
            var n = "on" + t;
            if (typeof e[n] === a) e[n] = null;
            e.detachEvent(n, i)
        }
    },
    d.arrayIndexOf = function(e, t, i) {
        if (!e) return - 1;
        if (arguments.length < 3 && "function" == typeof u) return u.call(e, t);
        for (var n = 0,
        o = e.length; o > n; n++) if (arguments.length < 3 && e[n] === t || d.isObject(e[n]) && e[n][i] === t) return n;
        return - 1
    },
    d.isObject = function(e) {
        return Object(e) === e
    },
    d.isString = function(e) {
        "[object String]" === h.call(e)
    },
    d.strTemplate = function(e, t) {
        e = String(e);
        var i = Array.prototype.slice.call(arguments, 1);
        if (i.length) return i = 1 === i.length ? d.isObject(t) ? t: i: i,
        e.replace(l,
        function(e, t) {
            var n = i[t];
            if ("function" == typeof n) n = n(t);
            return null == n ? "": n
        });
        else return e
    },
    d.toPrintFormat = function(e) {
        if (e === i) return "undefined";
        else if (null === e) return "null";
        else if (d.isArray(e)) {
            for (var t = [], n = 0, o = e.length; o > n; n++) t.push(d.toPrintFormat(e[n]));
            return "[" + t.join(", ") + "]"
        } else if (d.isString(e)) return "'" + e.replace(/\\/g, "\\\\").replace(/'/g, "\\'") + "'";
        else return e + ""
    },
    d.makeResizeThrottle = function(e, t, i) {
        function n() {
            s = (new Date).getTime(),
            a = null,
            e.apply(i)
        }
        var o, r, s = 0,
        a = null;
        return function() {
            if (o = (new Date).getTime(), r = o - s - t, clearTimeout(a), r >= 0) n();
            else a = setTimeout(n, -r)
        }
    },
    d
}),
define("prod/app/ecHacker", ["require", "prod/app/prodHelper"],
function(require) {
    function e(e, t) {
        var n = [],
        o = {},
        r = t._dtaSymbolSize;
        null == r && (r = e._dtaSymbolSize),
        null == r && (r = []),
        null == r[0] && (r[0] = 4),
        null == r[1] && (r[1] = 20);
        var s = e._dtaMinZValue,
        a = e._dtaMaxZValue,
        l = a - s;
        if (i.isArray(r)) {
            var h = Math.min(r[0], r[1]),
            c = Math.max(r[0], r[1]),
            u = c - h;
            if (l) n.push("var radius = (value[2] - #{minZVal}) * #{maxMinusMinSize} / #{zValDiff} + #{minSize};"),
            o.minZVal = i.toPrintFormat(s),
            o.maxMinusMinSize = i.toPrintFormat(u),
            o.zValDiff = i.toPrintFormat(l),
            o.minSize = i.toPrintFormat(h);
            else {
                var d = .5 * (c + h);
                n.push("var radius = #{handoffRadius};"),
                o.handoffRadius = i.toPrintFormat(d)
            }
        } else {
            var f = r;
            n.push("var radius = value[2] * #{symbolSizeFloat};"),
            o.symbolSizeFloat = i.toPrintFormat(f)
        }
        return n.push("return Math.max(Math.round(radius), 1) || 1;"),
        new Function("value", i.strTemplate(n.join("\n"), o))
    }
    function t(e, t) {
        n.hackLegendShow(e, t),
        n.hackDataRangeShow(e, t),
        n.hackMarkShow(e, t),
        n.hackBubbleRadius(e, t),
        n.hackMapTypeControl(e, t),
        n.hackRadarData(e, t),
        n.hackMagicType(e, t),
        n.clearHiddenProp(e, t)
    }
    var i = require("prod/app/prodHelper"),
    n = {
        hackLegendShow: function(e) {
            if ((e.legend || {})._show === !1) delete e.legend
        },
        hackDataRangeShow: function(e) {
            if ((e.dataRange || {})._show === !1) delete e.dataRange
        },
        hackMarkShow: function(e) {
            for (var t = e.series || [], i = 0, n = t.length; n > i; i++) {
                var o = t[i].markPoint;
                if (o && o._show === !1) delete t[i].markPoint;
                else if (o && !o.data) t[i].markPoint.data = [];
                if ((t[i].markLine || {})._show === !1) delete t[i].markLine
            }
        },
        hackBubbleRadius: function(t, i) {
            for (var n, o = t.series || [], r = 0; n = o[r]; r++) if (n._dtfAutoCalcSymbolSizeByGlobalZLimit) n.symbolSize = e(i.option, n)
        },
        hackMapTypeControl: function(e) {
            var t = e.series || [],
            i = e.roamController;
            if (i && i.show) for (var n, o = i.mapTypeControl = {},
            r = 0; n = t[r]; r++) if ("map" === n.type && null != n.mapType) o[n.mapType] = !0
        },
        hackRadarData: function(e) {
            for (var t, i = e.series || [], n = 0; t = i[n]; n++) if ("radar" === t.type) t.data = [{
                value: t.data,
                name: t.name
            }],
            t.name = ""
        },
        hackMagicType: function(e) {
            var t = ((e.toolbox || {}).feature || {}).magicType || {};
            t.show = !1
        },
        clearHiddenProp: function(e) {
            var t = e.xAxis;
            if (t && t.__lastAxis1) delete t.__lastAxis1;
            var i = e.yAxis;
            if (i && i.__lastAxis1) delete i.__lastAxis1
        }
    };
    return t
}),
define("prod/app/ProdExe", ["require", "prod/app/prodHelper", "prod/app/ecHacker"],
function(require) {
    function e(e) {
        this._wgtEls = r.getWgtElsByPaper(e, this._mainEl || document.body)
    }
    function t(e) {
        var t = this._exeContext.prodCfg.wgtCfgMap[e];
        return this.wgtHandlers[t.wgtType]
    }
    function i(e, t) {
        if (null != e[t]) e[t] += ""
    }
    function n(e, t) {
        if (null != e[t]) e[t] = +e[t]
    }
    function o(e, t, o) {
        for (var r in e || {}) if (e.hasOwnProperty(r)) {
            var s = e[r];
            "string" === o ? i(s, t) : n(s, t)
        }
    }
    var r = require("prod/app/prodHelper"),
    s = require("prod/app/ecHacker"),
    a = 80,
    l = "dtp-wgt-main",
    h = window.TPL_DATA.themeInfo.ecThemePackageBase,
    c = function(e) {
        this._screenshotMode = !!e.screenshotMode,
        this._wgtEls = {},
        this._custContext = {
            wgtMap: {}
        },
        this._mainEl = e.mainEl,
        this._exeContext = e.exeContext,
        this._onResize = !this._screenshotMode && e.onResize || new Function,
        this._started = !1
    },
    u = c.prototype;
    return u.start = function(t) {
        if (this._removeWgts(), e.call(this, t), this._started = !0, this._refreshWgts(), !this._screenshotMode && !this._throttledResize) this._throttledResize = r.makeResizeThrottle(this.resize, a, this),
        r.attachEvent(window, "resize", this._throttledResize);
        setTimeout(this._onResize, 0)
    },
    u.terminate = function() {
        if (this._started) this._removeWgts(),
        this._started = !1
    },
    u.dispose = function() {
        if (this.terminate(), this._throttledResize) r.detachEvent(window, "resize", this._throttledResize),
        this._throttledResize = null
    },
    u.isStarted = function() {
        return !! this._started
    },
    u.resize = function(e) {
        if (this._started) {
            try {
                var t = this._wgtEls;
                if (null != e) t = {},
                t[e] = 1;
                for (var e in t) if (t.hasOwnProperty(e)) {
                    var i = this._custContext.wgtMap[e];
                    i && i.resize()
                }
            } catch(n) {}
            try {
                this._onResize()
            } catch(n) {}
        }
    },
    u._refreshWgt = function(e, i) {
        var n = t.call(this, e);
        if (n) {
            if (i || this._needRecreate) this._needRecreate = !1,
            n.dispose.call(this, e);
            n.refresh.call(this, e)
        }
    },
    u._refreshWgts = function() {
        var e = this._wgtEls;
        for (var t in e) if (e.hasOwnProperty(t)) this._refreshWgt(t)
    },
    u._disposeWgt = function(e) {
        var i = t.call(this, e);
        i && i.dispose.call(this, e)
    },
    u._removeWgts = function() {
        var e = this._wgtEls;
        for (var t in e) if (e.hasOwnProperty(t)) this._removeWgt(t)
    },
    u._removeWgt = function(e) {
        this._checkStarted(),
        this._disposeWgt(e),
        delete this._wgtEls[e]
    },
    u._checkStarted = function() {
        if (!this._started) throw new Error("Must start firstly")
    },
    u.wgtHandlers = {
        schart: {
            refresh: function(e) {
                try {
                    if (!this._started) return;
                    var t = this._custContext,
                    i = this._exeContext,
                    n = t.wgtMap[e];
                    if (!n) n = i.globalDep.echarts.init(r.q(l, this._wgtEls[e])[0]),
                    t.wgtMap[e] = n;
                    var o = this.wgtHandlers.schart.getFianlECOption.call(this, e);
                    if (o) n.setTheme(i.globalDep[h + "/" + i.prodCfg.styleId] || {}),
                    n.setOption(o, !0)
                } catch(s) {
                    this._needRecreate = !0
                }
            },
            dispose: function(e) {
                if (this._started) {
                    var t = this._custContext,
                    i = t.wgtMap[e];
                    if (i) {
                        try {
                            i.dispose()
                        } catch(n) {}
                        t.wgtMap[e] = null
                    }
                }
            },
            translateEcOption: function(e) {
                var t = e.option;
                if (!t) return t;
                if (s(t, e), this._screenshotMode) t.renderAsImage = !0;
                return t
            },
            getFianlECOption: function(e) {
                var t = this._exeContext.prodCfg.dataCfgMap[e];
                return t ? this.wgtHandlers.schart.translateEcOption.call(this, t) : null
            }
        }
    },
    c.normalizeDataCfgMap = function(e) {
        var t = e.prodCfg;
        o(t.dataCfgMap, "wgtId", "string"),
        o(t.dataCfgMapRaw, "wgtId", "string")
    },
    c
}),
define("wave/app/ProdExeExtended", ["require", "jquery", "common/core/lib", "common/core/constant", "common/core/themeMgr", "common/core/log", "prod/app/ProdExe", "common/core/appContext"],
function(require) {
    function e() {
        this._mainEl.innerHTML = this._exeContext.snippetPaperMain
    }
    function t(e) {
        for (var t = this._exeContext,
        i = t.prodCfg.paperLayoutMap[e], n = [], r = 0, a = i.length; a > r; r++) n.push(t.snippetWgts[i[r]]);
        o(this._mainEl).find(s.SELECTOR_PAPER_CON)[0].innerHTML = n.join("")
    }
    function i(e) {
        o(s.SELECTOR_PAPER, this._mainEl).attr(s.PAPER_TAG, e).attr(s.ATTR_PAPER_THEME, this._exeContext.prodCfg.styleId),
        this.updateViewImmediately("refreshTheme", {
            isInitMode: !0
        }),
        this.updateViewImmediately("refreshPaperStyle")
    }
    function n() {
        function e(e, t, i) {
            if (this.updateViewImmediately("refreshWgtStyle", {
                wgtId: e
            }), i.wgtType === s.WgtType.IMAGE) this.updateViewImmediately("refreshWgtImgSrc", {
                wgtId: e
            })
        }
        this.forEachWgt(e, this)
    }
    var o = require("jquery"),
    r = require("common/core/lib"),
    s = require("common/core/constant"),
    a = require("common/core/themeMgr"),
    l = require("common/core/log"),
    h = require("prod/app/ProdExe"),
    c = require("common/core/appContext"),
    u = 500,
    d = 800,
    f = function(e) {
        h.apply(this, arguments),
        this._prodExeShot = null,
        this._waveProdExeMethods = e.waveProdExeMethods,
        this._paperDelegations = e.paperDelegations
    };
    r.simpleInherit(f, h);
    var p = f.prototype;
    p.getWgtEls = function() {
        if (!this._started) return {};
        else return o.extend({},
        this._wgtEls)
    },
    p.getWgtEl = function(e) {
        return this._checkStarted(),
        this._wgtEls[e]
    },
    p.getCustContextWgt = function(e) {
        return this._checkStarted(),
        {
            wgtType: this._exeContext.prodCfg.wgtCfgMap[e].wgtType,
            instance: this._custContext.wgtMap[e]
        }
    },
    p.getPaperCon = function() {
        var e = o(s.SELECTOR_PAPER_CON, this._mainEl);
        return e && e.length ? e: null
    },
    p.bindProdExeShot = function(e, t) {
        if (e === !1) this._prodExeShot = null,
        this._prodExeShotIterator = null;
        else if (e) r.assert(this.isStarted() === e.isStarted()),
        this._prodExeShot = e,
        this._prodExeShotIterator = t
    },
    p._addWgt = function(e, t) {
        if (this._checkStarted(), this._prodExeShot) this._prodExeShot._addWgt(e, t);
        var i = o(s.SELECTOR_PAPER_CON, this._mainEl),
        n = o(t).appendTo(i);
        return this._wgtEls[e] = n[0],
        this._refreshWgt(e),
        n
    },
    p._removeWgt = function(e, t) {
        function i() {
            n.remove()
        }
        if (this._checkStarted(), this._prodExeShot) this._prodExeShot._removeWgt(e, !1);
        this._disposeWgt(e);
        var n = o(this._wgtEls[e]);
        if (t) n.hide(u, i);
        else i();
        delete this._wgtEls[e]
    },
    p.refreshWgt = function(e, t) {
        if (this._checkStarted(), this._prodExeShot) this._prodExeShot.refreshWgt(e, t);
        this._refreshWgt(e, t)
    },
    p.refreshWgts = function() {
        if (this._checkStarted(), this._prodExeShot) this._prodExeShot.refreshWgts();
        this._refreshWgts(this)
    },
    p.start = function(o) {
        if (r.assert(null != o), !this._started) {
            e.call(this, o),
            t.call(this, o),
            i.call(this, o);
            try {
                this._applySuper("start", [o])
            } catch(s) {
                return this._started = !1,
                void l.error(s)
            }
            n.call(this)
        }
    },
    p.terminate = function() {
        if (this._started) this._applySuper("terminate"),
        this._mainEl.innerHTML = ""
    },
    p.dispose = function() {
        this.bindProdExeShot(!1),
        this._applySuper("dispose")
    },
    p._resetWgtImgSrc = function(e, t) {
        if (this._checkStarted(), this._prodExeShot) this._prodExeShot._resetWgtImgSrc(e, t);
        t = t || '';
        t.indexOf('data:') !== 0 && t.indexOf('http:') !== 0 && t.indexOf('https:') !== 0 && (t = (t.indexOf('//') === 0 ? 'http:': 'http://') + t);
        o(this._wgtEls[e]).find(s.SELECTOR_WGT_MAIN).attr("src", t)
    },
    p._resetWgtStyle = function(e, t) {
        if (this._checkStarted(), this._prodExeShot) this._prodExeShot._resetWgtStyle(e, t);
        t = t || {};
        var i = [];
        for (var n in t) if (t.hasOwnProperty(n) && null != t[n]) i.push(n + ":" + t[n] + ";");
        var r = o(this._wgtEls[e]),
        a = r.find(s.SELECTOR_WGT_CONTAINER);
        if (a.length) r = a;
        r.attr("style", i.join("")),
        this.resize(e)
    },
    p._resetPaperStyle = function(e) {
        if (this._prodExeShotIterator) this._prodExeShotIterator(function(t, i) {
            i._resetPaperStyle(e)
        });
        e = e || {};
        var t = [];
        for (var i in e) if (e.hasOwnProperty(i) && null != e[i]) if (/^background/.test(i) && o.inArray(i, s.ALLOW_BG_CFG) < 0) continue;
        else t.push(i + ":" + e[i] + ";");
        if ("transparent" === e["background-type"]) t.push("background:transparent;");
        else if ("color" === e["background-type"]) t.push("background-image:none;");
        var n = o(s.SELECTOR_PAPER_VIEW, this._mainEl);
        if (n.attr("style", t.join("")), this.resize(), null != e.width || null != e["padding-left"] || null != e["padding-right"]) setTimeout(function() {
            c.fireGlobalEvent("PAPER_RESIZED")
        },
        0)
    },
    p._resetTheme = function(e) {
        function t(e) {
            if (e !== !1) l._exeContext.globalDep[h] = e;
            l.refreshWgts()
        }
        if (!e.isInitMode) this._checkStarted();
        if (this._prodExeShotIterator) this._prodExeShotIterator(function(t, i) {
            i._resetTheme(e)
        });
        var i = o(s.SELECTOR_PAPER, this._mainEl),
        n = i.attr(s.ATTR_PAPER_THEME);
        n && i.removeClass("dtp-theme-" + n);
        var r = e.styleId;
        i.addClass("dtp-theme-" + r).attr(s.ATTR_PAPER_THEME, r);
        var l = this,
        h = a.getEcThemePackageId(r);
        if (!e.isInitMode) null != h ? require([h], t) : t(!1)
    },
    p.isValid = function() {
        return !! this._exeContext
    },
    p.forEachWgt = function(e, t) {
        var i = this.getWgtEls();
        for (var n in i) if (i.hasOwnProperty(n)) e.call(t, n, i[n], this._waveProdExeMethods.getWgtCfg(n))
    };
    var m = {
        refreshWgtByData: function(e) {
            try {
                this.refreshWgt(e.wgtId, e.recreate)
            } catch(t) {}
        },
        refreshWgtImgSrc: function(e) {
            var t = this._waveProdExeMethods.retrieveCfg({
                method: "retrieveWgtTplCfg",
                wgtId: e.wgtId,
                dsp: "imgSrc"
            });
            this._resetWgtImgSrc(e.wgtId, t)
        },
        refreshWgtStyle: function(e) {
            var t = this._waveProdExeMethods.retrieveCfg({
                method: "retrieveWgtTplCfg",
                wgtId: e.wgtId,
                dsp: null
            }) || {};
            this._resetWgtStyle(e.wgtId, t.wgtStyle)
        },
        refreshPaperStyle: function() {
            var e = this._waveProdExeMethods.retrieveCfg({
                method: "retrievePaperTplCfg",
                dsp: null
            }) || {};
            this._resetPaperStyle(e.paperStyle)
        },
        refreshTheme: function(e) {
            e = e || {},
            this._resetTheme({
                styleId: this._waveProdExeMethods.retrieveCfg({
                    method: "retrieveTheme"
                }),
                isInitMode: e.isInitMode
            })
        },
        addWgt: function(e) {
            var t = e.wgtInfo,
            i = t.wgtCfg.wgtId,
            n = this._addWgt(i, t.snippet);
            this._paperDelegations.afterAddWgt(i, n, t.wgtCfg)
        },
        removeWgt: function(e) {
            var t = e.wgtId,
            i = this._paperDelegations,
            n = o(this.getWgtEl(t)),
            r = this._waveProdExeMethods.getWgtCfg(t);
            i.beforeRemoveWgt(t, n, r),
            this._removeWgt(t, !0),
            i.afterRemoveWgt()
        },
        resetLayout: function(e) {
            var t = this._prodExeShot;
            if (t) t.terminate(),
            t.start(e.paperId)
        }
    },
    g = function() {
        var e = {};
        for (var t in m) if (m.hasOwnProperty(t)) e[t] = r.debounce(m[t], d);
        return {
            delay: e,
            immediate: o.extend({},
            m)
        }
    } ();
    return p.updateViewDelay = function(e, t) {
        e && g.delay[e].call(this, t || {})
    },
    p.updateViewImmediately = function(e, t) {
        e && g.immediate[e].call(this, t || {})
    },
    f
}),
define("wave/app/persistenceHelper", ["require", "jquery", "common/core/lib", "common/core/constant", "common/core/themeMgr", "prod/app/ProdExe"],
function(require) {
    function e(e) {
        return e = e.replace(b, ""),
        e = e.replace(x, ""),
        e.replace(_, '"')
    }
    function t(e, i, n) {
        var o, r = d.type(e),
        s = new Array(n * k + 1).join(" "),
        a = new Array((n + 1) * k + 1).join(" "),
        l = !1,
        h = null != i ? i + ": ": "";
        switch (r) {
        case "function":
            l = !0,
            o = h + f.printFunction(e, n, k);
            break;
        case "regexp":
            o = h + '"' + e + '"';
            break;
        case "date":
            o = h + '"' + e + '"';
            break;
        case "array":
            for (var c = [], u = 0, p = e.length; p > u; u++) {
                var m = t(e[u], null, n + 1);
                if (c.push(m.str), m.hasLineBreak) l = !0
            }
            var g = l ? U: "",
            y = "," + (l ? U + a: " "),
            v = l ? a: "",
            b = l ? s: "";
            o = "" + h + "[" + g + v + c.join(y) + g + b + "]";
            break;
        case "object":
            l = !0;
            var c = [];
            for (var u in e) if (e.hasOwnProperty(u) && "_show" !== u && 0 !== u.indexOf("_dt")) {
                var m = t(e[u], u, n + 1);
                c.push(a + m.str)
            }
            o = "" + h + "{" + U + c.join("," + U) + U + s + "}";
            break;
        case "boolean":
        case "number":
            o = h + e + "";
            break;
        case "string":
            o = h + '"' + e + '"';
            break;
        default:
            throw new Error('Illegal type "' + r + '" at "' + e + '"')
        }
        return {
            str: o,
            hasLineBreak: l
        }
    }
    function i(e, t) {
        if (!e.length) t(e);
        else {
            var i = f.arrayIndexOf(e, "echarts");
            if (~i) {
                var n = e.slice();
                n.splice(i, 1),
                require(["echarts"],
                function(e) {
                    require(n,
                    function() {
                        t.apply(null, [["echarts"].concat(n), e].concat(f.arraySlice(arguments)))
                    })
                })
            } else require(e, f.curry(t, e))
        }
    }
    function n(e, t, i, n) {
        try {
            for (var o = f.arraySlice(arguments, 4), r = e.globalDep = {},
            s = 0, l = n.length; l > s; s++) r[n[s]] = o[s];
            a(e, t),
            i.resolve(e)
        } catch(h) {
            i.reject(h.message)
        }
    }
    function o(e) {
        if (!e || e.length <= V) throw new Error("error segment: " + e);
        return {
            key: e.slice(0, V),
            content: e.slice(V)
        }
    }
    function r(e) {
        for (var t = e.split(w), i = {},
        n = 1, r = t.length; r > n; n++) {
            var s = o(t[n]);
            if (s.key === L.DATA_CFG || s.key === L.SNIPPET_WGT_ID || s.key === L.SNIPPET_WGT_MAIN) {
                var a = i[s.key] || (i[s.key] = []);
                a.push(s.content)
            } else i[s.key] = s.content
        }
        return i[L.DATA_CFG] = i[L.DATA_CFG] || [],
        i
    }
    function s(e) {
        var t = {},
        i = [],
        n = e.wgtCfgMap;
        for (var o in n) if (n.hasOwnProperty(o)) {
            for (var r, s = 0; r = (n[o].dep || [])[s]; s++) if (!t[r]) i.push(r),
            t[r] = 1
        } else;
        var a = m.getEcThemePackageId(e.styleId);
        if (a) i.push(a),
        t[a] = 1;
        return i
    }
    function a(e, t) {
        for (var i, n = e.prodCfg,
        o = n.dataCfgMap = {},
        r = n.dataCfgMapRaw = {},
        s = t[L.DATA_CFG], a = 0; i = s[a]; a++) {
            var h = l(i, e.globalDep);
            o[h.dataCfg.wgtId] = h.dataCfg,
            r[h.dataCfgRaw.wgtId] = h.dataCfgRaw
        }
        g.normalizeDataCfgMap(e)
    }
    function l(t, i) {
        var n = {};
        return n.dataCfg = new Function("globalDep", "var dataCfg = (" + e(t) + "); return dataCfg;")(i),
        n.dataCfgRaw = f.parseJSONLaxly(t),
        n
    }
    function h(e, t, i, n, o, r) {
        try {
            for (var s = f.arraySlice(arguments, 5), a = e.depMap = {},
            h = 0, u = n.length; u > h; h++) a[n[h]] = s[h];
            var p = d.extend({},
            a, t.globalDep);
            f.assign(e, l(i[L.DATA_CFG][0], p)),
            c(e, t, o),
            r.resolve(e)
        } catch(m) {
            r.reject(m.message)
        }
    }
    function c(e, t, i) {
        var n = t.prodCfg,
        o = e.wgtCfg.wgtId;
        t.globalDep = d.extend({},
        e.depMap, t.globalDep),
        t.snippetWgts[o] = e.snippet,
        n.wgtCfgMap[o] = e.wgtCfg,
        n.dataCfgMap[o] = e.dataCfg,
        n.dataCfgMapRaw[o] = e.dataCfgRaw,
        n.paperLayoutMap[i].push(o)
    }
    function u(e, t, i) {
        e.push(U, w, t, U, i)
    }
    var d = require("jquery"),
    f = require("common/core/lib"),
    p = require("common/core/constant"),
    m = require("common/core/themeMgr"),
    g = require("prod/app/ProdExe"),
    y = f.stringifyJSON,
    v = {},
    b = /\"(\\u000f\\u000e|\x0e)/gi,
    x = /(\\u000f\\u000e|\x0e)\"/gi,
    _ = /(\\u000f\\u000e|\x0e)`/gi,
    w = "-SEGMENT:",
    V = 3,
    U = "\n",
    k = 4,
    C = ["prodId", "title", "brief", "vsb"],
    S = ["layout", "tplId", "styleId", "jsCfg", "wgtCfgMap", "paperCfg", "paperSeq", "paperLayoutMap"],
    L = {
        GLOBAL_STYLE: "GS",
        SNIPPET: "SN",
        SNIPPET_PAPER_MAIN: "SP",
        SNIPPET_WGT_ID: "SI",
        SNIPPET_WGT_MAIN: "SW",
        PROD_CFG: "PC",
        WGT_CFG: "WC",
        DATA_CFG: "DC",
        DB_FIELD: "DB"
    };
    return v.stringifyEcOption = function(e) {
        try {
            var i = t(e, null, 0);
            return i.str
        } catch(n) {
            return ""
        }
    },
    v.updateProdDepVersion = function(e) {
        var t = e.prodCfg,
        i = p.prodDepVersion,
        n = !1;
        if (!t.jsCfg) t.jsCfg = {},
        n = !0;
        var o = t.jsCfg.prodDepVersion;
        if (!o) t.jsCfg.prodDepVersion = f.clone(i),
        n = !0;
        else for (var r in i) if (o[r] !== i[r]) o[r] = i[r],
        n = !0;
        return n
    },
    v.createExeContext = function(e) {
        var t = new d.Deferred,
        o = {};
        try {
            var a = r(e);
            f.assert(a[L.PROD_CFG]),
            o.globalStyle = a[L.GLOBAL_STYLE],
            o.snippetPaperMain = a[L.SNIPPET_PAPER_MAIN];
            var l = a[L.SNIPPET_WGT_ID],
            h = a[L.SNIPPET_WGT_MAIN];
            o.snippetWgts = {};
            for (var c = 0,
            u = l.length; u > c; c++) o.snippetWgts[d.trim(l[c])] = h[c];
            var p = o.prodCfg = f.parseJSONLaxly(a[L.PROD_CFG]);
            f.assert(p);
            var m = f.parseJSONLaxly(a[L.DB_FIELD]);
            f.assert(m),
            d.extend(p, m);
            var g = s(p, a),
            y = f.curry(n, o, a, t);
            i(g, y)
        } catch(v) {
            t.reject(v.message)
        }
        return t
    },
    v.retrieveBlueprintInfo = function(e) {
        if (!e) return null;
        var t = e.indexOf(w);
        try {
            return f.parseJSONLaxly(~t ? e.slice(0, t) : e)
        } catch(i) {
            return null
        }
    },
    v.updateModelForCreateWgt = function(e, t, i) {
        var n = new d.Deferred,
        o = {};
        try {
            var s = r(e);
            o.snippet = s[L.SNIPPET];
            var a = o.wgtCfg = f.parseJSONLaxly(s[L.WGT_CFG]),
            l = a.dep || [],
            c = f.curry(h, o, t, s, l, i, n);
            if (l.length) require(l, c);
            else c()
        } catch(u) {
            n.reject(u.message)
        }
        return n
    },
    v.updateModelForDuplicateWgt = function() {},
    v.updateModelForRemoveWgt = function(e, t, i) {
        var n = t.prodCfg;
        delete n.wgtCfgMap[e],
        delete n.dataCfgMap[e],
        delete n.dataCfgMapRaw[e],
        delete t.snippetWgts[e],
        f.arrayRemoveItem(n.paperLayoutMap[i], e)
    },
    v.updateModelForCreatePaper = function(e, t, i) {
        var n = i.prodCfg;
        n.paperSeq.splice(t, 0, e),
        n.paperLayoutMap[e] = []
    },
    v.updateModelForRemovePaper = function(e, t, i) {
        for (var n = i.prodCfg,
        o = n.paperLayoutMap[e], r = 0, s = o.length; s > r; r++) {
            var a = o[r];
            v.updateModelForRemoveWgt(a, i, e)
        }
        n.paperSeq.splice(t, 1),
        delete n.paperLayoutMap[e]
    },
    v.updateModelForMovePaper = function(e, t, i) {
        var n = i.prodCfg.paperSeq,
        o = n.splice(e, 1)[0];
        n.splice(t, 0, o)
    },
    v.createPersistenceParam = function(e, t) {
        var i = e.prodCfg,
        n = [],
        o = f.assign({},
        i, C);
        u(n, L.PROD_CFG, y(f.assign({},
        i, S)));
        var r = i.dataCfgMapRaw;
        for (var s in r) if (r.hasOwnProperty(s)) u(n, L.DATA_CFG, y(r[s]));
        return o.cfg = n.join(""),
        o.syncStatus = t,
        o
    },
    v
}),
define("wave/app/DataCfgWrap", ["require", "common/core/lib", "common/core/constant", "echarts", "echarts/config"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/constant"),
    i = t.EcChartType;
    require("echarts");
    var n = require("echarts/config"),
    o = e.getByPath,
    r = e.newClass({
        _construct: function(t, i) {
            e.assert(t && null != i),
            this._dataCfg = t,
            this._wgtId = i
        },
        getDataCfg: function() {
            return this._dataCfg
        },
        retrieve: function(e) {
            return o(e, this._dataCfg, o.actionChoice.notPlainReturn)
        },
        retrieveMold: function(e) {
            return o("mold." + e, this._dataCfg, o.actionChoice.notPlainReturn)
        },
        fetchChartSeriesColor: function(e) {
            var t = this.getChartSeries() || [],
            i = o("itemStyle.color", t[e], o.actionChoice.notObjectReturn);
            if (!i) {
                var r = n.color;
                i = r[Number(e) % r.length]
            }
            return i
        },
        fetchChartMapSeriesIndexes: function(e) {
            for (var t = this.getChartSeries() || [], n = [], o = e && e.mapType, r = 0, s = t.length; s > r; r++) if (t[r]) {
                if (t[r].type === i.MAP) if (null == o || o === t[r].mapType) n.push(r)
            } else;
            return n
        },
        fetchSeriesIndexes: function(t) {
            var n = this.getChartSeries() || [],
            o = [],
            r = t.chartTypeArr,
            s = t.condition || "include",
            a = t.extraJudgement;
            e.assert(~"include,exclude".indexOf(s));
            for (var l = 0,
            h = n.length; h > l; l++) if (n[l]) {
                var c = n[l].type,
                u = i.exists(r, [c]);
                if ("include" === s && u || "exclude" === s && !u)(!a || a(l, c, this._wgtId)) && o.push(l)
            } else;
            return o
        },
        getDataEditType: function() {
            return this._dataCfg.dataEditType
        },
        getChartSeries: function(e) {
            var t = (this._dataCfg.option || {}).series;
            return arguments.length ? (t || [])[e] : t
        },
        forEachSeries: function(e) {
            for (var t = (this._dataCfg.option || {}).series || [], i = 0, n = t.length; n > i; i++) e(i, t[i])
        },
        getChartPolar: function() {
            return (this._dataCfg.option || {}).polar
        },
        getChartSeriesCount: function() {
            return (this.getChartSeries() || []).length
        },
        getChartOption: function() {
            return this._dataCfg.option
        },
        getChartType: function(e) {
            var t = this.getChartSeries() || [];
            if (null != e) {
                var i = t[e];
                return i ? i.type: null
            } else {
                for (var n = [], o = 0, r = t.length; r > o; o++) {
                    var i = t[o];
                    n.push(i ? i.type: null)
                }
                return n
            }
        },
        getChartSeriesMapType: function(e) {
            var t = this.getChartSeries() || [],
            i = t[e];
            return i ? i.mapType: null
        },
        getChartLegendForUpdate: function() {
            var e = this._dataCfg.option;
            if (e) {
                var t = e.legend;
                if (!t) t = e.legend = {
                    _show: !1
                };
                return t
            }
        },
        getChartAxis: function(e, t) {
            var i = this._dataCfg.option || {},
            n = i["x" === e ? "xAxis": "yAxis"];
            return null == n ? null: n[t || 0]
        },
        getChartAxisByType: function(e, t) {
            var i = this.getChartAxis("x", t),
            n = this.getChartAxis("y", t);
            if (i && i.type === e) return i;
            if (n && n.type === e) return n;
            else return void 0
        },
        getSeriesIndicesUsingSecondaryAxis: function(e) {
            for (var t = "x" === e ? "xAxisIndex": "yAxisIndex", i = this.getChartSeries() || [], n = [], o = 0, r = i.length; r > o; o++) {
                var s = i[o];
                if (s && s[t] > 0) n.push(o)
            }
            return n
        },
        getChartCategoryData: function() {
            return this.getChartAxisByType(t.EcAxisType.CATEGORY, 0).data
        },
        cloneChartSeriesExceptDataAndFn: function(t) {
            e.assert(null != t);
            var i = this.getChartSeries(t),
            n = i.data;
            delete i.data;
            var o = e.clone(i, !1);
            return i.data = n,
            o
        }
    });
    return r
}),
define("wave/app/cfgWriteHelper", ["require", "jquery", "common/core/lib", "common/core/constant"],
function(require) {
    function e(e, t) {
        if (null == e) return h.Action.OVERLAP;
        else if (s.isArray(e)) {
            if (null != a.getNumber(t)) return h.Action.DRILL_DOWN;
            else if (l.debug) return h.Action.THROW;
            else if (null != t && "" !== t && !e.length) return h.Action.OVERLAP
        } else if (a.isAtom(e)) return h.Action.THROW;
        else return h.Action.DRILL_DOWN
    }
    function t(e, t) {
        if (null == e) return u.push({
            pathUnit: t,
            del: !0
        }),
        h.Action.OVERLAP;
        else if (!a.isPlain(e)) return h.Action.THROW;
        else return u.push({
            pathUnit: t,
            del: n(e, t)
        }),
        h.Action.DRILL_DOWN
    }
    function i(e, t) {
        delete e[t]
    }
    function n(e, t) {
        if (!a.isObject(e)) return ! 1;
        var i = 0;
        for (var n in e) if (++i > 1 || n !== t) return ! 1;
        return ! 0
    }
    function o(e, t) {
        for (var i = [], n = e.length - 1, o = !1; n >= 0; n--) if (o || !e[n].del) o = !0,
        i[n] = e[n].pathUnit;
        return a.reducePath(t, i)
    }
    var r, s = require("jquery"),
    a = require("common/core/lib"),
    l = require("common/core/constant"),
    h = a.setByPath,
    c = {},
    u = [];
    return c.setCfgByPath = function(n, s, a) {
        if (s === r) u = [];
        if (s = h(a, s, n, s === r ? t: e), s === r) h(a = o(u, a), r, n, e, i)
    },
    c
}),
define("wave/app/moldBase", ["require"],
function() {
    var e = {
        lineArea: {
            itemStyle: {
                normal: {
                    areaStyle: {
                        type: "default"
                    }
                }
            }
        },
        lineAreaStack: {
            itemStyle: {
                normal: {
                    areaStyle: {
                        type: "default"
                    }
                }
            }
        },
        bubbleStandard: {
            symbol: "circle"
        },
        funnelStandard: {
            itemStyle: {
                normal: {
                    labelLine: {
                        show: !1
                    }
                },
                emphasis: {
                    labelLine: {
                        show: !1
                    }
                }
            }
        },
        funnelWithBg: {
            itemStyle: {
                normal: {
                    labelLine: {
                        show: !1
                    }
                },
                emphasis: {
                    labelLine: {
                        show: !1
                    }
                }
            }
        }
    };
    return {
        seriesMoldBase: e
    }
}),
define("wave/app/waveProdExeCfgUpdater", ["require", "jquery", "common/core/lib", "common/core/constant", "wave/app/cfgWriteHelper", "common/core/log", "wave/app/moldBase"],
function(require) {
    function e(e, t) {
        var i = e.seriesToSetCfg,
        n = t.retrieveMold("defaultEcChartType") || e.defaultEcChartType,
        o = a(e.seriesMold, t);
        if (i) {
            for (var r, s, l = t.getChartSeries(), h = 0; s = i[h]; h++) if (r = l[h] || (l[h] = u.assign({
                type: n
            },
            u.clone(o))), r.name = s.name, r.data = s.data, null != s.max) r.max = s.max;
            l.length = i.length
        }
    }
    function t(e, t) {
        var i, n = e.legendDataToSetCfg;
        if (n) {
            var o = t.getChartLegendForUpdate();
            if (o) {
                if (!u.arrayEquals(o.data, n)) i = {
                    viewUpdaterArgs: {
                        recreate: !0
                    }
                };
                o.data = n
            }
        }
        return i
    }
    function i(e, t) {
        var i = e.categoryDataToSetCfg;
        if (i) {
            var n = t.getChartAxisByType(d.EcAxisType.CATEGORY, 0),
            o = t.getChartAxisByType(d.EcAxisType.CATEGORY, 1);
            n && (n.data = i),
            o && (o.data = u.clone(i))
        }
    }
    function n(e, t) {
        var i = e.polarDataToSetCfg;
        if (i) {
            var n = t.getChartPolar();
            n[0].indicator = i
        }
    }
    function o(e, t) {
        var i = t.getChartOption();
        if (null != e.maxZValue) i._dtaMaxZValue = e.maxZValue;
        if (null != e.minZValue) i._dtaMinZValue = e.minZValue
    }
    function r(e) {
        for (var t in e) if (e.hasOwnProperty(t)) e[t] = s(e[t]);
        return e
    }
    function s(e) {
        return function(t) {
            var i = t.wgtId;
            e.call(this, t, this.getDataCfgWrap(i, !1));
            var n, o, r = e.call(this, t, this.getDataCfgWrap(i, !0)),
            s = c.type(r),
            a = u.assign({
                wgtId: i
            },
            t.viewUpdaterArgs);
            if ("object" === s) n = r.notModified,
            o = r.viewUpdater,
            a = u.assign(a, r.viewUpdaterArgs);
            else if ("boolean" === s) n = !!r;
            return {
                notModified: !!n,
                viewUpdater: o || (n ? null: "refreshWgtByData"),
                viewUpdaterArgs: a
            }
        }
    }
    function a(e, t) {
        var i = l(m.seriesMoldBase[t.retrieveMold("seriesMoldBase")]),
        n = l(t.retrieveMold("seriesMold")),
        o = l(e),
        r = u.merge(i, n);
        return r = u.merge(r, o),
        r || {}
    }
    function l(e) {
        return u.isObject(e) ? u.clone(e) : h
    }
    var h, c = require("jquery"),
    u = require("common/core/lib"),
    d = require("common/core/constant"),
    f = require("wave/app/cfgWriteHelper"),
    p = require("common/core/log"),
    m = require("wave/app/moldBase"),
    g = "title,vsb,brief",
    y = /\sdata-dtwgt="(.+?)"/g,
    v = {
        setProdCfgProp: function(e) {
            for (var t in e) if (~g.indexOf(t)) if (this._exeContext.prodCfg[t] !== e[t]) return this._exeContext.prodCfg[t] = e[t],
            !1;
            else return ! 0
        },
        resetLayout: function() {
            var e, t = this._$mainEl.html(),
            i = this._paperIdOb();
            u.assert(null != i);
            for (var n = this._exeContext.prodCfg.paperLayoutMap[i] = []; e = y.exec(t);) n.push(e[1]);
            return {
                viewUpdater: "resetLayout",
                viewUpdaterArgs: {
                    paperId: i
                }
            }
        },
        updateWgtTplCfg: function(e) {
            var t = e.wgtId,
            i = "wgtCfgMap[" + t + "].tplCfg." + e.dsp,
            n = e.value;
            if (f.setCfgByPath(this._exeContext.prodCfg, n, i), p.trace("[PERSISTENCE] " + i + ": " + n), e.viewUpdater) return {
                viewUpdater: e.viewUpdater,
                viewUpdaterArgs: {
                    wgtId: t
                }
            };
            else return void 0
        },
        updatePaperTplCfg: function(e) {
            var t = "paperCfg.tplCfg." + e.dsp,
            i = e.value;
            if ("paperStyle.background-type" === e.dsp) {
                var n = this.retrieveCfg({
                    method: "retrievePaperTplCfg",
                    dsp: "paperStyle"
                }) || {};
                for (var o in n) if (n.hasOwnProperty(o) && /^background/.test(o)) delete n[o];
                n["background-type"] = i,
                f.setCfgByPath(this._exeContext.prodCfg, n, "paperCfg.tplCfg.paperStyle")
            } else f.setCfgByPath(this._exeContext.prodCfg, i, t);
            return p.trace("[PERSISTENCE] " + t + ": " + i),
            {
                viewUpdater: "refreshPaperStyle"
            }
        },
        updateTheme: function(e) {
            var t = e.value,
            i = this._exeContext.prodCfg;
            return i.styleId = t,
            p.trace("[PERSISTENCE] styleId: " + t),
            {
                viewUpdater: "refreshTheme"
            }
        }
    },
    b = r({
        exchangeAxisType: function(e, t) {
            var i = t.getDataCfg().option;
            if (i) {
                var n = i.xAxis;
                i.xAxis = i.yAxis,
                i.yAxis = n;
                for (var o = i.series || [], r = 0, s = o.length; s > r; r++) {
                    var a = o[r];
                    if (a) {
                        var l = a.hasOwnProperty("xAxisIndex") ? a.xAxisIndex: "NO",
                        h = a.hasOwnProperty("yAxisIndex") ? a.yAxisIndex: "NO";
                        if (a.yAxisIndex = l, a.xAxisIndex = h, "NO" === a.xAxisIndex) delete a.xAxisIndex;
                        if ("NO" === a.yAxisIndex) delete a.yAxisIndex
                    } else;
                }
                return {
                    viewUpdaterArgs: {
                        recreate: !0
                    }
                }
            }
        },
        refreshSeriesAndCategory: function(r, s) {
            e(r, s);
            var a = t(r, s);
            if (i(r, s), n(r, s), o(r, s), r.viewUpdaterArgs) a = a || {},
            a.viewUpdaterArgs = a.viewUpdaterArgs || {},
            u.assign(a.viewUpdaterArgs, r.viewUpdaterArgs);
            return a
        },
        setDataCfg: function(e, t) {
            var i, n, o = e.dsp,
            r = c.type(o);
            if ("string" === r) i = [o],
            n = [e.value];
            else if ("object" === r) {
                if (i = o.pathUpdater || o.path, "function" === c.type(i)) i = i({
                    wgtId: e.wgtId
                });
                if (!c.isArray(i)) i = [i];
                n = o.disunify(e.value, {
                    wgtId: e.wgtId,
                    pathList: i,
                    dataCfgWrap: t
                }),
                u.assert(i.length && null != i[0] && n.length === i.length)
            } else u.assert(!1);
            for (var s = t.getDataCfg(), a = 0, l = i.length; l > a; a++) f.setCfgByPath(s, n[a], i[a]),
            p.trace("[PERSISTENCE] " + i[a] + ": " + n[a])
        }
    });
    return c.extend({},
    b, v)
}),
define("wave/app/waveProdExeCfgRetriever", ["require", "jquery", "common/core/lib", "common/core/constant", "common/core/themeMgr"],
function(require) {
    function e(e, i) {
        var n = this._prodExe.getCustContextWgt(i),
        r = n.instance;
        if (n.wgtType !== o.WgtType.SIMPLE_CHART || !r) return t;
        else return s(e, {
            option: r.getOption()
        },
        s.actionChoice.notPlainReturn)
    }
    var t, i = require("jquery"),
    n = require("common/core/lib"),
    o = require("common/core/constant"),
    r = require("common/core/themeMgr"),
    s = n.getByPath;
    return {
        retrieveWgtDataCfg: function(t) {
            var o, r = t.dsp,
            s = i.type(r),
            a = t.wgtId;
            if (!t.retrieveRendered) {
                var l = this.getDataCfgWrap(a);
                o = function(e) {
                    return l.retrieve(e)
                }
            } else o = e;
            if ("string" === s) return o.call(this, r, a);
            else if ("object" === s) {
                var h = [],
                c = r.pathRetriever || r.path;
                if ("function" === i.type(c)) c = c({
                    wgtId: a
                });
                if (!i.isArray(c)) c = [c];
                n.assert(c.length && null != c[0]);
                for (var u = 0,
                d = c.length; d > u; u++) h.push(o.call(this, c[u], a));
                return r.unify(h, {
                    wgtId: a,
                    pathList: c
                })
            } else n.assert(!1)
        },
        retrieveWgtTplCfg: function(e) {
            var t = e.dsp ? "." + e.dsp: "";
            return s("wgtCfgMap[" + e.wgtId + "].tplCfg" + t, this._exeContext.prodCfg || {},
            s.actionChoice.notPlainReturn)
        },
        retrievePaperTplCfg: function(e) {
            var t = this._exeContext.prodCfg.paperCfg || {};
            return s(e.dsp, t.tplCfg || {},
            s.actionChoice.notPlainReturn)
        },
        retrieveTheme: function() {
            return this._exeContext.prodCfg.styleId || r.DEFAULT_STYLE_ID
        }
    }
}),
define("wave/app/WaveProdExePaperShot", ["require", "jquery", "common/core/lib", "wave/app/ProdExeExtended", "common/core/log"],
function(require) {
    function e(e) {
        this._prodExeShotMap = {},
        this._status = s.NONE,
        i.assign(this._waveProdExeMethods = {},
        e, null, null, !0)
    }
    var t = require("jquery"),
    i = require("common/core/lib"),
    n = require("wave/app/ProdExeExtended"),
    o = require("common/core/log"),
    r = ".dtm-pprnav-item-con",
    s = i.makeEnum({
        NONE: "none",
        SLEEPING: "sleeping",
        WAKING: "waking"
    }),
    a = e.prototype;
    return a.init = function(e, t) {
        function i(e) {
            if (this._isInit()) {
                var t = this._prodExeShotMap[e];
                this._waveProdExeMethods.getProdExe().bindProdExeShot(t, this.getProdExeShotIterator())
            }
        }
        this._paperShotOperations = t,
        this._viewModelObArr = e,
        this._status = s.WAKING,
        this._forEachPaperShot(function(e, t) {
            this.addShot(t)
        }),
        this._paperIdSubscription = this._waveProdExeMethods.getPaperIdOb().subscribe(i, this),
        t.refreshScrollPanel()
    },
    a.getProdExeShotIterator = function() {
        var e = this;
        return function(t, i) {
            var n = e._prodExeShotMap;
            for (var o in n) if (n.hasOwnProperty(o)) t.call(i, o, n[o])
        }
    },
    a.wake = function(e) {
        if (this._isInit()) {
            this._status = s.WAKING,
            this._forEachPaperShot(function(e, t) {
                this._initShot(t, e)
            });
            var t = this._waveProdExeMethods.getPaperIdOb()(),
            i = this._prodExeShotMap[t];
            if (this._waveProdExeMethods.getProdExe().bindProdExeShot(i, this.getProdExeShotIterator()), !e) i.terminate(),
            i.start(t)
        }
    },
    a.sleep = function() {
        if (this._isInit()) this._status = s.SLEEPING,
        this._waveProdExeMethods.getProdExe().bindProdExeShot(!1)
    },
    a.addShot = function(e, t) {
        if (this._isInit()) {
            var n = this._viewModelObArr;
            if (null == t && (t = n.count()), i.assert(t >= 0 && t <= n.count()), n.splice(t, 0, {
                itemConfig: {
                    itemTplParam: {
                        paperId: e
                    }
                }
            }), this._status === s.WAKING) this._initShot(e, t)
        }
    },
    a.removeShot = function(e) {
        if (this._isInit()) {
            var t = this._waveProdExeMethods.getPaperIndexByPaperId(e);
            this._disposeShot(e, t),
            this._viewModelObArr.splice(t, 1)
        }
    },
    a.moveShot = function(e, t) {
        if (this._isInit()) this._viewModelObArr.move(e, t)
    },
    a._initShot = function(e, i) {
        if (!this._prodExeShotMap[e]) {
            var o = this._paperShotOperations,
            s = t(o.getShotElAt(i));
            this._prodExeShotMap[e] = new n(this._waveProdExeMethods.getNewProdExeArgs({
                exeContext: this._waveProdExeMethods.getExeContext(),
                mainEl: s.find(r)[0],
                screenshotMode: !0
            })),
            o.dressShotEl(s, e, i),
            this._startProdExeShot(i, e)
        }
    },
    a._disposeShot = function(e, i) {
        var n = this._waveProdExeMethods,
        r = this._paperShotOperations,
        s = n.getPaperIdOb();
        if (s() === e) n.getProdExe().bindProdExeShot(!1);
        var a = t(r.getShotElAt(i));
        r.undressShotEl(a, e, i);
        var l = this._prodExeShotMap[e];
        delete this._prodExeShotMap[e];
        try {
            l.dispose()
        } catch(h) {
            o.error(h)
        }
    },
    a._startProdExeShot = function(e, t) {
        try {
            var i = this._paperShotOperations,
            n = this._prodExeShotMap[t];
            if (i.isShotVisible(e) && !n.isStarted()) n.start(t)
        } catch(r) {
            o.error(r)
        }
    },
    a.dispose = function() {
        if (this._paperIdSubscription) this._paperIdSubscription.dispose();
        var e = this._waveProdExeMethods.getProdExe();
        if (e) e.bindProdExeShot(!1);
        var t = this._prodExeShotMap;
        this._forEachPaperShot(function(e, i) {
            if (t[i]) t[i].dispose(),
            t[i] = null
        })
    },
    a._forEachPaperShot = function(e) {
        var t = this._waveProdExeMethods.getExeContext();
        if (t) for (var i = t.prodCfg.paperSeq || [], n = 0, o = i.length; o > n; n++) e.call(this, n, i[n])
    },
    a._isInit = function() {
        return s.contains(["WAKING", "SLEEPING"], this._status)
    },
    e
}),
define("wave/app/WaveProdExe", ["require", "jquery", "common/core/lib", "common/core/lang", "wave/app/ProdExeExtended", "common/core/constant", "common/core/ajax", "common/core/url", "wave/app/dialog", "wave/app/persistenceHelper", "wave/app/DataCfgWrap", "wave/app/waveProdExeCfgUpdater", "wave/app/waveProdExeCfgRetriever", "wave/app/WaveProdExePaperShot"],
function(require) {
    function e() {
        var e = this;
        this._paperShot = new _({
            getExeContext: function() {
                return e._exeContext
            },
            getProdExe: function() {
                return e._prodExe
            },
            createPaperId: function() {
                return e._createPaperId()
            },
            getPaperIdOb: function() {
                return e._paperIdOb
            },
            getPaperIndexByPaperId: h.proxy(e.getPaperIndexByPaperId, e),
            getNewProdExeArgs: h.proxy(e.getNewProdExeArgs, e)
        })
    }
    function t(e, t, i, n) {
        if (this() !== U.RAW || t !== U.MODIFIED) {
            if (this() === U.RAW && t === U.LOADED || this() === U.LOADED && t === U.RAW || this() === U.LOADED && t === U.SAVED || t === U.EMPTY) throw new Error;
            e(t, i, n)
        }
    }
    function i() {
        function e(e) {
            this._prodExe.bindProdExeShot(!1),
            this._paperDelegations.beforeClearPaper(),
            this._prodExe.terminate(),
            t.call(this, e),
            this._prodExe.start(e),
            this._paperDelegations.afterRenderPaper()
        }
        function t(e) {
            var t = this.getProdId(),
            i = m.getCurrHash(),
            n = m.constructHash("manufacturePaper", {
                prodId: t,
                paperId: e
            }),
            o = m.constructHash("manufacture", {
                prodId: t
            });
            if (i !== n) if (i === o) m.replaceHashSilently(n);
            else m.setHashSilently(n)
        }
        this._paperIdChangeSubscription = this._paperIdOb.subscribe(e, this)
    }
    function n() {
        if (this._paperIdChangeSubscription) this._paperIdChangeSubscription.dispose()
    }
    function o() {
        var e = h(L)[0];
        if (!e) return h.Deferred().reject();
        else return c.screenshot(e, {
            width: f.WAVE_PROD_WIDTH,
            maxHeight: f.WAVE_PROD_MAX_HEIGHT
        })
    }
    function r(e, t) {
        c.globalDisable(!1),
        this._prodExe.updateViewImmediately("addWgt", {
            wgtInfo: t
        });
        var i = t.wgtCfg.wgtId;
        this.scrollToWgt(i),
        this._syncStatus(U.MODIFIED, null, k),
        e.resolve(i)
    }
    function s(e, t) {
        c.globalDisable(!1),
        e.reject(t)
    }
    function a() {
        if (y.updateProdDepVersion(this._exeContext) && this._syncStatus() === U.LOADED) this._syncStatus(U.MODIFIED, null, k)
    }
    function l() {
        this._prodExe = new d(this.getNewProdExeArgs({
            exeContext: this._exeContext,
            mainEl: this._$mainEl[0]
        }));
        var e = this._prodExe.wgtHandlers.schart,
        t = e.translateEcOption;
        e.translateEcOption = function(e) {
            return e = c.assign({},
            e),
            e.option = c.clone(e.option),
            t.call(this, e)
        }
    }
    var h = require("jquery"),
    c = require("common/core/lib"),
    u = require("common/core/lang"),
    d = require("wave/app/ProdExeExtended"),
    f = require("common/core/constant"),
    p = require("common/core/ajax"),
    m = require("common/core/url"),
    g = require("wave/app/dialog"),
    y = require("wave/app/persistenceHelper"),
    v = require("wave/app/DataCfgWrap"),
    b = require("wave/app/waveProdExeCfgUpdater"),
    x = require("wave/app/waveProdExeCfgRetriever"),
    _ = require("wave/app/WaveProdExePaperShot"),
    w = u.string,
    V = w.dialog,
    U = f.SyncStatus,
    k = {
        authKey: Math.random()
    },
    C = 1e3,
    S = "tplId,vsb,title,brief,ctime,utime,optv,thumbnail",
    L = ".dtp-paper",
    T = function(i, n, o) {
        this._$mainEl = h(n),
        this._prodExe,
        this._prodId = i,
        this._paperIdOb = c.ob(),
        this.lastError,
        this._exeContext = null,
        this._syncStatus = c.ob(U.EMPTY, null, k).extendWriter(t),
        this._paperDelegations = o,
        e.call(this)
    },
    I = T.prototype;
    return I.load = function(e, t) {
        function n(e, t) {
            y.createExeContext(t).done(h.proxy(o, this, e)).fail(h.proxy(c, this))
        }
        function o(e, t) {
            this._syncStatus(e, null, k),
            this._exeContext = t,
            a.call(this),
            l.call(this),
            this._paperDelegations.afterBlueprintLoaded(),
            i.call(this),
            r.call(this),
            setTimeout(h.proxy(s, this), 0)
        }
        function r() {
            h(document.body).append(this._exeContext.globalStyle)
        }
        function s() {
            this._paperIdOb(t && this.validatePaperId(t) ? t: this.getFirstPaperId()),
            u.resolve()
        }
        function c(e) {
            u.reject(e)
        }
        var u = new h.Deferred;
        if (null != e) setTimeout(h.proxy(n, this, U.RAW, e), 0);
        else p({
            url: m.net("loadBlueprint"),
            method: "GET",
            data: {
                prodId: this._prodId
            }
        }).done(h.proxy(n, this, U.LOADED)).fail(h.proxy(c, this, "ajax error"));
        return u
    },
    I.isValid = function() {
        return !! this._exeContext
    },
    I.dispose = function() {
        n.call(this),
        this._paperShot.dispose(),
        this._prodExe && this._prodExe.dispose(),
        this._prodExe = null,
        this._$mainEl = null,
        this._exeContext = null,
        this.lastError = null
    },
    I.retrieveCfg = function(e) {
        return x[e.method].call(this, e)
    },
    I.updateCfg = function(e) {
        var t, i, n = new h.Deferred,
        o = b[e.method].call(this, e),
        r = h.type(o),
        s = 0;
        if ("object" === r) s = o.notModified,
        t = o.viewUpdater,
        i = o.viewUpdaterArgs;
        else if ("boolean" === r) s = !!o;
        if (!s) this._syncStatus(U.MODIFIED, null, k),
        this._prodExe.updateViewDelay(t, i);
        return n.resolve(),
        n
    },
    I.uploadThumbnail = function(e) {
        var t = {
            prodId: this.getProdId(),
            dataUrl: e,
            thumbnail: this._exeContext.prodCfg.thumbnail || ""
        },
        i = p(m.net("uploadThumbnail"), {
            method: "POST",
            dataType: "ejson",
            data: t,
            supressDefaultErrorHandler: !0
        }),
        n = this;
        return i.done(function(e) {
            n._exeContext.prodCfg.thumbnail = e.thumbnail
        }),
        i
    },
    I.getProdProp = function(e) {
        if (this.isValid() && ~S.indexOf(e)) return this._exeContext.prodCfg[e];
        else return void 0
    },
    I.getWgtCfg = function(e) {
        if (this.isValid()) return this._exeContext.prodCfg.wgtCfgMap[e];
        else return void 0
    },
    I.getDataCfgWrap = function(e, t) {
        if (this.isValid()) return new v(this._exeContext.prodCfg[t ? "dataCfgMapRaw": "dataCfgMap"][e], e);
        else return void 0
    },
    I.getProdId = function() {
        return this._prodId
    },
    I.getPaperIndexByPaperId = function(e) {
        var t = this._exeContext.prodCfg.paperSeq,
        i = c.arrayIndexOf(t, e);
        return c.assert(~i),
        i
    },
    I.getPaperIdByPaperIndex = function(e) {
        var t = this._exeContext.prodCfg.paperSeq[e];
        return c.assert(null != t),
        t
    },
    I.getPaperCount = function() {
        return this._exeContext.prodCfg.paperSeq.length
    },
    I.getFirstPaperId = function() {
        var e = this._exeContext.prodCfg.paperSeq;
        return e[0]
    },
    I.validatePaperId = function(e) {
        return c.arrayIndexOf(this._exeContext.prodCfg.paperSeq, e) >= 0
    },
    I.getPublishStatus = function() {
        var e = this._exeContext.prodCfg.publish || f.Publish.UNPUBLISHED;
        return parseInt(e, 10)
    },
    I.getShareCode = function() {
        var e = this._exeContext.prodCfg.scode || "";
        return e
    },
    I.modifyShareCode = function(e) {
        return this.publish(f.Publish.PRIVATE, e)
    },
    I.cancelShare = function() {
        return this.publish(f.Publish.UNPUBLISHED)
    },
    I.publish = function(e, t) {
        var i = {
            prodId: this.getProdId(),
            publish: e
        };
        if (t) i.scode = t;
        var n = p(m.net("publish"), {
            dataType: "ejson",
            data: i
        }),
        o = this;
        return n.then(function(e) {
            o._exeContext.prodCfg.publish = e.publish,
            o._exeContext.prodCfg.scode = e.scode || ""
        }),
        n
    },
    I.getWgtPosition = function(e) {
        var t = this.$wgtEl(e);
        return t.position()
    },
    I.$wgtEl = function(e) {
        return e instanceof h ? e: "string" === h.type(e) ? h(this._prodExe.getWgtEl(e)) : h(e)
    },
    I.forEachWgt = function(e, t) {
        if (this._prodExe) return this._prodExe.forEachWgt(e, t);
        else return void 0
    },
    I.scrollToWgt = function(e) {
        var t = h(this._prodExe.getWgtEl(e)),
        i = t.offset().top;
        h("html, body").animate({
            scrollTop: i + "px"
        },
        {
            duration: C
        })
    },
    I.getSyncStatusOb = function() {
        return this._syncStatus
    },
    I.getPaperIdOb = function() {
        return this._paperIdOb
    },
    I.getCurrPaperId = function() {
        return this._paperIdOb()
    },
    I.getCurrPaperIndex = function() {
        return this.getPaperIndexByPaperId(this._paperIdOb())
    },
    I.saveAll = function() {
        var e = this._doSaveProd();
        return this.saveThumbnail(e),
        e
    },
    I._doSaveProd = function() {
        var e = this._syncStatus();
        this._syncStatus(U.SAVING, null, k);
        var t = p({
            url: m.net("saveAll"),
            method: "POST",
            dataType: "ejson",
            data: y.createPersistenceParam(this._exeContext, e)
        }),
        i = this;
        return t.done(function() {
            i._syncStatus(U.SAVED, null, k)
        }),
        t.fail(function() {
            i._syncStatus(e, null, k)
        }),
        t
    },
    I.saveThumbnail = function(e) {
        function t() {
            i.resolve()
        }
        var i = new h.Deferred;
        if (!e) e = new h.Deferred,
        e.resolve();
        var n = this;
        return h.when(o(), e).then(function(e) {
            n.uploadThumbnail(e).always(t)
        },
        t),
        i.promise()
    },
    I.createWgt = function(e) {
        var t = this,
        i = new h.Deferred,
        n = this._paperIdOb();
        if (null == n) i.reject("paper empty error");
        var o = c.assign({},
        e, ["vsb", "wgtType", "wgtCfgMoldId", "dataCfgMoldId"]);
        return o.wgtId = this._createWgtId(),
        c.globalDisable(!0),
        p({
            url: m.net("createWgt"),
            method: "POST",
            data: o
        }).done(function(e) {
            y.updateModelForCreateWgt(e, t._exeContext, n).done(h.proxy(r, t, i)).fail(h.proxy(s, t, i))
        }).fail(h.proxy(s, this, i, "ajax fail")),
        i
    },
    I.duplicateWgt = function() {},
    I.removeWgt = function(e) {
        var t = new h.Deferred,
        i = this._paperIdOb();
        if (null == i) t.reject("paper empty error");
        return this._prodExe.updateViewImmediately("removeWgt", {
            wgtId: e,
            paperId: i
        }),
        y.updateModelForRemoveWgt(e, this._exeContext, i),
        this._syncStatus(U.MODIFIED, null, k),
        t.resolve(e),
        t
    },
    I._createWgtId = function() {
        var e;
        do e = ~~ (1e5 * Math.random());
        while (this._exeContext.prodCfg.wgtCfgMap[e]);
        return e + ""
    },
    I._createPaperId = function() {
        var e;
        do e = ~~ (1e5 * Math.random());
        while (~c.arrayIndexOf(this._exeContext.prodCfg.paperSeq, e));
        return e + ""
    },
    I.createPaper = function(e) {
        var t = this._createPaperId(),
        i = this.getPaperIdOb();
        e = null == e ? i() : e;
        var n = this.getPaperIndexByPaperId(i()) + 1;
        y.updateModelForCreatePaper(t, n, this._exeContext),
        this._syncStatus(U.MODIFIED, null, k),
        this._paperShot.addShot(t, n),
        i(t)
    },
    I.removePaper = function(e) {
        var t = this.getPaperCount();
        if (! (1 >= t)) {
            var i = this.getPaperIdOb();
            e = null == e ? i() : e;
            var n = this.getPaperIndexByPaperId(e),
            o = t - 1 > n ? n + 1 : n - 1;
            i(this.getPaperIdByPaperIndex(o)),
            this._syncStatus(U.MODIFIED, null, k),
            this._paperShot.removeShot(e, n),
            y.updateModelForRemovePaper(e, n, this._exeContext)
        }
    },
    I.movePaper = function(e, t) {
        var i = this.getPaperCount();
        if (! (1 >= i || 0 === t)) {
            e = null == e ? this.getPaperIdOb()() : e;
            var n = this.getPaperIndexByPaperId(e),
            o = n + t;
            if (! (0 > o || o >= i)) this._syncStatus(U.MODIFIED, null, k),
            y.updateModelForMovePaper(n, o, this._exeContext),
            this._paperShot.moveShot(n, o)
        }
    },
    I.preview = function(e) {
        var t = e && e.paperId;
        c.linkTargetBlank(this.getProdURL({
            paperId: t
        }))
    },
    I.getProdURL = function(e) {
        var t = c.replaceIntoParam(m.net("viewProd"), "p", this.getProdId());
        if (e && null != e.paperId) t = c.replaceIntoParam(t, "ppr", e.paperId);
        return t
    },
    I.getPaperCon = function() {
        var e = h(f.SELECTOR_PAPER_CON, this._$mainEl[0]);
        return e && e.length ? e: null
    },
    I.checkSaved = function() {
        return ! U.hasUnsaved(this._syncStatus())
    },
    I.saveDialogPrompt = function(e) {
        function t() {
            return o.saveAll().done(i).fail(n),
            !1
        }
        function i() {
            g.close("ask"),
            e.onSaveDone && e.onSaveDone()
        }
        function n() {
            g.alert({
                content: V.saveFail
            }),
            g.close("ask"),
            e.onSaveFail && e.onSaveFail()
        }
        var o = this;
        g.ask({
            content: e.text || w.unloadButUnsaved,
            textYes: e.textYes || V.save,
            textNo: e.textNo || V.dontSave,
            textCancel: e.textCancel || V.cancel,
            onYes: t,
            onNo: e.onDontSave,
            onCancel: e.onCancel
        })
    },
    I.getPaperSize = function() {
        var e = this._$mainEl.find(f.SELECTOR_PAPER_VIEW)[0];
        return {
            width: e.offsetWidth,
            height: e.offsetHeight
        }
    },
    I.getPaperShot = function() {
        return this._paperShot
    },
    I.getNewProdExeArgs = function(e) {
        return h.extend({
            waveProdExeMethods: {
                getWgtCfg: h.proxy(this.getWgtCfg, this),
                retrieveCfg: h.proxy(this.retrieveCfg, this)
            },
            paperDelegations: this._paperDelegations
        },
        e)
    },
    I.getECOptionStr = function(e) {
        var t = this._prodExe.wgtHandlers.schart.getFianlECOption.call(this._prodExe, e);
        return y.stringifyEcOption(t)
    },
    T
}),
define("wave/app/waveProdMgr", ["require", "jquery", "common/core/lib", "common/core/ajax", "common/core/url", "wave/app/WaveProdExe"],
function(require) {
    function e(e) {
        return function() {
            return r[e].apply(r, arguments)
        }
    }
    function t(e, t) {
        e.resolve(t)
    }
    function i(e) {
        e.reject("ajax fail")
    }
    function n(e) {
        e.resolve()
    }
    function o(e) {
        e.reject("ajax fail")
    }
    var r, s = require("jquery"),
    a = require("common/core/lib"),
    l = require("common/core/ajax"),
    h = require("common/core/url"),
    c = require("wave/app/WaveProdExe"),
    u = c.prototype,
    d = {};
    for (var f in u) if (u.hasOwnProperty(f) && s.isFunction(u[f]) && 0 !== f.indexOf("_")) d[f] = e(f);
    return d.setCurrent = function(e, t, i) {
        if (r) r.dispose();
        r = new c(e, t, i)
    },
    d.dispose = function() {
        if (r) r.dispose(),
        r = null
    },
    d.createChartProd = function(e) {
        var n = new s.Deferred,
        o = a.assign({},
        e, ["vsb", "wgtType", "wgtCfgMoldId", "dataCfgMoldId"]);
        return l({
            url: h.net("createChartProd"),
            method: "POST",
            data: o
        }).done(s.proxy(t, this, n)).fail(s.proxy(i, this, n)),
        n
    },
    d.removeProd = function(e) {
        var t = new s.Deferred;
        return l({
            url: h.net("removeProd"),
            dataType: "ejson",
            method: "POST",
            data: {
                prodId: e.prodId
            }
        }).done(s.proxy(n, this, t)).fail(s.proxy(o, this, t)),
        t
    },
    d
}),
define("wave/addPanel/chartSelectPanelHelper", ["require", "wave/app/addChartConfig"],
function(require) {
    var e = require("wave/app/addChartConfig"),
    t = "mfChartSelectPanel",
    i = ".dtm-con-item",
    n = {
        createPanel: function(n, o) {
            for (var r, s = [], a = n.$content(), l = 0; r = e.chartDefSequence[l]; l++) s.push({
                key: r,
                item: e.ChartDef[r]
            });
            n._renderTpl(t, {
                tabs: s
            },
            a),
            n._constructSub(a),
            a.on(n._event("click"), i, o)
        }
    };
    return n
}),
define("wave/addPanel/AddProdPanel", ["require", "jquery", "common/core/lang", "common/core/constant", "wave/app/addChartConfig", "wave/app/WinPanel", "wave/app/waveProdMgr", "wave/addPanel/chartSelectPanelHelper", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        var n = o(e.currentTarget),
        r = n.data(d),
        l = n.data(u),
        c = o.extend({
            vsb: s.Visibility.PUBLIC
        },
        a.ChartDef[r].molds[l]);
        h.createChartProd(c).done(t).fail(i)
    }
    function t() {
        n._options.afterCreateProd.apply(null, arguments),
        n.close()
    }
    function i() {
        alert(r.string.addProdPanel.errorMsg)
    }
    var n, o = require("jquery"),
    r = require("common/core/lang"),
    s = require("common/core/constant"),
    a = require("wave/app/addChartConfig"),
    l = require("wave/app/WinPanel"),
    h = require("wave/app/waveProdMgr"),
    c = require("wave/addPanel/chartSelectPanelHelper"),
    u = "mold-index",
    d = "tab-key",
    f = l.extend({
        _define: {
            tpl: require("d8f3fd38.tpl")
        },
        _init: function() {
            if (n) throw new Error("Please use AddProdPanel.singleton");
            this._applySuper("_init")
        },
        _afterShow: function(t, i) {
            if (!this._contentInitialized) c.createPanel(this, e),
            this._contentInitialized = !0;
            this._options = i || {}
        }
    });
    return f.singleton = function() {
        if (!n) n = new f;
        return n
    },
    f
}),
define("wave/gallery/Gallery", ["require", "jquery", "common/core/lib", "common/core/url", "common/core/ajax", "common/core/lang", "common/core/constant", "common/component/Component", "common/core/user", "wave/app/dialog", "common/core/appContext", "wave/addPanel/AddProdPanel", "wave/app/waveProdMgr", "wave/app/persistenceHelper", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        var t = this,
        i = this._viewModel().con[e];
        h({
            url: l.net("listProd"),
            dataType: "ejson",
            method: "GET",
            data: {
                listProdCategory: this._viewModel().listTab(),
                page: this._viewModel().page
            }
        }).done(function(e) {
            var n = e.list || [];
            i.page = e.page,
            i.pageSize = e.pageSize,
            i.total = e.total;
            for (var o, r = 0; o = n[r]; r++) o.operationHandlers = t._operationHandlers;
            i.list.pushArray(n),
            t._initPagination()
        }).fail(function() {
            p.alert({
                content: x.loadProdFail
            })
        })
    }
    function t() {
        var e = {
            myProd: b.PRIVATE,
            publicProd: b.PUBLIC
        };
        g.singleton().open({
            vsb: e[this._viewModel().listTab()],
            afterCreateProd: s.proxy(i, this)
        })
    }
    function i(e) {
        var t = v.retrieveBlueprintInfo(e);
        if (!t || !t.data || !t.data.prodId) return void p.alert({
            content: x.createProdFail
        });
        else return void setTimeout(function() {
            m.setData(u.APP_CTX_CREATE_CHART_PROD_BLUEPRINT, e),
            l.route("manufacture", {
                prodId: t.data.prodId
            })
        },
        0)
    }
    function n(e) {
        var t = this._viewModel().con;
        for (var i in t) if (t.hasOwnProperty(i)) {
            var n = t[i].list,
            o = a.arrayIndexOf(n(), e, "prodId");
            if (~o) n.splice(o, 1)
        }
    }
    function o() {
        l.goHome()
    }
    function r(e) {
        this._sub("createProdBtn").$el()[!e || !e.length ? "addClass": "removeClass"](U)
    }
    var s = require("jquery"),
    a = require("common/core/lib"),
    l = require("common/core/url"),
    h = require("common/core/ajax"),
    c = require("common/core/lang"),
    u = require("common/core/constant"),
    d = require("common/component/Component"),
    f = require("common/core/user"),
    p = require("wave/app/dialog"),
    m = require("common/core/appContext"),
    g = require("wave/addPanel/AddProdPanel"),
    y = require("wave/app/waveProdMgr"),
    v = require("wave/app/persistenceHelper"),
    b = u.Visibility,
    x = c.string,
    _ = x.dialog,
    w = ".dtm-user-info",
    V = ".dtm-wvlogo",
    U = "dtm-create-btn-center",
    k = d.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "gallery",
            css: "cpt-gly",
            viewModel: function() {
                var e = {
                    myProd: {
                        list: a.obArray([]),
                        page: 1,
                        pageSize: null,
                        total: null
                    },
                    publicProd: {
                        list: a.obArray([]),
                        page: 1,
                        pageSize: null,
                        total: null
                    }
                };
                return {
                    listTab: a.ob(),
                    con: e,
                    page: 1
                }
            }
        },
        _init: function() {
            var i = this._viewModel();
            f.renderUserInfo(this.$el().find(w)),
            this.$el().find(V).on(this._event("click"), o),
            this._operationHandlers = {};
            for (var n in C) if (C.hasOwnProperty(n)) this._operationHandlers[n] = s.proxy(C[n], this);
            this._disposable(i.listTab.subscribe(s.proxy(e, this))),
            i.listTab("myProd"),
            this._disposable(i.con.myProd.list.subscribe(r, this));
            var a = this._sub("createProdBtn");
            a.viewModel("text")(c.string.createProdBtn),
            a.on("click", s.proxy(t, this))
        },
        _getCurrTabCon: function() {
            var e = this._viewModel();
            return e.con[e.listTab()]
        },
        _initPagination: function() {
            var e = this._viewModel().listTab(),
            t = this._viewModel().con[e],
            i = Math.ceil(t.total / t.pageSize);
            if (i >= 2) s(".gallery-pagination").twbsPagination({
                totalPages: i,
                startPage: t.page,
                visiblePages: 7,
                first: x.pagination.first,
                prev: x.pagination.prev,
                next: x.pagination.next,
                last: x.pagination.last,
                href: "#/gallery/{{number}}"
            })
        }
    }),
    C = {
        manufacture: function(e) {
            l.route("manufacture", {
                prodId: e.viewModel("prodId")
            })
        },
        visibility: function(e) {
            e._sub("visibilityBtn").viewModel("text")("Pp")
        },
        share: function() {},
        preview: function(e) {
            a.linkTargetBlank(a.replaceIntoParam(l.net("viewProd"), "p", e.viewModel("prodId")))
        },
        duplicate: function(e) {
            h({
                url: l.net("duplicateProd"),
                dataType: "ejson",
                method: "POST",
                data: {
                    prodId: e.viewModel("prodId"),
                    title: e.viewModel("title") + " " + x.copy
                }
            }).done(function(e) {
                if (e.prod) l.route("manufacture", {
                    prodId: e.prod.prodId
                })
            }).fail(function() {
                p.alert({
                    content: x.someError
                })
            })
        },
        remove: function(e) {
            function t() {
                y.removeProd({
                    prodId: i
                }).done(s.proxy(n, o, i))
            }
            var i = e.viewModel("prodId"),
            o = this;
            p.confirm({
                content: _.confirmRemove,
                textYes: _.remove,
                textCancel: _.cancel,
                onYes: t
            })
        }
    };
    return k
}),
define("wave/manufacture/ResidenceHandle", ["require", "jquery", "common/core/lib", "common/core/constant"],
function(require) {
    function e(e, t) {
        for (var i, n = m[e], o = 0; i = n[o]; o++) l.assert(t.hasOwnProperty(i))
    }
    function t(e, t, i) {
        function n() {
            if (y === d.LEFT_TO_RIGHT) c.css({
                marginLeft: h + 20
            });
            else if (y === d.RIGHT_TO_LEFT) c.css({
                marginRight: h + 20
            })
        }
        function s() {
            2 === ++p && o.call(v, e, t)
        }
        var a = e.$el(),
        h = a.outerWidth(),
        c = this._$elGetter("paperBox"),
        p = 0;
        a.show(),
        e.prepareShow(),
        t(u.ANIMATING, null, {
            authKey: this._authKey
        });
        var m, g, y = e.viewModel("panelOpenMode");
        if (y === d.LEFT_TO_RIGHT) m = {
            left: -h
        },
        g = {
            left: 0
        };
        else if (y === d.RIGHT_TO_LEFT) m = {
            right: -h
        },
        g = {
            right: 0
        };
        else l.assert(!1);
        a.css(m).animate(g, {
            duration: f,
            complete: s
        }),
        i ? s() : r.call(this, n, s);
        var v = this
    }
    function i(e, t, i, o) {
        function s() {
            if (g === d.LEFT_TO_RIGHT) c.css({
                marginLeft: 0
            });
            else if (g === d.RIGHT_TO_LEFT) c.css({
                marginRight: 0
            })
        }
        function a() {
            2 === ++f && n.call(y, e, t, o)
        }
        var h = e.$el(),
        c = this._$elGetter("paperBox"),
        f = 0;
        t(u.ANIMATING, null, {
            authKey: this._authKey
        });
        var m, g = e.viewModel("panelOpenMode");
        if (g === d.LEFT_TO_RIGHT) m = {
            left: -h.outerWidth()
        };
        else if (g === d.RIGHT_TO_LEFT) m = {
            right: -h.outerWidth()
        };
        else l.assert(!1);
        h.animate(m, {
            duration: p,
            complete: function() {
                a(),
                h.hide()
            }
        }),
        i ? a() : r.call(this, s, a);
        var y = this
    }
    function n(e, t, i) {
        t(u.CLOSED, null, {
            authKey: this._authKey
        }),
        e.clear(),
        l.globalDisable(!1),
        i && i()
    }
    function o(e, t) {
        l.globalDisable(!1),
        t(u.OPENED, null, {
            authKey: this._authKey
        }),
        e.enter()
    }
    function r(e, t) {
        this._$elGetter("paperBox").animate({
            opacity: 0
        },
        {
            duration: f,
            complete: e
        }).animate({
            opacity: 1
        },
        {
            duration: f,
            complete: t
        })
    }
    function s() {
        var e = this.getLastPanelName(),
        n = this.getPanelName(),
        o = e && this._panelOpenStatusGetter(e),
        r = n && this._panelOpenStatusGetter(n),
        s = e && this._panelCptGetter(e),
        h = n && this._panelCptGetter(n),
        c = !!e && o() === u.OPENED,
        d = !!n;
        if (c && d) {
            l.globalDisable(!0);
            var f = a.proxy(t, this, h, r, !0);
            i.call(this, s, o, !0,
            function() {
                setTimeout(f, 0)
            })
        } else if (d) l.globalDisable(!0),
        t.call(this, h, r, !1);
        else if (c) l.globalDisable(!0),
        i.call(this, s, o, !1)
    }
    var a = require("jquery"),
    l = require("common/core/lib"),
    h = require("common/core/constant"),
    c = h.ResidentPanelName,
    u = h.PanelStatus,
    d = h.PanelOpenMode,
    f = 250,
    p = 250,
    m = {};
    m[c.CHART_EDITOR] = ["wgtId", "tabKey"],
    m[c.FORMAT_TEXT_CONFIGURER] = ["wgtId"],
    m[c.PAPER_CONFIGURER] = [],
    m[c.IMAGE_CONFIGURER] = ["wgtId"],
    m[c.PAPER_NAVIGATOR] = [];
    var g = function(e, t, i, n) {
        this._panelCptGetter = e,
        this._panelOpenStatusGetter = t,
        this._$elGetter = i,
        this._authKey = n;
        var o = this._monopolyPanelOb = l.ob({});
        this._monopolySubscription = o.subscribe(s, this)
    },
    y = g.prototype;
    return y.active = function(t, i) {
        if (i = l.assign({},
        i), t === !1) t = null;
        else e(t, i);
        this._lastPanelName = this._panelName,
        this._panelName = t,
        this._options = i,
        this._monopolyPanelOb({
            isActive: t !== !1,
            nextPanelName: t || null,
            options: l.assign({},
            i)
        })
    },
    y.activeSharing = function(n, o, r, s) {
        s = l.assign({},
        s),
        e(n, s);
        var a = this._panelCptGetter(n),
        h = this._panelOpenStatusGetter(n);
        if (l.globalDisable(!0), o) t.call(this, a, h, r);
        else i.call(this, a, h, r)
    },
    y.getOptions = function() {
        return this._options
    },
    y.getPanelName = function() {
        return this._panelName
    },
    y.getLastPanelName = function() {
        return this._lastPanelName
    },
    y.getWgtId = function() {
        return this._options.wgtId
    },
    y.subscribeMonopoly = function(e, t) {
        return this._monopolyPanelOb.subscribe(e, t)
    },
    y.dispose = function() {
        this._monopolySubscription.dispose()
    },
    g
}),
define("wave/manufacture/AddPanelHandle", ["require", "common/core/lib", "common/core/constant"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/constant"),
    i = function(i) {
        this.contoller = e.ob(),
        this.status = e.ob(t.PanelStatus.CLOSED, null, {
            authKey: i
        })
    },
    n = i.prototype;
    return n.active = function() {
        this.contoller({})
    },
    i
}),
define("wave/addPanel/AddChartPanel", ["require", "jquery", "common/core/lang", "wave/app/addChartConfig", "wave/app/WinPanel", "wave/app/waveProdMgr", "wave/addPanel/chartSelectPanelHelper", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        var o = n(e.currentTarget),
        s = o.data(c),
        l = o.data(h);
        a.createWgt(r.ChartDef[s].molds[l]).done(n.proxy(i.close, i)).fail(t)
    }
    function t() {
        alert(o.string.addChartPanel.errorMsg)
    }
    var i, n = require("jquery"),
    o = require("common/core/lang"),
    r = require("wave/app/addChartConfig"),
    s = require("wave/app/WinPanel"),
    a = require("wave/app/waveProdMgr"),
    l = require("wave/addPanel/chartSelectPanelHelper"),
    h = "mold-index",
    c = "tab-key",
    u = s.extend({
        _define: {
            tpl: require("d8f3fd38.tpl")
        },
        _init: function() {
            if (i) throw new Error("Please use AddChartPanel.singleton");
            this._applySuper("_init")
        },
        _afterShow: function() {
            if (!this._contentInitialized) l.createPanel(this, e),
            this._contentInitialized = !0
        }
    });
    return u.singleton = function() {
        if (!i) i = new u;
        return i
    },
    u
}),
define("wave/addPanel/AddTextPanel", ["require", "jquery", "common/core/lang", "wave/app/WinPanel", "wave/app/waveProdMgr", "common/core/constant", "d8f3fd38.tpl"],
function(require) {
    function e() {
        var e = this.$content();
        this._renderTpl(h, this._viewModel(), e),
        this._constructSub(e),
        e.on(this._event("click"), c, t)
    }
    function t() {
        var e = o(this),
        t = e.attr(u),
        r = a.createWgt({
            wgtType: l.WgtType.FORMAT_TEXT,
            wgtCfgMoldId: t + "0",
            dataCfgMoldId: "nothing0"
        });
        r.done(o.proxy(n.close, n)),
        r.fail(i)
    }
    function i() {
        alert(r.string.addTextPanel.errorMsg)
    }
    var n, o = require("jquery"),
    r = require("common/core/lang"),
    s = require("wave/app/WinPanel"),
    a = require("wave/app/waveProdMgr"),
    l = require("common/core/constant"),
    h = "mfTextSelectPanel",
    c = ".text-type-wrap",
    u = "data-mold-id",
    d = s.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            viewModel: function() {
                var e = r.string.addText.textType;
                return {
                    typeList: [{
                        type: "title",
                        text: e.title
                    },
                    {
                        type: "charttitle",
                        text: e.charttitle
                    },
                    {
                        type: "bodytext",
                        text: e.bodytext
                    },
                    {
                        type: "quote",
                        text: e.quote
                    }]
                }
            }
        },
        _init: function() {
            if (n) throw new Error("Please use AddTextPanel.singleton");
            this._applySuper("_init")
        },
        _afterShow: function() {
            if (!this._contentInitialized) e.call(this),
            this._contentInitialized = !0
        }
    });
    return d.singleton = function() {
        if (!n) n = new d;
        return n
    },
    d
}),
define("wave/manufacture/AddSelectPanel", ["require", "jquery", "common/core/lib", "common/component/Component", "wave/addPanel/AddChartPanel", "wave/addPanel/AddTextPanel", "wave/app/waveProdMgr", "common/core/constant", "common/core/lang"],
function(require) {
    function e() {
        var e = this.$el("panel", n(this._renderTpl(u, {})).appendTo(document.body));
        this._constructSub(e),
        e.on(this._event("mouseenter"), n.proxy(this.open, this, null)),
        e.on(this._event("mouseleave"), n.proxy(this.close, this)),
        this._sub("addChart").on("click", n.proxy(t, this, "addChart")),
        this._sub("addText").on("click", n.proxy(t, this, "addText")),
        this._sub("addPicture").on("click", n.proxy(t, this, "addPicture"))
    }
    function t(e) {
        this.close(),
        g[e].call(this)
    }
    function i() {
        alert(c.string.addChartPanel.errorMsg)
    }
    var n = require("jquery"),
    o = require("common/core/lib"),
    r = require("common/component/Component"),
    s = require("wave/addPanel/AddChartPanel"),
    a = require("wave/addPanel/AddTextPanel"),
    l = require("wave/app/waveProdMgr"),
    h = require("common/core/constant"),
    c = require("common/core/lang"),
    u = "mfAddSelectPanel",
    d = 300,
    f = {
        authKey: Math.random()
    },
    p = 35,
    m = r.extend({
        _define: {
            viewModel: function() {
                return {
                    openStatus: o.ob(!1, null, f)
                }
            },
            viewModelPublic: ["openStatus"]
        },
        _init: function() {
            e.call(this)
        },
        open: function(e) {
            if (this._closeTimer) clearTimeout(this._closeTimer),
            this._closeTimer = null;
            if (e) {
                var t = this.$el("panel"),
                i = n(document),
                o = e.offset();
                o.top -= i.scrollTop(),
                o.left -= i.scrollLeft(),
                t.show();
                var r = e.outerWidth(),
                s = t.outerWidth();
                t.css({
                    left: Math.round(o.left + r / 2 - s / 2) + "px",
                    top: o.top + p + "px"
                }),
                this._viewModel().openStatus(!0, null, f)
            }
        },
        close: function() {
            var e = this;
            if (this._closeTimer) clearTimeout(this._closeTimer),
            this._closeTimer = null;
            this._closeTimer = setTimeout(function() {
                e.$el("panel").hide(),
                e._closeTimer = null,
                e._viewModel().openStatus(!1, null, f)
            },
            d)
        }
    }),
    g = {
        addChart: function() {
            s.singleton().open()
        },
        addText: function() {
            a.singleton().open()
        },
        addPicture: function() {
            l.createWgt({
                vsb: h.Visibility.PRIVATE,
                wgtType: h.WgtType.IMAGE,
                wgtCfgMoldId: "default0",
                dataCfgMoldId: "nothing0"
            }).done(n.proxy(this.close, this)).fail(i)
        }
    };
    return m
}),
define("wave/manufacture/PreviewPanel", ["require", "jquery", "common/core/constant", "wave/app/WinPanel", "d8f3fd38.tpl", "wave/app/waveProdMgr"],
function(require) {
    var e, t = require("jquery"),
    i = require("common/core/constant"),
    n = require("wave/app/WinPanel"),
    o = "previewPanel",
    r = n.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: ["dtm-preview"],
            closeWhenClickOther: !0,
            noAnimate: !0
        },
        _init: function() {
            this._applySuper("_init");
            var n = this.$el(),
            o = require("wave/app/waveProdMgr"),
            r = o.retrieveCfg({
                method: "retrievePaperTplCfg",
                dsp: "paperStyle"
            });
            r = r || {};
            var s = r.width ? parseInt(r.width, 10) : i.DEFAULT_PAPER_WIDTH,
            a = r["padding-left"] ? parseInt(r["padding-left"], 10) : i.DEFAULT_PAPER_PADDING_LEFT,
            l = r["padding-right"] ? parseInt(r["padding-right"], 10) : i.DEFAULT_PAPER_PADDING_RIGHT,
            h = t(window).height() - 80;
            h = h >= 100 ? h: 100,
            e = s + a + l;
            var c = e + 100;
            n.width(c + "px").height(h + "px")
        },
        _afterShow: function() {
            var i = this.$content(),
            n = require("wave/app/waveProdMgr");
            this._renderTpl(o, {
                prodURL: n.getProdURL({
                    paperId: n.getPaperIdOb()()
                }),
                prodWidth: e
            },
            i),
            this._constructSub(i),
            t("html, body").css("overflow", "hidden"),
            t("#previewIframe").load(function() {
                var e = t(this).contents().height();
                i.find(".dtm-preview-wrapper").height(e + "px")
            })
        },
        _disposeFinally: function() {
            this._applySuper("_disposeFinally"),
            t("html, body").css("overflow", "visible")
        }
    });
    return r
}),
define("wave/publish/ModePanel", ["require", "jquery", "common/core/lib", "common/core/lang", "wave/app/WinPanel", "d8f3fd38.tpl"],
function(require) {
    function e() {
        var e = this.$content();
        this._renderTpl(h, {},
        e),
        this._constructSub(e);
        var s = this._sub("publicPubBtn"),
        a = this._sub("privatePubBtn"),
        c = r.bindTooltip({
            bindEl: s.el(),
            followMouse: !1,
            location: o.proxy(t),
            text: l.publicTip
        });
        this._disposable(c);
        var u = r.bindTooltip({
            bindEl: a.el(),
            followMouse: !1,
            location: o.proxy(t),
            text: l.privateTip
        });
        this._disposable(u),
        s.on("click", o.proxy(i, this)),
        a.on("click", o.proxy(n, this))
    }
    function t(e) {
        var t = o(e),
        i = t.offset();
        return {
            x: i.left - 5,
            y: i.top + t.outerHeight() / 2,
            xAnchor: "right",
            yAnchor: "center"
        }
    }
    function i() {
        this.fire("modeSelected", {
            mode: "PUBLIC"
        })
    }
    function n() {
        this.fire("modeSelected", {
            mode: "PRIVATE"
        })
    }
    var o = require("jquery"),
    r = require("common/core/lib"),
    s = require("common/core/lang"),
    a = require("wave/app/WinPanel"),
    l = s.string.publish,
    h = "modePanel",
    c = a.extend({
        _define: {
            tpl: require("d8f3fd38.tpl")
        },
        _prepare: function() {},
        _init: function() {
            this._applySuper("_init")
        },
        _afterShow: function() {
            if (!this._contentInitialized) this._contentInitialized = !0,
            e.call(this)
        }
    });
    return c
}),
function(e, t) {
    "use strict";
    var i, n = e,
    o = n.document,
    r = n.navigator,
    s = n.setTimeout,
    a = n.Number.parseInt || n.parseInt,
    l = n.Number.parseFloat || n.parseFloat,
    h = n.Number.isNaN || n.isNaN,
    c = n.encodeURIComponent,
    u = n.Math,
    d = n.Date,
    f = n.ActiveXObject,
    p = n.Array.prototype.slice,
    m = n.Object.keys,
    g = n.Object.prototype.hasOwnProperty,
    y = function() {
        if ("function" == typeof n.Object.defineProperty &&
        function() {
            try {
                var e = {};
                return n.Object.defineProperty(e, "y", {
                    value: "z"
                }),
                "z" === e.y
            } catch(t) {
                return ! 1
            }
        } ()) return n.Object.defineProperty;
        else return void 0
    } (),
    v = function(e) {
        return p.call(e, 0)
    },
    b = function(e, t, i) {
        if ("function" == typeof t.indexOf) return t.indexOf(e, i);
        var n, o = t.length;
        if ("undefined" == typeof i) i = 0;
        else if (0 > i) i = o + i;
        for (n = i; o > n; n++) if (g.call(t, n) && t[n] === e) return n;
        return - 1
    },
    x = function() {
        var e, i, n, o, r, s, a = v(arguments),
        l = a[0] || {};
        for (e = 1, i = a.length; i > e; e++) if (null != (n = a[e])) for (o in n) if (g.call(n, o)) {
            if (r = l[o], s = n[o], l === s) continue;
            if (s !== t) l[o] = s
        }
        return l
    },
    _ = function(e) {
        var t, i, n, o;
        if ("object" != typeof e || null == e) t = e;
        else if ("number" == typeof e.length) {
            for (t = [], i = 0, n = e.length; n > i; i++) if (g.call(e, i)) t[i] = _(e[i])
        } else {
            t = {};
            for (o in e) if (g.call(e, o)) t[o] = _(e[o])
        }
        return t
    },
    w = function(e, t) {
        for (var i = {},
        n = 0,
        o = t.length; o > n; n++) if (t[n] in e) i[t[n]] = e[t[n]];
        return i
    },
    V = function(e, t) {
        var i = {};
        for (var n in e) if ( - 1 === b(n, t)) i[n] = e[n];
        return i
    },
    U = function(e) {
        if (null == e) return [];
        if (m) return m(e);
        var t = [];
        for (var i in e) if (g.call(e, i)) t.push(i);
        return t
    },
    k = function(e) {
        if (e) for (var t in e) if (g.call(e, t)) delete e[t];
        return e
    },
    C = function(e, t) {
        if (t in e && "function" == typeof y) y(e, t, {
            value: e[t],
            writable: !1,
            configurable: !0,
            enumerable: !0
        })
    },
    S = function(e) {
        return function() {
            var t;
            if (e.now) t = e.now();
            else t = (new e).getTime();
            return t
        }
    } (d),
    L = function(e, t) {
        if (e && 1 === e.nodeType && t && (1 === t.nodeType || 9 === t.nodeType)) do {
            if (e === t) return ! 0;
            e = e.parentNode
        } while ( e );
        return ! 1
    },
    T = {
        bridge: null,
        version: "0.0.0",
        pluginType: "unknown",
        disabled: null,
        outdated: null,
        unavailable: null,
        deactivated: null,
        overdue: null,
        ready: null
    },
    I = "11.0.0",
    E = {},
    W = {},
    A = null,
    M = {
        ready: "Flash communication is established",
        error: {
            "flash-disabled": "Flash is disabled or not installed",
            "flash-outdated": "Flash is too outdated to support ZeroClipboard",
            "flash-unavailable": "Flash is unable to communicate bidirectionally with JavaScript",
            "flash-deactivated": "Flash is too outdated for your browser and/or is configured as click-to-activate",
            "flash-overdue": "Flash communication was established but NOT within the acceptable time limit"
        }
    },
    D = function() {
        var e, t, i, n, r = "ZeroClipboard.swf";
        if (!o.currentScript || !(n = o.currentScript.src)) {
            var s = o.getElementsByTagName("script");
            if ("readyState" in s[0]) for (e = s.length; e--&&("interactive" !== s[e].readyState || !(n = s[e].src)););
            else if ("loading" === o.readyState) n = s[s.length - 1].src;
            else {
                for (e = s.length; e--;) {
                    if (i = s[e].src, !i) {
                        t = null;
                        break
                    }
                    if (i = i.split("#")[0].split("?")[0], i = i.slice(0, i.lastIndexOf("/") + 1), null == t) t = i;
                    else if (t !== i) {
                        t = null;
                        break
                    }
                }
                if (null !== t) n = t
            }
        }
        if (n) n = n.split("#")[0].split("?")[0],
        r = n.slice(0, n.lastIndexOf("/") + 1) + r;
        return r
    } (),
    P = {
        swfPath: D,
        trustedDomains: e.location.host ? [e.location.host] : [],
        cacheBust: !0,
        forceEnhancedClipboard: !1,
        flashLoadTimeout: 3e4,
        autoActivate: !0,
        bubbleEvents: !0,
        containerId: "global-zeroclipboard-html-bridge",
        containerClass: "global-zeroclipboard-container",
        swfObjectId: "global-zeroclipboard-flash-bridge",
        hoverClass: "zeroclipboard-is-hover",
        activeClass: "zeroclipboard-is-active",
        forceHandCursor: !1,
        title: null,
        zIndex: 999999999
    },
    O = function(e) {
        if ("object" == typeof e && null !== e) for (var t in e) if (g.call(e, t)) if (/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t)) P[t] = e[t];
        else if (null == T.bridge) if ("containerId" === t || "swfObjectId" === t) if (Q(e[t])) P[t] = e[t];
        else throw new Error("The specified `" + t + "` value is not valid as an HTML4 Element ID");
        else P[t] = e[t];
        if ("string" != typeof e || !e) return _(P);
        else if (g.call(P, e)) return P[e]
    },
    X = function() {
        return {
            browser: w(r, ["userAgent", "platform", "appName"]),
            flash: V(T, ["bridge"]),
            zeroclipboard: {
                version: St.version,
                config: St.config()
            }
        }
    },
    N = function() {
        return !! (T.disabled || T.outdated || T.unavailable || T.deactivated)
    },
    R = function(e, t) {
        var i, n, o, r = {};
        if ("string" == typeof e && e) o = e.toLowerCase().split(/\s+/);
        else if ("object" == typeof e && e && "undefined" == typeof t) for (i in e) if (g.call(e, i) && "string" == typeof i && i && "function" == typeof e[i]) St.on(i, e[i]);
        if (o && o.length) {
            for (i = 0, n = o.length; n > i; i++) {
                if (e = o[i].replace(/^on/, ""), r[e] = !0, !E[e]) E[e] = [];
                E[e].push(t)
            }
            if (r.ready && T.ready) St.emit({
                type: "ready"
            });
            if (r.error) {
                var s = ["disabled", "outdated", "unavailable", "deactivated", "overdue"];
                for (i = 0, n = s.length; n > i; i++) if (T[s[i]] === !0) {
                    St.emit({
                        type: "error",
                        name: "flash-" + s[i]
                    });
                    break
                }
            }
        }
        return St
    },
    K = function(e, t) {
        var i, n, o, r, s;
        if (0 === arguments.length) r = U(E);
        else if ("string" == typeof e && e) r = e.split(/\s+/);
        else if ("object" == typeof e && e && "undefined" == typeof t) for (i in e) if (g.call(e, i) && "string" == typeof i && i && "function" == typeof e[i]) St.off(i, e[i]);
        if (r && r.length) for (i = 0, n = r.length; n > i; i++) if (e = r[i].toLowerCase().replace(/^on/, ""), s = E[e], s && s.length) if (t) for (o = b(t, s); - 1 !== o;) s.splice(o, 1),
        o = b(t, s, o);
        else s.length = 0;
        return St
    },
    F = function(e) {
        var t;
        if ("string" == typeof e && e) t = _(E[e]) || null;
        else t = _(E);
        return t
    },
    z = function(e) {
        var t, i, n;
        if (e = Z(e)) if (!rt(e)) {
            if ("ready" === e.type && T.overdue === !0) return St.emit({
                type: "error",
                name: "flash-overdue"
            });
            if (t = x({},
            e), ot.call(this, t), "copy" === e.type) n = ut(W),
            i = n.data,
            A = n.formatMap;
            return i
        }
    },
    H = function() {
        if ("boolean" != typeof T.ready) T.ready = !1;
        if (!St.isFlashUnusable() && null === T.bridge) {
            var e = P.flashLoadTimeout;
            if ("number" == typeof e && e >= 0) s(function() {
                if ("boolean" != typeof T.deactivated) T.deactivated = !0;
                if (T.deactivated === !0) St.emit({
                    type: "error",
                    name: "flash-deactivated"
                })
            },
            e);
            T.overdue = !1,
            ht()
        }
    },
    B = function() {
        St.clearData(),
        St.blur(),
        St.emit("destroy"),
        ct(),
        St.off()
    },
    J = function(e, t) {
        var i;
        if ("object" == typeof e && e && "undefined" == typeof t) i = e,
        St.clearData();
        else if ("string" == typeof e && e) i = {},
        i[e] = t;
        else return;
        for (var n in i) if ("string" == typeof n && n && g.call(i, n) && "string" == typeof i[n] && i[n]) W[n] = i[n]
    },
    j = function(e) {
        if ("undefined" == typeof e) k(W),
        A = null;
        else if ("string" == typeof e && g.call(W, e)) delete W[e]
    },
    G = function(e) {
        if ("undefined" == typeof e) return _(W);
        else if ("string" == typeof e && g.call(W, e)) return W[e]
    },
    q = function(e) {
        if (e && 1 === e.nodeType) {
            if (i) if (bt(i, P.activeClass), i !== e) bt(i, P.hoverClass);
            i = e,
            vt(e, P.hoverClass);
            var t = e.getAttribute("title") || P.title;
            if ("string" == typeof t && t) {
                var n = lt(T.bridge);
                if (n) n.setAttribute("title", t)
            }
            var o = P.forceHandCursor === !0 || "pointer" === xt(e, "cursor");
            Ut(o),
            Vt()
        }
    },
    Y = function() {
        var e = lt(T.bridge);
        if (e) e.removeAttribute("title"),
        e.style.left = "0px",
        e.style.top = "-9999px",
        e.style.width = "1px",
        e.style.top = "1px";
        if (i) bt(i, P.hoverClass),
        bt(i, P.activeClass),
        i = null
    },
    $ = function() {
        return i || null
    },
    Q = function(e) {
        return "string" == typeof e && e && /^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)
    },
    Z = function(e) {
        var t;
        if ("string" == typeof e && e) t = e,
        e = {};
        else if ("object" == typeof e && e && "string" == typeof e.type && e.type) t = e.type;
        if (t) {
            x(e, {
                type: t.toLowerCase(),
                target: e.target || i || null,
                relatedTarget: e.relatedTarget || null,
                currentTarget: T && T.bridge || null,
                timeStamp: e.timeStamp || S() || null
            });
            var n = M[e.type];
            if ("error" === e.type && e.name && n) n = n[e.name];
            if (n) e.message = n;
            if ("ready" === e.type) x(e, {
                target: null,
                version: T.version
            });
            if ("error" === e.type) {
                if (/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(e.name)) x(e, {
                    target: null,
                    minimumVersion: I
                });
                if (/^flash-(outdated|unavailable|deactivated|overdue)$/.test(e.name)) x(e, {
                    version: T.version
                })
            }
            if ("copy" === e.type) e.clipboardData = {
                setData: St.setData,
                clearData: St.clearData
            };
            if ("aftercopy" === e.type) e = dt(e, A);
            if (e.target && !e.relatedTarget) e.relatedTarget = et(e.target);
            return e = tt(e)
        }
    },
    et = function(e) {
        var t = e && e.getAttribute && e.getAttribute("data-clipboard-target");
        return t ? o.getElementById(t) : null
    },
    tt = function(e) {
        if (e && /^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)) {
            var i = e.target,
            r = "_mouseover" === e.type && e.relatedTarget ? e.relatedTarget: t,
            s = "_mouseout" === e.type && e.relatedTarget ? e.relatedTarget: t,
            a = wt(i),
            l = n.screenLeft || n.screenX || 0,
            h = n.screenTop || n.screenY || 0,
            c = o.body.scrollLeft + o.documentElement.scrollLeft,
            u = o.body.scrollTop + o.documentElement.scrollTop,
            d = a.left + ("number" == typeof e._stageX ? e._stageX: 0),
            f = a.top + ("number" == typeof e._stageY ? e._stageY: 0),
            p = d - c,
            m = f - u,
            g = l + p,
            y = h + m,
            v = "number" == typeof e.movementX ? e.movementX: 0,
            b = "number" == typeof e.movementY ? e.movementY: 0;
            delete e._stageX,
            delete e._stageY,
            x(e, {
                srcElement: i,
                fromElement: r,
                toElement: s,
                screenX: g,
                screenY: y,
                pageX: d,
                pageY: f,
                clientX: p,
                clientY: m,
                x: p,
                y: m,
                movementX: v,
                movementY: b,
                offsetX: 0,
                offsetY: 0,
                layerX: 0,
                layerY: 0
            })
        }
        return e
    },
    it = function(e) {
        var t = e && "string" == typeof e.type && e.type || "";
        return ! /^(?:(?:before)?copy|destroy)$/.test(t)
    },
    nt = function(e, t, i, n) {
        if (n) s(function() {
            e.apply(t, i)
        },
        0);
        else e.apply(t, i)
    },
    ot = function(e) {
        if ("object" == typeof e && e && e.type) {
            var t = it(e),
            i = E["*"] || [],
            o = E[e.type] || [],
            r = i.concat(o);
            if (r && r.length) {
                var s, a, l, h, c, u = this;
                for (s = 0, a = r.length; a > s; s++) {
                    if (l = r[s], h = u, "string" == typeof l && "function" == typeof n[l]) l = n[l];
                    if ("object" == typeof l && l && "function" == typeof l.handleEvent) h = l,
                    l = l.handleEvent;
                    if ("function" == typeof l) c = x({},
                    e),
                    nt(l, h, [c], t)
                }
            }
            return this
        }
    },
    rt = function(e) {
        var t = e.target || i || null,
        n = "swf" === e._source;
        switch (delete e._source, e.type) {
        case "error":
            if (b(e.name, ["flash-disabled", "flash-outdated", "flash-deactivated", "flash-overdue"])) x(T, {
                disabled: "flash-disabled" === e.name,
                outdated: "flash-outdated" === e.name,
                unavailable: "flash-unavailable" === e.name,
                deactivated: "flash-deactivated" === e.name,
                overdue: "flash-overdue" === e.name,
                ready: !1
            });
            break;
        case "ready":
            var o = T.deactivated === !0;
            x(T, {
                disabled: !1,
                outdated: !1,
                unavailable: !1,
                deactivated: !1,
                overdue: o,
                ready: !o
            });
            break;
        case "copy":
            var r, s, a = e.relatedTarget;
            if (!W["text/html"] && !W["text/plain"] && a && (s = a.value || a.outerHTML || a.innerHTML) && (r = a.value || a.textContent || a.innerText)) {
                if (e.clipboardData.clearData(), e.clipboardData.setData("text/plain", r), s !== r) e.clipboardData.setData("text/html", s)
            } else if (!W["text/plain"] && e.target && (r = e.target.getAttribute("data-clipboard-text"))) e.clipboardData.clearData(),
            e.clipboardData.setData("text/plain", r);
            break;
        case "aftercopy":
            if (St.clearData(), t && t !== yt() && t.focus) t.focus();
            break;
        case "_mouseover":
            if (St.focus(t), P.bubbleEvents === !0 && n) {
                if (t && t !== e.relatedTarget && !L(e.relatedTarget, t)) st(x({},
                e, {
                    type: "mouseenter",
                    bubbles: !1,
                    cancelable: !1
                }));
                st(x({},
                e, {
                    type: "mouseover"
                }))
            }
            break;
        case "_mouseout":
            if (St.blur(), P.bubbleEvents === !0 && n) {
                if (t && t !== e.relatedTarget && !L(e.relatedTarget, t)) st(x({},
                e, {
                    type: "mouseleave",
                    bubbles: !1,
                    cancelable: !1
                }));
                st(x({},
                e, {
                    type: "mouseout"
                }))
            }
            break;
        case "_mousedown":
            if (vt(t, P.activeClass), P.bubbleEvents === !0 && n) st(x({},
            e, {
                type: e.type.slice(1)
            }));
            break;
        case "_mouseup":
            if (bt(t, P.activeClass), P.bubbleEvents === !0 && n) st(x({},
            e, {
                type: e.type.slice(1)
            }));
            break;
        case "_click":
        case "_mousemove":
            if (P.bubbleEvents === !0 && n) st(x({},
            e, {
                type: e.type.slice(1)
            }))
        }
        if (/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)) return ! 0;
        else return void 0
    },
    st = function(e) {
        if (e && "string" == typeof e.type && e) {
            var t, i = e.target || null,
            r = i && i.ownerDocument || o,
            s = {
                view: r.defaultView || n,
                canBubble: !0,
                cancelable: !0,
                detail: "click" === e.type ? 1 : 0,
                button: "number" == typeof e.which ? e.which - 1 : "number" == typeof e.button ? e.button: r.createEvent ? 0 : 1
            },
            a = x(s, e);
            if (i) if (r.createEvent && i.dispatchEvent) if (a = [a.type, a.canBubble, a.cancelable, a.view, a.detail, a.screenX, a.screenY, a.clientX, a.clientY, a.ctrlKey, a.altKey, a.shiftKey, a.metaKey, a.button, a.relatedTarget], t = r.createEvent("MouseEvents"), t.initMouseEvent) t.initMouseEvent.apply(t, a),
            t._source = "js",
            i.dispatchEvent(t)
        }
    },
    at = function() {
        var e = o.createElement("div");
        return e.id = P.containerId,
        e.className = P.containerClass,
        e.style.position = "absolute",
        e.style.left = "0px",
        e.style.top = "-9999px",
        e.style.width = "1px",
        e.style.height = "1px",
        e.style.zIndex = "" + kt(P.zIndex),
        e
    },
    lt = function(e) {
        for (var t = e && e.parentNode; t && "OBJECT" === t.nodeName && t.parentNode;) t = t.parentNode;
        return t || null
    },
    ht = function() {
        var e, t = T.bridge,
        i = lt(t);
        if (!t) {
            var r = gt(n.location.host, P),
            s = "never" === r ? "none": "all",
            a = pt(P),
            l = P.swfPath + ft(P.swfPath, P);
            i = at();
            var h = o.createElement("div");
            i.appendChild(h),
            o.body.appendChild(i);
            var c = o.createElement("div"),
            u = "activex" === T.pluginType;
            c.innerHTML = '<object id="' + P.swfObjectId + '" name="' + P.swfObjectId + '" width="100%" height="100%" ' + (u ? 'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"': 'type="application/x-shockwave-flash" data="' + l + '"') + ">" + (u ? '<param name="movie" value="' + l + '"/>': "") + '<param name="allowScriptAccess" value="' + r + '"/><param name="allowNetworking" value="' + s + '"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="' + a + '"/></object>',
            t = c.firstChild,
            c = null,
            t.ZeroClipboard = St,
            i.replaceChild(t, h)
        }
        if (!t) {
            if (t = o[P.swfObjectId], t && (e = t.length)) t = t[e - 1];
            if (!t && i) t = i.firstChild
        }
        return T.bridge = t || null,
        t
    },
    ct = function() {
        var e = T.bridge;
        if (e) {
            var t = lt(e);
            if (t) if ("activex" === T.pluginType && "readyState" in e) e.style.display = "none",
            function i() {
                if (4 === e.readyState) {
                    for (var n in e) if ("function" == typeof e[n]) e[n] = null;
                    if (e.parentNode) e.parentNode.removeChild(e);
                    if (t.parentNode) t.parentNode.removeChild(t)
                } else s(i, 10)
            } ();
            else {
                if (e.parentNode) e.parentNode.removeChild(e);
                if (t.parentNode) t.parentNode.removeChild(t)
            }
            T.ready = null,
            T.bridge = null,
            T.deactivated = null
        }
    },
    ut = function(e) {
        var t = {},
        i = {};
        if ("object" == typeof e && e) {
            for (var n in e) if (n && g.call(e, n) && "string" == typeof e[n] && e[n]) switch (n.toLowerCase()) {
            case "text/plain":
            case "text":
            case "air:text":
            case "flash:text":
                t.text = e[n],
                i.text = n;
                break;
            case "text/html":
            case "html":
            case "air:html":
            case "flash:html":
                t.html = e[n],
                i.html = n;
                break;
            case "application/rtf":
            case "text/rtf":
            case "rtf":
            case "richtext":
            case "air:rtf":
            case "flash:rtf":
                t.rtf = e[n],
                i.rtf = n
            }
            return {
                data: t,
                formatMap: i
            }
        }
    },
    dt = function(e, t) {
        if ("object" != typeof e || !e || "object" != typeof t || !t) return e;
        var i = {};
        for (var n in e) if (g.call(e, n)) {
            if ("success" !== n && "data" !== n) {
                i[n] = e[n];
                continue
            }
            i[n] = {};
            var o = e[n];
            for (var r in o) if (r && g.call(o, r) && g.call(t, r)) i[n][t[r]] = o[r]
        }
        return i
    },
    ft = function(e, t) {
        var i = null == t || t && t.cacheBust === !0;
        if (i) return ( - 1 === e.indexOf("?") ? "?": "&") + "noCache=" + S();
        else return ""
    },
    pt = function(e) {
        var t, i, o, r, s = "",
        a = [];
        if (e.trustedDomains) if ("string" == typeof e.trustedDomains) r = [e.trustedDomains];
        else if ("object" == typeof e.trustedDomains && "length" in e.trustedDomains) r = e.trustedDomains;
        if (r && r.length) for (t = 0, i = r.length; i > t; t++) if (g.call(r, t) && r[t] && "string" == typeof r[t]) {
            if (o = mt(r[t]), !o) continue;
            if ("*" === o) {
                a = [o];
                break
            }
            a.push.apply(a, [o, "//" + o, n.location.protocol + "//" + o])
        }
        if (a.length) s += "trustedOrigins=" + c(a.join(","));
        if (e.forceEnhancedClipboard === !0) s += (s ? "&": "") + "forceEnhancedClipboard=true";
        if ("string" == typeof e.swfObjectId && e.swfObjectId) s += (s ? "&": "") + "swfObjectId=" + c(e.swfObjectId);
        return s
    },
    mt = function(e) {
        if (null == e || "" === e) return null;
        if (e = e.replace(/^\s+|\s+$/g, ""), "" === e) return null;
        var t = e.indexOf("//");
        e = -1 === t ? e: e.slice(t + 2);
        var i = e.indexOf("/");
        if (e = -1 === i ? e: -1 === t || 0 === i ? null: e.slice(0, i), e && ".swf" === e.slice( - 4).toLowerCase()) return null;
        else return e || null
    },
    gt = function() {
        var e = function(e, t) {
            var i, n, o;
            if (null != e && "*" !== t[0]) {
                if ("string" == typeof e) e = [e];
                if ("object" == typeof e && "number" == typeof e.length) for (i = 0, n = e.length; n > i; i++) if (g.call(e, i) && (o = mt(e[i]))) {
                    if ("*" === o) {
                        t.length = 0,
                        t.push("*");
                        break
                    }
                    if ( - 1 === b(o, t)) t.push(o)
                }
            }
        };
        return function(t, i) {
            var n = mt(i.swfPath);
            if (null === n) n = t;
            var o = [];
            e(i.trustedOrigins, o),
            e(i.trustedDomains, o);
            var r = o.length;
            if (r > 0) {
                if (1 === r && "*" === o[0]) return "always";
                if ( - 1 !== b(t, o)) if (1 === r && t === n) return "sameDomain";
                else return "always"
            }
            return "never"
        }
    } (),
    yt = function() {
        try {
            return o.activeElement
        } catch(e) {
            return null
        }
    },
    vt = function(e, t) {
        if (!e || 1 !== e.nodeType) return e;
        if (e.classList) {
            if (!e.classList.contains(t)) e.classList.add(t);
            return e
        }
        if (t && "string" == typeof t) {
            var i = (t || "").split(/\s+/);
            if (1 === e.nodeType) if (!e.className) e.className = t;
            else {
                for (var n = " " + e.className + " ",
                o = e.className,
                r = 0,
                s = i.length; s > r; r++) if (n.indexOf(" " + i[r] + " ") < 0) o += " " + i[r];
                e.className = o.replace(/^\s+|\s+$/g, "")
            }
        }
        return e
    },
    bt = function(e, t) {
        if (!e || 1 !== e.nodeType) return e;
        if (e.classList) {
            if (e.classList.contains(t)) e.classList.remove(t);
            return e
        }
        if ("string" == typeof t && t) {
            var i = t.split(/\s+/);
            if (1 === e.nodeType && e.className) {
                for (var n = (" " + e.className + " ").replace(/[\n\t]/g, " "), o = 0, r = i.length; r > o; o++) n = n.replace(" " + i[o] + " ", " ");
                e.className = n.replace(/^\s+|\s+$/g, "")
            }
        }
        return e
    },
    xt = function(e, t) {
        var i = n.getComputedStyle(e, null).getPropertyValue(t);
        if ("cursor" === t) if (!i || "auto" === i) if ("A" === e.nodeName) return "pointer";
        return i
    },
    _t = function() {
        var e, t, i, n = 1;
        if ("function" == typeof o.body.getBoundingClientRect) e = o.body.getBoundingClientRect(),
        t = e.right - e.left,
        i = o.body.offsetWidth,
        n = u.round(t / i * 100) / 100;
        return n
    },
    wt = function(e) {
        var t = {
            left: 0,
            top: 0,
            width: 0,
            height: 0
        };
        if (e.getBoundingClientRect) {
            var i, r, s, a = e.getBoundingClientRect();
            if ("pageXOffset" in n && "pageYOffset" in n) i = n.pageXOffset,
            r = n.pageYOffset;
            else s = _t(),
            i = u.round(o.documentElement.scrollLeft / s),
            r = u.round(o.documentElement.scrollTop / s);
            var l = o.documentElement.clientLeft || 0,
            h = o.documentElement.clientTop || 0;
            t.left = a.left + i - l,
            t.top = a.top + r - h,
            t.width = "width" in a ? a.width: a.right - a.left,
            t.height = "height" in a ? a.height: a.bottom - a.top
        }
        return t
    },
    Vt = function() {
        var e;
        if (i && (e = lt(T.bridge))) {
            var t = wt(i);
            x(e.style, {
                width: t.width + "px",
                height: t.height + "px",
                top: t.top + "px",
                left: t.left + "px",
                zIndex: "" + kt(P.zIndex)
            })
        }
    },
    Ut = function(e) {
        if (T.ready === !0) if (T.bridge && "function" == typeof T.bridge.setHandCursor) T.bridge.setHandCursor(e);
        else T.ready = !1
    },
    kt = function(e) {
        if (/^(?:auto|inherit)$/.test(e)) return e;
        var t;
        if ("number" == typeof e && !h(e)) t = e;
        else if ("string" == typeof e) t = kt(a(e, 10));
        return "number" == typeof t ? t: "auto"
    },
    Ct = function(e) {
        function t(e) {
            var t = e.match(/[\d]+/g);
            return t.length = 3,
            t.join(".")
        }
        function i(e) {
            return !! e && (e = e.toLowerCase()) && (/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e) || "chrome.plugin" === e.slice( - 13))
        }
        function n(e) {
            if (e) {
                if (h = !0, e.version) d = t(e.version);
                if (!d && e.description) d = t(e.description);
                if (e.filename) u = i(e.filename)
            }
        }
        var o, s, a, h = !1,
        c = !1,
        u = !1,
        d = "";
        if (r.plugins && r.plugins.length) {
            if (o = r.plugins["Shockwave Flash"], n(o), r.plugins["Shockwave Flash 2.0"]) h = !0,
            d = "2.0.0.11"
        } else if (r.mimeTypes && r.mimeTypes.length) a = r.mimeTypes["application/x-shockwave-flash"],
        o = a && a.enabledPlugin,
        n(o);
        else if ("undefined" != typeof e) {
            c = !0;
            try {
                s = new e("ShockwaveFlash.ShockwaveFlash.7"),
                h = !0,
                d = t(s.GetVariable("$version"))
            } catch(f) {
                try {
                    s = new e("ShockwaveFlash.ShockwaveFlash.6"),
                    h = !0,
                    d = "6.0.21"
                } catch(p) {
                    try {
                        s = new e("ShockwaveFlash.ShockwaveFlash"),
                        h = !0,
                        d = t(s.GetVariable("$version"))
                    } catch(m) {
                        c = !1
                    }
                }
            }
        }
        T.disabled = h !== !0,
        T.outdated = d && l(d) < l(I),
        T.version = d || "0.0.0",
        T.pluginType = u ? "pepper": c ? "activex": h ? "netscape": "unknown"
    };
    Ct(f);
    var St = function() {
        if (! (this instanceof St)) return new St;
        if ("function" == typeof St._createClient) St._createClient.apply(this, v(arguments))
    };
    St.version = "2.1.1",
    C(St, "version"),
    St.config = function() {
        return O.apply(this, v(arguments))
    },
    St.state = function() {
        return X.apply(this, v(arguments))
    },
    St.isFlashUnusable = function() {
        return N.apply(this, v(arguments))
    },
    St.on = function() {
        return R.apply(this, v(arguments))
    },
    St.off = function() {
        return K.apply(this, v(arguments))
    },
    St.handlers = function() {
        return F.apply(this, v(arguments))
    },
    St.emit = function() {
        return z.apply(this, v(arguments))
    },
    St.create = function() {
        return H.apply(this, v(arguments))
    },
    St.destroy = function() {
        return B.apply(this, v(arguments))
    },
    St.setData = function() {
        return J.apply(this, v(arguments))
    },
    St.clearData = function() {
        return j.apply(this, v(arguments))
    },
    St.getData = function() {
        return G.apply(this, v(arguments))
    },
    St.focus = St.activate = function() {
        return q.apply(this, v(arguments))
    },
    St.blur = St.deactivate = function() {
        return Y.apply(this, v(arguments))
    },
    St.activeElement = function() {
        return $.apply(this, v(arguments))
    };
    var Lt = 0,
    Tt = {},
    It = 0,
    Et = {},
    Wt = {};
    x(P, {
        autoActivate: !0
    });
    var At = function(e) {
        var t = this;
        if (t.id = "" + Lt++, Tt[t.id] = {
            instance: t,
            elements: [],
            handlers: {}
        },
        e) t.clip(e);
        St.on("*",
        function(e) {
            return t.emit(e)
        }),
        St.on("destroy",
        function() {
            t.destroy()
        }),
        St.create()
    },
    Mt = function(e, t) {
        var i, n, o, r = {},
        s = Tt[this.id] && Tt[this.id].handlers;
        if ("string" == typeof e && e) o = e.toLowerCase().split(/\s+/);
        else if ("object" == typeof e && e && "undefined" == typeof t) for (i in e) if (g.call(e, i) && "string" == typeof i && i && "function" == typeof e[i]) this.on(i, e[i]);
        if (o && o.length) {
            for (i = 0, n = o.length; n > i; i++) {
                if (e = o[i].replace(/^on/, ""), r[e] = !0, !s[e]) s[e] = [];
                s[e].push(t)
            }
            if (r.ready && T.ready) this.emit({
                type: "ready",
                client: this
            });
            if (r.error) {
                var a = ["disabled", "outdated", "unavailable", "deactivated", "overdue"];
                for (i = 0, n = a.length; n > i; i++) if (T[a[i]]) {
                    this.emit({
                        type: "error",
                        name: "flash-" + a[i],
                        client: this
                    });
                    break
                }
            }
        }
        return this
    },
    Dt = function(e, t) {
        var i, n, o, r, s, a = Tt[this.id] && Tt[this.id].handlers;
        if (0 === arguments.length) r = U(a);
        else if ("string" == typeof e && e) r = e.split(/\s+/);
        else if ("object" == typeof e && e && "undefined" == typeof t) for (i in e) if (g.call(e, i) && "string" == typeof i && i && "function" == typeof e[i]) this.off(i, e[i]);
        if (r && r.length) for (i = 0, n = r.length; n > i; i++) if (e = r[i].toLowerCase().replace(/^on/, ""), s = a[e], s && s.length) if (t) for (o = b(t, s); - 1 !== o;) s.splice(o, 1),
        o = b(t, s, o);
        else s.length = 0;
        return this
    },
    Pt = function(e) {
        var t = null,
        i = Tt[this.id] && Tt[this.id].handlers;
        if (i) if ("string" == typeof e && e) t = i[e] ? i[e].slice(0) : [];
        else t = _(i);
        return t
    },
    Ot = function(e) {
        if (Ft.call(this, e)) {
            if ("object" == typeof e && e && "string" == typeof e.type && e.type) e = x({},
            e);
            var t = x({},
            Z(e), {
                client: this
            });
            zt.call(this, t)
        }
        return this
    },
    Xt = function(e) {
        e = Ht(e);
        for (var t = 0; t < e.length; t++) if (g.call(e, t) && e[t] && 1 === e[t].nodeType) {
            if (!e[t].zcClippingId) {
                if (e[t].zcClippingId = "zcClippingId_" + It++, Et[e[t].zcClippingId] = [this.id], P.autoActivate === !0) Bt(e[t])
            } else if ( - 1 === b(this.id, Et[e[t].zcClippingId])) Et[e[t].zcClippingId].push(this.id);
            var i = Tt[this.id] && Tt[this.id].elements;
            if ( - 1 === b(e[t], i)) i.push(e[t])
        }
        return this
    },
    Nt = function(e) {
        var t = Tt[this.id];
        if (!t) return this;
        var i, n = t.elements;
        if ("undefined" == typeof e) e = n.slice(0);
        else e = Ht(e);
        for (var o = e.length; o--;) if (g.call(e, o) && e[o] && 1 === e[o].nodeType) {
            for (i = 0; - 1 !== (i = b(e[o], n, i));) n.splice(i, 1);
            var r = Et[e[o].zcClippingId];
            if (r) {
                for (i = 0; - 1 !== (i = b(this.id, r, i));) r.splice(i, 1);
                if (0 === r.length) {
                    if (P.autoActivate === !0) Jt(e[o]);
                    delete e[o].zcClippingId
                }
            }
        }
        return this
    },
    Rt = function() {
        var e = Tt[this.id];
        return e && e.elements ? e.elements.slice(0) : []
    },
    Kt = function() {
        this.unclip(),
        this.off(),
        delete Tt[this.id]
    },
    Ft = function(e) {
        if (!e || !e.type) return ! 1;
        if (e.client && e.client !== this) return ! 1;
        var t = Tt[this.id] && Tt[this.id].elements,
        i = !!t && t.length > 0,
        n = !e.target || i && -1 !== b(e.target, t),
        o = e.relatedTarget && i && -1 !== b(e.relatedTarget, t),
        r = e.client && e.client === this;
        if (! (n || o || r)) return ! 1;
        else return ! 0
    },
    zt = function(e) {
        if ("object" == typeof e && e && e.type) {
            var t = it(e),
            i = Tt[this.id] && Tt[this.id].handlers["*"] || [],
            o = Tt[this.id] && Tt[this.id].handlers[e.type] || [],
            r = i.concat(o);
            if (r && r.length) {
                var s, a, l, h, c, u = this;
                for (s = 0, a = r.length; a > s; s++) {
                    if (l = r[s], h = u, "string" == typeof l && "function" == typeof n[l]) l = n[l];
                    if ("object" == typeof l && l && "function" == typeof l.handleEvent) h = l,
                    l = l.handleEvent;
                    if ("function" == typeof l) c = x({},
                    e),
                    nt(l, h, [c], t)
                }
            }
            return this
        }
    },
    Ht = function(e) {
        if ("string" == typeof e) e = [];
        return "number" != typeof e.length ? [e] : e
    },
    Bt = function(e) {
        if (e && 1 === e.nodeType) {
            var t = function(e) {
                if (e || (e = n.event)) {
                    if ("js" !== e._source) e.stopImmediatePropagation(),
                    e.preventDefault();
                    delete e._source
                }
            },
            i = function(i) {
                if (i || (i = n.event)) t(i),
                St.focus(e)
            };
            e.addEventListener("mouseover", i, !1),
            e.addEventListener("mouseout", t, !1),
            e.addEventListener("mouseenter", t, !1),
            e.addEventListener("mouseleave", t, !1),
            e.addEventListener("mousemove", t, !1),
            Wt[e.zcClippingId] = {
                mouseover: i,
                mouseout: t,
                mouseenter: t,
                mouseleave: t,
                mousemove: t
            }
        }
    },
    Jt = function(e) {
        if (e && 1 === e.nodeType) {
            var t = Wt[e.zcClippingId];
            if ("object" == typeof t && t) {
                for (var i, n, o = ["move", "leave", "enter", "out", "over"], r = 0, s = o.length; s > r; r++) if (i = "mouse" + o[r], n = t[i], "function" == typeof n) e.removeEventListener(i, n, !1);
                delete Wt[e.zcClippingId]
            }
        }
    };
    if (St._createClient = function() {
        At.apply(this, v(arguments))
    },
    St.prototype.on = function() {
        return Mt.apply(this, v(arguments))
    },
    St.prototype.off = function() {
        return Dt.apply(this, v(arguments))
    },
    St.prototype.handlers = function() {
        return Pt.apply(this, v(arguments))
    },
    St.prototype.emit = function() {
        return Ot.apply(this, v(arguments))
    },
    St.prototype.clip = function() {
        return Xt.apply(this, v(arguments))
    },
    St.prototype.unclip = function() {
        return Nt.apply(this, v(arguments))
    },
    St.prototype.elements = function() {
        return Rt.apply(this, v(arguments))
    },
    St.prototype.destroy = function() {
        return Kt.apply(this, v(arguments))
    },
    St.prototype.setText = function(e) {
        return St.setData("text/plain", e),
        this
    },
    St.prototype.setHtml = function(e) {
        return St.setData("text/html", e),
        this
    },
    St.prototype.setRichText = function(e) {
        return St.setData("application/rtf", e),
        this
    },
    St.prototype.setData = function() {
        return St.setData.apply(this, v(arguments)),
        this
    },
    St.prototype.clearData = function() {
        return St.clearData.apply(this, v(arguments)),
        this
    },
    St.prototype.getData = function() {
        return St.getData.apply(this, v(arguments))
    },
    "function" == typeof define && define.amd) define("zeroclipboard", [],
    function() {
        return St
    });
    else if ("object" == typeof module && module && "object" == typeof module.exports && module.exports) module.exports = St;
    else e.ZeroClipboard = St
} (function() {
    return this
} ()),
define("common/core/copyToClipboard", ["zeroclipboard", "common/core/url"],
function() {
    var e = require("zeroclipboard"),
    t = require("common/core/url"),
    i = {};
    return e.config({
        swfPath: t.ZERO_CLIPBOARD_SWF_PATH
    }),
    i.enable = function(t) {
        function i() {
            o.on("copy", n)
        }
        function n(e) {
            e.clipboardData.setData("text/plain", t.text())
        }
        var o = new e(t.el);
        o.on("ready", i)
    },
    i
}),
define("common/component/value/integerInputDecorator", ["require", "jquery", "common/core/lib"],
function(require) {
    function e(e) {
        return e.value.extendWriter(n.curry(t, e.min, e.max)),
        e
    }
    function t(e, t, n, o, r, s) {
        if (o = parseInt(i.trim(o + ""), 10), o || 0 === o) {
            if (i.isFunction(e)) e = e(o);
            if (i.isFunction(t)) t = t(o);
            if (null != e && e > o) o = e;
            if (null != t && o > t) o = t;
            n(o, r, s)
        }
    }
    var i = require("jquery"),
    n = require("common/core/lib");
    return e
}),
define("wave/publish/PublicPanel", ["require", "jquery", "common/core/lib", "common/core/url", "common/core/lang", "common/core/log", "wave/app/WinPanel", "common/core/copyToClipboard", "wave/app/waveProdMgr", "common/component/value/integerInputDecorator", "d8f3fd38.tpl"],
function(require) {
    function e() {
        var e = this.$content();
        this._renderTpl(w, {},
        e),
        this._constructSub(e),
        this._sub("previewBtn").on("click", c.proxy(y.preview, y)),
        c(U).on("mouseenter",
        function() {
            this.select && this.select()
        });
        var o = this;
        e.find(k).on("click",
        function() {
            o.fire("cancel", {
                mode: "public"
            })
        });
        var r = u.bindTooltip({
            bindEl: e[0],
            selector: k,
            followMouse: !0,
            text: b.cancelShareTip
        });
        this._disposable(r);
        var s = u.bindTooltip({
            bindEl: e[0],
            selector: I,
            followMouse: !0,
            text: b.moreSettingTip
        });
        this._disposable(s),
        t.call(this),
        i.call(this),
        n.call(this),
        a.call(this)
    }
    function t() {
        var e = this.$content().find(U);
        e.val(y.getProdURL()),
        o.call(this, V,
        function() {
            return y.getProdURL()
        })
    }
    function i() {
        try {
            window._bd_share_config = {
                common: {
                    bdText: y.getProdProp("title") + " from 百度图说",
                    bdDesc: y.getProdProp("title"),
                    bdUrl: y.getProdURL()
                },
                share: [{
                    tag: "share_1",
                    bdSize: 24
                }]
            },
            window._bd_share_main.init()
        } catch(e) {
            p.error("share.baidu.com error: ", e)
        }
    }
    function n() {
        var e = this;
        o.call(this, T,
        function() {
            return e._embedCode
        });
        var t = this.$content(),
        i = t.find(C),
        n = t.find(E),
        s = t.find(I);
        i.on("mouseenter",
        function() {
            this.select && this.select()
        }),
        s.on("click",
        function() {
            n.show(),
            s.hide()
        }),
        r.call(this, "embedWidthMode", "embedWidth"),
        r.call(this, "embedHeightMode", "embedHeight")
    }
    function o(e, t) {
        var i = this.$content(),
        n = i.find(e),
        o = this;
        g.enable({
            el: n[0],
            text: function() {
                return r.setText(f.string.copyToClipboardDone),
                t.call(o)
            }
        });
        var r = u.bindTooltip({
            bindEl: this.$content()[0],
            selector: e,
            followMouse: !1,
            location: function() {
                var e = n.offset();
                return {
                    x: e.left + ~~ (n.outerWidth() / 2),
                    y: e.top - 10,
                    xAnchor: "center",
                    yAnchor: "bottom"
                }
            },
            text: f.string.copyToClipboard
        });
        this._disposable(r)
    }
    function r(e) {
        function t() {
            s.call(this)
        }
        var i = this._sub(e).viewModel("checked");
        this._disposable(i.subscribe(t, this))
    }
    function s() {
        var e = this._sub("embedWidthMode").viewModel("checked")(),
        t = this._sub("embedHeightMode").viewModel("checked")(),
        i = y.getPaperSize(),
        n = y.getPaperIdByPaperIndex(this._viewModel().paperNumber() - 1),
        o = [],
        r = y.getProdId();
        if (o.push("prodId:'" + x(r) + "'"), o.push("paperId:'" + x(n) + "'"), o.push("widthMode:'" + x(e) + "'"), o.push("heightMode:'" + x(t) + "'"), "fixed" === e) o.push("width:'" + x(i.width) + "'");
        if ("fixed" === t) o.push("height:'" + x(i.height) + "'");
        var s = {
            dtAttr: o.join(","),
            url: d.STUB_URL
        },
        a = this._embedCode = c.trim(this._renderTpl(S, s)),
        l = this.$content();
        l.find(C)[0].innerHTML = x(a);
        var h = ["prodId=" + encodeURIComponent(r), "widthMode=" + encodeURIComponent(e), "heightMode=" + encodeURIComponent(t), "width=" + encodeURIComponent(i.width), "height=" + encodeURIComponent(i.height), "paperId=" + encodeURIComponent(n)].join("&");
        l.find(L).attr("href", u.appendParam(d.net("embedSample"), h))
    }
    function a() {
        function e(e) {
            var t = y.getCurrPaperIndex() + 1;
            this.$el().find(A)[0].innerHTML = t === e ? f.string.publish.embedLabelSufCurr: f.string.publish.embedLabelSuf,
            s.call(this)
        }
        this._disposable(this._viewModel().paperNumber.subscribe(e, this))
    }
    function l() {
        var e = this.$el(),
        t = e.find(W),
        i = h(),
        n = y.getCurrPaperIndex() + 1;
        this._viewModel().paperNumber(n),
        t[i > 1 ? "show": "hide"]()
    }
    function h() {
        return y.getPaperCount()
    }
    var c = require("jquery"),
    u = require("common/core/lib"),
    d = require("common/core/url"),
    f = require("common/core/lang"),
    p = require("common/core/log"),
    m = require("wave/app/WinPanel"),
    g = require("common/core/copyToClipboard"),
    y = require("wave/app/waveProdMgr"),
    v = require("common/component/value/integerInputDecorator"),
    b = f.string.publish,
    x = u.encodeHTML,
    _ = f.html,
    w = "publicPanel",
    V = ".dtm-produrl .dtm-cpbtn",
    U = ".dtm-produrl input",
    k = ".dtm-pubpn-cancel",
    C = ".dtm-embed textarea",
    S = "publishEmbedCode",
    L = ".dtm-embed-smp",
    T = ".dtm-embed-buttons .dtm-cpbtn",
    I = ".dtm-embed-more-setting",
    E = ".dtm-embed-setting",
    W = ".dtm-embed-paper-num-box",
    A = ".dtm-embed-paper-num-desc",
    M = m.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            viewModel: function() {
                return {
                    paperNumber: v({
                        value: u.ob(),
                        min: 1,
                        max: h
                    }).value
                }
            }
        },
        _prepare: function() {
            var e = this._viewModel();
            e.embedWidthModeViewModel = {
                checked: u.ob("byOuter"),
                dataList: [{
                    value: "fixed",
                    text: b.sizeFixed,
                    tooltip: _.publishWidthFixed,
                    tooltipEncodeHTML: !1
                },
                {
                    value: "byOuter",
                    text: b.sizeByOuter,
                    tooltip: _.publishWidthByOuter,
                    tooltipEncodeHTML: !1
                }]
            },
            e.embedHeightModeViewModel = {
                checked: u.ob("byInner"),
                dataList: [{
                    value: "fixed",
                    text: b.sizeFixed,
                    tooltip: _.publishHeightFixed,
                    tooltipEncodeHTML: !1
                },
                {
                    value: "byInner",
                    text: b.sizeByInner,
                    tooltip: _.publishHeightByInner,
                    tooltipEncodeHTML: !1
                }]
            }
        },
        _init: function() {
            this._applySuper("_init")
        },
        _afterShow: function() {
            if (!this._contentInitialized) this._contentInitialized = !0,
            e.call(this);
            l.call(this),
            s.call(this)
        }
    });
    return M
}),
define("wave/publish/PrivatePanel", ["require", "jquery", "common/core/lib", "common/core/lang", "wave/app/WinPanel", "common/core/copyToClipboard", "wave/app/waveProdMgr", "d8f3fd38.tpl"],
function(require) {
    function e() {
        var e = this.$content();
        this._renderTpl(u, {},
        e),
        this._constructSub(e),
        this._sub("previewBtn").on("click", o.proxy(h.preview, h));
        var i = this;
        e.find(m).on("click",
        function() {
            i.fire("cancel", {
                mode: "private"
            })
        });
        var s = r.bindTooltip({
            bindEl: e[0],
            selector: m,
            followMouse: !1,
            text: c.cancelShareTip
        });
        this._disposable(s);
        var a = e.find(f),
        l = e.find(p),
        d = e.find(g),
        x = e.find(y),
        _ = e.find(v),
        w = e.find(b);
        a.on("mouseenter",
        function() {
            this.select && this.select()
        }),
        l.on("mouseenter",
        function() {
            this.select && this.select()
        }),
        d.on("click",
        function() {
            l.prop("readonly", !1),
            l.get(0).select(),
            d.hide(),
            x.show(),
            _.show()
        }),
        x.on("click",
        function() {
            var e = l.val() || "";
            if (!/^[0-9a-zA-Z]{4}$/.test(e)) w.text(c.codeError).show();
            else {
                w.text("").hide();
                var t = h.modifyShareCode(e);
                t.done(function() {
                    l.val(e).attr("readonly", "readonly"),
                    d.show(),
                    x.hide(),
                    _.hide()
                }),
                t.fail(function() {
                    w.text(c.codeServerError).show()
                })
            }
        }),
        _.on("click", o.proxy(n, this)),
        t.call(this)
    }
    function t() {
        var e = this.$content(),
        t = e.find(f);
        t.val(h.getProdURL()),
        i.call(this, d,
        function() {
            var e = [c.link + "："];
            return e.push(h.getProdURL()),
            e.push(" "),
            e.push(c.code + "："),
            e.push(h.getShareCode()),
            e.join("")
        })
    }
    function i(e, t) {
        var i = this.$content(),
        n = i.find(e),
        o = this;
        l.enable({
            el: n[0],
            text: function() {
                return a.setText(s.string.copyToClipboardDone),
                t.call(o)
            }
        });
        var a = r.bindTooltip({
            bindEl: this.$content()[0],
            selector: e,
            followMouse: !1,
            location: function() {
                var e = n.offset();
                return {
                    x: e.left + ~~ (n.outerWidth() / 2),
                    y: e.top - 10,
                    xAnchor: "center",
                    yAnchor: "bottom"
                }
            },
            text: s.string.publish.copyBothToClipboard
        });
        this._disposable(a)
    }
    function n() {
        var e = this.$content(),
        t = e.find(p),
        i = h.getShareCode();
        t.val(i).attr("readonly", "readonly"),
        e.find(g).show(),
        e.find(y).hide(),
        e.find(v).hide(),
        e.find(b).hide()
    }
    var o = require("jquery"),
    r = require("common/core/lib"),
    s = require("common/core/lang"),
    a = require("wave/app/WinPanel"),
    l = require("common/core/copyToClipboard"),
    h = require("wave/app/waveProdMgr"),
    c = s.string.publish,
    u = "privatePanel",
    d = ".dtm-produrl .dtm-cpbtn",
    f = ".dtm-produrl .dtm-input-url",
    p = ".dtm-produrl .dtm-input-code",
    m = ".dtm-pubpn-cancel",
    g = ".dtm-code-modify",
    y = ".dtm-code-ok",
    v = ".dtm-code-cancel",
    b = ".dtm-code-error",
    x = a.extend({
        _define: {
            tpl: require("d8f3fd38.tpl")
        },
        _prepare: function() {},
        _init: function() {
            this._applySuper("_init")
        },
        _afterShow: function() {
            if (!this._contentInitialized) this._contentInitialized = !0,
            e.call(this);
            n.call(this)
        }
    });
    return x
}),
define("wave/publish/publishPanel", ["require", "wave/app/waveProdMgr", "common/core/lib", "common/core/constant", "./ModePanel", "./PublicPanel", "./PrivatePanel"],
function(require) {
    function e(e) {
        var e = e || "mode";
        e = e.toLowerCase();
        var i = {
            mode: require("./ModePanel"),
            "public": require("./PublicPanel"),
            "private": require("./PrivatePanel")
        },
        n = i[e] || i.mode;
        if (!r[e]) r[e] = new n,
        t(r[e], e);
        return r[e]
    }
    function t(t, s) {
        if (t) {
            if ("mode" === s) t.addEventListener("modeSelected",
            function(t) {
                i.publish(o.Publish[t.mode]).then(function() {
                    n.hideTooltip(),
                    e("mode").close(),
                    e(t.mode).open()
                })
            });
            if ("public" === s || "private" === s) t.addEventListener("cancel",
            function() {
                n.hideTooltip(),
                i.cancelShare().then(function() {
                    e(s).close()
                })
            });
            t.addEventListener("close",
            function() {
                t.dispose(),
                r[s] = null,
                n.hideTooltip()
            })
        }
    }
    var i = require("wave/app/waveProdMgr"),
    n = require("common/core/lib"),
    o = require("common/core/constant"),
    exports = {},
    r = {};
    return exports.open = function() {
        var t, n = i.getPublishStatus();
        if (n === o.Publish.UNPUBLISHED) t = "mode";
        else if (n === o.Publish.PUBLIC) t = "public";
        else if (n === o.Publish.PRIVATE) t = "private";
        if (t) e(t).open()
    },
    exports.dispose = function() {
        var e;
        for (e in r) if (r.hasOwnProperty(e) && r[e]) r[e].dispose(),
        r[e] = null
    },
    exports
}),
define("wave/manufacture/Manufacture", ["require", "jquery", "common/core/lib", "common/core/lang", "common/core/url", "common/core/constant", "common/core/appContext", "common/core/user", "wave/app/dialog", "common/component/Component", "wave/app/waveProdMgr", "wave/manufacture/ResidenceHandle", "wave/manufacture/AddPanelHandle", "wave/manufacture/AddSelectPanel", "wave/manufacture/PreviewPanel", "wave/publish/publishPanel", "d8f3fd38.tpl"],
function(require) {
    function e() {
        a.route("gallery")
    }
    function t(e) {
        return this._sub(e)
    }
    function i(e) {
        return this._viewModel().panelOpenStatusMap[e]
    }
    function n() {
        function e() {
            i.resolve()
        }
        function t() {
            i.reject()
        }
        var i = new o.Deferred;
        if (!f.checkSaved()) return f.saveDialogPrompt({
            onSaveDone: e,
            onSaveFail: t,
            onDontSave: e,
            onCancel: t
        }),
        i;
        else return null
    }
    var o = require("jquery"),
    r = require("common/core/lib"),
    s = require("common/core/lang"),
    a = require("common/core/url"),
    l = require("common/core/constant"),
    h = require("common/core/appContext"),
    c = require("common/core/user"),
    u = require("wave/app/dialog"),
    d = require("common/component/Component"),
    f = require("wave/app/waveProdMgr"),
    p = require("wave/manufacture/ResidenceHandle"),
    m = require("wave/manufacture/AddPanelHandle"),
    g = require("wave/manufacture/AddSelectPanel"),
    y = require("wave/manufacture/PreviewPanel"),
    v = require("wave/publish/publishPanel"),
    b = l.SyncStatus,
    x = l.PanelStatus,
    _ = l.ResidentPanelName,
    w = s.string,
    V = ".dtm-mf-paper-box",
    U = "dtm-save-btn-disabled-init",
    k = "dtm-add-wgt-btn-highlight",
    C = ".dtm-add-wgt-btn",
    S = ".dtm-prod-title",
    L = ".dtm-user-info",
    T = "" + Math.random(),
    I = d.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "manufacture",
            css: "cpt-manufacture",
            viewModel: function() {
                var e = {};
                return _.forEachEnum(function(t, i) {
                    e[i] = r.ob(x.CLOSED, null, {
                        authKey: T
                    })
                }),
                {
                    prodId: "",
                    paperId: "",
                    residenceHandle: new p(o.proxy(t, this), o.proxy(i, this), o.proxy(this.$el, this), T),
                    panelOpenStatusMap: e,
                    addPanelHandle: new m(T)
                }
            },
            viewModelPublic: ["residenceHandle", "panelOpenStatusMap"],
            viewModelPublicReadonly: ["chartEditroClosed"]
        },
        _init: function() {
            this.$el("paperBox", this.$el().find(V)),
            this._initWaveProdMgr(),
            this._initBtns(),
            c.renderUserInfo(this.$el().find(L)),
            r.addBeforeUnloadChecker(this._beforeUnloadChecker),
            this._disposable(v)
        },
        _initBtns: function() {
            function t(e) {
                V.open(o(e.currentTarget))
            }
            function i() {
                V.close()
            }
            function n(e) {
                x[e ? "addClass": "removeClass"](k)
            }
            function s() {
                if (!f.checkSaved()) f.saveAll().done(o.proxy(a, this));
                else a.call(this)
            }
            function a() {
                var e = new y;
                this._disposable(e, "previewPanel"),
                e.open();
                var t = this;
                e.addEventListener("close",
                function() {
                    e.dispose(),
                    t._disposable("previewPanel")
                })
            }
            function l() {
                if (!f.checkSaved()) f.saveAll().done(h).fail(c);
                else h.call(this)
            }
            function h() {
                v.open()
            }
            function c() {
                u.alert({
                    content: w.dialog.saveFail,
                    onYes: h
                })
            }
            function d() {
                this._viewModel().residenceHandle.active(_.PAPER_CONFIGURER)
            }
            function p() {
                this._viewModel().residenceHandle.activeSharing(_.PAPER_NAVIGATOR, !0, !1)
            }
            var m = this._sub("myProdBtn");
            m.viewModel("text")(w.myProd),
            m.on("click", e);
            var b = this._sub("saveBtn");
            b.viewModel("disabled")(!0),
            b.viewModel("text")(w.saveBtnSave),
            b.$el().addClass(U),
            b.on("click", o.proxy(f.saveAll, f));
            var x = this.$el("addBtn", this.$el().find(C));
            x.html(r.encodeHTML(w.addBtn)).on(this._event("mouseenter"), t).on(this._event("mouseleave"), i);
            var V = new g;
            V.viewModel("openStatus").subscribe(n);
            var S = this._sub("publishBtn");
            S.viewModel("text")(w.publishBtn),
            S.on("click", o.proxy(l, this));
            var L = this._sub("paperSettingBtn");
            L.viewModel("text")(w.paperSettingBtn),
            L.on("click", o.proxy(d, this));
            var T = this._sub("previewBtn");
            T.viewModel("text")(w.publish.preview),
            T.on("click", o.proxy(s, this));
            var I = this._sub("paperNavBtn");
            I.on("click", o.proxy(p, this)),
            I.viewModel("disabled")(!0)
        },
        _initWaveProdMgr: function() {
            function e() {
                a.route("gallery")
            }
            var t = this._sub("paper"),
            i = this,
            n = this._viewModel();
            f.setCurrent(n.prodId, t.el(), t.getPaperDelegations());
            var o = h.getData(l.APP_CTX_CREATE_CHART_PROD_BLUEPRINT);
            h.setData(l.APP_CTX_CREATE_CHART_PROD_BLUEPRINT, null),
            f.load(o, n.paperId).done(function() {
                i._initProdTitle(),
                i._initSyncStatusObHandler(),
                i._saveThumbnail(),
                i._sub("paperNavBtn").viewModel("disabled")(!1)
            }).fail(function() {
                u.alert({
                    content: w.loadBlueprintFail,
                    onYes: e
                })
            })
        },
        _initProdTitle: function() {
            function e() {
                f.updateCfg({
                    method: "setProdCfgProp",
                    title: n.text()
                })
            }
            function t(e) {
                e.preventDefault();
                var t = (e.originalEvent || e).clipboardData.getData("text/plain");
                document.execCommand("insertText", !1, t)
            }
            var i = f.getProdProp("title"),
            n = this.$el().find(S);
            n[0].innerHTML = r.encodeHTML(i),
            n.attr("title", i),
            n.on(this._event("blur"), o.proxy(e, this)),
            n.on("paste", o.proxy(t)),
            r.enhanceContentEditable(n)
        },
        _initSyncStatusObHandler: function() {
            function e(e) {
                var t = b.hasUnsaved(e),
                i = this._sub("saveBtn");
                if (i.viewModel("disabled")(!t), i.viewModel("text")(e === b.SAVING ? w.saveBtnSaving: t ? w.saveBtnSave: w.saveBtnSaved), !this._disabledInitRemoved && t) i.$el().removeClass(U),
                this._disabledInitRemoved = !0
            }
            var t = f.getSyncStatusOb();
            this._disposable(t.subscribe(e, this)),
            e.call(this, t())
        },
        _saveThumbnail: function() {
            var e = b.hasUnsaved(f.getSyncStatusOb()());
            if (!e && !f.getProdProp("thumbnail")) setTimeout(function() {
                try {
                    f.saveThumbnail()
                } catch(e) {}
            },
            2e3)
        },
        _beforeUnloadChecker: function() {
            if (!f.checkSaved()) return w.unloadButUnsavedCry;
            else return void 0
        },
        _dispose: function() {
            r.removeBeforeUnloadChecker(this._beforeUnloadChecker),
            this._viewModel().residenceHandle.dispose()
        },
        _disposeFinally: function() {
            f.dispose()
        },
        handleHashRoute: function(e, t) {
            if (e === I && t.prodId && t.prodId === f.getProdId()) {
                var i = t.paperId || f.getFirstPaperId(),
                o = f.getPaperIdOb();
                if (o() !== i) o(i);
                return ! 0
            } else return n()
        }
    });
    return I
}),
define("wave/app/router", ["require", "jquery", "crossroads", "hasher", "common/core/url", "wave/gallery/Gallery", "wave/manufacture/Manufacture", "common/component/Failure"],
function(require) {
    function e(e, t) {
        return function(r) {
            function h(e) {
                a = null,
                !e && p()
            }
            function d() {
                a = null,
                m()
            }
            function p() {
                var o = l("html");
                if (i) i.dispose(),
                o.removeClass();
                o.addClass("dtm-html-" + t);
                var a = l(f)[0];
                a.innerHTML = "<div></div>",
                i = new e(a.firstChild, r),
                n = e,
                s = c.getHash(),
                i.traversalRun(!1)
            }
            function m() {
                u.replaceHashSilently(s || "")
            }
            if (o = l.extend({},
            r), r = l.extend({},
            r), a) return void m();
            else if (i && i.handleHashRoute) {
                var g = i.handleHashRoute(e, r);
                if ("object" === l.type(g))(a = g).then(h, d);
                else ! g && p()
            } else p()
        }
    }
    function t() {
        setTimeout(function() {
            c.setHash("error")
        },
        0)
    }
    var i, n, o, r, s, a, l = require("jquery"),
    h = require("crossroads"),
    c = require("hasher"),
    u = require("common/core/url"),
    d = {},
    f = "#wave-main",
    p = {
        gallery: {
            pattern: ["", u.routerPattern("gallery"), u.routerPattern("galleryPagination")],
            component: require("wave/gallery/Gallery"),
            htmlCss: "gly"
        },
        manufacture: {
            pattern: [u.routerPattern("manufacture"), u.routerPattern("manufacturePaper")],
            component: require("wave/manufacture/Manufacture"),
            htmlCss: "mf"
        },
        error: {
            pattern: u.routerPattern("error"),
            component: require("common/component/Failure"),
            htmlCss: "err"
        }
    };
    return d.init = function() {
        function i(e) {
            r.parse(e)
        }
        r = h,
        r.ignoreState = !0,
        l.each(p,
        function(t, i) {
            var n = i.pattern;
            if (!l.isArray(n)) n = [n];
            l.each(n,
            function(t, n) {
                r.addRoute(n, e(i.component, i.htmlCss))
            })
        }),
        r.bypassed.add(t),
        r.normalizeFn = r.NORM_AS_OBJECT,
        c.initialized.add(i),
        c.changed.add(i),
        c.init()
    },
    d.dispose = function() {
        if (i) i.dispose(),
        i = null;
        if (n = null, s = null, r) r.dispose(),
        r = null
    },
    d.getCurrInfo = function() {
        return {
            instance: i,
            cptClz: n,
            vals: l.extend({},
            o)
        }
    },
    d
}),
define("common/core/feedback", ["require", "jquery", "common/core/user"],
function(require) {
    function e() {
        var e = window.bds;
        if (e && e.qa && e.qa.ShortCut && e.qa.ShortCut.initRightBar) {
            var t = {
                product_id: o,
                plugintitle: "意见反馈",
                issueTips: "对图说不满意吗？请告诉我们",
                issuePlaceholder: "欢迎提出问题或宝贵建议（400字以内），感谢您对图说的支持。",
                emailTips: "联系方式（选填）",
                emailPlaceholder: "留下您的邮箱或QQ，便于我们及时回复您",
                cutFileTips: "可以上传问题图片，图片大小不超过3M",
                needIssueTips: !0,
                needIssue: !0,
                needCut: !0,
                needEmail: !0,
                needGuide: !1,
                showPosition: "right",
                onlyUpFile: !0
            },
            i = {
                product_id: o,
                username: "(" + n.getUid() + ")" + n.getUname()
            };
            e.qa.ShortCut._getProData(i),
            e.qa.ShortCut.initRightBar(t)
        }
    }
    function t() {
        var t = window.bds;
        if (t && t.qa && t.qa.ShortCut) e();
        else i.getScript(r).done(e);
        return ! 1
    }
    var i = require("jquery"),
    n = require("common/core/user"),
    o = 101,
    r = "http://f3.baidu.com/feedback/js/feedback/feedback0.0.2.js",
    s = {
        init: function() {
            i('<div class="dtm-feedback"><i>?</i>意见反馈</div>').appendTo(document.body).on("click", t)
        }
    };
    return s
}),
define("wave/app/Wave", ["require", "jquery", "./router", "common/core/lib", "common/core/feedback", "common/component/Component", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("./router"),
    i = require("common/core/lib"),
    n = require("common/core/feedback"),
    o = require("common/component/Component"),
    r = o.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "wave",
            css: "cpt-wave",
            viewModel: function() {
                return {
                    tplRenderMode: "prepend"
                }
            }
        },
        _prepare: function() {
            if (r._initialized) throw new Error("Only one instance can be initialized.");
            r._initialized = !0,
            i.enableBeforeUnloadCheck()
        },
        _dispose: function() {
            t.dispose()
        }
    });
    return r.init = function() {
        var i = new r(e("body"));
        i.traversalRun(),
        t.init(),
        n.init()
    },
    r
}),
define("wave/app/ResidentPanel", ["require", "jquery", "wave/app/BasePanel", "common/core/constant"],
function(require) {
    var e = require("jquery"),
    t = require("wave/app/BasePanel"),
    i = require("common/core/constant"),
    n = t.extend({
        _define: {
            viewModel: function() {
                return {
                    residenceHandle: null,
                    panelOpenStatus: null,
                    panelOpenMode: i.PanelOpenMode.LEFT_TO_RIGHT
                }
            },
            viewModelPublic: ["residenceHandle", "panelOpenStatus", "panelOpenMode"]
        },
        prepareShow: e.noop,
        close: function() {
            this._viewModel().residenceHandle.active(!1)
        }
    });
    return n
}),
define("wave/gadget/ConfBasePanel", ["require", "wave/app/BasePanel"],
function(require) {
    var e = require("wave/app/BasePanel"),
    t = e.extend({
        _define: {
            viewModel: function() {
                return {
                    residenceHandle: null,
                    dpct: null,
                    dsp: null,
                    used: null
                }
            },
            viewModelPublic: ["used", "dsp"]
        },
        _updateScroll: function() {
            var e = this.getAncestorLocalOb("LOCAL_OB_SCROLL_RESIZE");
            e && e({})
        },
        _getWgtId: function() {
            var e = this._viewModel().residenceHandle;
            if (e && e.getWgtId) return e.getWgtId();
            else return void 0
        }
    });
    return t
}),
define("wave/chartConfigurer/depiction", ["require", "common/core/lib", "wave/app/waveProdMgr", "common/core/constant"],
function(require) {
    function e(e, t) {
        return s.SCATTER === e && t._dtfAutoCalcSymbolSizeByGlobalZLimit
    }
    function t(e) {
        return null != e[0] ? e[0] : n
    }
    function i(e, t) {
        for (var i = [], n = 0, o = t.pathList.length; o > n; n++) i.push(e);
        return i
    }
    var n, o = require("common/core/lib"),
    r = require("wave/app/waveProdMgr"),
    s = require("common/core/constant").EcChartType,
    a = {},
    l = a.dpctMakers = {};
    a.DSP_BASE = "option",
    a.COOR_X_MIN = -1500,
    a.COOR_X_MAX = 1500,
    a.COOR_Y_MIN = -1500,
    a.COOR_Y_MAX = 1500,
    a.BORDER_WIDTH_MAX = 30,
    a.BORDER_RADIUS_MAX = 15,
    a.ITEM_GEP_MIN = 0,
    a.ITEM_GEP_MAX = 100,
    a.ITEM_SIZE_MIN = 0,
    a.ITEM_SIZE_MAX = 100,
    a.PADDING_MAX = 10,
    a.DEFAULT_COLOR = "#1DBB37",
    a.GRID_WIDTH_MIN = 0,
    a.GRID_WIDTH_MAX = 1200,
    a.GRID_HEIGHT_MIN = 0,
    a.GRID_HEIGHT_MAX = 1200,
    a.AXIS_TICK_LENGTH_MIN = 0,
    a.AXIS_TICK_LENGTH_MAX = 100,
    a.AXIS_TICK_INTERVAL_MIN = 0,
    a.AXIS_TICK_INTERVAL_MAX = 100,
    a.AXIS_LABEL_MARGIN_MIN = 0,
    a.AXIS_LABEL_MARGIN_MAX = 100,
    a.AXIS_LABEL_INTERVAL_MIN = 0,
    a.AXIS_LABEL_INTERVAL_MAX = 100,
    a.AXIS_SPLIT_NUMBER_MIN = 0,
    a.AXIS_SPLIT_NUMBER_MAX = 300,
    a.getChartType = function(e, t) {
        return r.getDataCfgWrap(e).getChartType(t)
    };
    var h = a.makeChartTypeApplicableFn = function(e, t) {
        t = t || {};
        var i = t.seriesIndex,
        n = t.condition || "allSeries";
        return function(t) {
            var o = null != i ? [a.getChartType(t.wgtId, i)] : a.getChartType(t.wgtId);
            if ("allSeries" === n) return s.contains(e, o);
            else if ("existSeries" === n) return s.exists(e, o);
            else if ("notExistSeries" === n) return ! s.contains(e, o);
            else throw new Error("invalid condition")
        }
    },
    c = a.makeSeriesIndexFetcherByChartType = function(e, t, i) {
        return function(n) {
            var o = r.getDataCfgWrap(n.wgtId);
            return o.fetchSeriesIndexes({
                chartTypeArr: e,
                condition: t,
                extraJudgement: i
            })
        }
    };
    a.isBubbleForApplicable = function(t, i) {
        var n = i.wgtId;
        return e(a.getChartType(n, t), r.getDataCfgWrap(n).getChartSeries(t))
    },
    a.hasBubbleForApplicable = function(t) {
        for (var i, n = t.wgtId,
        o = r.getDataCfgWrap(n), s = 0; i = o.getChartSeries(s); s++) if (e(a.getChartType(n, s), i)) return ! 0;
        return ! 1
    },
    a.makeDspForMultiSeries = function(e, t, i, n) {
        return d.forUpdatingCfgOfMultiSeries({
            seriesIndexFetcher: c(t, i, n),
            dspSuffixBySeries: e
        })
    },
    a.makeApplicableForMultiSeries = function(e) {
        return h(e, {
            condition: "existSeries"
        })
    },
    a.getSeriesIndicesUsingSecondaryAxis = function(e, t) {
        return r.getDataCfgWrap(e).getSeriesIndicesUsingSecondaryAxis(t)
    };
    var u = l.makeDspBaseBySeries = function(e) {
        return a.DSP_BASE + ".series[" + e + "]"
    },
    d = a.dspMakers = {
        forDataRangeMinMax: function(e) {
            var t = e.dspBase;
            return {
                pathRetriever: [t + ".min", t + ".max", a.DSP_BASE + "._dtaMinZValue", a.DSP_BASE + "._dtaMaxZValue"],
                pathUpdater: [t + ".min", t + ".max"],
                unify: function(e) {
                    if (null != e[0] && null != e[1]) {
                        var t = o.refineNumber(e),
                        i = Math.min.apply(Math, t),
                        r = Math.max.apply(Math, t),
                        s = .5 * (r - i);
                        return {
                            value0: e[0],
                            value1: e[1],
                            min: i - s,
                            max: r + s
                        }
                    } else return n
                },
                disunify: function(e) {
                    return null == e ? [n, n] : [e.value0, e.value1]
                }
            }
        },
        forSeriesMapType: function(e) {
            function n(e) {
                for (var t = [], i = r.getDataCfgWrap(e.wgtId).fetchChartMapSeriesIndexes(), n = 0, s = i.length; s > n; n++) t.push(u(i[n]) + o);
                return t
            }
            var o = ".mapType",
            s = {
                pathRetriever: [u(e.seriesIndex) + o],
                pathUpdater: n,
                unify: t,
                disunify: i
            };
            return s
        },
        forUpdatingCfgWithTheSameMapType: function(e) {
            function n(e) {
                for (var t = r.getDataCfgWrap(e.wgtId), i = t.getChartSeriesMapType(s), n = t.fetchChartMapSeriesIndexes({
                    mapType: i
                }), a = [], l = 0, h = n.length; h > l; l++) a.push(u(n[l]) + o);
                return a
            }
            var o = e.dspSuffixBySeries,
            s = e.seriesIndex,
            a = {
                pathRetriever: [u(e.seriesIndex) + o],
                pathUpdater: n,
                unify: t,
                disunify: i
            };
            return a
        },
        forUpdatingCfgOfMultiSeries: function(e) {
            function n(t) {
                for (var i = e.seriesIndexFetcher({
                    wgtId: t.wgtId
                }), n = [], r = 0, s = i.length; s > r; r++) n.push(u(i[r]) + o);
                return n
            }
            var o = e.dspSuffixBySeries,
            r = {
                pathRetriever: n,
                pathUpdater: n,
                unify: t,
                disunify: i
            };
            return r
        },
        forSeriesRoamToGlobal: function() {
            function e(e) {
                var t = r.getDataCfgWrap(e.wgtId).fetchChartMapSeriesIndexes();
                return u(t[0]) + o
            }
            function n(e) {
                for (var t = [], i = r.getDataCfgWrap(e.wgtId).fetchChartMapSeriesIndexes(), n = 0, s = i.length; s > n; n++) t.push(u(i[n]) + o);
                return t
            }
            var o = ".roam",
            s = {
                pathRetriever: e,
                pathUpdater: n,
                unify: t,
                disunify: i
            };
            return s
        }
    };
    return a
}),
define("wave/chartConfigurer/depictionChartConfigurer", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers,
    n = t.makeChartTypeApplicableFn,
    o = require("common/core/lang").string.cfg;
    i.makeChartConfigurer = function() {
        function r(e, i, n) {
            if (0 === i) return a(n);
            else if (1 === i) return a(n) && t.getSeriesIndicesUsingSecondaryAxis(n.wgtId, e).length > 0
        }
        function s(e, i, n) {
            var r = "x" === e ? "chtcfgXAxis": "chtcfgYAxis";
            if (0 === i && t.getSeriesIndicesUsingSecondaryAxis(n.wgtId, e).length > 0) r += "0";
            else if (1 === i) r += "1";
            return o[r]
        }
        var a = n(["LINE", "BAR", "SCATTER", "K"], {
            condition: "existSeries"
        }),
        l = n(["RADAR"], {
            condition: "existSeries"
        }),
        h = n(["MAP"], {
            condition: "existSeries"
        });
        return {
            tab: [{
                key: "base",
                text: o.chtcfgBase
            },
            {
                key: "title",
                text: o.chtcfgTitle
            },
            {
                key: "polar",
                applicable: l,
                text: o.chtcfgPolar
            },
            {
                key: "grid",
                applicable: a,
                text: o.chtcfgGrid
            },
            {
                key: "xAxis0",
                applicable: e.curry(r, "x", 0),
                text: e.curry(s, "x", 0)
            },
            {
                key: "xAxis1",
                applicable: e.curry(r, "x", 1),
                text: e.curry(s, "x", 1)
            },
            {
                key: "yAxis0",
                applicable: e.curry(r, "y", 0),
                text: e.curry(s, "y", 0)
            },
            {
                key: "yAxis1",
                applicable: e.curry(r, "y", 1),
                text: e.curry(s, "y", 1)
            },
            {
                key: "legend",
                text: o.chtcfgLegend
            },
            {
                key: "tooltip",
                text: o.chtcfgTooltip
            },
            {
                key: "toolbox",
                text: o.chtcfgToolbox
            },
            {
                key: "roamController",
                applicable: h,
                text: o.chtcfgRoamController
            },
            {
                key: "dataRange",
                applicable: h,
                text: o.chtcfgDataRange
            }],
            con: {
                base: i.makeBase("base"),
                title: i.makeTitle("title"),
                polar: i.makePolar("polar"),
                xAxis0: i.makeAxis(!0, "xAxis0", 0),
                xAxis1: i.makeAxis(!0, "xAxis1", 1),
                yAxis0: i.makeAxis(!1, "yAxis0", 0),
                yAxis1: i.makeAxis(!1, "yAxis1", 1),
                legend: i.makeLegend("legend"),
                tooltip: i.makeTooltip("tooltip"),
                grid: i.makeGrid("grid"),
                dataRange: i.makeDataRange("dataRange"),
                toolbox: i.makeToolbox("toolbox"),
                roamController: i.makeRoamController("roamController")
            }
        }
    }
}),
define("wave/chartConfigurer/depictionBase", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    function e() {
        var e = n.DSP_BASE;
        return {
            ui: s,
            rows: [{
                key: "wgtHeight",
                ui: h,
                gadget: {
                    type: "measure",
                    min: 1,
                    max: 800,
                    defaultValue: 300,
                    dataConverter: "pxStr"
                },
                dsp: "wgtStyle.height",
                title: r.ecWgtHeight,
                cfgRetriever: "retrieveWgtTplCfg",
                cfgUpdater: "updateWgtTplCfg",
                viewUpdater: "refreshWgtStyle",
                hideDsp: !0
            },
            o.makeBaseBubbleBlock(e, "bubbleBlock"), o.makeBaseSeriesCommonBlock("baseSeriesCommon"), o.makeBaseSeriesSymbolBlock("baseSeriesSymbol"), {
                key: "colorBlock",
                ui: a,
                title: r.commonColorBlock,
                rows: [{
                    key: "backgroundColor",
                    ui: h,
                    dsp: e + ".backgroundColor",
                    gadget: "colorRGBA",
                    title: r.baseBackgroundColor
                },
                {
                    key: "color",
                    ui: h,
                    dsp: e + ".color",
                    gadget: "colorListRGBA",
                    viewUpdaterArgs: {
                        recreate: !0
                    },
                    title: r.baseColorList
                }]
            }]
        }
    }
    function t() {
        var e = n.DSP_BASE;
        return {
            ui: s,
            rows: [{
                key: "calculableBlock",
                ui: a,
                title: r.calculable,
                rows: [{
                    key: "calculable",
                    ui: h,
                    dsp: e + ".calculable",
                    gadget: {
                        type: "bool",
                        defaultValue: !1
                    },
                    title: r.calculableEnable
                },
                {
                    key: "calculableColor",
                    ui: h,
                    dsp: e + ".calculableColor",
                    gadget: "colorRGBA",
                    title: r.calculableColor
                },
                {
                    key: "calculableHolderColor",
                    ui: h,
                    dsp: e + ".calculableHolderColor",
                    gadget: "colorRGBA",
                    title: r.calculableHolderColor
                }]
            },
            {
                key: "animationBlock",
                ui: a,
                title: r.animationBlock,
                rows: [{
                    key: "animation",
                    ui: h,
                    dsp: e + ".animation",
                    gadget: {
                        type: "bool",
                        defaultValue: !0
                    },
                    title: r.animation
                },
                {
                    disabled: !0,
                    ui: h,
                    key: "addDataAnimation",
                    dsp: e + ".addDataAnimation",
                    gadget: {
                        type: "bool",
                        defaultValue: !0
                    },
                    title: r.addDataAnimation
                },
                {
                    key: "animationThreshold",
                    ui: h,
                    dsp: e + ".animationThreshold",
                    gadget: {
                        type: "measure",
                        min: 0,
                        max: 3e3,
                        defaultValue: 2500
                    },
                    title: r.animationThreshold
                },
                {
                    key: "animationDuration",
                    ui: h,
                    dsp: e + ".animationDuration",
                    gadget: {
                        type: "measure",
                        min: 0,
                        max: 5e3,
                        unit: "ms",
                        defaultValue: 2e3
                    },
                    title: r.animationDuration
                },
                {
                    key: "animationEasing",
                    ui: h,
                    dsp: e + ".animationEasing",
                    gadget: "easing",
                    title: r.animationEasing
                }]
            }]
        }
    }
    var i = require("common/core/lib"),
    n = require("wave/chartConfigurer/depiction"),
    o = n.dpctMakers,
    r = require("common/core/lang").string.cfg,
    s = "wave/gadget/EditPanel",
    a = "wave/gadget/EditBlock",
    l = "wave/chartConfigurer/SeriesTabPanel",
    h = "wave/gadget/EditItem";
    o.makeBase = function(n) {
        return i.assert(n),
        {
            key: n,
            ui: l,
            defaultTabKey: "base",
            tab: [{
                key: "base",
                text: "通用"
            },
            {
                key: "advanced",
                text: "高级"
            }],
            con: {
                base: e(),
                advanced: t()
            },
            makeSeriesTab: o.makeSeriesTab,
            makeSeriesCon: o.makeSeriesCon
        }
    }
}),
define("wave/chartConfigurer/depictionTitle", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers,
    n = require("common/core/lang").string.cfg,
    o = "wave/gadget/EditPanel",
    r = "wave/chartConfigurer/SubTabPanel",
    s = "wave/gadget/EditBlock",
    a = "wave/gadget/EditItem";
    i.makeTitle = function(l) {
        e.assert(l);
        var h = t.DSP_BASE + ".title";
        return {
            key: l,
            ui: r,
            tab: [{
                key: "content",
                text: "内容"
            },
            {
                key: "style",
                text: "样式"
            }],
            con: {
                content: {
                    ui: o,
                    rows: [{
                        key: "contentBlock",
                        ui: s,
                        rows: [{
                            key: "text",
                            ui: a,
                            dsp: h + ".text",
                            gadget: "text",
                            title: n.titleText
                        },
                        {
                            key: "link",
                            ui: a,
                            dsp: h + ".link",
                            gadget: "link",
                            title: n.titleLink
                        },
                        {
                            key: "subtext",
                            ui: a,
                            dsp: h + ".subtext",
                            gadget: "text",
                            title: n.titleSubText
                        },
                        {
                            key: "sublink",
                            ui: a,
                            dsp: h + ".sublink",
                            gadget: "link",
                            title: n.titleSubLink
                        }]
                    }]
                },
                style: {
                    ui: o,
                    rows: [{
                        key: "positionBlock",
                        ui: s,
                        title: n.titlePositionBlock,
                        rows: [{
                            key: "x",
                            ui: a,
                            dsp: h + ".x",
                            gadget: ["alignH", "coordinatePx"],
                            title: n.titleX
                        },
                        {
                            key: "y",
                            ui: a,
                            dsp: h + ".y",
                            gadget: ["alignV", "coordinatePx"],
                            title: n.titleY
                        },
                        {
                            key: "textAlign",
                            ui: a,
                            dsp: h + ".textAlign",
                            gadget: "alignH",
                            title: n.titleTextAlign
                        }]
                    },
                    {
                        key: "surfaceBlock",
                        ui: s,
                        title: n.titleSurfaceBlock,
                        rows: [{
                            key: "backgroundColor",
                            ui: a,
                            dsp: h + ".backgroundColor",
                            gadget: "colorRGBA",
                            title: n.titleBackgroundColor
                        },
                        {
                            key: "borderWidth",
                            ui: a,
                            dsp: h + ".borderWidth",
                            gadget: "borderWidth",
                            title: n.titleBorderWidth
                        },
                        {
                            key: "borderColor",
                            ui: a,
                            dsp: h + ".borderColor",
                            gadget: "colorRGBA",
                            title: n.titleBorderColor
                        },
                        {
                            key: "padding",
                            ui: a,
                            dsp: h + ".padding",
                            gadget: "padding",
                            title: n.titlePadding
                        },
                        {
                            key: "itemGap",
                            ui: a,
                            dsp: h + ".itemGap",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_SIZE_MIN,
                                max: t.ITEM_SIZE_MAX
                            },
                            title: n.titleItemGap
                        }]
                    },
                    i.makeTextStyleBlock({
                        dspBase: h + ".textStyle",
                        key: "textStyle",
                        showOptions: {
                            title: n.titleTextStyleBlock
                        }
                    }), i.makeTextStyleBlock({
                        dspBase: h + ".subtextStyle",
                        key: "subTextStyle",
                        showOptions: {
                            title: n.titleSubTextStyleBlock
                        }
                    })]
                }
            }
        }
    }
}),
define("wave/chartConfigurer/depictionLegend", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers,
    n = require("common/core/lang").string.cfg,
    o = "wave/gadget/EditPanel",
    r = "wave/chartConfigurer/SubTabPanel",
    s = "wave/gadget/EditBlock",
    a = "wave/gadget/EditItem";
    i.makeLegend = function(l) {
        e.assert(l);
        var h = t.DSP_BASE + ".legend";
        return {
            key: l,
            ui: r,
            tab: [{
                key: "base",
                text: "基础"
            }],
            con: {
                base: {
                    ui: o,
                    rows: [{
                        key: "baseBlock",
                        ui: s,
                        rows: [{
                            key: "_show",
                            ui: a,
                            dsp: h + "._show",
                            gadget: "bool",
                            title: n.legendShow
                        },
                        {
                            key: "selectedMode",
                            ui: a,
                            dsp: h + ".selectedMode",
                            gadget: "selectedMode",
                            title: n.legendSelectedMode
                        }]
                    },
                    {
                        key: "locationBlock",
                        ui: s,
                        title: n.legendLocationBlock,
                        rows: [{
                            key: "x",
                            ui: a,
                            dsp: h + ".x",
                            gadget: ["alignH", "coordinatePx"],
                            title: n.legendX
                        },
                        {
                            key: "y",
                            ui: a,
                            dsp: h + ".y",
                            gadget: ["alignV", "coordinatePx"],
                            title: n.legendY
                        },
                        {
                            key: "orient",
                            ui: a,
                            dsp: h + ".orient",
                            gadget: "orient",
                            title: n.legendOrient
                        }]
                    },
                    {
                        key: "surfaceBlock",
                        ui: s,
                        title: n.legendSurfaceBlock,
                        rows: [{
                            key: "backgroundColor",
                            ui: a,
                            dsp: h + ".backgroundColor",
                            gadget: "colorRGBA",
                            title: n.legendBackgroundColor
                        },
                        {
                            key: "borderWidth",
                            ui: a,
                            dsp: h + ".borderWidth",
                            gadget: "borderWidth",
                            title: n.legendBorderWidth
                        },
                        {
                            key: "borderColor",
                            ui: a,
                            dsp: h + ".borderColor",
                            gadget: "colorRGBA",
                            title: n.legendBorderColor
                        },
                        {
                            key: "padding",
                            ui: a,
                            dsp: h + ".padding",
                            gadget: "padding",
                            title: n.legendPadding
                        },
                        {
                            key: "itemWidth",
                            ui: a,
                            dsp: h + ".itemWidth",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_SIZE_MIN,
                                max: t.ITEM_SIZE_MAX
                            },
                            title: n.legendItemWidth
                        },
                        {
                            key: "itemHeight",
                            ui: a,
                            dsp: h + ".itemHeight",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_SIZE_MIN,
                                max: t.ITEM_SIZE_MAX
                            },
                            title: n.legendItemHeight
                        },
                        {
                            key: "itemGap",
                            ui: a,
                            dsp: h + ".itemGap",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_GEP_MIN,
                                max: t.ITEM_GEP_MAX
                            },
                            title: n.legendItemGap
                        }]
                    },
                    i.makeTextStyleBlock({
                        dspBase: h + ".textStyle",
                        key: "textStyle",
                        showOptions: {
                            title: n.legendTextStyle
                        }
                    })]
                }
            }
        }
    }
}),
define("wave/chartConfigurer/depictionDataRange", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers,
    n = t.dspMakers,
    o = require("common/core/lang").string.cfg,
    r = "wave/gadget/EditPanel",
    s = "wave/chartConfigurer/SubTabPanel",
    a = "wave/gadget/EditBlock",
    l = "wave/gadget/EditItem";
    i.makeDataRange = function(h) {
        e.assert(h);
        var c = t.DSP_BASE + ".dataRange";
        return {
            key: h,
            ui: s,
            tab: [{
                key: "base",
                text: "基础"
            }],
            con: {
                base: {
                    ui: r,
                    rows: [{
                        key: "baseBlock",
                        ui: a,
                        title: o.dataRangeCfg,
                        rows: [{
                            key: "_show",
                            ui: l,
                            dsp: c + "._show",
                            gadget: {
                                type: "bool",
                                defaultValue: !0
                            },
                            title: o.dataRangeShow
                        }]
                    },
                    {
                        key: "valueBlock",
                        ui: a,
                        rows: [{
                            key: "minMax",
                            ui: l,
                            dsp: n.forDataRangeMinMax({
                                dspBase: c
                            }),
                            gadget: [{
                                type: "rangeMeasure",
                                min: -100,
                                max: 200,
                                defaultValue: {
                                    value0: 0,
                                    value1: 100
                                },
                                unit: ""
                            },
                            {
                                type: "floatList",
                                defaultValue: [0, 100],
                                size: 2,
                                dataConverter: "floatInputMinMax"
                            }],
                            alwaysUsed: !0,
                            title: o.dataRangeMinMax
                        },
                        {
                            key: "calculable",
                            ui: l,
                            dsp: c + ".calculable",
                            gadget: {
                                type: "bool",
                                defaultValue: !0
                            },
                            title: o.dataRangeCalculable
                        },
                        {
                            key: "text",
                            ui: l,
                            dsp: c + ".text",
                            gadget: {
                                type: "textList",
                                defaultValue: ["高", "低"],
                                size: 2
                            },
                            title: o.dataRangeText
                        },
                        {
                            key: "precision",
                            ui: l,
                            dsp: c + ".precision",
                            gadget: {
                                type: "measure",
                                min: 0,
                                max: 10,
                                defaultValue: 0
                            },
                            title: o.dataRangePrecision
                        },
                        {
                            key: "splitNumber",
                            ui: l,
                            dsp: c + ".splitNumber",
                            gadget: {
                                type: "measure",
                                min: 0,
                                max: 100,
                                defaultValue: 5
                            },
                            title: o.dataRangeSplitNumber
                        }]
                    },
                    {
                        key: "locationBlock",
                        ui: a,
                        title: o.dataRangeLocBlock,
                        rows: [{
                            key: "orient",
                            ui: l,
                            dsp: c + ".orient",
                            gadget: "orient",
                            title: o.dataRangeOrient
                        },
                        {
                            key: "x",
                            ui: l,
                            dsp: c + ".x",
                            gadget: [{
                                type: "alignH",
                                defaultValue: "left"
                            },
                            {
                                type: "coordinatePx",
                                min: 0,
                                max: 150,
                                defaultValue: 80
                            },
                            {
                                type: "percentStr",
                                defaultValue: 25
                            }],
                            title: o.positionX
                        },
                        {
                            key: "y",
                            ui: l,
                            dsp: c + ".y",
                            gadget: [{
                                type: "alignV",
                                defaultValue: "top"
                            },
                            {
                                type: "coordinatePx",
                                min: 0,
                                max: 100,
                                defaultValue: 60
                            },
                            {
                                type: "percentStr",
                                defaultValue: 25
                            }],
                            title: o.positionY
                        }]
                    },
                    {
                        key: "surfaceBlock",
                        ui: a,
                        title: o.dataRangeSurfaceBlock,
                        rows: [{
                            key: "color",
                            ui: l,
                            dsp: c + ".color",
                            gadget: {
                                type: "colorListRGBA",
                                defaultValue: ["#ff7f50", "#87cefa", "#da70d6", "#32cd32", "#6495ed", "#ff69b4", "#ba55d3", "#cd5c5c"]
                            },
                            title: o.dataRangeColorList
                        },
                        {
                            key: "itemWidth",
                            ui: l,
                            dsp: c + ".itemWidth",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_SIZE_MIN,
                                max: t.ITEM_SIZE_MAX,
                                defaultValue: 20
                            },
                            title: o.dataRangeItemWidth
                        },
                        {
                            key: "itemHeight",
                            ui: l,
                            dsp: c + ".itemHeight",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_SIZE_MIN,
                                max: t.ITEM_SIZE_MAX,
                                defaultValue: 14
                            },
                            title: o.dataRangeItemHeight
                        },
                        {
                            key: "borderWidth",
                            ui: l,
                            dsp: c + ".borderWidth",
                            gadget: {
                                type: "borderWidth",
                                defaultValue: 2
                            },
                            title: o.dataRangeBorderWidth
                        },
                        {
                            key: "borderColor",
                            ui: l,
                            dsp: c + ".borderColor",
                            gadget: "colorRGBA",
                            title: o.dataRangeBorderColor
                        },
                        {
                            key: "backgroundColor",
                            ui: l,
                            dsp: c + ".backgroundColor",
                            gadget: "colorRGBA",
                            title: o.dataRangeBgColor
                        },
                        {
                            key: "padding",
                            ui: l,
                            dsp: c + ".padding",
                            gadget: {
                                type: "padding",
                                defaultValue: 2
                            },
                            title: o.dataRangePadding
                        },
                        {
                            key: "itemGap",
                            ui: l,
                            dsp: c + ".itemGap",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_GEP_MIN,
                                max: t.ITEM_GEP_MAX,
                                defaultValue: 4
                            },
                            title: o.dataRangeItemGap
                        }]
                    },
                    i.makeTextStyleBlock({
                        dspBase: c + ".textStyle",
                        key: "textStyle",
                        showOptions: {
                            title: o.dataRangeTextStyle,
                            align: !1,
                            baseline: !1
                        }
                    })]
                }
            }
        }
    }
}),
define("wave/chartConfigurer/depictionToolbox", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers,
    n = require("common/core/lang").string.cfg,
    o = "wave/gadget/EditPanel",
    r = "wave/chartConfigurer/SubTabPanel",
    s = "wave/gadget/EditBlock",
    a = "wave/gadget/EditItem";
    i.makeToolbox = function(l) {
        e.assert(l);
        var h = t.DSP_BASE + ".toolbox";
        return {
            key: l,
            ui: r,
            tab: [{
                key: "base",
                text: "基础"
            }],
            con: {
                base: {
                    ui: o,
                    rows: [{
                        key: "baseBlock",
                        ui: s,
                        rows: [{
                            key: "show",
                            ui: a,
                            dsp: h + ".show",
                            gadget: "bool",
                            title: n.toolboxShow
                        }]
                    },
                    {
                        key: "locationBlock",
                        ui: s,
                        title: n.toolboxLocationBlock,
                        rows: [{
                            key: "x",
                            ui: a,
                            dsp: h + ".x",
                            gadget: ["alignH", "coordinatePx"],
                            title: n.toolboxX
                        },
                        {
                            key: "y",
                            ui: a,
                            dsp: h + ".y",
                            gadget: ["alignV", "coordinatePx"],
                            title: n.toolboxY
                        },
                        {
                            key: "orient",
                            ui: a,
                            dsp: h + ".orient",
                            gadget: "orient",
                            title: n.toolboxOrient
                        }]
                    },
                    {
                        key: "functionBlock",
                        ui: s,
                        title: n.toolboxFnBlock,
                        rows: [{
                            key: "mark",
                            ui: a,
                            dsp: h + ".feature.mark.show",
                            gadget: "bool",
                            title: n.toolboxFnMark
                        },
                        {
                            key: "dataZoom",
                            ui: a,
                            dsp: h + ".feature.dataZoom.show",
                            gadget: "bool",
                            title: n.toolboxFnDataZoom
                        },
                        {
                            key: "dataView",
                            ui: a,
                            dsp: h + ".feature.dataView.show",
                            gadget: "bool",
                            title: n.toolboxFnDataView
                        },
                        {
                            key: "magicType",
                            ui: a,
                            dsp: h + ".feature.magicType.show",
                            gadget: "bool",
                            title: n.toolboxFnMagicType
                        },
                        {
                            key: "restore",
                            ui: a,
                            dsp: h + ".feature.restore.show",
                            gadget: "bool",
                            title: n.toolboxFnRestore
                        },
                        {
                            key: "saveAsImage",
                            ui: a,
                            dsp: h + ".feature.saveAsImage.show",
                            gadget: "bool",
                            title: n.toolboxFnSaveAsImage
                        }]
                    },
                    {
                        key: "surfaceBlock",
                        ui: s,
                        title: n.toolboxSurfaceBlock,
                        rows: [{
                            key: "backgroundColor",
                            ui: a,
                            dsp: h + ".backgroundColor",
                            gadget: "colorRGBA",
                            title: n.toolboxBackgroundColor
                        },
                        {
                            key: "borderWidth",
                            ui: a,
                            dsp: h + ".borderWidth",
                            gadget: "borderWidth",
                            title: n.toolboxBorderWidth
                        },
                        {
                            key: "borderColor",
                            ui: a,
                            dsp: h + ".borderColor",
                            gadget: "colorRGBA",
                            title: n.toolboxBorderColor
                        },
                        {
                            key: "padding",
                            ui: a,
                            dsp: h + ".padding",
                            gadget: "padding",
                            title: n.legendPadding
                        },
                        {
                            key: "itemSize",
                            ui: a,
                            dsp: h + ".itemSize",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_SIZE_MIN,
                                max: t.ITEM_SIZE_MAX
                            },
                            title: n.toolboxItemSize
                        },
                        {
                            key: "itemGap",
                            ui: a,
                            dsp: h + ".itemGap",
                            gadget: {
                                type: "measure",
                                min: t.ITEM_GEP_MIN,
                                max: t.ITEM_GEP_MAX
                            },
                            title: n.toolboxItemGap
                        }]
                    },
                    {
                        key: "showTextBlock",
                        ui: s,
                        title: n.toolboxTextTooltipBlock,
                        rows: [{
                            key: "showTitle",
                            ui: a,
                            dsp: h + ".showTitle",
                            gadget: "bool",
                            title: n.toolboxShowTitle
                        },
                        i.makeTextStyleBlock({
                            dspBase: h + ".textStyle",
                            key: "textStyle",
                            showOptions: {
                                color: !1,
                                align: !1,
                                baseline: !1
                            }
                        })]
                    }]
                }
            }
        }
    }
}),
define("wave/chartConfigurer/depictionTooltip", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    function e(e) {
        return {
            text: "系列" + e
        }
    }
    function t(e) {
        var t = n.DSP_BASE + (null == e ? ".tooltip": ".series[" + e + "].tooltip");
        return {
            key: null == e ? "tooltip": "seriesTooltip[" + e + "]",
            ui: l,
            rows: [{
                key: "baseBlock",
                ui: u,
                rows: [{
                    key: "show",
                    ui: c,
                    dsp: t + ".show",
                    gadget: "bool",
                    title: s.tooltipShow
                }]
            },
            {
                key: "formatterBlock",
                ui: u,
                title: s.tooltipFormatterBlock,
                rows: [{
                    key: "formatter",
                    ui: c,
                    dsp: t + ".formatter",
                    gadget: {
                        type: "formatter",
                        descHTML: a.commonFormatter
                    },
                    title: s.tooltipFormatter
                },
                {
                    key: "islandFormatter",
                    ui: c,
                    dsp: t + ".islandFormatter",
                    gadget: {
                        type: "formatter",
                        descHTML: a.commonFormatter
                    },
                    title: s.tooltipIslandFormatter
                }]
            },
            {
                key: "surfaceBlock",
                ui: u,
                title: s.tooltipSurfaceBlock,
                rows: [{
                    key: "backgroundColor",
                    ui: c,
                    dsp: t + ".backgroundColor",
                    gadget: "colorRGBA",
                    title: s.backgroundColor
                },
                {
                    key: "borderWidth",
                    ui: c,
                    dsp: t + ".borderWidth",
                    gadget: "borderWidth",
                    title: s.borderWidth
                },
                {
                    key: "borderColor",
                    ui: c,
                    dsp: t + ".borderColor",
                    gadget: "colorRGBA",
                    title: s.borderColor
                },
                {
                    key: "borderRadius",
                    ui: c,
                    dsp: t + ".borderRadius",
                    gadget: "borderRadius",
                    title: s.borderRadius
                },
                {
                    key: "padding",
                    ui: c,
                    dsp: t + ".padding",
                    gadget: "padding",
                    title: s.padding
                }]
            },
            o.makeTextStyleBlock({
                dspBase: t + ".textStyle",
                key: "textStyle",
                showOptions: {
                    title: s.tooltipTextStyle
                }
            }), {
                key: "pointerBlock",
                ui: u,
                title: s.tooltipPointerBlock,
                rows: [{
                    key: "trigger",
                    ui: c,
                    dsp: t + ".trigger",
                    gadget: {
                        type: "select",
                        data: [{
                            value: "item",
                            text: s.triggerAtItem
                        },
                        {
                            value: "axis",
                            text: s.triggerAtAxis
                        }],
                        defaultValue: "item"
                    },
                    title: s.tooltipTriggerType
                },
                {
                    disabled: !0,
                    key: "showContent",
                    ui: c,
                    dsp: t + ".showContent",
                    gadget: "bool",
                    title: s.tooltipShowContent
                },
                o.makeAxisPointer(t + ".axisPointer", "axisPointer", {
                    axisPointerTypeText: s.tooltipAxisPointerType,
                    lineStyle: {
                        title: s.tooltipAxisPointerLineStyle,
                        shadowColor: !1,
                        shadowBlur: !1,
                        shadowOffsetX: !1,
                        shadowOffsetY: !1
                    },
                    areaStyle: {
                        title: s.tooltipAxisPointerAreaStyle
                    }
                })]
            },
            {
                key: "otherBlock",
                ui: u,
                title: s.tooltipAxisAnimationBlock,
                rows: [{
                    key: "showDelay",
                    ui: c,
                    dsp: t + ".showDelay",
                    gadget: {
                        type: "measure",
                        unit: "ms",
                        min: 0,
                        max: 1e3
                    },
                    title: s.showDelay
                },
                {
                    key: "hideDelay",
                    ui: c,
                    dsp: t + ".hideDelay",
                    gadget: {
                        type: "measure",
                        unit: "ms",
                        min: 0,
                        max: 1e3
                    },
                    title: s.hideDelay
                },
                {
                    key: "transitionDuration",
                    ui: c,
                    dsp: t + ".transitionDuration",
                    gadget: {
                        type: "measure",
                        unit: "ms",
                        precision: 100,
                        min: 0,
                        max: 1e3
                    },
                    title: s.transitionDuration
                }]
            }]
        }
    }
    var i = require("common/core/lib"),
    n = require("wave/chartConfigurer/depiction"),
    o = n.dpctMakers,
    r = require("common/core/lang"),
    s = r.string.cfg,
    a = r.html,
    l = "wave/gadget/EditPanel",
    h = "wave/chartConfigurer/SeriesTabPanel",
    c = "wave/gadget/EditItem",
    u = "wave/gadget/EditBlock";
    o.makeTooltip = function(n) {
        return i.assert(n),
        {
            key: n,
            ui: h,
            defaultTabKey: "all",
            tab: [{
                key: "all",
                text: "通用"
            }],
            con: {
                all: t()
            },
            makeSeriesTab: e,
            makeSeriesCon: t
        }
    }
}),
define("wave/chartConfigurer/depictionDataZoom", ["require", "common/core/lib", "wave/chartConfigurer/depiction"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers;
    i.makeDataZoom = function(t) {
        return e.assert(t),
        {
            key: t
        }
    }
}),
define("wave/chartConfigurer/depictionPolar", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/lang"),
    i = require("wave/chartConfigurer/depiction"),
    n = i.dpctMakers,
    o = t.string.cfg,
    r = "wave/gadget/EditPanel",
    s = "wave/chartConfigurer/SubTabPanel",
    a = "wave/gadget/EditItem";
    n.makePolar = function(t) {
        e.assert(t);
        var l = i.DSP_BASE + ".polar[0]";
        return {
            key: t,
            ui: s,
            tab: [{
                key: "base",
                text: "基础"
            },
            {
                key: "axisLine",
                text: "轴线"
            },
            {
                key: "splitLine",
                text: "隔线"
            },
            {
                key: "splitArea",
                text: "隔区"
            },
            {
                key: "axisLabel",
                text: "标签"
            }],
            con: {
                base: {
                    ui: r,
                    rows: [{
                        key: "type",
                        ui: a,
                        dsp: l + ".type",
                        gadget: {
                            type: "select",
                            defaultValue: "polygon",
                            data: [{
                                value: "polygon",
                                text: o.polorTypePolygon
                            },
                            {
                                value: "circle",
                                text: o.polorTypeCircle
                            }]
                        },
                        title: o.polarType
                    },
                    {
                        key: "center",
                        ui: a,
                        dsp: l + ".center",
                        gadget: {
                            type: "xyCenter"
                        },
                        title: o.polarCenter
                    },
                    {
                        key: "radius",
                        ui: a,
                        dsp: l + ".radius",
                        gadget: [{
                            type: "measure",
                            unit: "px",
                            min: 0,
                            max: 400,
                            defaultValue: 100
                        },
                        {
                            type: "percentStr",
                            defaultValue: 30
                        }],
                        title: o.polarRadius
                    },
                    {
                        key: "startAngle",
                        ui: a,
                        dsp: l + ".startAngle",
                        gadget: {
                            type: "angle",
                            min: -180,
                            max: 180
                        },
                        title: o.polarStartAngle
                    },
                    {
                        key: "splitNumber",
                        ui: a,
                        dsp: l + ".splitNumber",
                        gadget: {
                            type: "measure",
                            defaultValue: 5,
                            min: 1,
                            max: 30
                        },
                        title: o.polarSplitNumber
                    },
                    {
                        disabled: !0,
                        key: "scale",
                        ui: a,
                        dsp: l + ".scale",
                        gadget: {
                            type: "bool",
                            defaultValue: !1
                        },
                        title: o.polarScale
                    }]
                },
                axisLine: {
                    ui: r,
                    rows: [{
                        key: "show",
                        ui: a,
                        dsp: l + ".axisLine.show",
                        gadget: "bool",
                        title: o.axisLineShow
                    },
                    n.makeLineStyle(l + ".axisLine.lineStyle", "lineStyle", {
                        shadowColor: !1,
                        shadowBlur: !1,
                        shadowOffsetX: !1,
                        shadowOffsetY: !1
                    })]
                },
                splitLine: {
                    ui: r,
                    rows: [{
                        key: "show",
                        ui: a,
                        dsp: l + ".splitLine.show",
                        gadget: "bool",
                        title: o.splitLineShow
                    },
                    {
                        disabled: !0,
                        key: "onGap",
                        ui: a,
                        dsp: l + ".splitLine.onGap",
                        gadget: "bool",
                        title: o.splitLineOnGap
                    },
                    n.makeLineStyle(l + ".splitLine.lineStyle", "lineStyle", {
                        shadowColor: !1,
                        shadowBlur: !1,
                        shadowOffsetX: !1,
                        shadowOffsetY: !1
                    })]
                },
                splitArea: {
                    ui: r,
                    rows: [{
                        key: "show",
                        ui: a,
                        dsp: l + ".splitArea.show",
                        gadget: "bool",
                        title: o.splitAreaShow
                    },
                    {
                        disabled: !0,
                        key: "onGap",
                        ui: a,
                        dsp: l + ".splitArea.onGap",
                        gadget: "bool",
                        title: o.splitAreaOnGap
                    },
                    n.makeAreaStyle(l + ".splitArea.areaStyle", "areaStyle")]
                },
                axisLabel: {
                    ui: r,
                    rows: [{
                        key: "show",
                        ui: a,
                        dsp: l + ".axisLabel.show",
                        gadget: "bool",
                        title: o.axisLabelShow
                    }]
                }
            }
        }
    }
}),
define("wave/chartConfigurer/depictionGrid", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers,
    n = require("common/core/lang").string.cfg,
    o = "wave/gadget/EditPanel",
    r = "wave/chartConfigurer/SubTabPanel",
    s = "wave/gadget/EditItem",
    a = "wave/gadget/EditBlock";
    i.makeGrid = function(l) {
        e.assert(l);
        var h = t.DSP_BASE + ".grid";
        return {
            key: l,
            ui: r,
            tab: [{
                key: "position",
                text: "位置"
            },
            {
                key: "base",
                text: "外观"
            }],
            con: {
                base: {
                    ui: o,
                    rows: [{
                        key: "surfaceBlock",
                        ui: a,
                        title: n.gridSurfaceBlock,
                        rows: [{
                            key: "backgroundColor",
                            ui: s,
                            dsp: h + ".backgroundColor",
                            gadget: "colorRGBA",
                            title: n.gridBackgroundColor
                        },
                        {
                            key: "borderWidth",
                            ui: s,
                            dsp: h + ".borderWidth",
                            gadget: "borderWidth",
                            title: n.gridBorderWidth
                        },
                        {
                            key: "borderColor",
                            ui: s,
                            dsp: h + ".borderColor",
                            gadget: "colorRGBA",
                            title: n.gridBorderColor
                        }]
                    },
                    {
                        key: "gridWhereBlock",
                        ui: a,
                        title: n.gridSetWhere,
                        rows: []
                    }]
                },
                position: {
                    ui: o,
                    rows: [i.makePositionBlock(h, "positionBlock", {
                        title: n.gridPositionBlock
                    }), {
                        key: "gridWhereBlock",
                        ui: a,
                        title: n.gridSetWhere,
                        rows: []
                    }]
                }
            }
        }
    }
}),
define("wave/chartConfigurer/depictionAxis", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    function e(e, t) {
        var o = i.DSP_BASE + (e ? ".xAxis[" + t + "]": ".yAxis[" + t + "]");
        return {
            base: {
                ui: a,
                rows: [{
                    key: "axisPositionBlock",
                    ui: h,
                    rows: [{
                        key: "position",
                        ui: c,
                        dsp: o + ".position",
                        gadget: {
                            type: "positionTRBL",
                            defaultValue: e ? "bottom": "left"
                        },
                        title: r.axisPosition
                    }]
                },
                {
                    key: "axisNameBlock",
                    ui: h,
                    rows: [{
                        key: "name",
                        ui: c,
                        dsp: o + ".name",
                        gadget: "text",
                        title: r.axisName
                    },
                    {
                        key: "nameLocation",
                        ui: c,
                        dsp: o + ".nameLocation",
                        gadget: {
                            type: "select",
                            data: [{
                                value: "start",
                                text: r.axisNameLocationStart
                            },
                            {
                                value: "end",
                                text: r.axisNameLocationEnd
                            }],
                            defaultValue: "start"
                        },
                        title: r.axisNameLocation
                    },
                    n.makeTextStyleBlock({
                        dspBase: o + ".nameTextStyle",
                        key: "nameTextStyle",
                        showOptions: {
                            title: r.axisNameTextStyle
                        }
                    })]
                },
                {
                    key: "othersBlock",
                    ui: h,
                    rows: [{
                        key: "scale",
                        ui: c,
                        dsp: o + ".scale",
                        gadget: {
                            type: "bool",
                            data: [{
                                value: !0,
                                text: r.axisScaleTrue
                            },
                            {
                                value: !1,
                                text: r.axisScaleFalse
                            }],
                            defaultValue: !1
                        },
                        title: r.axisScale
                    },
                    {
                        key: "min",
                        ui: c,
                        dsp: o + ".min",
                        gadget: {
                            type: "floatTyping",
                            defaultValue: 0
                        },
                        title: r.axisMin
                    },
                    {
                        key: "max",
                        ui: c,
                        dsp: o + ".max",
                        gadget: {
                            type: "floatTyping",
                            defaultValue: 1e3
                        },
                        title: r.axisMax
                    },
                    {
                        key: "boundaryGap",
                        ui: c,
                        dsp: o + ".boundaryGap",
                        gadget: {
                            type: "bool",
                            data: [{
                                value: !0,
                                text: r.axisBoundaryGapTrue
                            },
                            {
                                value: !1,
                                text: r.axisBoundaryGapFalse
                            }]
                        },
                        title: r.axisBoundaryGap
                    },
                    {
                        key: "splitNumber",
                        ui: c,
                        dsp: o + ".splitNumber",
                        gadget: {
                            type: "measure",
                            min: i.AXIS_SPLIT_NUMBER_MIN,
                            max: i.AXIS_SPLIT_NUMBER_MAX
                        },
                        title: r.axisSplitNumber
                    }]
                }]
            },
            axisLine: {
                ui: a,
                rows: [{
                    key: "show",
                    ui: c,
                    dsp: o + ".axisLine.show",
                    gadget: "bool",
                    title: r.axisLineShow
                },
                n.makeLineStyle(o + ".axisLine.lineStyle", "lineStyle", {
                    shadowColor: !1,
                    shadowBlur: !1,
                    shadowOffsetX: !1,
                    shadowOffsetY: !1
                })]
            },
            axisTick: {
                ui: a,
                rows: [{
                    key: "show",
                    ui: c,
                    dsp: o + ".axisTick.show",
                    gadget: "bool",
                    title: r.axisTickShow
                },
                {
                    key: "axisTickBlock",
                    ui: h,
                    rows: [{
                        key: "interval",
                        ui: c,
                        dsp: o + ".axisTick.interval",
                        gadget: {
                            type: "measure",
                            min: i.AXIS_TICK_INTERVAL_MIN,
                            max: i.AXIS_TICK_INTERVAL_MAX
                        },
                        title: r.axisTickInterval
                    },
                    {
                        key: "inside",
                        ui: c,
                        dsp: o + ".axisTick.inside",
                        gadget: {
                            type: "bool",
                            data: [{
                                value: !0,
                                text: r.axisTickInsideTrue
                            },
                            {
                                value: !1,
                                text: r.axisTickInsideFalse
                            }]
                        },
                        title: r.axisTickInside
                    },
                    {
                        key: "length",
                        ui: c,
                        dsp: o + ".axisTick.length",
                        gadget: {
                            type: "measure",
                            min: i.AXIS_TICK_LENGTH_MIN,
                            max: i.AXIS_TICK_LENGTH_MAX
                        },
                        title: r.axisTickLength
                    },
                    {
                        disabled: !0,
                        key: "onGap",
                        ui: c,
                        dsp: o + ".axisTick.onGap",
                        gadget: "bool",
                        title: r.axisTickOnGap
                    },
                    n.makeLineStyle(o + ".axisTick.lineStyle", "lineStyle", {
                        type: !1,
                        shadowColor: !1,
                        shadowBlur: !1,
                        shadowOffsetX: !1,
                        shadowOffsetY: !1
                    })]
                }]
            },
            axisLabel: {
                ui: a,
                rows: [{
                    key: "show",
                    ui: c,
                    dsp: o + ".axisLabel.show",
                    gadget: "bool",
                    title: r.axisLabelShow
                },
                {
                    key: "labelBlock",
                    ui: h,
                    rows: [{
                        key: "interval",
                        ui: c,
                        dsp: o + ".axisLabel.interval",
                        gadget: {
                            type: "measure",
                            min: i.AXIS_LABEL_INTERVAL_MIN,
                            max: i.AXIS_LABEL_INTERVAL_MAX
                        },
                        title: r.axisLabelInterval
                    },
                    {
                        key: "rotate",
                        ui: c,
                        dsp: o + ".axisLabel.rotate",
                        gadget: "angle",
                        title: r.axisLabelRotate
                    },
                    {
                        key: "margin",
                        ui: c,
                        dsp: o + ".axisLabel.margin",
                        gadget: {
                            type: "measure",
                            min: i.AXIS_LABEL_MARGIN_MIN,
                            max: i.AXIS_LABEL_MARGIN_MAX
                        },
                        title: r.axisLabelMargin
                    },
                    {
                        key: "formatter",
                        ui: c,
                        dsp: o + ".axisLabel.formatter",
                        gadget: {
                            type: "formatter",
                            descHTML: s.valueFormatter
                        },
                        title: r.axisLabelFormatter
                    },
                    n.makeTextStyleBlock({
                        dspBase: o + ".axisLabel.textStyle",
                        key: "textStyle",
                        showOptions: {
                            title: r.axisLabelTextStyle
                        }
                    })]
                }]
            },
            splitLine: {
                ui: a,
                rows: [{
                    key: "show",
                    ui: c,
                    dsp: o + ".splitLine.show",
                    gadget: "bool",
                    title: r.splitLineShow
                },
                {
                    disabled: !0,
                    key: "onGap",
                    ui: c,
                    dsp: o + ".splitLine.onGap",
                    gadget: "bool",
                    title: r.splitLineOnGap
                },
                n.makeLineStyle(o + ".splitLine.lineStyle", "lineStyle", {
                    shadowColor: !1,
                    shadowBlur: !1,
                    shadowOffsetX: !1,
                    shadowOffsetY: !1
                })]
            },
            splitArea: {
                ui: a,
                rows: [{
                    key: "show",
                    ui: c,
                    dsp: o + ".splitArea.show",
                    gadget: "bool",
                    title: r.splitAreaShow
                },
                {
                    disabled: !0,
                    key: "onGap",
                    ui: c,
                    dsp: o + ".splitArea.onGap",
                    gadget: "bool",
                    title: r.splitAreaOnGap
                },
                n.makeAreaStyle(o + ".splitArea.areaStyle", "areaStyle")]
            }
        }
    }
    var t = require("common/core/lib"),
    i = require("wave/chartConfigurer/depiction"),
    n = i.dpctMakers,
    o = require("common/core/lang"),
    r = o.string.cfg,
    s = o.html,
    a = "wave/gadget/EditPanel",
    l = "wave/chartConfigurer/SubTabPanel",
    h = "wave/gadget/EditBlock",
    c = "wave/gadget/EditItem";
    n.makeAxis = function(i, n, o) {
        return t.assert(n && null != i),
        {
            key: n,
            ui: l,
            tab: [{
                key: "base",
                text: "基础"
            },
            {
                key: "axisLine",
                text: "轴线"
            },
            {
                key: "axisLabel",
                text: "标签"
            },
            {
                key: "axisTick",
                text: "刻度"
            },
            {
                key: "splitLine",
                text: "隔线"
            },
            {
                key: "splitArea",
                text: "隔区"
            }],
            con: e(i, o)
        }
    }
}),
define("wave/chartConfigurer/depictionSeries", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction"],
function(require) {
    function e(e, i) {
        var n = {
            seriesIndex: i
        },
        o = h(["LINE", "BAR", "SCATTER"], n);
        return {
            key: "axisIndex",
            ui: p,
            applicable: "bySubVisible",
            rows: [{
                key: "xAxisIndex",
                ui: f,
                dsp: t(e, "x", i),
                gadget: "axisIndex",
                applicable: o,
                viewUpdaterArgs: {
                    recreate: !0
                },
                refreshRoot: !0,
                title: l.seriesXAxisIndex
            },
            {
                key: "yAxisIndex",
                ui: f,
                dsp: t(e, "y", i),
                gadget: "axisIndex",
                applicable: o,
                viewUpdaterArgs: {
                    recreate: !0
                },
                refreshRoot: !0,
                title: l.seriesYAxisIndex
            }]
        }
    }
    function t(e, t, r) {
        var a = "option." + t + "Axis";
        return {
            pathRetriever: [e + "." + t + "AxisIndex"],
            pathUpdater: [e + "." + t + "AxisIndex", a],
            unify: function(e) {
                return null != e[0] ? e[0] : n
            },
            disunify: function(e, l) {
                if (null == e) e = n;
                var h = s.getSeriesIndicesUsingSecondaryAxis(l.wgtId, t),
                c = l.dataCfgWrap.retrieve(a),
                u = e > 0 || h.length > 1 || h.length && o.arrayIndexOf(h, r) < 0;
                if (!u) c.__lastAxis1 = c[1],
                c.length = 1;
                else if (c.length < 2) {
                    if (c.__lastAxis1) c[1] = c.__lastAxis1,
                    delete c.__lastAxis1;
                    else c[1] = o.clone(c[0]);
                    i(c[1], c[0])
                }
                return [e, c]
            }
        }
    }
    function i(e, t) {
        var i = {
            left: "right",
            right: "left",
            top: "bottom",
            bottom: "top"
        };
        if (t.position) e.position = i[t.position]
    }
    var n, o = require("common/core/lib"),
    r = require("common/core/lang"),
    s = require("wave/chartConfigurer/depiction"),
    a = s.dpctMakers,
    l = r.string.cfg,
    h = s.makeChartTypeApplicableFn,
    c = s.makeDspForMultiSeries,
    u = s.makeApplicableForMultiSeries,
    d = "wave/gadget/EditPanel",
    f = "wave/gadget/EditItem",
    p = "wave/gadget/EditBlock";
    a.makeSeriesTab = function(e) {
        return {
            text: "系列" + e
        }
    },
    a.makeSeriesCon = function(t) {
        o.assert(null != t);
        var i = a.makeDspBaseBySeries(t),
        n = {
            seriesIndex: t
        };
        return {
            ui: d,
            rows: [{
                key: "type",
                ui: f,
                dsp: i + ".type",
                gadget: "catvalChartType",
                alwaysUsed: !0,
                applicable: h(["LINE", "BAR"], n),
                refreshSuper: !0,
                title: l.seriesChartType
            },
            e(i, t), {
                key: "pieSectionColorSetTip",
                ui: p,
                applicable: h(["PIE"], n),
                title: l.seriesPieSectionColorSetTip,
                rows: []
            },
            a.makeSeriesBarBlock(i, t), a.makeSeriesPieBlock(i, t), a.makeSeriesMapBlock1(i, t), a.makeSeriesMapBlock2(i, t), a.makeSeriesBubbleBlock(i, t), a.makeSeriesFunnelBaseBlock(i, t), a.makeSeriesFunnelPositionBlock(i, t), a.makeSeriesGaugeValueBlock(i, t), a.makeSeriesGaugeBaseBlock(i, t), a.makeSeriesGaugeTitleBlock(i, t), a.makeSeriesGaugeDetailBlock(i, t), a.makeSeriesGaugeAxisLineBlock(i, t), a.makeSeriesGaugeAxisLabelBlock(i, t), a.makeSeriesGaugeAxisTickBlock(i, t), a.makeSeriesGaugeSplitLineBlock(i, t), a.makeSeriesGaugePointerBlock(i, t), a.makeItemStyle({
                dspBase: i + ".itemStyle",
                key: "itemStyle",
                applyBySeries: {
                    dspSuffixBySeries: ".itemStyle",
                    seriesIndex: t
                },
                showOptions: {
                    normal: {
                        lineStyle: {
                            lineStyleTypeText: l.lineStyleTypeWithSupport
                        }
                    },
                    emphasis: {
                        lineStyle: {
                            lineStyleTypeText: l.lineStyleTypeWithSupport
                        }
                    }
                }
            }), {
                key: "stack",
                ui: f,
                dsp: i + ".stack",
                gadget: "text",
                applicable: h(["LINE", "BAR"], n),
                title: l.seriesStack
            },
            {
                key: "smooth",
                ui: f,
                dsp: i + ".smooth",
                gadget: {
                    type: "bool",
                    defaultValue: !0
                },
                applicable: h(["LINE"], n),
                title: l.seriesSmooth
            },
            a.makeSeriesSymbolBlock(i, t), a.makeMarkPointBlock(i + ".markPoint", "seriesMarkPoint", t), a.makeMarkLineBlock(i + ".markLine", "seriesMarkLine", t)]
        }
    },
    a.makeBaseSeriesCommonBlock = function(e) {
        return o.assert(null != e),
        {
            key: e,
            ui: p,
            applicable: "bySubVisible",
            rows: [{
                key: "type",
                ui: f,
                dsp: c(".type", ["LINE", "BAR"]),
                gadget: "catvalChartType",
                alwaysUsed: !0,
                applicable: u(["LINE", "BAR"]),
                refreshSuper: !0,
                title: l.seriesChartType
            },
            {
                key: "smooth",
                ui: f,
                dsp: c(".smooth", ["LINE"]),
                gadget: {
                    type: "bool",
                    defaultValue: !0
                },
                applicable: u(["LINE"]),
                title: l.seriesSmooth
            }]
        }
    }
}),
define("wave/chartConfigurer/depictionSeriesBar", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/lang"),
    i = require("wave/chartConfigurer/depiction"),
    n = i.dpctMakers,
    o = t.string.cfg,
    r = i.makeChartTypeApplicableFn,
    s = "wave/gadget/EditItem",
    a = "wave/gadget/EditBlock";
    n.makeSeriesBarBlock = function(t, i) {
        e.assert(t && null != i);
        var n = {
            seriesIndex: i
        },
        l = r(["BAR", "K"], n),
        h = r(["BAR"], n);
        return {
            key: "seriesBarBlock",
            ui: a,
            applicable: l,
            title: o.seriesBarBlock,
            rows: [{
                key: "barGap",
                ui: s,
                dsp: t + ".barGap",
                gadget: [{
                    type: "measure",
                    min: 0,
                    max: 50
                },
                {
                    type: "percentStr"
                }],
                applicable: h,
                title: o.seriesBarGap
            },
            {
                key: "barCategoryGap",
                ui: s,
                dsp: t + ".barCategoryGap",
                gadget: [{
                    type: "measure",
                    min: 0,
                    max: 50
                },
                {
                    type: "percentStr"
                }],
                applicable: h,
                title: o.seriesBarCategoryGap
            },
            {
                key: "barMinHeight",
                ui: s,
                dsp: t + ".barMinHeight",
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 50
                },
                applicable: h,
                title: o.seriesBarMinHeight
            },
            {
                key: "barWidth",
                ui: s,
                dsp: t + ".barWidth",
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 100
                },
                applicable: l,
                title: o.seriesBarWidth
            }]
        }
    }
}),
define("wave/chartConfigurer/depictionSeriesBubble", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/lang"),
    i = require("wave/chartConfigurer/depiction"),
    n = i.dpctMakers,
    o = t.string.cfg,
    r = "wave/gadget/EditItem",
    s = "wave/gadget/EditBlock";
    n.makeBaseBubbleBlock = function(t, n) {
        return e.assert(t && null != n),
        {
            key: n,
            ui: s,
            applicable: i.hasBubbleForApplicable,
            title: o.baseBubbleBlock,
            rows: [{
                key: "_dtaSymbolSize",
                ui: r,
                dsp: t + "._dtaSymbolSize",
                gadget: [{
                    type: "symbolSizeMinMax"
                },
                {
                    type: "floatTyping",
                    defaultValue: .2
                }],
                title: o.seriesBubbleSymbolSize,
                titleByGadget: [o.seriesBubbleSymbolSize, o.seriesBubbleSymbolSizeDelta]
            }]
        }
    },
    n.makeSeriesBubbleBlock = function(t, n) {
        e.assert(t && null != n);
        var a = e.curry(i.isBubbleForApplicable, n);
        return {
            key: "seriesBubbleBlock",
            ui: s,
            applicable: a,
            title: o.seriesBubbleBlock,
            rows: [{
                key: "_dtaSymbolSize",
                ui: r,
                dsp: t + "._dtaSymbolSize",
                gadget: [{
                    type: "symbolSizeMinMax"
                },
                {
                    type: "floatTyping",
                    defaultValue: .2
                }],
                title: o.seriesBubbleSymbolSize,
                titleByGadget: [o.seriesBubbleSymbolSize, o.seriesBubbleSymbolSizeDelta]
            },
            {
                key: "symbol",
                ui: r,
                dsp: t + ".symbol",
                gadget: "symbol",
                title: o.seriesBubbleSymbolShape
            },
            {
                key: "symbolRotate",
                ui: r,
                dsp: t + ".symbolRotate",
                gadget: {
                    type: "angle",
                    min: -180,
                    max: 180
                },
                title: o.seriesBubbleSymbolRotate
            }]
        }
    }
}),
define("wave/chartConfigurer/depictionSeriesFunnel", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/lang"),
    i = require("wave/chartConfigurer/depiction"),
    n = i.dpctMakers,
    o = t.string.cfg,
    r = i.makeChartTypeApplicableFn,
    s = "wave/gadget/EditItem",
    a = "wave/gadget/EditBlock";
    n.makeSeriesFunnelBaseBlock = function(t, i) {
        e.assert(t && null != i);
        var n = r(["FUNNEL"], {
            seriesIndex: i
        });
        return {
            key: "seriesFunnelBlock",
            ui: a,
            applicable: n,
            title: o.seriesFunnelBlock,
            rows: [{
                key: "sort",
                ui: s,
                dsp: t + ".sort",
                gadget: {
                    type: "select",
                    data: [{
                        value: "ascending",
                        text: o.ascending
                    },
                    {
                        value: "descending",
                        text: o.descending
                    }],
                    defaultValue: "descending"
                },
                title: o.seriesFunnelSort
            },
            {
                key: "gap",
                ui: s,
                dsp: t + ".gap",
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 30,
                    defaultValue: 0
                },
                title: o.seriesFunnelGap
            }]
        }
    },
    n.makeSeriesFunnelPositionBlock = function(t, i) {
        return e.assert(t && null != i),
        n.makePositionBlock(t, "positionBlock", {
            title: o.seriesFunnelPositionBlock,
            applicable: r(["FUNNEL"], {
                seriesIndex: i
            })
        })
    }
}),
define("wave/chartConfigurer/depictionSeriesGauge", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/lang"),
    i = require("wave/chartConfigurer/depiction"),
    n = i.dpctMakers,
    o = i.dspMakers,
    r = t.string.cfg,
    s = t.html,
    a = i.makeChartTypeApplicableFn,
    l = "wave/gadget/EditItem",
    h = "wave/gadget/EditBlock";
    n.makeSeriesGaugeValueBlock = function(t, i) {
        e.assert(t && null != i);
        var n = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeValueBlock",
            ui: h,
            applicable: n,
            title: r.seriesGaugeValueBlock,
            rows: [{
                key: "minMax",
                ui: l,
                dsp: o.forDataRangeMinMax({
                    dspBase: t
                }),
                gadget: [{
                    type: "rangeMeasure",
                    min: -100,
                    max: 200,
                    defaultValue: {
                        value0: 0,
                        value1: 100
                    },
                    unit: ""
                },
                {
                    type: "floatList",
                    defaultValue: [0, 100],
                    size: 2,
                    dataConverter: "floatInputMinMax"
                }],
                title: r.seriesGaugeMinMax
            },
            {
                key: "splitNumber",
                ui: l,
                dsp: t + ".splitNumber",
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 100,
                    defaultValue: 5
                },
                title: r.seriesGaugeSplitNumber
            }]
        }
    },
    n.makeSeriesGaugeBaseBlock = function(t, i) {
        e.assert(t && null != i);
        var n = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeBaseBlock",
            ui: h,
            applicable: n,
            title: r.seriesGaugeBaseBlock,
            rows: [{
                key: "ratioColorList",
                ui: l,
                dsp: t + ".axisLine.lineStyle.color",
                gadget: "ratioColorListRGBA",
                viewUpdaterArgs: {
                    recreate: !0
                },
                title: r.seriesGaugeRatioColor
            },
            {
                key: "center",
                ui: l,
                dsp: t + ".center",
                gadget: {
                    type: "xyCenter"
                },
                title: r.seriesGaugeCenter
            },
            {
                key: "radius",
                ui: l,
                dsp: t + ".radius",
                gadget: [{
                    type: "measure",
                    unit: "px",
                    min: 0,
                    max: 400,
                    defaultValue: 100
                },
                {
                    type: "percentStr",
                    defaultValue: 30
                }],
                title: r.seriesGaugeRadius
            },
            {
                key: "startAngle",
                ui: l,
                dsp: t + ".startAngle",
                gadget: {
                    type: "angle",
                    min: -90,
                    max: 270,
                    defaultValue: 180
                },
                title: r.seriesGaugeStartAngle
            },
            {
                key: "endAngle",
                ui: l,
                dsp: t + ".endAngle",
                gadget: {
                    type: "angle",
                    min: -90,
                    max: 270,
                    defaultValue: 0
                },
                title: r.seriesGaugeEndAngle
            }]
        }
    },
    n.makeSeriesGaugeTitleBlock = function(t, i) {
        e.assert(t && null != i);
        var o = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeTitleBlock",
            ui: h,
            applicable: o,
            title: r.seriesGaugeTitleBlock,
            rows: [{
                key: "show",
                ui: l,
                dsp: t + ".title.show",
                gadget: "bool",
                title: r.seriesGaugeTitleShow
            },
            {
                key: "offsetCenter",
                ui: l,
                dsp: t + ".title.offsetCenter",
                gadget: {
                    type: "xyOffsetCenter"
                },
                title: r.seriesGaugeTitleOffsetCenter
            },
            n.makeTextStyleBlock({
                dspBase: t + ".title.textStyle",
                key: "gaugeTitleTextStyle",
                showOptions: {
                    color: !1,
                    title: !1,
                    align: !1,
                    baseline: !1
                }
            })]
        }
    },
    n.makeSeriesGaugeDetailBlock = function(t, i) {
        e.assert(t && null != i);
        var o = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeDetailBlock",
            ui: h,
            applicable: o,
            title: r.seriesGaugeDetailBlock,
            rows: [{
                key: "show",
                ui: l,
                dsp: t + ".detail.show",
                gadget: "bool",
                title: r.seriesGaugeDetailShow
            },
            {
                key: "backgroundColor",
                ui: l,
                dsp: t + ".detail.backgroundColor",
                gadget: "colorRGBA",
                title: r.seriesGaugeDetailBgColor
            },
            {
                key: "width",
                ui: l,
                dsp: t + ".detail.width",
                gadget: [{
                    type: "measure",
                    min: 10,
                    max: 500,
                    defaultValue: 200
                }],
                title: r.seriesGaugeDetailWidth
            },
            {
                key: "height",
                ui: l,
                dsp: t + ".detail.height",
                gadget: [{
                    type: "measure",
                    min: 10,
                    max: 600,
                    defaultValue: 100
                }],
                title: r.seriesGaugeDetailHeight
            },
            {
                key: "offsetCenter",
                ui: l,
                dsp: t + ".detail.offsetCenter",
                gadget: {
                    type: "xyOffsetCenter"
                },
                title: r.seriesGaugeDetailOffsetCenter
            },
            {
                key: "formatter",
                ui: l,
                dsp: t + ".detail.formatter",
                gadget: {
                    type: "formatter",
                    descHTML: s.valueFormatter
                },
                title: r.seriesGaugeDetailFormatter
            },
            {
                key: "borderWidth",
                ui: l,
                dsp: t + ".detail.borderWidth",
                gadget: {
                    type: "borderWidth",
                    defaultValue: 2
                },
                title: r.seriesGaugeDetailBorderWidth
            },
            {
                key: "borderColor",
                ui: l,
                dsp: t + ".detail.borderColor",
                gadget: "colorRGBA",
                title: r.seriesGaugeDetailBorderColor
            },
            n.makeTextStyleBlock({
                key: "gaugeTitleTextStyle",
                dspBase: t + ".detail.textStyle",
                showOptions: {
                    color: !1,
                    title: !1,
                    align: !1,
                    baseline: !1
                }
            })]
        }
    },
    n.makeSeriesGaugeAxisLabelBlock = function(t, i) {
        e.assert(t && null != i);
        var o = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeAxisLabelBlock",
            ui: h,
            applicable: o,
            title: r.seriesGaugeAxisLabelBlock,
            rows: [{
                key: "show",
                ui: l,
                dsp: t + ".axisLabel.show",
                gadget: "bool",
                title: r.seriesGaugeAxisLabelShow
            },
            {
                key: "formatter",
                ui: l,
                dsp: t + ".axisLabel.formatter",
                gadget: {
                    type: "formatter",
                    descHTML: s.valueFormatter
                },
                title: r.seriesGaugeAxisLabelFormatter
            },
            n.makeTextStyleBlock({
                dspBase: t + ".axisLabel.textStyle",
                key: "gaugeTitleTextStyle",
                showOptions: {
                    color: !1,
                    title: !1,
                    align: !1,
                    baseline: !1
                }
            })]
        }
    },
    n.makeSeriesGaugeAxisLineBlock = function(t, i) {
        e.assert(t && null != i);
        var o = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeAxisLineBlock",
            ui: h,
            applicable: o,
            title: r.seriesGaugeAxisLineBlock,
            rows: [{
                key: "show",
                ui: l,
                dsp: t + ".axisLine.show",
                gadget: "bool",
                viewUpdaterArgs: {
                    recreate: !0
                },
                title: r.seriesGaugeAxisLineShow
            },
            n.makeLineStyle(t + ".axisLine.lineStyle", "lineStyle", {
                title: !1,
                color: !1,
                type: !1,
                shadowColor: !0,
                shadowBlur: !0,
                shadowOffsetX: !0,
                shadowOffsetY: !0
            })]
        }
    },
    n.makeSeriesGaugeAxisTickBlock = function(t, i) {
        e.assert(t && null != i);
        var o = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeAxisTickBlock",
            ui: h,
            applicable: o,
            title: r.seriesGaugeAxisTickBlock,
            rows: [{
                key: "show",
                ui: l,
                dsp: t + ".axisTick.show",
                gadget: "bool",
                viewUpdaterArgs: {
                    recreate: !0
                },
                title: r.seriesGaugeAxisTickShow
            },
            {
                key: "length",
                ui: l,
                dsp: t + ".axisTick.length",
                gadget: [{
                    type: "measure",
                    defaultValue: 5,
                    min: 0,
                    max: 20
                },
                {
                    type: "percentStr",
                    defaultValue: 80
                }],
                title: r.seriesGaugeAxisTickLength
            },
            {
                key: "splitNumber",
                ui: l,
                dsp: t + ".axisTick.splitNumber",
                gadget: {
                    type: "measure",
                    defaultValue: 5,
                    min: 1,
                    max: 20
                },
                title: r.seriesGaugeAxisTickSplitNumber
            },
            n.makeLineStyle(t + ".axisTick.lineStyle", "lineStyle", {
                title: !1,
                color: !1,
                shadowColor: !0,
                shadowBlur: !0,
                shadowOffsetX: !0,
                shadowOffsetY: !0
            })]
        }
    },
    n.makeSeriesGaugeSplitLineBlock = function(t, i) {
        e.assert(t && null != i);
        var o = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugeSplitLineBlock",
            ui: h,
            applicable: o,
            title: r.seriesGaugeSplitLineBlock,
            rows: [{
                key: "show",
                ui: l,
                dsp: t + ".splitLine.show",
                gadget: "bool",
                viewUpdaterArgs: {
                    recreate: !0
                },
                title: r.seriesGaugeSplitLineShow
            },
            {
                key: "length",
                ui: l,
                dsp: t + ".splitLine.length",
                gadget: [{
                    type: "measure",
                    defaultValue: 30,
                    min: 0,
                    max: 100
                },
                {
                    type: "percentStr",
                    defaultValue: 80
                }],
                title: r.seriesGaugeSplitLineLength
            },
            n.makeLineStyle(t + ".splitLine.lineStyle", "lineStyle", {
                title: !1,
                color: !1,
                shadowColor: !0,
                shadowBlur: !0,
                shadowOffsetX: !0,
                shadowOffsetY: !0
            })]
        }
    },
    n.makeSeriesGaugePointerBlock = function(t, i) {
        e.assert(t && null != i);
        var n = a(["GAUGE"], {
            seriesIndex: i
        });
        return {
            key: "seriesGaugePointBlock",
            ui: h,
            applicable: n,
            title: r.seriesGaugePointerBlock,
            rows: [{
                key: "length",
                ui: l,
                dsp: t + ".pointer.length",
                gadget: [{
                    type: "percentStr",
                    defaultValue: 80
                },
                {
                    type: "measure",
                    defaultValue: 80,
                    min: 0,
                    max: 100
                }],
                title: r.seriesGaugePointerLength
            },
            {
                key: "width",
                ui: l,
                dsp: t + ".pointer.width",
                gadget: [{
                    type: "measure",
                    defaultValue: 8,
                    min: 0,
                    max: 30
                },
                {
                    type: "percentStr",
                    defaultValue: 20
                }],
                title: r.seriesGaugePointerWidth
            }]
        }
    }
}),
define("wave/chartConfigurer/depictionSeriesMap", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction", "common/core/constant"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/lang"),
    i = require("wave/chartConfigurer/depiction"),
    n = require("common/core/constant"),
    o = i.dpctMakers,
    r = i.dspMakers,
    s = t.string.cfg,
    a = i.makeChartTypeApplicableFn,
    l = n.CfgEvent,
    h = "wave/gadget/EditItem",
    c = "wave/gadget/EditBlock",
    u = "wave/gadget/FoldableEditBlock";
    o.makeMapTypeMainBlock = function() {
        return {}
    },
    o.makeSeriesMapBlock1 = function(t, i) {
        e.assert(t && null != i);
        var n = a(["MAP"], {
            seriesIndex: i
        });
        return {
            key: "seriesMapBlock1",
            ui: c,
            applicable: n,
            title: s.seriesMapBlock,
            rows: [{
                key: "mapType",
                ui: h,
                dsp: function(e) {
                    return {
                        base: t + ".mapType",
                        updateMapTypeOfMapSeries: r.forSeriesMapType({
                            seriesIndex: i
                        })
                    } [e.dspKey || "base"]
                },
                gadget: "mapType",
                alwaysUsed: !0,
                title: s.seriesMapType
            }]
        }
    },
    o.makeSeriesMapBlock2 = function(t, i) {
        function n(e) {
            return r.forUpdatingCfgWithTheSameMapType({
                seriesIndex: i,
                dspSuffixBySeries: e
            })
        }
        e.assert(t && null != i);
        var o = a(["MAP"], {
            seriesIndex: i
        }),
        d = {
            recreate: !0
        },
        f = {
            type: l.SYNC_WHEN_MAP_TYPE_CHANGE
        };
        return {
            key: "seriesMapBlock2",
            ui: c,
            applicable: o,
            rows: [{
                key: "showLegendSymbol",
                ui: h,
                dsp: n(".showLegendSymbol"),
                gadget: {
                    type: "bool",
                    defaultValue: !1
                },
                viewUpdaterArgs: d,
                cfgEvent: f,
                title: s.seriesMapShowLegendSymbol
            },
            {
                key: "x",
                ui: h,
                dsp: n(".mapLocation.x"),
                gadget: [{
                    type: "alignH",
                    defaultValue: "center"
                },
                {
                    type: "coordinatePx",
                    min: 0,
                    max: 600,
                    defaultValue: 80
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                viewUpdaterArgs: d,
                cfgEvent: f,
                title: s.seriesMapLocationX
            },
            {
                key: "y",
                ui: h,
                dsp: n(".mapLocation.y"),
                gadget: [{
                    type: "alignV",
                    defaultValue: "center"
                },
                {
                    type: "coordinatePx",
                    min: 0,
                    max: 600,
                    defaultValue: 80
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                viewUpdaterArgs: d,
                cfgEvent: f,
                title: s.seriesMapLocationY
            },
            {
                key: "width",
                ui: h,
                dsp: n(".mapLocation.width"),
                gadget: [{
                    type: "coordinatePx",
                    min: 0,
                    max: 600,
                    defaultValue: 80
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                viewUpdaterArgs: d,
                cfgEvent: f,
                title: s.seriesMapLocationWidth
            },
            {
                key: "height",
                ui: h,
                dsp: n(".mapLocation.height"),
                gadget: [{
                    type: "coordinatePx",
                    min: 0,
                    max: 600,
                    defaultValue: 80
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                viewUpdaterArgs: d,
                cfgEvent: f,
                title: s.seriesMapLocationHeight
            },
            {
                key: "seriesMapBlock2Fold",
                ui: u,
                rows: [{
                    key: "selectedMode",
                    ui: h,
                    dsp: n(".selectedMode"),
                    gadget: "selectedMode",
                    viewUpdaterArgs: d,
                    cfgEvent: f,
                    title: s.selectedMode
                },
                {
                    key: "hoverable",
                    ui: h,
                    dsp: n(".hoverable"),
                    gadget: {
                        type: "bool",
                        defaultValue: !0
                    },
                    viewUpdaterArgs: d,
                    cfgEvent: f,
                    title: s.seriesMapHoverable
                },
                {
                    key: "mapValueCalculation",
                    ui: h,
                    dsp: n(".mapValueCalculation"),
                    gadget: {
                        type: "select",
                        data: [{
                            value: "sum",
                            text: s.seriesMapValueCalSum
                        },
                        {
                            value: "average",
                            text: s.seriesMapValueCalAverage
                        }],
                        defaultValue: "sum"
                    },
                    viewUpdaterArgs: d,
                    cfgEvent: f,
                    title: s.seriesMapValueCal
                },
                {
                    key: "mapValuePrecision",
                    ui: h,
                    dsp: n(".mapValuePrecision"),
                    gadget: {
                        type: "measure",
                        min: 0,
                        max: 10
                    },
                    viewUpdaterArgs: d,
                    cfgEvent: f,
                    title: s.seriesMapValuePrecision
                }]
            }]
        }
    }
}),
define("wave/chartConfigurer/depictionSeriesPie", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/lang"),
    i = require("wave/chartConfigurer/depiction"),
    n = i.dpctMakers,
    o = t.string.cfg,
    r = i.makeChartTypeApplicableFn,
    s = "wave/gadget/EditItem",
    a = "wave/gadget/EditBlock";
    n.makeSeriesPieBlock = function(t, i) {
        e.assert(t && null != i);
        var n = r(["PIE"], {
            seriesIndex: i
        });
        return {
            key: "seriesPieBlock",
            ui: a,
            applicable: n,
            title: o.seriesPieBlock,
            rows: [{
                key: "roseType",
                ui: s,
                dsp: t + ".roseType",
                gadget: {
                    type: "select",
                    data: [{
                        value: "radius",
                        text: o.seriesRoseTypeRadius
                    },
                    {
                        value: "area",
                        text: o.seriesRoseTypeArea
                    }],
                    defaultValue: "radius"
                },
                title: o.seriesRoseType
            },
            {
                key: "center",
                ui: s,
                dsp: t + ".center",
                gadget: {
                    type: "xyCenter"
                },
                title: o.seriesPieCenter
            },
            {
                key: "radius",
                ui: s,
                dsp: t + ".radius",
                gadget: [{
                    type: "measure",
                    unit: "px",
                    min: 0,
                    max: 400,
                    defaultValue: 100
                },
                {
                    type: "rangeRadius"
                },
                {
                    type: "percentStr",
                    defaultValue: 30
                }],
                title: o.seriesPieRadius
            },
            {
                key: "startAngle",
                ui: s,
                dsp: t + ".startAngle",
                gadget: {
                    type: "angle",
                    min: -180,
                    max: 180
                },
                title: o.seriesPieStartAngle
            },
            {
                key: "minAngle",
                ui: s,
                dsp: t + ".minAngle",
                gadget: {
                    type: "angle",
                    min: -180,
                    max: 180
                },
                title: o.seriesPieMinAngle
            },
            {
                key: "selectedMode",
                ui: s,
                dsp: t + ".selectedMode",
                gadget: "selectedMode",
                title: o.selectedMode
            },
            {
                key: "selectedOffset",
                ui: s,
                dsp: t + ".selectedOffset",
                gadget: {
                    type: "angle",
                    min: -180,
                    max: 180
                },
                title: o.seriesPieSelectedOffset
            }]
        }
    }
}),
define("wave/chartConfigurer/depictionSeriesSymbol", ["require", "common/core/lib", "common/core/lang", "wave/chartConfigurer/depiction", "common/core/constant", "wave/app/waveProdMgr"],
function(require) {
    function e(e) {
        var i, n = e.wgtId;
        return s.getDataCfgWrap(n).forEachSeries(function(e, o) {
            if (t(e, o.type, n)) i = !0
        }),
        !!i
    }
    function t(e, t, i) {
        return h.contains(["LINE", "SCATTER", "RADAR"], [t]) && !o.isBubbleForApplicable(e, {
            wgtId: i
        })
    }
    var i = require("common/core/lib"),
    n = require("common/core/lang"),
    o = require("wave/chartConfigurer/depiction"),
    r = require("common/core/constant"),
    s = require("wave/app/waveProdMgr"),
    a = o.dpctMakers,
    l = n.string.cfg,
    h = r.EcChartType,
    c = o.makeDspForMultiSeries,
    u = "wave/gadget/EditItem",
    d = "wave/gadget/EditBlock";
    a.makeSeriesSymbolBlock = function(e, t) {
        function n(e) {
            var i = e.wgtId,
            n = h.contains(["LINE", "SCATTER", "RADAR"], o.getChartType(i, t)),
            r = o.isBubbleForApplicable(t, e);
            return n && !r
        }
        return i.assert(e && null != t),
        {
            key: "seriesSymbolBlock",
            ui: d,
            applicable: n,
            title: l.seriesSymbolBlock,
            rows: [{
                key: "symbol",
                ui: u,
                dsp: e + ".symbol",
                gadget: "symbol",
                title: l.seriesSymbol
            },
            {
                key: "symbolSize",
                ui: u,
                dsp: e + ".symbolSize",
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 80,
                    defaultValue: 0
                },
                title: l.seriesSymbolSize
            },
            {
                key: "symbolRotate",
                ui: u,
                dsp: e + ".symbolRotate",
                gadget: {
                    type: "angle",
                    min: -180,
                    max: 180
                },
                title: l.seriesSymbolRotate
            },
            {
                disabled: !0,
                ui: u,
                key: "showAllSymbol",
                dsp: e + ".showAllSymbol",
                gadget: "bool",
                title: l.seriesShowAllSymbol
            }]
        }
    },
    a.makeBaseSeriesSymbolBlock = function(t) {
        return i.assert(null != t),
        {
            key: t,
            ui: d,
            applicable: "bySubVisible",
            rows: [{
                key: "symbolSize",
                ui: u,
                dsp: f,
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 80,
                    defaultValue: 0
                },
                applicable: e,
                suppressUseRetrieveRendered: !0,
                title: l.seriesSymbolSize
            }]
        }
    };
    var f = c(".symbolSize", ["LINE", "SCATTER", "RADAR"], null, t)
}),
define("wave/chartConfigurer/depictionSubBlock", ["require", "common/core/lib", "common/core/lang", "common/core/constant", "wave/chartConfigurer/depiction"],
function(require) {
    function e(e) {
        var n = e.dspBase,
        o = e.showOptions || {},
        s = e.applyBySeries,
        a = s.dspSuffixBySeries,
        h = s.seriesIndex;
        r.assert(n && null != h && null != s);
        var u = p(["MAP"], {
            seriesIndex: h,
            condition: "notExistSeries"
        }),
        f = p(["PIE"], {
            seriesIndex: h
        });
        return [{
            key: "color",
            ui: b,
            dsp: n + ".color",
            gadget: {
                type: "colorRGBA",
                defaultValue: c.DEFAULT_COLOR
            },
            applicable: u,
            unusedViewUpdaterArgs: {
                recreate: !0
            },
            title: l.itemStyleColor
        },
        d.makeLineStyle(n + ".lineStyle", "lineStyle", r.assign(o.lineStyle), {
            seriesIndex: h
        }), d.makeAreaStyle(n + ".areaStyle", "areaStyle", r.assign(o.areaStyle), {
            seriesIndex: h
        }), {
            key: "labelLineShow",
            ui: b,
            dsp: n + ".labelLine.show",
            gadget: "bool",
            applicable: f,
            viewUpdaterArgs: {
                recreate: !0
            },
            title: l.itemStyleLabelLineShow
        },
        i(n, h), t({
            dspBase: n + ".label",
            applyBySeries: {
                dspSuffixBySeries: a + ".label",
                seriesIndex: h
            }
        })]
    }
    function t(e) {
        var t = e.dspBase,
        i = e.applyBySeries;
        r.assert(t && null != i);
        var s = p(["LINE", "BAR", "PIE", "K", "SCATTER", "MAP", "FORCE", "FUNNEL"], {
            seriesIndex: i.seriesIndex
        }),
        h = null != i ? p(["MAP"], {
            seriesIndex: i.seriesIndex,
            condition: "notExistSeries"
        }) : o,
        c = n(t, i);
        return {
            ui: m,
            key: "itemStyleLabel",
            title: l.itemStyleLabelBlock,
            applicable: s,
            rows: [{
                key: "show",
                ui: b,
                dsp: c(".show"),
                gadget: "bool",
                viewUpdaterArgs: {
                    recreate: !0
                },
                title: l.itemStyleLabelShow
            },
            {
                key: "itemStyleLabelDetailFold",
                ui: v,
                rows: [{
                    key: "position",
                    ui: b,
                    dsp: t + ".position",
                    gadget: "positionLabel",
                    applicable: h,
                    title: l.itemStyleLabelPosition
                },
                {
                    key: "distance",
                    ui: b,
                    dsp: t + ".distance",
                    gadget: {
                        type: "floatTyping",
                        defaultValue: .5
                    },
                    applicable: p(["PIE", "CHORD"], {
                        seriesIndex: i.seriesIndex
                    }),
                    title: l.itemStyleLabelDistance
                },
                {
                    key: "formatter",
                    ui: b,
                    dsp: t + ".formatter",
                    gadget: {
                        type: "formatter",
                        descHTML: a.commonFormatter
                    },
                    title: l.itemStyleLabelFormatter
                },
                d.makeTextStyleBlock({
                    dspBase: t + ".textStyle",
                    key: "itemLabelTextStyle",
                    showOptions: {
                        align: !1,
                        baseline: !1
                    },
                    applyBySeries: {
                        seriesIndex: i.seriesIndex,
                        dspSuffixBySeries: i.dspSuffixBySeries + ".textStyle"
                    }
                })]
            }]
        }
    }
    function i(e, t) {
        return r.assert(e && null != t),
        {
            ui: m,
            key: "borderAttrBlock",
            title: function(e) {
                return u.contains(["LINE", "SCATTER"], c.getChartType(e.wgtId, t)) ? l.borderAttrSymbol: l.borderAttr
            },
            applicable: p(["LINE", "BAR", "SCATTER", "PIE", "MAP"], {
                seriesIndex: t
            }),
            rows: [{
                key: "borderWidth",
                ui: b,
                dsp: e + ".borderWidth",
                gadget: {
                    type: "borderWidth",
                    defaultValue: 2
                },
                title: l.itemStyleBorderWidth
            },
            {
                key: "borderColor",
                ui: b,
                dsp: e + ".borderColor",
                gadget: "colorRGBA",
                title: l.itemStyleBorderColor
            },
            {
                key: "borderRadius",
                ui: b,
                dsp: e + ".borderRadius",
                gadget: {
                    type: "borderRadius",
                    defaultValue: 4
                },
                title: l.itemStyleBorderRadius,
                applicable: p(["BAR"], {
                    seriesIndex: t
                })
            }]
        }
    }
    function n(e, t) {
        var i;
        if (null != t) t = r.assign({},
        t),
        i = p(["MAP"], {
            seriesIndex: t.seriesIndex,
            condition: "notExistSeries"
        });
        return function(n) {
            function o(e) {
                if (r.assert(null != t.dspSuffixBySeries), t.seriesIndexFetcher) return f.forUpdatingCfgOfMultiSeries({
                    seriesIndexFetcher: t.seriesIndexFetcher,
                    dspSuffixBySeries: t.dspSuffixBySeries + n
                });
                else if (null != t.seriesIndex) if (i({
                    wgtId: e.wgtId
                })) return d.makeDspBaseBySeries(t.seriesIndex) + t.dspSuffixBySeries + n;
                else return f.forUpdatingCfgWithTheSameMapType({
                    seriesIndex: t.seriesIndex,
                    dspSuffixBySeries: t.dspSuffixBySeries + n
                });
                else r.assert(!1)
            }
            return null == t ? e + n: o
        }
    }
    var o, r = require("common/core/lib"),
    s = require("common/core/lang"),
    a = s.html,
    l = s.string.cfg,
    h = require("common/core/constant"),
    c = require("wave/chartConfigurer/depiction"),
    u = h.EcChartType,
    d = c.dpctMakers,
    f = c.dspMakers,
    p = c.makeChartTypeApplicableFn,
    m = "wave/gadget/EditBlock",
    g = "wave/chartConfigurer/InnerTabPanel",
    y = "wave/chartConfigurer/AxisPointerPanel",
    v = "wave/gadget/FoldableEditBlock",
    b = "wave/gadget/EditItem";
    d.makePositionBlock = function(e, t, i) {
        return r.assert(e && t),
        i = i || {},
        {
            key: t,
            ui: m,
            title: i.title,
            applicable: i.applicable,
            rows: [{
                key: "x",
                ui: b,
                dsp: e + ".x",
                gadget: [{
                    type: "coordinatePx",
                    min: 0,
                    max: 150,
                    defaultValue: 80
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                title: l.positionX
            },
            {
                key: "y",
                ui: b,
                dsp: e + ".y",
                gadget: [{
                    type: "coordinatePx",
                    min: 0,
                    max: 100,
                    defaultValue: 60
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                title: l.positionY
            },
            {
                key: "x2",
                ui: b,
                dsp: e + ".x2",
                gadget: [{
                    type: "coordinatePx",
                    min: 0,
                    max: 150,
                    defaultValue: 80
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                title: l.positionX2
            },
            {
                key: "y2",
                ui: b,
                dsp: e + ".y2",
                gadget: [{
                    type: "coordinatePx",
                    min: 0,
                    max: 100,
                    defaultValue: 60
                },
                {
                    type: "percentStr",
                    defaultValue: 25
                }],
                title: l.positionY2
            },
            {
                key: "width",
                ui: b,
                dsp: e + ".width",
                gadget: [{
                    type: "measure",
                    min: 10,
                    max: 1200,
                    defaultValue: 400
                },
                {
                    type: "percentStr",
                    defaultValue: 50
                }],
                title: l.positionWidth
            },
            {
                key: "height",
                ui: b,
                dsp: e + ".height",
                gadget: [{
                    type: "measure",
                    min: 10,
                    max: 1e3,
                    defaultValue: 200
                },
                {
                    type: "percentStr",
                    defaultValue: 50
                }],
                title: l.positionHeight
            }]
        }
    },
    d.makeAxisPointer = function(e, t, i) {
        return r.assert(e && t),
        i = i || {},
        {
            key: t,
            ui: y,
            title: i.title || "",
            rows: [{
                key: "type",
                ui: b,
                dsp: e + ".type",
                gadget: {
                    type: "select",
                    data: [{
                        value: "line",
                        text: l.axisPointerTypeLine
                    },
                    {
                        value: "shadow",
                        text: l.axisPointerTypeShadow
                    },
                    {
                        value: "none",
                        text: l.axisPointerTypeNone
                    }],
                    defaultValue: "line"
                },
                title: i.axisPointerTypeText || l.axisPointerType
            },
            d.makeLineStyle(e + ".lineStyle", "lineStyle", i.lineStyle), d.makeAreaStyle(e + ".areaStyle", "areaStyle", i.areaStyle)]
        }
    },
    d.makeLineStyle = function(e, t, i, n) {
        r.assert(e && t),
        i = i || {};
        var s = null != n ? p(["LINE"], {
            seriesIndex: n.seriesIndex
        }) : o;
        return {
            key: t,
            ui: m,
            applicable: s,
            title: i.title === !1 ? o: i.title || l.lineStyleBlock,
            rows: [{
                disabled: i.color === !1,
                key: "color",
                ui: b,
                dsp: e + ".color",
                gadget: "colorRGBA",
                title: l.lineStyleColor
            },
            {
                key: "width",
                ui: b,
                dsp: e + ".width",
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 20
                },
                title: l.lineStyleWidth
            },
            {
                key: "lineStyleFold",
                ui: v,
                rows: [{
                    disabled: i.type === !1,
                    key: "type",
                    ui: b,
                    dsp: e + ".type",
                    gadget: {
                        type: "select",
                        data: [{
                            value: "solid",
                            text: l.lineStyleSolid
                        },
                        {
                            value: "dotted",
                            text: l.lineStyleDotted
                        },
                        {
                            value: "dashed",
                            text: l.lineStyleDashed
                        }],
                        defaultValue: "solid"
                    },
                    title: i.lineStyleTypeText || l.lineStyleType
                },
                {
                    disabled: i.shadowColor === !1,
                    key: "shadowColor",
                    ui: b,
                    dsp: e + ".shadowColor",
                    gadget: "colorRGBA",
                    title: l.lineStyleShadowColor
                },
                {
                    disabled: i.shadowBlur === !1,
                    key: "shadowBlur",
                    ui: b,
                    dsp: e + ".shadowBlur",
                    gadget: {
                        type: "measure",
                        min: 0,
                        max: 20
                    },
                    title: l.lineStyleBlur
                },
                {
                    disabled: i.shadowOffsetX === !1,
                    key: "shadowOffsetX",
                    ui: b,
                    dsp: e + ".shadowOffsetX",
                    gadget: {
                        type: "measure",
                        min: -10,
                        max: 500
                    },
                    title: l.lineStyleShadowOffsetX
                },
                {
                    disabled: i.shadowOffsetY === !1,
                    key: "shadowOffsetY",
                    ui: b,
                    dsp: e + ".shadowOffsetY",
                    gadget: {
                        type: "measure",
                        min: -100,
                        max: 100
                    },
                    title: l.lineStyleShadowOffsetY
                }]
            }]
        }
    },
    d.makeAreaStyle = function(e, t, i, n) {
        r.assert(e && t),
        i = i || {};
        var s = null != n ? p(["LINE"], {
            seriesIndex: n.seriesIndex
        }) : o;
        return {
            key: t,
            ui: m,
            applicable: s,
            title: i.title || l.areaStyleBlock,
            rows: [{
                key: "type",
                ui: b,
                dsp: e + ".type",
                gadget: {
                    type: "select",
                    data: [{
                        value: "default",
                        text: l.areaStyleTypeFill
                    }],
                    defaultValue: "default"
                },
                title: l.areaStyleType
            },
            {
                disabled: !0,
                key: "size",
                ui: b,
                dsp: e + ".size",
                gadget: {
                    type: "measure",
                    min: -100,
                    max: 100
                }
            },
            {
                key: "color",
                ui: b,
                dsp: e + ".color",
                gadget: {
                    type: "colorRGBA",
                    defaultValue: c.DEFAULT_COLOR
                },
                title: l.areaStyleColor
            }]
        }
    },
    d.makeItemStyle = function(t) {
        var i = t.dspBase,
        n = t.key,
        o = t.showOptions || {},
        s = t.applyBySeries,
        a = s.dspSuffixBySeries,
        h = s.seriesIndex,
        c = p(["GAUGE"], {
            seriesIndex: h,
            condition: "notExistSeries"
        });
        return r.assert(i && n && null != h && s),
        {
            key: n,
            ui: g,
            applicable: c,
            tab: [{
                key: "normal",
                text: l.itemStyleNormal
            },
            {
                key: "emphasis",
                text: l.itemStyleEmphasis
            }],
            con: {
                normal: {
                    ui: m,
                    rows: e({
                        dspBase: i + ".normal",
                        applyBySeries: {
                            dspSuffixBySeries: a + ".normal",
                            seriesIndex: h
                        },
                        showOptions: o.normal
                    })
                },
                emphasis: {
                    ui: m,
                    rows: e({
                        dspBase: i + ".emphasis",
                        applyBySeries: {
                            dspSuffixBySeries: a + ".emphasis",
                            seriesIndex: h
                        },
                        showOptions: o.emphasis
                    })
                }
            }
        }
    },
    d.makeMarkLineBlock = function(e, t, i) {
        return r.assert(e && t && null != i),
        {
            key: t,
            ui: m,
            title: l.markLineBlock,
            rows: [{
                key: "_show",
                ui: b,
                dsp: e + "._show",
                gadget: "bool",
                title: l.markLineShow
            }]
        }
    },
    d.makeMarkPointBlock = function(e, t, i) {
        return r.assert(e && t && null != i),
        {
            key: t,
            ui: m,
            title: l.markPointBlock,
            rows: [{
                key: "_show",
                ui: b,
                dsp: e + "._show",
                gadget: "bool",
                title: l.markPointShow
            }]
        }
    },
    d.makeTextStyleBlock = function(e) {
        var t = e.showOptions || {},
        i = e.key,
        s = e.dspBase,
        a = e.applyBySeries;
        r.assert(s && i);
        var h = n(s, a);
        return {
            key: i,
            ui: m,
            title: t.title === !1 ? o: t.title || "",
            rows: [{
                disabled: t.color === !1,
                key: "color",
                ui: b,
                dsp: h(".color"),
                gadget: "colorRGBA",
                title: l.textStyleColor
            },
            {
                disabled: !0,
                key: "fontFamily",
                ui: b,
                dsp: h(".fontFamily"),
                gadget: "select",
                title: l.textStyleFontFamily
            },
            {
                key: "fontSize",
                ui: b,
                dsp: h(".fontSize"),
                gadget: {
                    type: "measure",
                    min: 0,
                    max: 100,
                    defaultValue: 12
                },
                title: l.textStyleFontSize
            },
            {
                key: "fontStyle",
                ui: b,
                dsp: h(".fontStyle"),
                gadget: {
                    type: "select",
                    data: [{
                        value: "normal",
                        text: l.textStyleFontStyleNormal
                    },
                    {
                        value: "oblique",
                        text: l.textStyleFontStyleOblique
                    },
                    {
                        value: "italic",
                        text: l.textStyleFontStyleItalic
                    }],
                    defaultValue: "normal"
                },
                title: l.textStyleFontStyle
            },
            {
                key: "fontWeight",
                ui: b,
                dsp: h(".fontWeight"),
                gadget: {
                    type: "select",
                    data: [{
                        value: "normal",
                        text: l.textStyleFontWeightNormal
                    },
                    {
                        value: "bold",
                        text: l.textStyleFontWeightBold
                    },
                    {
                        value: "bolder",
                        text: l.textStyleFontWeightBolder
                    },
                    {
                        value: "lighter",
                        text: l.textStyleFontWeightLighter
                    }],
                    defaultValue: "normal"
                },
                title: l.textStyleFontWeight
            },
            {
                disabled: t.align === !1,
                key: "align",
                ui: b,
                dsp: h(".align"),
                gadget: {
                    type: "select",
                    data: [{
                        value: "left",
                        text: l.textStyleAlignLeft
                    },
                    {
                        value: "right",
                        text: l.textStyleAlignRight
                    },
                    {
                        value: "center",
                        text: l.textStyleAlignCenter
                    }],
                    defaultValue: "center"
                },
                title: l.textStyleAlign
            },
            {
                disabled: t.baseline === !1,
                key: "baseline",
                ui: b,
                dsp: h(".baseline"),
                gadget: {
                    type: "select",
                    data: [{
                        value: "top",
                        text: l.textStyleBaselineTop
                    },
                    {
                        value: "bottom",
                        text: l.textStyleBaselineBottom
                    },
                    {
                        value: "middle",
                        text: l.textStyleBaselineMiddle
                    }],
                    defaultValue: "middle"
                },
                title: l.textStyleBaseline
            }]
        }
    }
}),
define("wave/chartConfigurer/depictionRoam", ["require", "common/core/lib", "wave/chartConfigurer/depiction", "common/core/lang"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/chartConfigurer/depiction"),
    i = t.dpctMakers,
    n = t.dspMakers,
    o = require("common/core/lang").string.cfg,
    r = "wave/gadget/EditPanel",
    s = "wave/chartConfigurer/SubTabPanel",
    a = "wave/gadget/EditBlock",
    l = "wave/gadget/EditItem";
    i.makeRoamController = function(i) {
        e.assert(i);
        var h = t.DSP_BASE + ".roamController";
        return {
            key: i,
            ui: s,
            tab: [{
                key: "controller",
                text: "控制器"
            },
            {
                key: "mouse",
                text: "鼠标"
            }],
            con: {
                controller: {
                    ui: r,
                    rows: [{
                        key: "baseBlock",
                        ui: a,
                        title: o.roamCtrlCfg,
                        rows: [{
                            key: "show",
                            ui: l,
                            dsp: h + ".show",
                            gadget: "bool",
                            viewUpdaterArgs: {
                                recreate: !0
                            },
                            title: o.roamCtrlShow
                        }]
                    },
                    {
                        key: "locationBlock",
                        ui: a,
                        title: o.roamCtrlLocBlock,
                        rows: [{
                            key: "x",
                            ui: l,
                            dsp: h + ".x",
                            gadget: [{
                                type: "alignH",
                                defaultValue: "left"
                            },
                            {
                                type: "coordinatePx",
                                min: 0,
                                max: 150,
                                defaultValue: 80
                            },
                            {
                                type: "percentStr",
                                defaultValue: 25
                            }],
                            title: o.positionX
                        },
                        {
                            key: "y",
                            ui: l,
                            dsp: h + ".y",
                            gadget: [{
                                type: "alignV",
                                defaultValue: "top"
                            },
                            {
                                type: "coordinatePx",
                                min: 0,
                                max: 100,
                                defaultValue: 60
                            },
                            {
                                type: "percentStr",
                                defaultValue: 25
                            }],
                            title: o.positionY
                        },
                        {
                            key: "width",
                            ui: l,
                            dsp: h + ".width",
                            gadget: [{
                                type: "measure",
                                min: 20,
                                max: 200,
                                defaultValue: 100
                            }],
                            title: o.positionWidth
                        },
                        {
                            key: "height",
                            ui: l,
                            dsp: h + ".height",
                            gadget: [{
                                type: "measure",
                                min: 40,
                                max: 400,
                                defaultValue: 150
                            }],
                            title: o.positionHeight
                        }]
                    },
                    {
                        key: "surfaceBlock",
                        ui: a,
                        title: o.roamCtrlSurfaceBlock,
                        rows: [{
                            key: "handlerColor",
                            ui: l,
                            dsp: h + ".handlerColor",
                            gadget: "colorRGBA",
                            title: o.roamCtrlHandleColor
                        },
                        {
                            key: "fillerColor",
                            ui: l,
                            dsp: h + ".fillerColor",
                            gadget: "colorRGBA",
                            title: o.roamCtrlFillerColor
                        },
                        {
                            key: "borderWidth",
                            ui: l,
                            dsp: h + ".borderWidth",
                            gadget: "borderWidth",
                            title: o.roamCtrlBorderWidth
                        },
                        {
                            key: "borderColor",
                            ui: l,
                            dsp: h + ".borderColor",
                            gadget: "colorRGBA",
                            title: o.roamCtrlBorderColor
                        },
                        {
                            key: "backgroundColor",
                            ui: l,
                            dsp: h + ".backgroundColor",
                            gadget: "colorRGBA",
                            title: o.roamCtrlBgColor
                        },
                        {
                            key: "padding",
                            ui: l,
                            dsp: h + ".padding",
                            gadget: "padding",
                            title: o.roamCtrlPadding
                        }]
                    },
                    {
                        key: "otherBlock",
                        ui: a,
                        title: o.romeCtrlOtherBlock,
                        rows: [{
                            key: "step",
                            ui: l,
                            dsp: h + ".step",
                            gadget: [{
                                type: "measure",
                                min: 1,
                                max: 80,
                                defaultValue: 15
                            }],
                            title: o.romeCtrlStep
                        }]
                    }]
                },
                mouse: {
                    ui: r,
                    rows: [{
                        key: "roam",
                        ui: l,
                        dsp: n.forSeriesRoamToGlobal(),
                        gadget: {
                            type: "select",
                            data: [{
                                value: !1,
                                text: o.seriesMapRoamFalse
                            },
                            {
                                value: !0,
                                text: o.seriesMapRoamTrue
                            },
                            {
                                value: "scale",
                                text: o.seriesMapRoamScale
                            },
                            {
                                value: "move",
                                text: o.seriesMapRoamMove
                            }],
                            defaultValue: !1
                        },
                        viewUpdaterArgs: {
                            recreate: !0
                        },
                        title: o.seriesMapRoam
                    }]
                }
            }
        }
    }
}),
define("wave/chartConfigurer/depictionMgr", ["require", "common/core/lib", "./depiction", "./depictionChartConfigurer", "./depictionBase", "./depictionTitle", "./depictionLegend", "./depictionDataRange", "./depictionToolbox", "./depictionTooltip", "./depictionDataZoom", "./depictionPolar", "./depictionGrid", "./depictionAxis", "./depictionSeries", "./depictionSeriesBar", "./depictionSeriesBubble", "./depictionSeriesFunnel", "./depictionSeriesGauge", "./depictionSeriesMap", "./depictionSeriesPie", "./depictionSeriesSymbol", "./depictionSubBlock", "./depictionRoam"],
function(require) {
    var e, t = require("common/core/lib"),
    i = require("./depiction");
    require("./depictionChartConfigurer"),
    require("./depictionBase"),
    require("./depictionTitle"),
    require("./depictionLegend"),
    require("./depictionDataRange"),
    require("./depictionToolbox"),
    require("./depictionTooltip"),
    require("./depictionDataZoom"),
    require("./depictionPolar"),
    require("./depictionGrid"),
    require("./depictionAxis"),
    require("./depictionSeries"),
    require("./depictionSeriesBar"),
    require("./depictionSeriesBubble"),
    require("./depictionSeriesFunnel"),
    require("./depictionSeriesGauge"),
    require("./depictionSeriesMap"),
    require("./depictionSeriesPie"),
    require("./depictionSeriesSymbol"),
    require("./depictionSubBlock"),
    require("./depictionRoam");
    var n = {};
    n.getRootDepiction = function() {
        return i.dpctMakers.makeChartConfigurer()
    },
    n.getDpctMaker = function(e) {
        return i.dpctMakers[e]
    },
    n.dspSetKey = function(e, t) {
        return i.dspSetKey(e, t)
    },
    n.fillViewModelByDepiction = function(i, n, o) {
        for (var r in o) if (o.hasOwnProperty(r)) {
            var s = o[r],
            a = n[s],
            l = i[r];
            if (a === e) i[r] = e;
            else if (!t.obTypeOf(l)) i[r] = t.ob(a);
            else i[r](a)
        }
    },
    n.getDataConverter = function(e) {
        return r[e] || o
    };
    var o = {
        read: function(e) {
            return e
        },
        write: function(e) {
            return e
        }
    },
    r = {
        selectedMode: {
            read: function(e) {
                return e === !0 ? "multiple": e
            },
            write: o.write
        },
        percentStr: {
            read: function(e) {
                var i = t.parsePercentStr(e);
                return null == i ? 0 / 0 : i
            },
            write: function(e) {
                return e + "%"
            }
        },
        pxStr: {
            read: function(e) {
                var i = t.parsePxStr(e);
                return null == i ? 0 / 0 : i
            },
            write: function(e) {
                return e + "px"
            }
        },
        floatInputMinMax: {
            read: function(e) {
                return [e.value0, e.value1]
            },
            write: function(e) {
                return {
                    value0: e[0],
                    value1: e[1]
                }
            }
        },
        fixPosition: {
            read: function(e) {
                return "inner" === e ? "inside": e
            },
            write: function(e) {
                return "inner" === e ? "inside": e
            }
        }
    };
    return n
}),
define("wave/gadget/gadgetHelper", ["require", "jquery", "common/core/lib", "wave/app/waveProdMgr"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("wave/app/waveProdMgr"),
    n = {};
    return n.getTitle = function(i, n, o) {
        var r = i.title;
        if (!r) r = "";
        else if (e.isFunction(r)) r = r(n || {});
        return o ? r: t.encodeHTML(r)
    },
    n.isApplicable = function(t, i) {
        return e.isFunction(t) ? t(i) : !0
    },
    n.persistCfg = function(t) {
        i.updateCfg({
            method: t.cfgUpdater || "setDataCfg",
            viewUpdater: t.viewUpdater,
            viewUpdaterArgs: e.extend({},
            t.viewUpdaterArgs, t.unusedViewUpdaterArgs),
            dsp: t.dsp,
            wgtId: t.wgtId,
            value: t.packedCfgValue
        }).done(function() {
            t.persistedEvent({})
        })
    },
    n.selectDsp = function(i, n) {
        var o = i.dsp;
        if ("function" === e.type(o)) o = o(n || {});
        return t.assert(o),
        o
    },
    n
}),
define("wave/chartConfigurer/ChartConfigurer", ["require", "jquery", "common/core/constant", "wave/gadget/ConfBasePanel", "wave/chartConfigurer/depictionMgr", "wave/gadget/gadgetHelper", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/constant"),
    i = require("wave/gadget/ConfBasePanel"),
    n = require("wave/chartConfigurer/depictionMgr"),
    o = require("wave/gadget/gadgetHelper"),
    r = ".dtm-residence-mask",
    s = i.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "chartConfigurer",
            css: "cpt-chtcf"
        },
        _prepare: function() {
            this._viewModel().dpct = n.getRootDepiction(),
            this.localOb("LOCAL_OB_REFRESH_CHART_CFG", e.proxy(this.refresh, this))
        },
        _fillContent: function() {
            function e(e) {
                if (this.isOpened()) this._sub("con." + e).enter()
            }
            var t = this._sub("tab").viewModel("currentTab");
            this._disposable(t.subscribe(e, this))
        },
        _enter: function() {
            this.$el().find(r).stop(!0, !0).show().fadeOut(t.EDITOR_MASK_FADE_DURATION),
            this.refresh()
        },
        _clear: function() {
            this.$el().find(r).show()
        },
        refresh: function() {
            for (var t, i = this._sub("tab"), n = i.viewModel("currentTab")(), r = this._viewModel().dpct.tab, s = {
                wgtId: this._getWgtId()
            },
            a = 0, l = r.length; l > a; a++) {
                var h = !o.isApplicable(r[a].applicable, s);
                if (i.setTabDisabled(h, r[a].key), null == t && !h) t = r[a].key;
                if (e.isFunction(r[a].text)) i.setTabLabel(r[a].key, r[a].text(s))
            }
            var c = i.isTabDisabled(n);
            if (null != c && c) n = t,
            i.viewModel("currentTab")(n);
            if (this.isOpened()) this._sub("con." + n).enter()
        }
    });
    return s
}),
define("wave/chartConfigurer/SubTabPanel", ["require", "wave/gadget/ConfBasePanel", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        if (this.isOpened()) {
            var t = this._getConCpt(e);
            t && t.enter()
        }
    }
    var t = require("wave/gadget/ConfBasePanel"),
    i = "chartConfSubTabPanel",
    n = t.extend({
        _define: {
            css: "cpt-chtcf-sbtpn",
            tpl: require("d8f3fd38.tpl")
        },
        _fillContent: function() {
            this._applyTpl(this.$el(), i);
            var t = this._sub("tab").viewModel("currentTab");
            this._disposable(t.subscribe(e, this))
        },
        _enter: function() {
            var e = this._sub("tab").getCurrentTabKey();
            if (e) this._getConCpt(e).enter()
        },
        _getConCpt: function(e) {
            return this._sub("con." + e)
        },
        _clear: function() {
            var e = this._sub("con") || {};
            for (var t in e) if (e.hasOwnProperty(t)) e[t].clear()
        }
    });
    return n
}),
define("wave/chartConfigurer/SeriesTabPanel", ["require", "jquery", "common/core/lib", "wave/gadget/ConfBasePanel", "wave/app/waveProdMgr", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        if (this.isOpened()) {
            var t = this._getConCpt(e);
            t && t.enter()
        }
    }
    function t(e) {
        return c + e
    }
    function i(e) {
        if (0 === e.indexOf(c)) return Number(e.slice(c.length));
        else return void 0
    }
    var n = require("jquery"),
    o = require("common/core/lib"),
    r = require("wave/gadget/ConfBasePanel"),
    s = require("wave/app/waveProdMgr"),
    a = "chartConfSeriesTabPanel",
    l = "chartConfSeriesTabItem",
    h = "chartConfSeriesConItem",
    c = "seriesTabKey",
    u = ".dtm-tab1",
    d = ".dtm-tab1-inner",
    f = ".dtm-sertb-up",
    p = ".dtm-sertb-down",
    m = ".dtm-tab1-hi",
    g = "dtm-tab-overflow",
    y = r.extend({
        _define: {
            css: "cpt-chtcf-sertpn",
            tpl: require("d8f3fd38.tpl"),
            viewModel: function() {
                return {
                    css: "cpt-chtcf-sbtpn",
                    seriesConListViewModel: o.obArray([]),
                    seriesTabListViewModel: o.obArray([])
                }
            }
        },
        _fillContent: function() {
            var t = this.$el();
            this._applyTpl(t, a);
            var i = this._sub("tab").viewModel("currentTab");
            if (this._disposable(i.subscribe(e, this)), !this._windowResize) this._windowResize = n.proxy(this._refreshTabScroll, this),
            n(window).on(this._event("resize"), this._windowResize);
            this.$el("tabBox", t.find(u)),
            this.$el("tabInner", t.find(d));
            var o = this.$el("upArrow", t.find(f)),
            r = this.$el("downArrow", t.find(p)),
            s = this._event("click");
            o.on(s, n.proxy(this._moveTab, this, 1)),
            r.on(s, n.proxy(this._moveTab, this, -1));
            var l = t.find(m);
            this._tabItemHeight = l.height() + parseInt(l.css("margin-top"), 10)
        },
        _enter: function() {
            var e = this._sub("tab"),
            t = e.getCurrentTabKey();
            if (e.unbind(), this._refreshSeries(), e.bind(), !e.hasTab(t)) t = this._viewModel().dpct.defaultTabKey;
            e.viewModel("currentTab")(t),
            this._getConCpt(t).enter(),
            this._updateScroll(),
            this._refreshTabScroll()
        },
        _refreshSeries: function() {
            for (var e, i = this._viewModel(), n = i.dpct, o = i.seriesConListViewModel, r = o.peek(), s = i.seriesTabListViewModel, a = this._fetchSeries() || [], c = 0; e = a[c]; c++) if (e.type) {
                if (!r[c]) {
                    var u = n.makeSeriesTab(c),
                    d = n.makeSeriesCon(c, [e.type]);
                    o.push({
                        itemConfig: {
                            itemType: d.ui,
                            itemTplTarget: h,
                            itemTplParam: {
                                key: t(c)
                            }
                        },
                        dpct: d,
                        panelOpenStatus: i.panelOpenStatus,
                        residenceHandle: i.residenceHandle
                    }),
                    s.push({
                        itemConfig: {
                            itemTplTarget: l,
                            itemTplParam: {
                                key: t(c),
                                text: u.text
                            }
                        }
                    })
                }
            } else;
            var f = o.count() - c;
            o.splice(c, f),
            s.splice(c, f)
        },
        _fetchSeries: function() {
            var e = this._viewModel().residenceHandle.getWgtId();
            return s.getDataCfgWrap(e).getChartSeries()
        },
        _getConCpt: function(e) {
            var t = i(e);
            return null != t ? this._sub("seriesConList").getItemAt(t) : this._sub("con." + e)
        },
        _clear: function() {
            var e = this._sub("con") || {};
            for (var t in e) if (e.hasOwnProperty(t)) e[t].clear();
            var i = this._sub("seriesCon") || {};
            for (var t in i) if (i.hasOwnProperty(t)) i[t].clear()
        },
        _dispose: function() {
            if (this._windowResize) n(window).off(this._event("resize"), this._windowResize),
            this._windowResize = null
        },
        _refreshTabScroll: function() {
            var e = this.$el(),
            t = this.$el("tabBox"),
            i = this.$el("tabInner"),
            n = t.height(),
            o = i.height(),
            r = parseInt(i.css("top"), 10);
            if (e[o > n ? "addClass": "removeClass"](g), n >= o) i.css("top", "0px");
            else if (r > 0) i.css("top", "0px");
            else if (n > r + o) i.css("top", n - o + "px")
        },
        _moveTab: function(e) {
            var t = this.$el("tabBox"),
            i = this.$el("tabInner"),
            n = t.height(),
            o = i.height(),
            r = parseInt(i.css("top"), 10),
            s = r + e * this._tabItemHeight;
            if (n >= o) i.css("top", "0px");
            else if (0 >= s && s + o >= n) i.css("top", s + "px");
            else if (e > 0) i.css("top", "0px")
        }
    });
    return y
}),
define("wave/chartConfigurer/InnerTabPanel", ["require", "wave/gadget/ConfBasePanel", "wave/gadget/gadgetHelper", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        if (this.isOpened()) {
            var t = this._getConCpt(e);
            t && t.enter()
        }
        this._updateScroll()
    }
    var t = require("wave/gadget/ConfBasePanel"),
    i = require("wave/gadget/gadgetHelper"),
    n = "confInnerTabPanel",
    o = t.extend({
        _define: {
            css: "cpt-inrtpn",
            tpl: require("d8f3fd38.tpl")
        },
        _fillContent: function() {
            this._applyTpl(this.$el(), n);
            var t = this._sub("tab").viewModel("currentTab");
            this._disposable(t.subscribe(e, this))
        },
        _enter: function() {
            var e = this._viewModel();
            if (!i.isApplicable(e.dpct.applicable, {
                wgtId: this._getWgtId()
            })) e.visible(!1);
            else {
                e.visible(!0);
                var t = this._sub("tab").getCurrentTabKey();
                t && this._getConCpt(t).enter()
            }
        },
        _getConCpt: function(e) {
            return this._sub("con." + e)
        },
        _clear: function() {
            var e = this._sub("con") || {};
            for (var t in e) if (e.hasOwnProperty(t)) e[t].clear()
        }
    });
    return o
}),
define("wave/gadget/EditBlock", ["require", "jquery", "wave/gadget/ConfBasePanel", "wave/gadget/gadgetHelper", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("wave/gadget/ConfBasePanel"),
    i = require("wave/gadget/gadgetHelper"),
    n = "confEditBlock",
    o = ".dtm-edtblk-title",
    r = t.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-chtcf-edtblk",
            viewModel: function() {
                return {
                    css: "dtm-edtcom-pn"
                }
            }
        },
        _fillContent: function() {
            this._applyTpl(this.$el(), n)
        },
        _enter: function() {
            var t = {
                wgtId: this._getWgtId()
            },
            n = this._viewModel(),
            r = n.dpct.applicable;
            if (e.isFunction(r) && !i.isApplicable(r, t)) n.visible(!1);
            else if (n.visible(!0), this.$el().find(o)[0].innerHTML = i.getTitle(this._viewModel().dpct, t), this._enterSubItems(), "bySubVisible" === r && !this._hasSubVisible()) n.visible(!1)
        },
        _enterSubItems: function() {
            var e = this._sub("items") || {};
            for (var t in e) if (e.hasOwnProperty(t)) e[t].enter()
        },
        _hasSubVisible: function() {
            var e = this._sub("items") || {};
            for (var t in e) if (e.hasOwnProperty(t) && e[t].viewModel("visible")()) return ! 0;
            return ! 1
        },
        _clear: function() {
            var e = this._sub("items") || [];
            for (var t in e) if (e.hasOwnProperty(t)) e[t].clear()
        }
    });
    return r
}),
define("wave/chartConfigurer/AxisPointerPanel", ["require", "wave/gadget/EditBlock"],
function(require) {
    var e = require("wave/gadget/EditBlock"),
    t = e.extend({
        _define: {
            css: "cpt-chtcf-axptr"
        },
        _fillContent: function() {
            this._applySuper("_fillContent", arguments);
            var e = this._sub("items.trigger");
            if (e);
        },
        _dispose: function() {}
    });
    return t
}),
define("wave/gadget/EditPanel", ["require", "jquery", "common/core/constant", "wave/gadget/ConfBasePanel", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/constant"),
    i = require("wave/gadget/ConfBasePanel"),
    n = "confEditPanel",
    o = ".dtm-edtpn-mask",
    r = i.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-edtpn"
        },
        _prepare: function() {
            this.localOb("LOCAL_OB_REFRESH_CFG", e.proxy(this.refresh, this))
        },
        _fillContent: function() {
            this._applyTpl(this.$el(), n)
        },
        _enter: function() {
            this.refresh(),
            this.$el().find(o).stop(!0, !0).show().fadeOut(t.EDITOR_MASK_FADE_DURATION)
        },
        _clear: function() {
            var e = this._sub("items") || [];
            for (var t in e) if (e.hasOwnProperty(t)) e[t].clear()
        },
        refresh: function() {
            var e = this._sub("items") || [];
            for (var t in e) if (e.hasOwnProperty(t)) e[t].enter();
            this._sub("scrollPanel").viewModel("updater").refresh()
        }
    });
    return r
}),
define("wave/gadget/FoldableEditBlock", ["require", "jquery", "common/core/lib", "wave/gadget/EditBlock", "common/core/lang", "d8f3fd38.tpl"],
function(require) {
    function e() {
        var e = this._viewModel().isOpenOb;
        e(!e())
    }
    function t(e) {
        var t = this.$el().find(a),
        n = this._sub("opener"),
        o = i.proxy(this._updateScroll, this);
        if (e) t.stop().slideDown(h, o),
        n.viewModel("text")(s.panelOpenerCollapse);
        else t.stop().slideUp(h, o),
        n.viewModel("text")(s.panelOpenerMore)
    }
    var i = require("jquery"),
    n = require("common/core/lib"),
    o = require("wave/gadget/EditBlock"),
    r = require("common/core/lang"),
    s = r.string,
    a = ".dtm-fldedtblk-con",
    l = "confFoldableEditBlock",
    h = 500,
    c = o.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-chtcf-fldedtblk",
            viewModel: function() {
                return {
                    css: ["dtm-edtcom-pn"],
                    isOpenOb: n.ob(!1)
                }
            }
        },
        _fillContent: function() {
            var n = this._viewModel(),
            o = this.$el();
            this._applyTpl(o, l);
            var r = o.find(a),
            h = this._sub("opener");
            r.hide(),
            h.viewModel("text")(s.panelOpenerMore),
            h.on("click", i.proxy(e, this)),
            this._disposable(n.isOpenOb.subscribe(t, this))
        },
        _enterSubItems: function() {
            var e = this.$el().find(a),
            t = this._viewModel().isOpenOb(); ! t && e.show(),
            this._applySuper("_enterSubItems"),
            !t && e.hide()
        }
    });
    return c
}),
define("common/core/ecMapDataMeta", ["require"],
function() {
    var e = "china",
    t = [{
        text: "world",
        value: "world",
        children: [{
            text: "Afghanistan",
            value: "world|Afghanistan"
        },
        {
            text: "Kenya",
            value: "world|Kenya"
        },
        {
            text: "Kyrgyzstan",
            value: "world|Kyrgyzstan"
        },
        {
            text: "Cambodia",
            value: "world|Cambodia"
        },
        {
            text: "Kazakhstan",
            value: "world|Kazakhstan"
        },
        {
            text: "Kosovo",
            value: "world|Kosovo"
        },
        {
            text: "Kuwait",
            value: "world|Kuwait"
        },
        {
            text: "Laos",
            value: "world|Laos"
        },
        {
            text: "Lebanon",
            value: "world|Lebanon"
        },
        {
            text: "Liberia",
            value: "world|Liberia"
        },
        {
            text: "Japan",
            value: "world|Japan"
        },
        {
            text: "Libya",
            value: "world|Libya"
        },
        {
            text: "Jordan",
            value: "world|Jordan"
        },
        {
            text: "Sri Lanka",
            value: "world|Sri Lanka"
        },
        {
            text: "Jamaica",
            value: "world|Jamaica"
        },
        {
            text: "Lesotho",
            value: "world|Lesotho"
        },
        {
            text: "Italy",
            value: "world|Italy"
        },
        {
            text: "Lithuania",
            value: "world|Lithuania"
        },
        {
            text: "Israel",
            value: "world|Israel"
        },
        {
            text: "Luxembourg",
            value: "world|Luxembourg"
        },
        {
            text: "Iceland",
            value: "world|Iceland"
        },
        {
            text: "Latvia",
            value: "world|Latvia"
        },
        {
            text: "Iraq",
            value: "world|Iraq"
        },
        {
            text: "Morocco",
            value: "world|Morocco"
        },
        {
            text: "Iran",
            value: "world|Iran"
        },
        {
            text: "Moldova",
            value: "world|Moldova"
        },
        {
            text: "Ireland",
            value: "world|Ireland"
        },
        {
            text: "Madagascar",
            value: "world|Madagascar"
        },
        {
            text: "India",
            value: "world|India"
        },
        {
            text: "Mexico",
            value: "world|Mexico"
        },
        {
            text: "Indonesia",
            value: "world|Indonesia"
        },
        {
            text: "Macedonia",
            value: "world|Macedonia"
        },
        {
            text: "Hungary",
            value: "world|Hungary"
        },
        {
            text: "Mali",
            value: "world|Mali"
        },
        {
            text: "Haiti",
            value: "world|Haiti"
        },
        {
            text: "Myanmar",
            value: "world|Myanmar"
        },
        {
            text: "Croatia",
            value: "world|Croatia"
        },
        {
            text: "Montenegro",
            value: "world|Montenegro"
        },
        {
            text: "Honduras",
            value: "world|Honduras"
        },
        {
            text: "Mongolia",
            value: "world|Mongolia"
        },
        {
            text: "Guyana",
            value: "world|Guyana"
        },
        {
            text: "Mozambique",
            value: "world|Mozambique"
        },
        {
            text: "French Guiana",
            value: "world|French Guiana"
        },
        {
            text: "Mauritania",
            value: "world|Mauritania"
        },
        {
            text: "Guatemala",
            value: "world|Guatemala"
        },
        {
            text: "Malawi",
            value: "world|Malawi"
        },
        {
            text: "Greenland",
            value: "world|Greenland"
        },
        {
            text: "Malaysia",
            value: "world|Malaysia"
        },
        {
            text: "Greece",
            value: "world|Greece"
        },
        {
            text: "Namibia",
            value: "world|Namibia"
        },
        {
            text: "Equatorial Guinea",
            value: "world|Equatorial Guinea"
        },
        {
            text: "New Caledonia",
            value: "world|New Caledonia"
        },
        {
            text: "Guinea Bissau",
            value: "world|Guinea Bissau"
        },
        {
            text: "Niger",
            value: "world|Niger"
        },
        {
            text: "Gambia",
            value: "world|Gambia"
        },
        {
            text: "Nigeria",
            value: "world|Nigeria"
        },
        {
            text: "Guinea",
            value: "world|Guinea"
        },
        {
            text: "Nicaragua",
            value: "world|Nicaragua"
        },
        {
            text: "Ghana",
            value: "world|Ghana"
        },
        {
            text: "Netherlands",
            value: "world|Netherlands"
        },
        {
            text: "Georgia",
            value: "world|Georgia"
        },
        {
            text: "Norway",
            value: "world|Norway"
        },
        {
            text: "United Kingdom",
            value: "world|United Kingdom"
        },
        {
            text: "Nepal",
            value: "world|Nepal"
        },
        {
            text: "Gabon",
            value: "world|Gabon"
        },
        {
            text: "New Zealand",
            value: "world|New Zealand"
        },
        {
            text: "France",
            value: "world|France"
        },
        {
            text: "Oman",
            value: "world|Oman"
        },
        {
            text: "Falkland Islands",
            value: "world|Falkland Islands"
        },
        {
            text: "Pakistan",
            value: "world|Pakistan"
        },
        {
            text: "Fiji",
            value: "world|Fiji"
        },
        {
            text: "Panama",
            value: "world|Panama"
        },
        {
            text: "Finland",
            value: "world|Finland"
        },
        {
            text: "Peru",
            value: "world|Peru"
        },
        {
            text: "Ethiopia",
            value: "world|Ethiopia"
        },
        {
            text: "Philippines",
            value: "world|Philippines"
        },
        {
            text: "Estonia",
            value: "world|Estonia"
        },
        {
            text: "Papua New Guinea",
            value: "world|Papua New Guinea"
        },
        {
            text: "Spain",
            value: "world|Spain"
        },
        {
            text: "Poland",
            value: "world|Poland"
        },
        {
            text: "Eritrea",
            value: "world|Eritrea"
        },
        {
            text: "Puerto Rico",
            value: "world|Puerto Rico"
        },
        {
            text: "Egypt",
            value: "world|Egypt"
        },
        {
            text: "North Korea",
            value: "world|North Korea"
        },
        {
            text: "Ecuador",
            value: "world|Ecuador"
        },
        {
            text: "Portugal",
            value: "world|Portugal"
        },
        {
            text: "Algeria",
            value: "world|Algeria"
        },
        {
            text: "Paraguay",
            value: "world|Paraguay"
        },
        {
            text: "Dominican Republic",
            value: "world|Dominican Republic"
        },
        {
            text: "Qatar",
            value: "world|Qatar"
        },
        {
            text: "Denmark",
            value: "world|Denmark"
        },
        {
            text: "Romania",
            value: "world|Romania"
        },
        {
            text: "Djibouti",
            value: "world|Djibouti"
        },
        {
            text: "Russia",
            value: "world|Russia"
        },
        {
            text: "Germany",
            value: "world|Germany"
        },
        {
            text: "Rwanda",
            value: "world|Rwanda"
        },
        {
            text: "Czech Republic",
            value: "world|Czech Republic"
        },
        {
            text: "Western Sahara",
            value: "world|Western Sahara"
        },
        {
            text: "Cyprus",
            value: "world|Cyprus"
        },
        {
            text: "Saudi Arabia",
            value: "world|Saudi Arabia"
        },
        {
            text: "Northern Cyprus",
            value: "world|Northern Cyprus"
        },
        {
            text: "Sudan",
            value: "world|Sudan"
        },
        {
            text: "Cuba",
            value: "world|Cuba"
        },
        {
            text: "South Sudan",
            value: "world|South Sudan"
        },
        {
            text: "Costa Rica",
            value: "world|Costa Rica"
        },
        {
            text: "Senegal",
            value: "world|Senegal"
        },
        {
            text: "Colombia",
            value: "world|Colombia"
        },
        {
            text: "Solomon Islands",
            value: "world|Solomon Islands"
        },
        {
            text: "Republic of the Congo",
            value: "world|Republic of the Congo"
        },
        {
            text: "Sierra Leone",
            value: "world|Sierra Leone"
        },
        {
            text: "Democratic Republic of the Congo",
            value: "world|Democratic Republic of the Congo"
        },
        {
            text: "El Salvador",
            value: "world|El Salvador"
        },
        {
            text: "Cameroon",
            value: "world|Cameroon"
        },
        {
            text: "Somaliland",
            value: "world|Somaliland"
        },
        {
            text: "Ivory Coast",
            value: "world|Ivory Coast"
        },
        {
            text: "Somalia",
            value: "world|Somalia"
        },
        {
            text: "China",
            value: "world|China"
        },
        {
            text: "Republic of Serbia",
            value: "world|Republic of Serbia"
        },
        {
            text: "Chile",
            value: "world|Chile"
        },
        {
            text: "Suriname",
            value: "world|Suriname"
        },
        {
            text: "Switzerland",
            value: "world|Switzerland"
        },
        {
            text: "Slovakia",
            value: "world|Slovakia"
        },
        {
            text: "Canada",
            value: "world|Canada"
        },
        {
            text: "Slovenia",
            value: "world|Slovenia"
        },
        {
            text: "Central African Republic",
            value: "world|Central African Republic"
        },
        {
            text: "Sweden",
            value: "world|Sweden"
        },
        {
            text: "Botswana",
            value: "world|Botswana"
        },
        {
            text: "Swaziland",
            value: "world|Swaziland"
        },
        {
            text: "Bhutan",
            value: "world|Bhutan"
        },
        {
            text: "Syria",
            value: "world|Syria"
        },
        {
            text: "Brunei",
            value: "world|Brunei"
        },
        {
            text: "Chad",
            value: "world|Chad"
        },
        {
            text: "Brazil",
            value: "world|Brazil"
        },
        {
            text: "Togo",
            value: "world|Togo"
        },
        {
            text: "Bolivia",
            value: "world|Bolivia"
        },
        {
            text: "Thailand",
            value: "world|Thailand"
        },
        {
            text: "Bermuda",
            value: "world|Bermuda"
        },
        {
            text: "Tajikistan",
            value: "world|Tajikistan"
        },
        {
            text: "Belize",
            value: "world|Belize"
        },
        {
            text: "Turkmenistan",
            value: "world|Turkmenistan"
        },
        {
            text: "Belarus",
            value: "world|Belarus"
        },
        {
            text: "East Timor",
            value: "world|East Timor"
        },
        {
            text: "Bosnia and Herzegovina",
            value: "world|Bosnia and Herzegovina"
        },
        {
            text: "Trinidad and Tobago",
            value: "world|Trinidad and Tobago"
        },
        {
            text: "The Bahamas",
            value: "world|The Bahamas"
        },
        {
            text: "Tunisia",
            value: "world|Tunisia"
        },
        {
            text: "Bulgaria",
            value: "world|Bulgaria"
        },
        {
            text: "Turkey",
            value: "world|Turkey"
        },
        {
            text: "Bangladesh",
            value: "world|Bangladesh"
        },
        {
            text: "United Republic of Tanzania",
            value: "world|United Republic of Tanzania"
        },
        {
            text: "Burkina Faso",
            value: "world|Burkina Faso"
        },
        {
            text: "Uganda",
            value: "world|Uganda"
        },
        {
            text: "Benin",
            value: "world|Benin"
        },
        {
            text: "Ukraine",
            value: "world|Ukraine"
        },
        {
            text: "Belgium",
            value: "world|Belgium"
        },
        {
            text: "Uruguay",
            value: "world|Uruguay"
        },
        {
            text: "Burundi",
            value: "world|Burundi"
        },
        {
            text: "United States of America",
            value: "world|United States of America"
        },
        {
            text: "Azerbaijan",
            value: "world|Azerbaijan"
        },
        {
            text: "Uzbekistan",
            value: "world|Uzbekistan"
        },
        {
            text: "Austria",
            value: "world|Austria"
        },
        {
            text: "Venezuela",
            value: "world|Venezuela"
        },
        {
            text: "Australia",
            value: "world|Australia"
        },
        {
            text: "Vietnam",
            value: "world|Vietnam"
        },
        {
            text: "French Southern and Antarctic Lands",
            value: "world|French Southern and Antarctic Lands"
        },
        {
            text: "Vanuatu",
            value: "world|Vanuatu"
        },
        {
            text: "Armenia",
            value: "world|Armenia"
        },
        {
            text: "West Bank",
            value: "world|West Bank"
        },
        {
            text: "Argentina",
            value: "world|Argentina"
        },
        {
            text: "Yemen",
            value: "world|Yemen"
        },
        {
            text: "United Arab Emirates",
            value: "world|United Arab Emirates"
        },
        {
            text: "South Africa",
            value: "world|South Africa"
        },
        {
            text: "Albania",
            value: "world|Albania"
        },
        {
            text: "Zambia",
            value: "world|Zambia"
        },
        {
            text: "Angola",
            value: "world|Angola"
        },
        {
            text: "Zimbabwe",
            value: "world|Zimbabwe"
        },
        {
            text: "South Korea",
            value: "world|South Korea"
        }]
    },
    {
        text: "china",
        value: "china",
        children: [{
            text: "澳门",
            value: "china|澳门",
            childNum: 1
        },
        {
            text: "台湾",
            value: "china|台湾",
            childNum: 1
        },
        {
            text: "香港",
            value: "china|香港",
            childNum: 1
        },
        {
            text: "宁夏",
            value: "china|宁夏",
            childNum: 5
        },
        {
            text: "西藏",
            value: "china|西藏",
            childNum: 7
        },
        {
            text: "青海",
            value: "china|青海",
            childNum: 8
        },
        {
            text: "吉林",
            value: "china|吉林",
            childNum: 9
        },
        {
            text: "贵州",
            value: "china|贵州",
            childNum: 9
        },
        {
            text: "福建",
            value: "china|福建",
            childNum: 9
        },
        {
            text: "陕西",
            value: "china|陕西",
            childNum: 10
        },
        {
            text: "山西",
            value: "china|山西",
            childNum: 11
        },
        {
            text: "浙江",
            value: "china|浙江",
            childNum: 11
        },
        {
            text: "河北",
            value: "china|河北",
            childNum: 11
        },
        {
            text: "江西",
            value: "china|江西",
            childNum: 11
        },
        {
            text: "内蒙古",
            value: "china|内蒙古",
            childNum: 12
        },
        {
            text: "江苏",
            value: "china|江苏",
            childNum: 13
        },
        {
            text: "黑龙江",
            value: "china|黑龙江",
            childNum: 13
        },
        {
            text: "辽宁",
            value: "china|辽宁",
            childNum: 14
        },
        {
            text: "甘肃",
            value: "china|甘肃",
            childNum: 14
        },
        {
            text: "湖南",
            value: "china|湖南",
            childNum: 14
        },
        {
            text: "广西",
            value: "china|广西",
            childNum: 14
        },
        {
            text: "云南",
            value: "china|云南",
            childNum: 16
        },
        {
            text: "河南",
            value: "china|河南",
            childNum: 17
        },
        {
            text: "山东",
            value: "china|山东",
            childNum: 17
        },
        {
            text: "安徽",
            value: "china|安徽",
            childNum: 17
        },
        {
            text: "湖北",
            value: "china|湖北",
            childNum: 17
        },
        {
            text: "海南",
            value: "china|海南",
            childNum: 18
        },
        {
            text: "天津",
            value: "china|天津",
            childNum: 18
        },
        {
            text: "新疆",
            value: "china|新疆",
            childNum: 18
        },
        {
            text: "北京",
            value: "china|北京",
            childNum: 19
        },
        {
            text: "上海",
            value: "china|上海",
            childNum: 19
        },
        {
            text: "四川",
            value: "china|四川",
            childNum: 21
        },
        {
            text: "广东",
            value: "china|广东",
            childNum: 21
        },
        {
            text: "重庆",
            value: "china|重庆",
            childNum: 40
        }]
    },
    {
        text: "上海",
        value: "上海",
        children: [{
            text: "崇明县",
            value: "上海|崇明县",
            childNum: 1
        },
        {
            text: "松江区",
            value: "上海|松江区",
            childNum: 1
        },
        {
            text: "嘉定区",
            value: "上海|嘉定区",
            childNum: 1
        },
        {
            text: "宝山区",
            value: "上海|宝山区",
            childNum: 1
        },
        {
            text: "青浦区",
            value: "上海|青浦区",
            childNum: 1
        },
        {
            text: "杨浦区",
            value: "上海|杨浦区",
            childNum: 1
        },
        {
            text: "普陀区",
            value: "上海|普陀区",
            childNum: 1
        },
        {
            text: "徐汇区",
            value: "上海|徐汇区",
            childNum: 1
        },
        {
            text: "长宁区",
            value: "上海|长宁区",
            childNum: 1
        },
        {
            text: "闸北区",
            value: "上海|闸北区",
            childNum: 1
        },
        {
            text: "金山区",
            value: "上海|金山区",
            childNum: 1
        },
        {
            text: "虹口区",
            value: "上海|虹口区",
            childNum: 1
        },
        {
            text: "浦东新区",
            value: "上海|浦东新区",
            childNum: 1
        },
        {
            text: "黄浦区",
            value: "上海|黄浦区",
            childNum: 1
        },
        {
            text: "奉贤区",
            value: "上海|奉贤区",
            childNum: 1
        },
        {
            text: "卢湾区",
            value: "上海|卢湾区",
            childNum: 1
        },
        {
            text: "南汇区",
            value: "上海|南汇区",
            childNum: 1
        },
        {
            text: "静安区",
            value: "上海|静安区",
            childNum: 1
        },
        {
            text: "闵行区",
            value: "上海|闵行区",
            childNum: 1
        }]
    },
    {
        text: "云南",
        value: "云南",
        children: [{
            text: "西双版纳傣族自治州",
            value: "云南|西双版纳傣族自治州",
            childNum: 3
        },
        {
            text: "迪庆藏族自治州",
            value: "云南|迪庆藏族自治州",
            childNum: 3
        },
        {
            text: "怒江傈僳族自治州",
            value: "云南|怒江傈僳族自治州",
            childNum: 4
        },
        {
            text: "丽江市",
            value: "云南|丽江市",
            childNum: 5
        },
        {
            text: "保山市",
            value: "云南|保山市",
            childNum: 5
        },
        {
            text: "德宏傣族景颇族自治州",
            value: "云南|德宏傣族景颇族自治州",
            childNum: 5
        },
        {
            text: "文山壮族苗族自治州",
            value: "云南|文山壮族苗族自治州",
            childNum: 8
        },
        {
            text: "临沧市",
            value: "云南|临沧市",
            childNum: 8
        },
        {
            text: "玉溪市",
            value: "云南|玉溪市",
            childNum: 9
        },
        {
            text: "曲靖市",
            value: "云南|曲靖市",
            childNum: 9
        },
        {
            text: "楚雄彝族自治州",
            value: "云南|楚雄彝族自治州",
            childNum: 10
        },
        {
            text: "普洱市",
            value: "云南|普洱市",
            childNum: 10
        },
        {
            text: "昆明市",
            value: "云南|昆明市",
            childNum: 11
        },
        {
            text: "昭通市",
            value: "云南|昭通市",
            childNum: 11
        },
        {
            text: "大理白族自治州",
            value: "云南|大理白族自治州",
            childNum: 12
        },
        {
            text: "红河哈尼族彝族自治州",
            value: "云南|红河哈尼族彝族自治州",
            childNum: 13
        }]
    },
    {
        text: "内蒙古",
        value: "内蒙古",
        children: [{
            text: "乌海市",
            value: "内蒙古|乌海市",
            childNum: 1
        },
        {
            text: "阿拉善盟",
            value: "内蒙古|阿拉善盟",
            childNum: 3
        },
        {
            text: "包头市",
            value: "内蒙古|包头市",
            childNum: 5
        },
        {
            text: "呼和浩特市",
            value: "内蒙古|呼和浩特市",
            childNum: 6
        },
        {
            text: "兴安盟",
            value: "内蒙古|兴安盟",
            childNum: 6
        },
        {
            text: "巴彦淖尔市",
            value: "内蒙古|巴彦淖尔市",
            childNum: 7
        },
        {
            text: "鄂尔多斯市",
            value: "内蒙古|鄂尔多斯市",
            childNum: 8
        },
        {
            text: "通辽市",
            value: "内蒙古|通辽市",
            childNum: 8
        },
        {
            text: "赤峰市",
            value: "内蒙古|赤峰市",
            childNum: 10
        },
        {
            text: "乌兰察布市",
            value: "内蒙古|乌兰察布市",
            childNum: 11
        },
        {
            text: "锡林郭勒盟",
            value: "内蒙古|锡林郭勒盟",
            childNum: 12
        },
        {
            text: "呼伦贝尔市",
            value: "内蒙古|呼伦贝尔市",
            childNum: 13
        }]
    },
    {
        text: "北京",
        value: "北京",
        children: [{
            text: "密云县",
            value: "北京|密云县",
            childNum: 1
        },
        {
            text: "昌平区",
            value: "北京|昌平区",
            childNum: 1
        },
        {
            text: "大兴区",
            value: "北京|大兴区",
            childNum: 1
        },
        {
            text: "顺义区",
            value: "北京|顺义区",
            childNum: 1
        },
        {
            text: "门头沟区",
            value: "北京|门头沟区",
            childNum: 1
        },
        {
            text: "怀柔区",
            value: "北京|怀柔区",
            childNum: 1
        },
        {
            text: "宣武区",
            value: "北京|宣武区",
            childNum: 1
        },
        {
            text: "海淀区",
            value: "北京|海淀区",
            childNum: 1
        },
        {
            text: "丰台区",
            value: "北京|丰台区",
            childNum: 1
        },
        {
            text: "石景山区",
            value: "北京|石景山区",
            childNum: 1
        },
        {
            text: "延庆县",
            value: "北京|延庆县",
            childNum: 1
        },
        {
            text: "西城区",
            value: "北京|西城区",
            childNum: 1
        },
        {
            text: "房山区",
            value: "北京|房山区",
            childNum: 1
        },
        {
            text: "东城区",
            value: "北京|东城区",
            childNum: 1
        },
        {
            text: "平谷区",
            value: "北京|平谷区",
            childNum: 1
        },
        {
            text: "崇文区",
            value: "北京|崇文区",
            childNum: 1
        },
        {
            text: "通州区",
            value: "北京|通州区",
            childNum: 1
        },
        {
            text: "朝阳区",
            value: "北京|朝阳区",
            childNum: 2
        }]
    },
    {
        text: "台湾",
        value: "台湾",
        children: [{
            text: "台湾",
            value: "台湾|台湾",
            childNum: 1
        }]
    },
    {
        text: "吉林",
        value: "吉林",
        children: [{
            text: "辽源市",
            value: "吉林|辽源市",
            childNum: 3
        },
        {
            text: "白城市",
            value: "吉林|白城市",
            childNum: 5
        },
        {
            text: "松原市",
            value: "吉林|松原市",
            childNum: 5
        },
        {
            text: "长春市",
            value: "吉林|长春市",
            childNum: 5
        },
        {
            text: "白山市",
            value: "吉林|白山市",
            childNum: 5
        },
        {
            text: "四平市",
            value: "吉林|四平市",
            childNum: 5
        },
        {
            text: "吉林市",
            value: "吉林|吉林市",
            childNum: 6
        },
        {
            text: "通化市",
            value: "吉林|通化市",
            childNum: 7
        },
        {
            text: "延边朝鲜族自治州",
            value: "吉林|延边朝鲜族自治州",
            childNum: 8
        }]
    },
    {
        text: "四川",
        value: "四川",
        children: [{
            text: "自贡市",
            value: "四川|自贡市",
            childNum: 3
        },
        {
            text: "攀枝花市",
            value: "四川|攀枝花市",
            childNum: 3
        },
        {
            text: "遂宁市",
            value: "四川|遂宁市",
            childNum: 4
        },
        {
            text: "内江市",
            value: "四川|内江市",
            childNum: 4
        },
        {
            text: "资阳市",
            value: "四川|资阳市",
            childNum: 4
        },
        {
            text: "巴中市",
            value: "四川|巴中市",
            childNum: 4
        },
        {
            text: "广元市",
            value: "四川|广元市",
            childNum: 5
        },
        {
            text: "泸州市",
            value: "四川|泸州市",
            childNum: 5
        },
        {
            text: "广安市",
            value: "四川|广安市",
            childNum: 5
        },
        {
            text: "德阳市",
            value: "四川|德阳市",
            childNum: 6
        },
        {
            text: "眉山市",
            value: "四川|眉山市",
            childNum: 6
        },
        {
            text: "南充市",
            value: "四川|南充市",
            childNum: 7
        },
        {
            text: "达州市",
            value: "四川|达州市",
            childNum: 7
        },
        {
            text: "绵阳市",
            value: "四川|绵阳市",
            childNum: 8
        },
        {
            text: "雅安市",
            value: "四川|雅安市",
            childNum: 8
        },
        {
            text: "乐山市",
            value: "四川|乐山市",
            childNum: 9
        },
        {
            text: "宜宾市",
            value: "四川|宜宾市",
            childNum: 10
        },
        {
            text: "成都市",
            value: "四川|成都市",
            childNum: 11
        },
        {
            text: "阿坝藏族羌族自治州",
            value: "四川|阿坝藏族羌族自治州",
            childNum: 13
        },
        {
            text: "凉山彝族自治州",
            value: "四川|凉山彝族自治州",
            childNum: 17
        },
        {
            text: "甘孜藏族自治州",
            value: "四川|甘孜藏族自治州",
            childNum: 18
        }]
    },
    {
        text: "天津",
        value: "天津",
        children: [{
            text: "蓟县",
            value: "天津|蓟县",
            childNum: 1
        },
        {
            text: "大港区",
            value: "天津|大港区",
            childNum: 1
        },
        {
            text: "塘沽区",
            value: "天津|塘沽区",
            childNum: 1
        },
        {
            text: "西青区",
            value: "天津|西青区",
            childNum: 1
        },
        {
            text: "北辰区",
            value: "天津|北辰区",
            childNum: 1
        },
        {
            text: "宁河县",
            value: "天津|宁河县",
            childNum: 1
        },
        {
            text: "汉沽区",
            value: "天津|汉沽区",
            childNum: 1
        },
        {
            text: "津南区",
            value: "天津|津南区",
            childNum: 1
        },
        {
            text: "河西区",
            value: "天津|河西区",
            childNum: 1
        },
        {
            text: "河东区",
            value: "天津|河东区",
            childNum: 1
        },
        {
            text: "南开区",
            value: "天津|南开区",
            childNum: 1
        },
        {
            text: "静海县",
            value: "天津|静海县",
            childNum: 1
        },
        {
            text: "河北区",
            value: "天津|河北区",
            childNum: 1
        },
        {
            text: "宝坻区",
            value: "天津|宝坻区",
            childNum: 1
        },
        {
            text: "红桥区",
            value: "天津|红桥区",
            childNum: 1
        },
        {
            text: "武清区",
            value: "天津|武清区",
            childNum: 1
        },
        {
            text: "和平区",
            value: "天津|和平区",
            childNum: 1
        },
        {
            text: "东丽区",
            value: "天津|东丽区",
            childNum: 1
        }]
    },
    {
        text: "宁夏",
        value: "宁夏",
        children: [{
            text: "石嘴山市",
            value: "宁夏|石嘴山市",
            childNum: 2
        },
        {
            text: "中卫市",
            value: "宁夏|中卫市",
            childNum: 3
        },
        {
            text: "吴忠市",
            value: "宁夏|吴忠市",
            childNum: 4
        },
        {
            text: "银川市",
            value: "宁夏|银川市",
            childNum: 4
        },
        {
            text: "固原市",
            value: "宁夏|固原市",
            childNum: 6
        }]
    },
    {
        text: "安徽",
        value: "安徽",
        children: [{
            text: "马鞍山市",
            value: "安徽|马鞍山市",
            childNum: 2
        },
        {
            text: "淮南市",
            value: "安徽|淮南市",
            childNum: 2
        },
        {
            text: "铜陵市",
            value: "安徽|铜陵市",
            childNum: 3
        },
        {
            text: "淮北市",
            value: "安徽|淮北市",
            childNum: 3
        },
        {
            text: "芜湖市",
            value: "安徽|芜湖市",
            childNum: 4
        },
        {
            text: "蚌埠市",
            value: "安徽|蚌埠市",
            childNum: 4
        },
        {
            text: "合肥市",
            value: "安徽|合肥市",
            childNum: 4
        },
        {
            text: "池州市",
            value: "安徽|池州市",
            childNum: 4
        },
        {
            text: "亳州市",
            value: "安徽|亳州市",
            childNum: 4
        },
        {
            text: "巢湖市",
            value: "安徽|巢湖市",
            childNum: 5
        },
        {
            text: "黄山市",
            value: "安徽|黄山市",
            childNum: 5
        },
        {
            text: "宿州市",
            value: "安徽|宿州市",
            childNum: 5
        },
        {
            text: "阜阳市",
            value: "安徽|阜阳市",
            childNum: 6
        },
        {
            text: "六安市",
            value: "安徽|六安市",
            childNum: 6
        },
        {
            text: "宣城市",
            value: "安徽|宣城市",
            childNum: 7
        },
        {
            text: "滁州市",
            value: "安徽|滁州市",
            childNum: 7
        },
        {
            text: "安庆市",
            value: "安徽|安庆市",
            childNum: 9
        }]
    },
    {
        text: "山东",
        value: "山东",
        children: [{
            text: "莱芜市",
            value: "山东|莱芜市",
            childNum: 1
        },
        {
            text: "枣庄市",
            value: "山东|枣庄市",
            childNum: 2
        },
        {
            text: "日照市",
            value: "山东|日照市",
            childNum: 3
        },
        {
            text: "淄博市",
            value: "山东|淄博市",
            childNum: 4
        },
        {
            text: "威海市",
            value: "山东|威海市",
            childNum: 4
        },
        {
            text: "泰安市",
            value: "山东|泰安市",
            childNum: 5
        },
        {
            text: "东营市",
            value: "山东|东营市",
            childNum: 5
        },
        {
            text: "济南市",
            value: "山东|济南市",
            childNum: 5
        },
        {
            text: "青岛市",
            value: "山东|青岛市",
            childNum: 6
        },
        {
            text: "滨州市",
            value: "山东|滨州市",
            childNum: 7
        },
        {
            text: "聊城市",
            value: "山东|聊城市",
            childNum: 8
        },
        {
            text: "菏泽市",
            value: "山东|菏泽市",
            childNum: 9
        },
        {
            text: "潍坊市",
            value: "山东|潍坊市",
            childNum: 9
        },
        {
            text: "烟台市",
            value: "山东|烟台市",
            childNum: 9
        },
        {
            text: "临沂市",
            value: "山东|临沂市",
            childNum: 10
        },
        {
            text: "德州市",
            value: "山东|德州市",
            childNum: 11
        },
        {
            text: "济宁市",
            value: "山东|济宁市",
            childNum: 11
        }]
    },
    {
        text: "山西",
        value: "山西",
        children: [{
            text: "阳泉市",
            value: "山西|阳泉市",
            childNum: 3
        },
        {
            text: "太原市",
            value: "山西|太原市",
            childNum: 5
        },
        {
            text: "朔州市",
            value: "山西|朔州市",
            childNum: 5
        },
        {
            text: "晋城市",
            value: "山西|晋城市",
            childNum: 6
        },
        {
            text: "大同市",
            value: "山西|大同市",
            childNum: 8
        },
        {
            text: "晋中市",
            value: "山西|晋中市",
            childNum: 11
        },
        {
            text: "长治市",
            value: "山西|长治市",
            childNum: 12
        },
        {
            text: "吕梁市",
            value: "山西|吕梁市",
            childNum: 13
        },
        {
            text: "运城市",
            value: "山西|运城市",
            childNum: 13
        },
        {
            text: "忻州市",
            value: "山西|忻州市",
            childNum: 14
        },
        {
            text: "临汾市",
            value: "山西|临汾市",
            childNum: 17
        }]
    },
    {
        text: "广东",
        value: "广东",
        children: [{
            text: "中山市",
            value: "广东|中山市",
            childNum: 1
        },
        {
            text: "珠海市",
            value: "广东|珠海市",
            childNum: 1
        },
        {
            text: "佛山市",
            value: "广东|佛山市",
            childNum: 1
        },
        {
            text: "深圳市",
            value: "广东|深圳市",
            childNum: 1
        },
        {
            text: "东莞市",
            value: "广东|东莞市",
            childNum: 1
        },
        {
            text: "汕头市",
            value: "广东|汕头市",
            childNum: 2
        },
        {
            text: "潮州市",
            value: "广东|潮州市",
            childNum: 3
        },
        {
            text: "惠州市",
            value: "广东|惠州市",
            childNum: 4
        },
        {
            text: "阳江市",
            value: "广东|阳江市",
            childNum: 4
        },
        {
            text: "汕尾市",
            value: "广东|汕尾市",
            childNum: 4
        },
        {
            text: "江门市",
            value: "广东|江门市",
            childNum: 5
        },
        {
            text: "揭阳市",
            value: "广东|揭阳市",
            childNum: 5
        },
        {
            text: "茂名市",
            value: "广东|茂名市",
            childNum: 5
        },
        {
            text: "云浮市",
            value: "广东|云浮市",
            childNum: 5
        },
        {
            text: "河源市",
            value: "广东|河源市",
            childNum: 6
        },
        {
            text: "湛江市",
            value: "广东|湛江市",
            childNum: 6
        },
        {
            text: "肇庆市",
            value: "广东|肇庆市",
            childNum: 7
        },
        {
            text: "韶关市",
            value: "广东|韶关市",
            childNum: 8
        },
        {
            text: "梅州市",
            value: "广东|梅州市",
            childNum: 8
        },
        {
            text: "清远市",
            value: "广东|清远市",
            childNum: 8
        },
        {
            text: "广州市",
            value: "广东|广州市",
            childNum: 13
        }]
    },
    {
        text: "广西",
        value: "广西",
        children: [{
            text: "北海市",
            value: "广西|北海市",
            childNum: 2
        },
        {
            text: "防城港市",
            value: "广西|防城港市",
            childNum: 3
        },
        {
            text: "贵港市",
            value: "广西|贵港市",
            childNum: 3
        },
        {
            text: "钦州市",
            value: "广西|钦州市",
            childNum: 3
        },
        {
            text: "贺州市",
            value: "广西|贺州市",
            childNum: 4
        },
        {
            text: "来宾市",
            value: "广西|来宾市",
            childNum: 6
        },
        {
            text: "梧州市",
            value: "广西|梧州市",
            childNum: 6
        },
        {
            text: "玉林市",
            value: "广西|玉林市",
            childNum: 6
        },
        {
            text: "崇左市",
            value: "广西|崇左市",
            childNum: 7
        },
        {
            text: "柳州市",
            value: "广西|柳州市",
            childNum: 7
        },
        {
            text: "南宁市",
            value: "广西|南宁市",
            childNum: 7
        },
        {
            text: "河池市",
            value: "广西|河池市",
            childNum: 11
        },
        {
            text: "百色市",
            value: "广西|百色市",
            childNum: 12
        },
        {
            text: "桂林市",
            value: "广西|桂林市",
            childNum: 13
        }]
    },
    {
        text: "新疆",
        value: "新疆",
        children: [{
            text: "石河子市",
            value: "新疆|石河子市",
            childNum: 1
        },
        {
            text: "五家渠市",
            value: "新疆|五家渠市",
            childNum: 1
        },
        {
            text: "图木舒克市",
            value: "新疆|图木舒克市",
            childNum: 1
        },
        {
            text: "阿拉尔市",
            value: "新疆|阿拉尔市",
            childNum: 1
        },
        {
            text: "克拉玛依市",
            value: "新疆|克拉玛依市",
            childNum: 2
        },
        {
            text: "哈密地区",
            value: "新疆|哈密地区",
            childNum: 3
        },
        {
            text: "博尔塔拉蒙古自治州",
            value: "新疆|博尔塔拉蒙古自治州",
            childNum: 3
        },
        {
            text: "吐鲁番地区",
            value: "新疆|吐鲁番地区",
            childNum: 3
        },
        {
            text: "克孜勒苏柯尔克孜自治州",
            value: "新疆|克孜勒苏柯尔克孜自治州",
            childNum: 4
        },
        {
            text: "乌鲁木齐市",
            value: "新疆|乌鲁木齐市",
            childNum: 4
        },
        {
            text: "昌吉回族自治州",
            value: "新疆|昌吉回族自治州",
            childNum: 7
        },
        {
            text: "塔城地区",
            value: "新疆|塔城地区",
            childNum: 7
        },
        {
            text: "阿勒泰地区",
            value: "新疆|阿勒泰地区",
            childNum: 7
        },
        {
            text: "和田地区",
            value: "新疆|和田地区",
            childNum: 8
        },
        {
            text: "巴音郭楞蒙古自治州",
            value: "新疆|巴音郭楞蒙古自治州",
            childNum: 9
        },
        {
            text: "伊犁哈萨克自治州",
            value: "新疆|伊犁哈萨克自治州",
            childNum: 10
        },
        {
            text: "阿克苏地区",
            value: "新疆|阿克苏地区",
            childNum: 10
        },
        {
            text: "喀什地区",
            value: "新疆|喀什地区",
            childNum: 13
        }]
    },
    {
        text: "江苏",
        value: "江苏",
        children: [{
            text: "常州市",
            value: "江苏|常州市",
            childNum: 3
        },
        {
            text: "无锡市",
            value: "江苏|无锡市",
            childNum: 3
        },
        {
            text: "南京市",
            value: "江苏|南京市",
            childNum: 3
        },
        {
            text: "镇江市",
            value: "江苏|镇江市",
            childNum: 4
        },
        {
            text: "宿迁市",
            value: "江苏|宿迁市",
            childNum: 4
        },
        {
            text: "淮安市",
            value: "江苏|淮安市",
            childNum: 5
        },
        {
            text: "泰州市",
            value: "江苏|泰州市",
            childNum: 5
        },
        {
            text: "扬州市",
            value: "江苏|扬州市",
            childNum: 5
        },
        {
            text: "连云港市",
            value: "江苏|连云港市",
            childNum: 5
        },
        {
            text: "苏州市",
            value: "江苏|苏州市",
            childNum: 6
        },
        {
            text: "徐州市",
            value: "江苏|徐州市",
            childNum: 7
        },
        {
            text: "南通市",
            value: "江苏|南通市",
            childNum: 7
        },
        {
            text: "盐城市",
            value: "江苏|盐城市",
            childNum: 8
        }]
    },
    {
        text: "江西",
        value: "江西",
        children: [{
            text: "新余市",
            value: "江西|新余市",
            childNum: 2
        },
        {
            text: "鹰潭市",
            value: "江西|鹰潭市",
            childNum: 3
        },
        {
            text: "景德镇市",
            value: "江西|景德镇市",
            childNum: 3
        },
        {
            text: "萍乡市",
            value: "江西|萍乡市",
            childNum: 4
        },
        {
            text: "南昌市",
            value: "江西|南昌市",
            childNum: 6
        },
        {
            text: "宜春市",
            value: "江西|宜春市",
            childNum: 10
        },
        {
            text: "抚州市",
            value: "江西|抚州市",
            childNum: 11
        },
        {
            text: "吉安市",
            value: "江西|吉安市",
            childNum: 12
        },
        {
            text: "九江市",
            value: "江西|九江市",
            childNum: 12
        },
        {
            text: "上饶市",
            value: "江西|上饶市",
            childNum: 12
        },
        {
            text: "赣州市",
            value: "江西|赣州市",
            childNum: 18
        }]
    },
    {
        text: "河北",
        value: "河北",
        children: [{
            text: "秦皇岛市",
            value: "河北|秦皇岛市",
            childNum: 5
        },
        {
            text: "廊坊市",
            value: "河北|廊坊市",
            childNum: 9
        },
        {
            text: "衡水市",
            value: "河北|衡水市",
            childNum: 11
        },
        {
            text: "唐山市",
            value: "河北|唐山市",
            childNum: 11
        },
        {
            text: "承德市",
            value: "河北|承德市",
            childNum: 11
        },
        {
            text: "张家口市",
            value: "河北|张家口市",
            childNum: 15
        },
        {
            text: "沧州市",
            value: "河北|沧州市",
            childNum: 15
        },
        {
            text: "邢台市",
            value: "河北|邢台市",
            childNum: 18
        },
        {
            text: "邯郸市",
            value: "河北|邯郸市",
            childNum: 18
        },
        {
            text: "石家庄市",
            value: "河北|石家庄市",
            childNum: 19
        },
        {
            text: "保定市",
            value: "河北|保定市",
            childNum: 23
        }]
    },
    {
        text: "河南",
        value: "河南",
        children: [{
            text: "鹤壁市",
            value: "河南|鹤壁市",
            childNum: 3
        },
        {
            text: "漯河市",
            value: "河南|漯河市",
            childNum: 3
        },
        {
            text: "濮阳市",
            value: "河南|濮阳市",
            childNum: 6
        },
        {
            text: "许昌市",
            value: "河南|许昌市",
            childNum: 6
        },
        {
            text: "三门峡市",
            value: "河南|三门峡市",
            childNum: 6
        },
        {
            text: "开封市",
            value: "河南|开封市",
            childNum: 6
        },
        {
            text: "安阳市",
            value: "河南|安阳市",
            childNum: 6
        },
        {
            text: "商丘市",
            value: "河南|商丘市",
            childNum: 8
        },
        {
            text: "焦作市",
            value: "河南|焦作市",
            childNum: 8
        },
        {
            text: "郑州市",
            value: "河南|郑州市",
            childNum: 8
        },
        {
            text: "平顶山市",
            value: "河南|平顶山市",
            childNum: 8
        },
        {
            text: "信阳市",
            value: "河南|信阳市",
            childNum: 9
        },
        {
            text: "新乡市",
            value: "河南|新乡市",
            childNum: 9
        },
        {
            text: "周口市",
            value: "河南|周口市",
            childNum: 10
        },
        {
            text: "驻马店市",
            value: "河南|驻马店市",
            childNum: 10
        },
        {
            text: "洛阳市",
            value: "河南|洛阳市",
            childNum: 11
        },
        {
            text: "南阳市",
            value: "河南|南阳市",
            childNum: 12
        }]
    },
    {
        text: "浙江",
        value: "浙江",
        children: [{
            text: "舟山市",
            value: "浙江|舟山市",
            childNum: 3
        },
        {
            text: "湖州市",
            value: "浙江|湖州市",
            childNum: 4
        },
        {
            text: "衢州市",
            value: "浙江|衢州市",
            childNum: 5
        },
        {
            text: "嘉兴市",
            value: "浙江|嘉兴市",
            childNum: 6
        },
        {
            text: "宁波市",
            value: "浙江|宁波市",
            childNum: 6
        },
        {
            text: "杭州市",
            value: "浙江|杭州市",
            childNum: 6
        },
        {
            text: "绍兴市",
            value: "浙江|绍兴市",
            childNum: 6
        },
        {
            text: "台州市",
            value: "浙江|台州市",
            childNum: 7
        },
        {
            text: "金华市",
            value: "浙江|金华市",
            childNum: 8
        },
        {
            text: "温州市",
            value: "浙江|温州市",
            childNum: 9
        },
        {
            text: "丽水市",
            value: "浙江|丽水市",
            childNum: 9
        }]
    },
    {
        text: "海南",
        value: "海南",
        children: [{
            text: "儋州市",
            value: "海南|儋州市",
            childNum: 1
        },
        {
            text: "东方市",
            value: "海南|东方市",
            childNum: 1
        },
        {
            text: "海口市",
            value: "海南|海口市",
            childNum: 1
        },
        {
            text: "万宁市",
            value: "海南|万宁市",
            childNum: 1
        },
        {
            text: "澄迈县",
            value: "海南|澄迈县",
            childNum: 1
        },
        {
            text: "琼中黎族苗族自治县",
            value: "海南|琼中黎族苗族自治县",
            childNum: 1
        },
        {
            text: "琼海市",
            value: "海南|琼海市",
            childNum: 1
        },
        {
            text: "昌江黎族自治县",
            value: "海南|昌江黎族自治县",
            childNum: 1
        },
        {
            text: "临高县",
            value: "海南|临高县",
            childNum: 1
        },
        {
            text: "陵水黎族自治县",
            value: "海南|陵水黎族自治县",
            childNum: 1
        },
        {
            text: "屯昌县",
            value: "海南|屯昌县",
            childNum: 1
        },
        {
            text: "三亚市",
            value: "海南|三亚市",
            childNum: 1
        },
        {
            text: "定安县",
            value: "海南|定安县",
            childNum: 1
        },
        {
            text: "乐东黎族自治县",
            value: "海南|乐东黎族自治县",
            childNum: 1
        },
        {
            text: "保亭黎族苗族自治县",
            value: "海南|保亭黎族苗族自治县",
            childNum: 1
        },
        {
            text: "文昌市",
            value: "海南|文昌市",
            childNum: 1
        },
        {
            text: "五指山市",
            value: "海南|五指山市",
            childNum: 1
        },
        {
            text: "白沙黎族自治县",
            value: "海南|白沙黎族自治县",
            childNum: 1
        }]
    },
    {
        text: "湖北",
        value: "湖北",
        children: [{
            text: "鄂州市",
            value: "湖北|鄂州市",
            childNum: 1
        },
        {
            text: "潜江市",
            value: "湖北|潜江市",
            childNum: 1
        },
        {
            text: "仙桃市",
            value: "湖北|仙桃市",
            childNum: 1
        },
        {
            text: "天门市",
            value: "湖北|天门市",
            childNum: 1
        },
        {
            text: "神农架林区",
            value: "湖北|神农架林区",
            childNum: 1
        },
        {
            text: "武汉市",
            value: "湖北|武汉市",
            childNum: 1
        },
        {
            text: "随州市",
            value: "湖北|随州市",
            childNum: 2
        },
        {
            text: "黄石市",
            value: "湖北|黄石市",
            childNum: 3
        },
        {
            text: "荆门市",
            value: "湖北|荆门市",
            childNum: 4
        },
        {
            text: "咸宁市",
            value: "湖北|咸宁市",
            childNum: 6
        },
        {
            text: "孝感市",
            value: "湖北|孝感市",
            childNum: 7
        },
        {
            text: "荆州市",
            value: "湖北|荆州市",
            childNum: 7
        },
        {
            text: "襄樊市",
            value: "湖北|襄樊市",
            childNum: 7
        },
        {
            text: "恩施土家族苗族自治州",
            value: "湖北|恩施土家族苗族自治州",
            childNum: 8
        },
        {
            text: "十堰市",
            value: "湖北|十堰市",
            childNum: 9
        },
        {
            text: "宜昌市",
            value: "湖北|宜昌市",
            childNum: 9
        },
        {
            text: "黄冈市",
            value: "湖北|黄冈市",
            childNum: 10
        }]
    },
    {
        text: "湖南",
        value: "湖南",
        children: [{
            text: "张家界市",
            value: "湖南|张家界市",
            childNum: 3
        },
        {
            text: "湘潭市",
            value: "湖南|湘潭市",
            childNum: 4
        },
        {
            text: "娄底市",
            value: "湖南|娄底市",
            childNum: 5
        },
        {
            text: "长沙市",
            value: "湖南|长沙市",
            childNum: 5
        },
        {
            text: "益阳市",
            value: "湖南|益阳市",
            childNum: 5
        },
        {
            text: "株洲市",
            value: "湖南|株洲市",
            childNum: 6
        },
        {
            text: "岳阳市",
            value: "湖南|岳阳市",
            childNum: 7
        },
        {
            text: "湘西土家族苗族自治州",
            value: "湖南|湘西土家族苗族自治州",
            childNum: 8
        },
        {
            text: "常德市",
            value: "湖南|常德市",
            childNum: 8
        },
        {
            text: "衡阳市",
            value: "湖南|衡阳市",
            childNum: 9
        },
        {
            text: "永州市",
            value: "湖南|永州市",
            childNum: 10
        },
        {
            text: "郴州市",
            value: "湖南|郴州市",
            childNum: 10
        },
        {
            text: "邵阳市",
            value: "湖南|邵阳市",
            childNum: 10
        },
        {
            text: "怀化市",
            value: "湖南|怀化市",
            childNum: 12
        }]
    },
    {
        text: "澳门",
        value: "澳门",
        children: [{
            text: "澳门",
            value: "澳门|澳门",
            childNum: 1
        }]
    },
    {
        text: "甘肃",
        value: "甘肃",
        children: [{
            text: "嘉峪关市",
            value: "甘肃|嘉峪关市",
            childNum: 1
        },
        {
            text: "金昌市",
            value: "甘肃|金昌市",
            childNum: 2
        },
        {
            text: "武威市",
            value: "甘肃|武威市",
            childNum: 4
        },
        {
            text: "兰州市",
            value: "甘肃|兰州市",
            childNum: 5
        },
        {
            text: "白银市",
            value: "甘肃|白银市",
            childNum: 6
        },
        {
            text: "天水市",
            value: "甘肃|天水市",
            childNum: 6
        },
        {
            text: "平凉市",
            value: "甘肃|平凉市",
            childNum: 7
        },
        {
            text: "定西市",
            value: "甘肃|定西市",
            childNum: 7
        },
        {
            text: "庆阳市",
            value: "甘肃|庆阳市",
            childNum: 8
        },
        {
            text: "临夏回族自治州",
            value: "甘肃|临夏回族自治州",
            childNum: 8
        },
        {
            text: "酒泉市",
            value: "甘肃|酒泉市",
            childNum: 8
        },
        {
            text: "张掖市",
            value: "甘肃|张掖市",
            childNum: 9
        },
        {
            text: "陇南市",
            value: "甘肃|陇南市",
            childNum: 9
        },
        {
            text: "甘南藏族自治州",
            value: "甘肃|甘南藏族自治州",
            childNum: 9
        }]
    },
    {
        text: "福建",
        value: "福建",
        children: [{
            text: "厦门市",
            value: "福建|厦门市",
            childNum: 1
        },
        {
            text: "莆田市",
            value: "福建|莆田市",
            childNum: 2
        },
        {
            text: "龙岩市",
            value: "福建|龙岩市",
            childNum: 7
        },
        {
            text: "宁德市",
            value: "福建|宁德市",
            childNum: 9
        },
        {
            text: "福州市",
            value: "福建|福州市",
            childNum: 9
        },
        {
            text: "泉州市",
            value: "福建|泉州市",
            childNum: 9
        },
        {
            text: "南平市",
            value: "福建|南平市",
            childNum: 10
        },
        {
            text: "漳州市",
            value: "福建|漳州市",
            childNum: 10
        },
        {
            text: "三明市",
            value: "福建|三明市",
            childNum: 11
        }]
    },
    {
        text: "西藏",
        value: "西藏",
        children: [{
            text: "阿里地区",
            value: "西藏|阿里地区",
            childNum: 7
        },
        {
            text: "林芝地区",
            value: "西藏|林芝地区",
            childNum: 7
        },
        {
            text: "拉萨市",
            value: "西藏|拉萨市",
            childNum: 8
        },
        {
            text: "那曲地区",
            value: "西藏|那曲地区",
            childNum: 10
        },
        {
            text: "昌都地区",
            value: "西藏|昌都地区",
            childNum: 11
        },
        {
            text: "山南地区",
            value: "西藏|山南地区",
            childNum: 12
        },
        {
            text: "日喀则地区",
            value: "西藏|日喀则地区",
            childNum: 18
        }]
    },
    {
        text: "贵州",
        value: "贵州",
        children: [{
            text: "六盘水市",
            value: "贵州|六盘水市",
            childNum: 5
        },
        {
            text: "贵阳市",
            value: "贵州|贵阳市",
            childNum: 5
        },
        {
            text: "安顺市",
            value: "贵州|安顺市",
            childNum: 6
        },
        {
            text: "毕节地区",
            value: "贵州|毕节地区",
            childNum: 8
        },
        {
            text: "黔西南布依族苗族自治州",
            value: "贵州|黔西南布依族苗族自治州",
            childNum: 8
        },
        {
            text: "铜仁地区",
            value: "贵州|铜仁地区",
            childNum: 10
        },
        {
            text: "黔南布依族苗族自治州",
            value: "贵州|黔南布依族苗族自治州",
            childNum: 12
        },
        {
            text: "遵义市",
            value: "贵州|遵义市",
            childNum: 14
        },
        {
            text: "黔东南苗族侗族自治州",
            value: "贵州|黔东南苗族侗族自治州",
            childNum: 17
        }]
    },
    {
        text: "辽宁",
        value: "辽宁",
        children: [{
            text: "盘锦市",
            value: "辽宁|盘锦市",
            childNum: 3
        },
        {
            text: "本溪市",
            value: "辽宁|本溪市",
            childNum: 3
        },
        {
            text: "丹东市",
            value: "辽宁|丹东市",
            childNum: 4
        },
        {
            text: "营口市",
            value: "辽宁|营口市",
            childNum: 4
        },
        {
            text: "抚顺市",
            value: "辽宁|抚顺市",
            childNum: 4
        },
        {
            text: "葫芦岛市",
            value: "辽宁|葫芦岛市",
            childNum: 4
        },
        {
            text: "鞍山市",
            value: "辽宁|鞍山市",
            childNum: 4
        },
        {
            text: "阜新市",
            value: "辽宁|阜新市",
            childNum: 4
        },
        {
            text: "锦州市",
            value: "辽宁|锦州市",
            childNum: 5
        },
        {
            text: "沈阳市",
            value: "辽宁|沈阳市",
            childNum: 5
        },
        {
            text: "辽阳市",
            value: "辽宁|辽阳市",
            childNum: 5
        },
        {
            text: "大连市",
            value: "辽宁|大连市",
            childNum: 5
        },
        {
            text: "朝阳市",
            value: "辽宁|朝阳市",
            childNum: 6
        },
        {
            text: "铁岭市",
            value: "辽宁|铁岭市",
            childNum: 7
        }]
    },
    {
        text: "重庆",
        value: "重庆",
        children: [{
            text: "酉阳土家族苗族自治县",
            value: "重庆|酉阳土家族苗族自治县",
            childNum: 1
        },
        {
            text: "黔江区",
            value: "重庆|黔江区",
            childNum: 1
        },
        {
            text: "合川区",
            value: "重庆|合川区",
            childNum: 1
        },
        {
            text: "綦江县",
            value: "重庆|綦江县",
            childNum: 1
        },
        {
            text: "忠县",
            value: "重庆|忠县",
            childNum: 1
        },
        {
            text: "秀山土家族苗族自治县",
            value: "重庆|秀山土家族苗族自治县",
            childNum: 1
        },
        {
            text: "巴南区",
            value: "重庆|巴南区",
            childNum: 1
        },
        {
            text: "潼南县",
            value: "重庆|潼南县",
            childNum: 1
        },
        {
            text: "永川区",
            value: "重庆|永川区",
            childNum: 1
        },
        {
            text: "垫江县",
            value: "重庆|垫江县",
            childNum: 1
        },
        {
            text: "渝北区",
            value: "重庆|渝北区",
            childNum: 1
        },
        {
            text: "南川区",
            value: "重庆|南川区",
            childNum: 1
        },
        {
            text: "长寿区",
            value: "重庆|长寿区",
            childNum: 1
        },
        {
            text: "武隆县",
            value: "重庆|武隆县",
            childNum: 1
        },
        {
            text: "大足县",
            value: "重庆|大足县",
            childNum: 1
        },
        {
            text: "丰都县",
            value: "重庆|丰都县",
            childNum: 1
        },
        {
            text: "铜梁县",
            value: "重庆|铜梁县",
            childNum: 1
        },
        {
            text: "涪陵区",
            value: "重庆|涪陵区",
            childNum: 1
        },
        {
            text: "荣昌县",
            value: "重庆|荣昌县",
            childNum: 1
        },
        {
            text: "巫山县",
            value: "重庆|巫山县",
            childNum: 1
        },
        {
            text: "璧山县",
            value: "重庆|璧山县",
            childNum: 1
        },
        {
            text: "石柱土家族自治县",
            value: "重庆|石柱土家族自治县",
            childNum: 1
        },
        {
            text: "北碚区",
            value: "重庆|北碚区",
            childNum: 1
        },
        {
            text: "江津区",
            value: "重庆|江津区",
            childNum: 1
        },
        {
            text: "万盛区",
            value: "重庆|万盛区",
            childNum: 1
        },
        {
            text: "城口县",
            value: "重庆|城口县",
            childNum: 1
        },
        {
            text: "九龙坡区",
            value: "重庆|九龙坡区",
            childNum: 1
        },
        {
            text: "万州区",
            value: "重庆|万州区",
            childNum: 1
        },
        {
            text: "沙坪坝区",
            value: "重庆|沙坪坝区",
            childNum: 1
        },
        {
            text: "云阳县",
            value: "重庆|云阳县",
            childNum: 1
        },
        {
            text: "南岸区",
            value: "重庆|南岸区",
            childNum: 1
        },
        {
            text: "彭水苗族土家族自治县",
            value: "重庆|彭水苗族土家族自治县",
            childNum: 1
        },
        {
            text: "江北区",
            value: "重庆|江北区",
            childNum: 1
        },
        {
            text: "开县",
            value: "重庆|开县",
            childNum: 1
        },
        {
            text: "大渡口区",
            value: "重庆|大渡口区",
            childNum: 1
        },
        {
            text: "巫溪县",
            value: "重庆|巫溪县",
            childNum: 1
        },
        {
            text: "双桥区",
            value: "重庆|双桥区",
            childNum: 1
        },
        {
            text: "奉节县",
            value: "重庆|奉节县",
            childNum: 1
        },
        {
            text: "渝中区",
            value: "重庆|渝中区",
            childNum: 1
        },
        {
            text: "梁平县",
            value: "重庆|梁平县",
            childNum: 1
        }]
    },
    {
        text: "陕西",
        value: "陕西",
        children: [{
            text: "铜川市",
            value: "陕西|铜川市",
            childNum: 2
        },
        {
            text: "西安市",
            value: "陕西|西安市",
            childNum: 5
        },
        {
            text: "商洛市",
            value: "陕西|商洛市",
            childNum: 7
        },
        {
            text: "安康市",
            value: "陕西|安康市",
            childNum: 10
        },
        {
            text: "宝鸡市",
            value: "陕西|宝鸡市",
            childNum: 10
        },
        {
            text: "汉中市",
            value: "陕西|汉中市",
            childNum: 11
        },
        {
            text: "渭南市",
            value: "陕西|渭南市",
            childNum: 11
        },
        {
            text: "榆林市",
            value: "陕西|榆林市",
            childNum: 12
        },
        {
            text: "延安市",
            value: "陕西|延安市",
            childNum: 13
        },
        {
            text: "咸阳市",
            value: "陕西|咸阳市",
            childNum: 14
        }]
    },
    {
        text: "青海",
        value: "青海",
        children: [{
            text: "海北藏族自治州",
            value: "青海|海北藏族自治州",
            childNum: 4
        },
        {
            text: "黄南藏族自治州",
            value: "青海|黄南藏族自治州",
            childNum: 4
        },
        {
            text: "西宁市",
            value: "青海|西宁市",
            childNum: 4
        },
        {
            text: "海南藏族自治州",
            value: "青海|海南藏族自治州",
            childNum: 5
        },
        {
            text: "玉树藏族自治州",
            value: "青海|玉树藏族自治州",
            childNum: 6
        },
        {
            text: "果洛藏族自治州",
            value: "青海|果洛藏族自治州",
            childNum: 6
        },
        {
            text: "海东地区",
            value: "青海|海东地区",
            childNum: 6
        },
        {
            text: "海西蒙古族藏族自治州",
            value: "青海|海西蒙古族藏族自治州",
            childNum: 7
        }]
    },
    {
        text: "香港",
        value: "香港",
        children: [{
            text: "香港",
            value: "香港|香港",
            childNum: 1
        }]
    },
    {
        text: "黑龙江",
        value: "黑龙江",
        children: [{
            text: "七台河市",
            value: "黑龙江|七台河市",
            childNum: 2
        },
        {
            text: "鹤岗市",
            value: "黑龙江|鹤岗市",
            childNum: 3
        },
        {
            text: "大兴安岭地区",
            value: "黑龙江|大兴安岭地区",
            childNum: 3
        },
        {
            text: "伊春市",
            value: "黑龙江|伊春市",
            childNum: 3
        },
        {
            text: "鸡西市",
            value: "黑龙江|鸡西市",
            childNum: 4
        },
        {
            text: "双鸭山市",
            value: "黑龙江|双鸭山市",
            childNum: 5
        },
        {
            text: "大庆市",
            value: "黑龙江|大庆市",
            childNum: 5
        },
        {
            text: "黑河市",
            value: "黑龙江|黑河市",
            childNum: 6
        },
        {
            text: "牡丹江市",
            value: "黑龙江|牡丹江市",
            childNum: 7
        },
        {
            text: "佳木斯市",
            value: "黑龙江|佳木斯市",
            childNum: 7
        },
        {
            text: "绥化市",
            value: "黑龙江|绥化市",
            childNum: 10
        },
        {
            text: "齐齐哈尔市",
            value: "黑龙江|齐齐哈尔市",
            childNum: 11
        },
        {
            text: "哈尔滨市",
            value: "黑龙江|哈尔滨市",
            childNum: 11
        }]
    }];
    return {
        metaList: t,
        defaultValue: e
    }
}),
define("common/component/value/floatInputDecorator", ["require", "jquery", "common/core/lib"],
function(require) {
    function e(e) {
        return e.value.extendWriter(n.curry(t, e.min, e.max)),
        e
    }
    function t(e, t, n, o, r, s) {
        if (o = parseFloat(i.trim(o + "")), o || 0 === o) {
            if (null != e && e > o) o = e;
            if (null != t && o > t) o = t;
            n(o, r, s)
        }
    }
    var i = require("jquery"),
    n = require("common/core/lib");
    return e
}),
define("wave/gadget/gadgetDpctRaw", ["require", "common/core/lang", "common/core/ecMapDataMeta", "common/component/value/floatInputDecorator", "common/core/constant", "common/core/themeMgr"],
function(require) {
    function e(e) {
        for (var t = 0,
        i = e.length; i > t; t++) e[t] = n({
            value: e[t]
        }).value;
        return e
    }
    var t = require("common/core/lang").string.cfg,
    i = require("common/core/ecMapDataMeta"),
    n = require("common/component/value/floatInputDecorator"),
    o = require("common/core/constant"),
    r = require("common/core/themeMgr"),
    s = 10,
    a = 15,
    l = 30,
    h = "#C4EAFC",
    c = ["#ff7f50", "#87cefa", "#da70d6", "#32cd32", "#6495ed", "#ff69b4", "#ba55d3", "#cd5c5c", "#ffa500", "#40e0d0", "#1e90ff", "#ff6347", "#7b68ee", "#00fa9a", "#ffd700", "#6699FF", "#ff6666", "#3cb371", "#b8860b", "#30e0e0"],
    u = [[.2, "#228b22"], [.8, "#48b"], [1, "#ff4500"]];
    return {
        bool: {
            ui: "wave/gadget/BooleanGadget",
            data: [{
                value: !0,
                text: t.booleanTrue
            },
            {
                value: !1,
                text: t.booleanFalse
            }],
            defaultValue: !1
        },
        measure: {
            ui: "wave/gadget/MeasureGadget",
            unit: "px",
            precision: 0,
            max: 3e3,
            min: -3e3,
            defaultValue: 0
        },
        rangeMeasure: {
            ui: "wave/gadget/RangeMeasureGadget",
            unit: "px",
            precision: 0,
            max: 3e3,
            min: -3e3,
            defaultValue: {
                value0: 0,
                value1: 10
            }
        },
        color: {
            ui: "wave/gadget/ColorGadget",
            colorMode: "hex",
            defaultValue: h
        },
        colorRGBA: {
            ui: "wave/gadget/ColorGadget",
            colorMode: "rgba",
            defaultValue: h
        },
        text: {
            ui: "wave/gadget/TextInputGadget",
            defaultValue: ""
        },
        textList: {
            ui: "wave/gadget/TextListGadget",
            defaultValue: ["", ""],
            size: 2
        },
        floatList: {
            ui: "wave/gadget/TextListGadget",
            defaultValue: [0, 1],
            size: 2,
            decorateValue: e
        },
        floatTyping: {
            ui: "wave/gadget/FloatInputGadget",
            defaultValue: 0
        },
        link: {
            ui: "wave/gadget/TextInputGadget",
            defaultValue: "http://"
        },
        select: {
            ui: "wave/gadget/SelectGadget"
        },
        colorList: {
            ui: "wave/gadget/ColorListGadget",
            colorMode: "hex",
            defaultValue: c
        },
        colorListRGBA: {
            ui: "wave/gadget/ColorListGadget",
            colorMode: "rgba",
            defaultValue: c
        },
        ratioColorList: {
            ui: "wave/gadget/RatioColorListGadget",
            colorMode: "hex",
            defaultValue: u
        },
        ratioColorListRGBA: {
            ui: "wave/gadget/RatioColorListGadget",
            colorMode: "rgba",
            defaultValue: u
        },
        arrayValue: {
            ui: "wave/gadget/ArrayValueGadget",
            arrayConf: null
        },
        mapType: {
            ui: "wave/gadget/MapTypeSelectGadget",
            data: i.metaList,
            defaultValue: i.defaultValue
        },
        formatter: {
            ui: "wave/gadget/FormatterGadget",
            descHTML: "",
            defaultValue: ""
        },
        xyCenter: {
            gadget: "arrayValue",
            arrayConf: [{
                label: "x",
                gadget: [{
                    type: "percentStr",
                    defaultValue: 50
                },
                {
                    type: "measure",
                    min: 0,
                    max: 1400,
                    defaultValue: 200
                }]
            },
            {
                label: "y",
                gadget: [{
                    type: "percentStr",
                    defaultValue: 50
                },
                {
                    type: "measure",
                    min: 0,
                    max: 800,
                    defaultValue: 200
                }]
            }]
        },
        xyOffsetCenter: {
            gadget: "arrayValue",
            arrayConf: [{
                label: "x",
                gadget: [{
                    type: "measure",
                    min: -300,
                    max: 300,
                    defaultValue: 0
                }]
            },
            {
                label: "y",
                gadget: [{
                    type: "measure",
                    min: -300,
                    max: 300,
                    defaultValue: 0
                }]
            }]
        },
        rangeRadius: {
            gadget: "arrayValue",
            arrayConf: [{
                label: t.innerRadius,
                gadget: [{
                    type: "percentStr",
                    defaultValue: 20
                },
                {
                    type: "measure",
                    min: 0,
                    max: 1400,
                    defaultValue: 30
                }]
            },
            {
                label: t.outerRadius,
                gadget: [{
                    type: "percentStr",
                    defaultValue: 60
                },
                {
                    type: "measure",
                    min: 0,
                    max: 1400,
                    defaultValue: 300
                }]
            }]
        },
        symbolSizeMinMax: {
            gadget: "arrayValue",
            arrayConf: [{
                css: "dtm-symbol-size-radius",
                label: t.seriesBubbleSymbolSizeMin,
                gadget: {
                    type: "measure",
                    min: 1,
                    max: 100,
                    defaultValue: 4
                }
            },
            {
                css: "dtm-symbol-size-radius",
                label: t.seriesBubbleSymbolSizeMax,
                gadget: {
                    type: "measure",
                    min: 1,
                    max: 100,
                    defaultValue: 20
                }
            }]
        },
        easing: {
            gadget: "select",
            data: [{
                value: "Linear",
                text: "Linear"
            },
            {
                value: "QuadraticIn",
                text: "QuadraticIn"
            },
            {
                value: "QuadraticOut",
                text: "QuadraticOut"
            },
            {
                value: "QuadraticInOut",
                text: "QuadraticInOut"
            },
            {
                value: "CubicIn",
                text: "CubicIn"
            },
            {
                value: "CubicOut",
                text: "CubicOut"
            },
            {
                value: "CubicInOut",
                text: "CubicInOut"
            },
            {
                value: "QuarticIn",
                text: "QuarticIn"
            },
            {
                value: "QuarticOut",
                text: "QuarticOut"
            },
            {
                value: "QuarticInOut",
                text: "QuarticInOut"
            },
            {
                value: "QuinticIn",
                text: "QuinticIn"
            },
            {
                value: "QuinticOut",
                text: "QuinticOut"
            },
            {
                value: "QuinticInOut",
                text: "QuinticInOut"
            },
            {
                value: "SinusoidalIn",
                text: "SinusoidalIn"
            },
            {
                value: "SinusoidalOut",
                text: "SinusoidalOut"
            },
            {
                value: "SinusoidalInOut",
                text: "SinusoidalInOut"
            },
            {
                value: "ExponentialIn",
                text: "ExponentialIn"
            },
            {
                value: "ExponentialOut",
                text: "ExponentialOut"
            },
            {
                value: "ExponentialInOut",
                text: "ExponentialInOut"
            },
            {
                value: "CircularIn",
                text: "CircularIn"
            },
            {
                value: "CircularOut",
                text: "CircularOut"
            },
            {
                value: "CircularInOut",
                text: "CircularInOut"
            },
            {
                value: "ElasticIn",
                text: "ElasticIn"
            },
            {
                value: "ElasticOut",
                text: "ElasticOut"
            },
            {
                value: "ElasticInOut",
                text: "ElasticInOut"
            },
            {
                value: "BackIn",
                text: "BackIn"
            },
            {
                value: "BackOut",
                text: "BackOut"
            },
            {
                value: "BackInOut",
                text: "BackInOut"
            },
            {
                value: "BounceIn",
                text: "BounceIn"
            },
            {
                value: "BounceOut",
                text: "BounceOut"
            },
            {
                value: "BounceInOut",
                text: "BounceInOut"
            }],
            defaultValue: "BounceOut"
        },
        padding: {
            gadget: "measure",
            min: 0,
            max: s,
            defaultValue: 0
        },
        borderRadius: {
            gadget: "measure",
            min: 0,
            max: a
        },
        borderWidth: {
            gadget: "measure",
            min: 0,
            max: l
        },
        percentStr: {
            gadget: "measure",
            min: 0,
            max: 100,
            unit: "%",
            dataConverter: "percentStr",
            defaultValue: 50
        },
        angle: {
            gadget: "measure",
            min: -180,
            max: 180,
            unit: "°"
        },
        alignH: {
            gadget: "select",
            data: [{
                value: "left",
                text: t.left
            },
            {
                value: "center",
                text: t.center
            },
            {
                value: "right",
                text: t.right
            }],
            defaultValue: "left"
        },
        alignV: {
            gadget: "select",
            data: [{
                value: "top",
                text: t.top
            },
            {
                value: "center",
                text: t.center
            },
            {
                value: "bottom",
                text: t.bottom
            }],
            defaultValue: "center"
        },
        positionTRBL: {
            gadget: "select",
            data: [{
                value: "bottom",
                text: t.bottom
            },
            {
                value: "top",
                text: t.top
            },
            {
                value: "left",
                text: t.left
            },
            {
                value: "right",
                text: t.right
            }],
            defaultValue: "left"
        },
        positionLabel: {
            gadget: "select",
            data: [{
                value: "bottom",
                text: t.bottom
            },
            {
                value: "top",
                text: t.top
            },
            {
                value: "left",
                text: t.left
            },
            {
                value: "right",
                text: t.right
            },
            {
                value: "inside",
                text: t.inside
            },
            {
                value: "insideBottom",
                text: t.insideBottom
            },
            {
                value: "insideTop",
                text: t.insideTop
            },
            {
                value: "insideLeft",
                text: t.insideLeft
            },
            {
                value: "insideRight",
                text: t.insideRight
            }],
            defaultValue: "left",
            dataConverter: "fixPosition"
        },
        positionTRBLI: {
            gadget: "select",
            data: [{
                value: "bottom",
                text: t.bottom
            },
            {
                value: "top",
                text: t.top
            },
            {
                value: "left",
                text: t.left
            },
            {
                value: "right",
                text: t.right
            },
            {
                value: "inside",
                text: t.inside
            }],
            defaultValue: "left",
            dataConverter: "fixPosition"
        },
        positionTRBLC: {
            gadget: "select",
            data: [{
                value: "bottom",
                text: t.bottom
            },
            {
                value: "top",
                text: t.top
            },
            {
                value: "left",
                text: t.left
            },
            {
                value: "right",
                text: t.right
            },
            {
                value: "center",
                text: t.center
            }],
            defaultValue: "center"
        },
        orient: {
            gadget: "select",
            data: [{
                value: "horizontal",
                text: t.orientHorizontal
            },
            {
                value: "vertical",
                text: t.orientVertical
            }],
            defaultValue: "horizontal"
        },
        baseline: {
            gadget: "select",
            data: ["top", "bottom", "middle"]
        },
        fontFamily: {
            ui: "input/CheckboxInput",
            gadget: "select",
            data: ["Arial", "Verdana", "sans-serif"]
        },
        fontStyle: {
            gadget: "select",
            data: ["normal", "italic", "oblique"]
        },
        fontWeight: {
            ui: "input/Select",
            gadget: "select",
            data: ["normal", "bold", "bolder", "lighter", 100, 200, 400, 500, 600, 700, 800, 900]
        },
        selectedMode: {
            gadget: "select",
            data: [{
                value: !1,
                text: t.selectedModeFalse
            },
            {
                value: "single",
                text: t.selectedModeSingle
            },
            {
                value: "multiple",
                text: t.selectedModeMultiple
            }],
            defaultValue: "multiple",
            dataConverter: "selectedMode"
        },
        onGap: {
            gadget: "select",
            data: ["boundaryGap"]
        },
        coordinatePercent: {
            gadget: "measure",
            unit: "percent",
            min: 0,
            max: 100
        },
        coordinatePx: {
            gadget: "measure",
            unit: "px",
            min: 0,
            max: 2e3
        },
        radius: {
            ui: "wave/gadget/MeasureGadget",
            params: [{
                unit: "percent",
                min: 0,
                max: 100
            },
            {
                unit: "px",
                min: -2e3,
                max: 2e3
            }]
        },
        catvalChartType: {
            gadget: "select",
            data: [{
                value: "line",
                text: "折线"
            },
            {
                value: "bar",
                text: "柱"
            }],
            defaultValue: "line"
        },
        chartType: {
            gadget: "select",
            data: [{
                value: "line",
                text: "折线图"
            },
            {
                value: "bar",
                text: "柱状图"
            },
            {
                value: "scatter",
                text: "散点图"
            },
            {
                value: "k",
                text: "K线图"
            },
            {
                value: "pie",
                text: "饼图"
            },
            {
                value: "radar",
                text: "雷达图"
            },
            {
                value: "chord",
                text: "和弦图"
            },
            {
                value: "force",
                text: "力导向布局图"
            },
            {
                value: "map",
                text: "地图"
            }],
            defaultValue: "line"
        },
        stack: {
            gadget: "text"
        },
        axisIndex: {
            gadget: "select",
            data: [{
                value: 0,
                text: "轴A"
            },
            {
                value: 1,
                text: "轴B"
            }],
            defaultValue: 0
        },
        symbol: {
            gadget: "select",
            data: [{
                value: "heart",
                text: t.seriesSymbolHeart
            },
            {
                value: "droplet",
                text: t.seriesSymbolDroplet
            },
            {
                value: "pin",
                text: t.seriesSymbolPin
            },
            {
                value: "arrow",
                text: t.seriesSymbolArrow
            },
            {
                value: "star",
                text: t.seriesSymbolStar
            },
            {
                value: "diamond",
                text: t.seriesSymbolDiamond
            },
            {
                value: "circle",
                text: t.seriesSymbolCircle
            },
            {
                value: "rectangle",
                text: t.seriesSymbolRectangle
            },
            {
                value: "triangle",
                text: t.seriesSymbolTriangle
            },
            {
                value: "emptyCircle",
                text: t.seriesSymbolEmptyCircle
            },
            {
                value: "emptyRectangle",
                text: t.seriesSymbolEmptyRectangle
            },
            {
                value: "emptyTriangle",
                text: t.seriesSymbolEmptyTriangle
            },
            {
                value: "emptyDiamond",
                text: t.seriesSymbolEmptyDiamond
            }],
            defaultValue: "heart"
        },
        symbolLink: {
            gadget: "link"
        },
        markPointEffect: {
            disabled: !0
        },
        themeSelect: {
            ui: "wave/gadget/ThemeGadget",
            defaultValue: r.DEFAULT_STYLE_ID,
            data: r.listThemes()
        },
        backgroundType: {
            gadget: "select",
            defaultValue: o.DEFAULT_BACKGROUND_TYPE,
            data: [{
                value: "image",
                text: t.image
            },
            {
                value: "color",
                text: t.color
            },
            {
                value: "transparent",
                text: t.transparent
            }]
        },
        backgroundSize: {
            gadget: "select",
            defaultValue: o.DEFAULT_BACKGROUND_IMAGE_SHOW_TYPE,
            data: [{
                value: "auto",
                text: t.tile
            },
            {
                value: "100% 100%",
                text: t.stretch
            },
            {
                value: "cover",
                text: t.fit
            }]
        },
        imageSelect: {
            ui: "wave/gadget/ImageSelectGadget"
        },
        backgroundImageSelect: {
            gadget: "imageSelect",
            defaultValue: r.listPaperBgImgs()[0],
            data: r.listPaperBgImgs()
        }
    }
}),
define("wave/gadget/gadgetDpctFactory", ["require", "jquery", "common/core/lib", "./gadgetDpctRaw"],
function(require) {
    function e(e) {
        var t;
        if (i.isObject(e)) t = e.type;
        else t = e,
        e = null;
        var n = i.clone(o[t]);
        return i.assign(n, e, null, ["ui", "gadget"])
    }
    var t = require("jquery"),
    i = require("common/core/lib"),
    n = require("./gadgetDpctRaw"),
    o = {},
    r = {
        makeGadgetDpctList: function(i) {
            if (!i) i = [];
            else if (!t.isArray(i)) i = [i];
            for (var n = [], o = 0, r = i.length; r > o; o++) n.push(e(i[o]));
            return n
        }
    };
    return function() {
        function e(e) {
            return "object" === t.type(e) && e.gadget || null
        }
        for (var r in n) if (n.hasOwnProperty(r)) {
            var s, a = null,
            l = r,
            h = [];
            do a = n[l],
            h.push(a),
            s = l;
            while (l = e(a));
            for (var c = {},
            u = h.length; u--;) c = i.merge(c, h[u]);
            c.realType = s,
            o[r] = c
        }
    } (),
    r
}),
define("wave/gadget/switchGadgetHelper", ["require"],
function() {
    var e, t = {};
    t.adaptGadget = function(e, t, o, r) {
        var s = i(e, t, o);
        return n(s, t, r),
        s.foundIndex
    };
    var i = t.chooseGadget = function(t, i, n) {
        var o, r, s = i[n];
        if (t === e) o = s ? n: i.length > 0 ? 0 : null;
        else if (r = s && s.getCfgAccepter(t)) o = n;
        else for (var a, l = 0; a = i[l]; l++) if (a !== s && (r = a.getCfgAccepter(t))) {
            o = l;
            break
        }
        return {
            foundIndex: o,
            accepter: r
        }
    },
    n = t.enterGadgetByChoise = function(e, t, i) {
        var n = e.foundIndex,
        o = e.accepter;
        i(n);
        for (var r, s = 0; r = t[s]; s++) r.viewModel("visible")(s === n);
        if (null != n) t[n].enter(),
        o && o()
    };
    return t.switchGadget = function(e, t, i) {
        if (e.length <= 1) return t;
        if (null == t) t = -1;~t && e[t].viewModel("visible")(!1),
        t = (t + 1) % e.length,
        i(t);
        var n = e[t];
        n.viewModel("visible")(!0),
        n.enter(),
        n.persistent()
    },
    t
}),
define("wave/gadget/EditItem", ["require", "jquery", "common/core/lib", "common/core/lang", "wave/gadget/ConfBasePanel", "wave/app/waveProdMgr", "wave/gadget/gadgetDpctFactory", "wave/gadget/gadgetHelper", "wave/gadget/switchGadgetHelper", "d8f3fd38.tpl"],
function(require) {
    function e() {
        m.switchGadget(this._sub("gadgets"), this._currGadgetIndex, this._indexUpdater);
        var e = this._viewModel().dpct.titleByGadget;
        if (e) {
            var t = e[this._currGadgetIndex] || "";
            this.$el().find(b)[0].innerHTML = h.encodeHTML(t)
        }
        this._updateScroll()
    }
    function t(e) {
        this._currGadgetIndex = e
    }
    function i(e) {
        var t = this._viewModel();
        if (!t.dpct.alwaysUsed) {
            var i = t.used,
            n = !i();
            if (i(n, h.valueInfo(h.valueInfo.CONFIRMED, this.uid())), e) this._tooltipTitle && this._tooltipTitle.hide()
        }
    }
    function n(e, t) {
        var i = this._viewModel(),
        n = i.dpct;
        if (this._tooltipTitle && this._tooltipTitle.refresh(), i.disabled(!t), !e && h.checkValueInfo(i.used, h.valueInfo.CONFIRMED)) if (!t) p.persistCfg({
            cfgUpdater: n.cfgUpdater,
            viewUpdater: n.viewUpdater,
            viewUpdaterArgs: n.viewUpdaterArgs,
            unusedViewUpdaterArgs: n.unusedViewUpdaterArgs,
            persistedEvent: i.persistedEvent,
            wgtId: i.residenceHandle.getWgtId(),
            dsp: p.selectDsp(n, {
                wgtId: this._getWgtId()
            }),
            packedCfgValue: a
        });
        else {
            var o = this._currGadgetIndex;
            if (null != o) this._sub("gadgets")[o].persistent()
        }
    }
    function o(e) {
        var t = this.getAncestorLocalOb(e);
        t && t()
    }
    function r(e, t) {
        return !! e.alwaysUsed || t !== a
    }
    function s(e, t) {
        return ! e.suppressUseRetrieveRendered && !t
    }
    var a, l = require("jquery"),
    h = require("common/core/lib"),
    c = require("common/core/lang"),
    u = require("wave/gadget/ConfBasePanel"),
    d = require("wave/app/waveProdMgr"),
    f = require("wave/gadget/gadgetDpctFactory"),
    p = require("wave/gadget/gadgetHelper"),
    m = require("wave/gadget/switchGadgetHelper"),
    g = ".dtm-edtitm-title",
    y = ".dtm-edtitm-tooltip",
    v = ".dtm-edtitm-mask",
    b = ".dtm-edtitm-title-con",
    x = "dtm-edtitm-always-used",
    _ = u.extend({
        _define: {
            tplTarget: "confEditItem",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-ggt-edtitm",
            viewModel: function() {
                return {
                    dpct: {},
                    used: h.ob(!0),
                    residenceHandle: null,
                    gadgetViewModelList: null,
                    persistedEvent: h.ob(),
                    css: ["dtm-edtitm"]
                }
            },
            viewModelPublic: ["used"]
        },
        _prepare: function() {
            this._sub("gadgets", []),
            this._indexUpdater = l.proxy(t, this),
            this._prepareGadgetViewModelList()
        },
        _fillContent: function() {
            this._initUsed(),
            this._initTooltip(),
            this._initGadgetSwitch(),
            this._initEvent()
        },
        _enter: function() {
            var e = this._viewModel(),
            t = e.dpct,
            i = {
                wgtId: this._getWgtId()
            };
            if (!p.isApplicable(t.applicable, i)) e.visible(!1);
            else {
                e.visible(!0);
                var n, o, a = this.getWgtId(),
                l = !1,
                c = this._sub("gadgets");
                if (!t.ignoreDsp) {
                    var u = {
                        method: t.cfgRetriever || "retrieveWgtDataCfg",
                        wgtId: a,
                        dsp: p.selectDsp(t, {
                            wgtId: a
                        })
                    };
                    if (o = n = d.retrieveCfg(u), l = r(t, n), s(t, l)) n = d.retrieveCfg(h.assign({
                        retrieveRendered: !0
                    },
                    u))
                }
                var f = m.adaptGadget(n, c, this._currGadgetIndex, this._indexUpdater);
                if (s(t, l) && null == f) m.adaptGadget(o, c, this._currGadgetIndex, this._indexUpdater);
                if (!t.ignoreDsp) e.used( !! l)
            }
        },
        _prepareGadgetViewModelList: function() {
            for (var e = this._viewModel(), t = f.makeGadgetDpctList(e.dpct.gadget), i = e.gadgetViewModelList = [], n = 0, o = t.length; o > n; n++) h.assign(t[n], e.dpct, ["cfgUpdater", "cfgRetriever", "dsp", "viewUpdater", "viewUpdaterArgs"]),
            i.push({
                panelOpenStatus: e.panelOpenStatus,
                residenceHandle: e.residenceHandle,
                disabled: e.disabled,
                css: "dtm-edtitm-ggt",
                persistedEvent: e.persistedEvent,
                dpct: t[n]
            })
        },
        _initUsed: function() {
            var e = this._viewModel(),
            t = this.$el();
            if (e.dpct.alwaysUsed) t.addClass(x);
            if (!e.dpct.ignoreDsp) {
                var o = this._event("click");
                this._disposable(t.find(g).on(o, l.proxy(i, this, !1))),
                this._disposable(t.find(v).on(o, l.proxy(i, this, !0)));
                var r = this._viewModel().used;
                this._disposable(r.subscribe(l.proxy(n, this, !1))),
                n.call(this, !0, r())
            }
        },
        _initTooltip: function() {
            function e() {
                return t.dpct.alwaysUsed ? null: t.used() ? c.html.editItemToOff: c.html.editItemToOn
            }
            var t = this._viewModel();
            if (!t.dpct.ignoreDsp) {
                var i = {
                    x: 0,
                    y: -15,
                    xAnchor: "center",
                    yAnchor: "bottom"
                },
                n = h.bindTooltip({
                    bindEl: this.el(),
                    followMouse: !0,
                    selector: y,
                    location: i,
                    encodeHTML: !1,
                    text: e
                });
                this._disposable(n),
                this._tooltipTitle = n
            }
        },
        _initGadgetSwitch: function() {
            var t = this._sub("gadgetSwitch");
            if (t) t.on("click", l.proxy(e, this)),
            this._disposable(h.bindTooltip({
                bindEl: t.el(),
                followMouse: !0,
                location: {
                    x: 0,
                    y: -15,
                    xAnchor: "center",
                    yAnchor: "bottom"
                },
                text: h.strTemplate(c.html.switchGadgetTooltip, {
                    gadgetCount: this._sub("gadgets").length
                }),
                encodeHTML: !1
            }))
        },
        _initEvent: function() {
            var e = this._viewModel();
            e.dpct.refreshSuper && this._disposable(e.persistedEvent.subscribe(l.proxy(o, this, "LOCAL_OB_REFRESH_CFG"))),
            e.dpct.refreshRoot && this._disposable(e.persistedEvent.subscribe(l.proxy(o, this, "LOCAL_OB_REFRESH_CHART_CFG")))
        },
        getWgtId: function() {
            return this._viewModel().residenceHandle.getWgtId()
        }
    });
    return _
}),
define("wave/gadget/Gadget", ["require", "jquery", "common/core/lib", "wave/app/BasePanel", "wave/gadget/gadgetHelper", "wave/chartConfigurer/depictionMgr"],
function(require) {
    var e, t = require("jquery"),
    i = require("common/core/lib"),
    n = require("wave/app/BasePanel"),
    o = require("wave/gadget/gadgetHelper"),
    r = require("wave/chartConfigurer/depictionMgr"),
    s = n.extend({
        _define: {
            viewModel: function() {
                return {
                    dpct: null,
                    used: null,
                    residenceHandle: null,
                    persistedEvent: i.ob()
                }
            },
            viewModelPublic: ["dpct.realType", "dpct.dataConverter", "persistedEvent"]
        },
        getCfgAccepter: function(e) {
            var t = r.getDataConverter(this._viewModel().dpct.dataConverter).read(e);
            if (i.isNaN(t)) return ! 1;
            else return this._getCfgAccepter(t)
        },
        _getCfgAccepter: e,
        packCfg: function() {
            return r.getDataConverter(this._viewModel().dpct.dataConverter).write(this._packCfg())
        },
        _packCfg: e,
        _persistentOnConfirmed: function(e, t) {
            function n() {
                if (i.checkValueInfo(e, i.valueInfo.CONFIRMED)) o.persistent()
            }
            var o = this;
            this._disposable(e.subscribe(n), t)
        },
        _removePersistentOnConfirmed: function(e) {
            this._disposable(e)
        },
        persistent: function(e) {
            var i = this._viewModel(),
            n = i.dpct,
            r = this._getWgtId();
            o.persistCfg({
                cfgUpdater: n.cfgUpdater,
                viewUpdater: n.viewUpdater,
                viewUpdaterArgs: n.viewUpdaterArgs,
                dsp: o.selectDsp(n, t.extend({
                    wgtId: r
                },
                (e || {}).dspFnArgs)),
                persistedEvent: i.persistedEvent,
                wgtId: r,
                packedCfgValue: this.packCfg()
            })
        },
        _refreshSuperScroll: function() {
            var e = this.getAncestorLocalOb("LOCAL_OB_SCROLL_RESIZE");
            e && e({})
        },
        _getWgtId: function() {
            var e = this._viewModel().residenceHandle;
            if (e && e.getWgtId) return e.getWgtId();
            else return void 0
        }
    });
    return s
}),
define("common/component/value/rangeValueDecorator", ["require", "jquery", "common/core/lib"],
function(require) {
    function e(e) {
        function r(e, t) {
            d = Number.MIN_VALUE,
            f = Number.MAX_VALUE;
            for (var i = 0,
            o = g.length; o > i; i++) {
                var r = i === t ? e: n(g[i]);
                if (f > r) f = r;
                if (r > d) d = r
            }
        }
        function s(e, t) {
            d = Number.MIN_VALUE,
            f = Number.MAX_VALUE;
            for (var i in g) if (g.hasOwnProperty(i)) {
                var o = i === t ? e: n(g[v]);
                if (f > o) f = o;
                if (o > d) d = o
            }
        }
        function a(e) {
            f = d = !arguments.length ? n(g) : e
        }
        function l(e) {
            return o(parseFloat(e), n(y))
        }
        function h(e, t, o, r, s, a) {
            if (i.validateNumeric(r)) {
                if (r = l(r), t(r, e), null != m && r > n(m)) m(r);
                if (null != p && r < n(p)) p(r);
                o(r, s, a)
            }
        }
        function c(e, t, n, o) {
            if (i.validateNumeric(t)) if (t = l(t), f >= t) e(t, n, o)
        }
        function u(e, t, n, o) {
            if (i.validateNumeric(t)) if (t = l(t), t >= d) e(t, n, o)
        }
        e = e || {};
        var d, f, p = e.min,
        m = e.max,
        g = e.value,
        y = e.precision;
        if (null != p) p.extendWriter(c);
        if (m) m.extendWriter(u);
        if (t.isArray(g)) {
            r();
            for (var v = 0,
            b = g.length; b > v; v++) g[v].extendWriter(i.curry(h, v, r))
        } else if (t.isPlainObject(g)) {
            s();
            for (var x in g) if (g.hasOwnProperty(x)) g[x].extendWriter(i.curry(h, x, s))
        } else a(),
        g.extendWriter(i.curry(h, null, a));
        return e
    }
    var t = require("jquery"),
    i = require("common/core/lib"),
    n = i.peek,
    o = i.fixNumber;
    return e
}),
define("wave/gadget/MeasureGadget", ["require", "common/core/lib", "common/component/value/rangeValueDecorator", "wave/gadget/Gadget", "wave/chartConfigurer/depictionMgr", "d8f3fd38.tpl"],
function(require) {
    function e(e, n) {
        o.fillViewModelByDepiction(e, n, {
            value0: "defaultValue",
            min: "min",
            max: "max",
            precision: "precision"
        });
        var r = t.assign({},
        e, ["min", "max", "precision"]);
        if (r.value = [e.value0], r = i(r), t.assign(e, r, ["min", "max", "precision"]), e.value0 = r.value[0], null != n.unit) e.unit(n.unit)
    }
    var t = require("common/core/lib"),
    i = require("common/component/value/rangeValueDecorator"),
    n = require("wave/gadget/Gadget"),
    o = require("wave/chartConfigurer/depictionMgr"),
    r = t.peek,
    s = t.getNumber,
    a = n.extend({
        _define: {
            tplTarget: "gadgetMeasureGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-msrggt",
            viewModel: function() {
                return {
                    value0: t.ob(40),
                    min: t.ob(0),
                    max: t.ob(100),
                    precision: t.ob(0),
                    unit: t.ob("px")
                }
            },
            viewModelPublic: ["value0"]
        },
        _prepare: function() {
            var i = this._viewModel(),
            n = i.dpct;
            t.assert(null != n.defaultValue && null != n.min && null != n.max),
            e(i, n)
        },
        _fillContent: function() {
            var e = this._viewModel();
            this._persistentOnConfirmed(e.value0)
        },
        _getCfgAccepter: function(e) {
            var t = this._viewModel(),
            i = s(e);
            if (null == i) return ! 1;
            else return function() {
                t.value0(i)
            }
        },
        _packCfg: function() {
            return r(this._viewModel().value0)
        }
    });
    return a
}),
define("wave/gadget/RangeMeasureGadget", ["require", "jquery", "common/core/lib", "common/component/value/rangeValueDecorator", "wave/gadget/Gadget", "wave/chartConfigurer/depictionMgr", "d8f3fd38.tpl"],
function(require) {
    function e(e, o) {
        r.fillViewModelByDepiction(e, t.extend({},
        o, {
            defaultValue0: o.defaultValue.value0,
            defaultValue1: o.defaultValue.value1
        }), {
            value0: "defaultValue0",
            value1: "defaultValue1",
            min: "min",
            max: "max",
            precision: "precision"
        });
        var s = i.assign({},
        e, ["min", "max", "precision"]);
        if (s.value = [e.value0, e.value1], s = n(s), i.assign(e, s, ["min", "max", "precision"]), e.value0 = s.value[0], e.value1 = s.value[1], null != o.unit) e.unit(o.unit)
    }
    var t = require("jquery"),
    i = require("common/core/lib"),
    n = require("common/component/value/rangeValueDecorator"),
    o = require("wave/gadget/Gadget"),
    r = require("wave/chartConfigurer/depictionMgr"),
    s = i.peek,
    a = i.getNumber,
    l = o.extend({
        _define: {
            tplTarget: "gadgetRangeMeasureGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-msrggt",
            viewModel: function() {
                return {
                    value0: i.ob(40),
                    value1: i.ob(30),
                    min: i.ob(0),
                    max: i.ob(100),
                    precision: i.ob(0),
                    unit: i.ob("px")
                }
            },
            viewModelPublic: ["value0", "value1"]
        },
        _prepare: function() {
            var t = this._viewModel(),
            n = t.dpct;
            i.assert(null != n.defaultValue && null != n.min && null != n.max),
            e(t, n)
        },
        _fillContent: function() {
            var e = this._viewModel();
            this._persistentOnConfirmed(e.value0),
            this._persistentOnConfirmed(e.value1)
        },
        _getCfgAccepter: function(e) {
            var n = this._viewModel();
            if (null == e || "object" !== t.type(e)) return ! 1;
            var o = a(e.value0),
            r = a(e.value1),
            s = null != e.min ? a(e.min) : null,
            l = null != e.max ? a(e.max) : null;
            if (null == o || null == r || !i.isInteger(o) || !i.isInteger(r)) return ! 1;
            else return function() {
                n.value0(o),
                n.value1(r),
                null != s && n.min(s),
                null != l && n.max(l)
            }
        },
        _packCfg: function() {
            var e = this._viewModel();
            return {
                value0: s(e.value0),
                value1: s(e.value1)
            }
        }
    });
    return l
}),
define("wave/gadget/BooleanGadget", ["require", "jquery", "common/core/lib", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("wave/gadget/Gadget"),
    n = i.extend({
        _define: {
            tplTarget: "gadgetBooleanGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-boolggt",
            viewModel: function() {
                return {
                    value: t.ob(!1),
                    dataList: []
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {
            for (var e, t = this._viewModel(), i = 0; e = t.dpct.data[i]; i++) t.dataList.push({
                text: e.text,
                value: e.value
            })
        },
        _fillContent: function() {
            var e = this._viewModel(),
            i = e.dpct.defaultValue;
            t.assert(null != i),
            e.value(i),
            this._persistentOnConfirmed(this._viewModel().value)
        },
        _getCfgAccepter: function(t) {
            var i = this._viewModel();
            if ("boolean" !== e.type(t)) return ! 1;
            else return function() {
                i.value(t)
            }
        },
        _packCfg: function() {
            return this._viewModel().value()
        }
    });
    return n
}),
define("wave/gadget/BoxStyleGadget", ["require", "common/core/lib", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/gadget/Gadget"),
    i = t.extend({
        _define: {
            tplTarget: "gadgetBoxStyleGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-bxstlggt",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {},
        _fillContent: function() {},
        _enter: function() {},
        _getCfgAccepter: function() {
            return function() {}
        },
        _packCfg: function() {
            return 0
        }
    });
    return i
}),
define("wave/gadget/ChartTypeGadget", ["require", "common/core/lib", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/gadget/Gadget"),
    i = t.extend({
        _define: {
            tplTarget: "gadgetChartTypeGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-chttyggt",
            viewModel: function() {
                return {
                    value: e.ob(!1)
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {},
        _fillContent: function() {},
        _enter: function() {},
        _getCfgAccepter: function() {
            return function() {}
        },
        _packCfg: function() {
            return 0
        }
    });
    return i
}),
define("wave/gadget/ColorGadget", ["require", "common/core/lib", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/gadget/Gadget"),
    i = t.extend({
        _define: {
            tplTarget: "gadgetColorGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-clrggt",
            viewModel: function() {
                return {
                    value: e.ob()
                }
            },
            viewModelPublic: ["value"]
        },
        _fillContent: function() {
            var t = this._viewModel(),
            i = t.dpct.defaultValue;
            e.assert(null != i),
            t.value(i),
            this._persistentOnConfirmed(t.value)
        },
        _getCfgAccepter: function(t) {
            var i = this._viewModel();
            if (!e.validateColor(t)) return ! 1;
            else return function() {
                i.value(t)
            }
        },
        _packCfg: function() {
            return this._viewModel().value()
        }
    });
    return i
}),
define("wave/gadget/ColorListGadget", ["require", "jquery", "common/core/lib", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    function e() {
        this._addColors(this._viewModel().colorViewModelList.count(), ["#FFFFFF"]),
        this.persistent()
    }
    function t() {
        var e = this._viewModel().colorViewModelList.count();
        e && this._removeColors(e - 1),
        this.persistent()
    }
    function i(e) {
        var t = this._viewModel().colorViewModelList;
        if (!e || t.count() !== e.length) return ! 0;
        for (var i, n = 0; i = t[n]; n++) if (null == e[n] || i.value() !== e[n]) return ! 0;
        return ! 1
    }
    var n = require("jquery"),
    o = require("common/core/lib"),
    r = require("wave/gadget/Gadget"),
    s = "colorOb-",
    a = r.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "gadgetColorListGadget",
            css: "cpt-clrlsggt",
            viewModel: function() {
                return {
                    colorViewModelList: o.obArray([])
                }
            }
        },
        _fillContent: function() {
            var i = this._viewModel(),
            r = i.dpct.defaultValue;
            o.assert(null != r),
            this._addColors(0, r),
            this._sub("addBtn").on("click", n.proxy(e, this)),
            this._sub("removeBtn").on("click", n.proxy(t, this))
        },
        _addColors: function(e, t) {
            for (var i = this._viewModel(), n = i.colorViewModelList, r = [], a = 0, l = t.length; l > a; a++) r.push({
                value: o.ob(t[a]),
                colorMode: i.dpct.colorMode,
                disabled: i.disabled
            });
            n.splice.apply(n, [e, 0].concat(r));
            for (var h, a = 0; h = r[a]; a++) this._persistentOnConfirmed(h.value, s + (e + a));
            this._refreshSuperScroll()
        },
        _removeColors: function(e) {
            var t = this._viewModel(),
            i = t.colorViewModelList,
            n = i();
            if (null != e) this._removePersistentOnConfirmed(s + e),
            i.splice(e, 1);
            else {
                for (var o, r = 0; o = n[r]; r++) this._removePersistentOnConfirmed(s + r);
                i.splice(0)
            }
            this._refreshSuperScroll()
        },
        _getCfgAccepter: function(e) {
            var t = this;
            if (!n.isArray(e)) return ! 1;
            for (var r = 0,
            s = e.length; s > r; r++) if (!o.validateColor(e[r])) return ! 1;
            return function() {
                if (i.call(t, e)) t._removeColors(),
                t._addColors(0, e),
                t.persistent()
            }
        },
        _packCfg: function() {
            for (var e, t = this._viewModel().colorViewModelList(), i = [], n = 0; e = t[n]; n++) i.push(e.value());
            return i
        }
    });
    return a
}),
define("wave/gadget/RatioColorListGadget", ["require", "jquery", "common/core/lib", "wave/gadget/Gadget", "common/component/value/floatInputDecorator", "d8f3fd38.tpl"],
function(require) {
    function e() {
        this._addColors(this._viewModel().colorViewModelList.count(), [[1, "#FFFFFF"]]),
        this.persistent()
    }
    function t() {
        var e = this._viewModel().colorViewModelList.count();
        e && this._removeColors(e - 1),
        this.persistent()
    }
    function i(e) {
        var t = this._viewModel().colorViewModelList;
        if (!e || t.count() !== e.length) return ! 0;
        for (var i, n = 0; i = t[n]; n++) {
            var o = e[n][1],
            r = e[n][0];
            if (null == o || i.colorValue() !== o || null == r || i.ratioValue() !== r) return ! 0
        }
        return ! 1
    }
    var n = require("jquery"),
    o = require("common/core/lib"),
    r = require("wave/gadget/Gadget"),
    s = require("common/component/value/floatInputDecorator"),
    a = "colorOb-",
    l = "ratioOb-",
    h = "gadgetRatioColorListItem",
    c = r.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "gadgetRatioColorListGadget",
            css: ["cpt-rtclrlsggt", "cpt-clrlsggt"],
            viewModel: function() {
                return {
                    colorViewModelList: o.obArray([])
                }
            }
        },
        _fillContent: function() {
            var i = this._viewModel(),
            r = i.dpct.defaultValue;
            o.assert(null != r),
            this._addColors(0, r),
            this._sub("addBtn").on("click", n.proxy(e, this)),
            this._sub("removeBtn").on("click", n.proxy(t, this))
        },
        _addColors: function(e, t) {
            for (var i = this._viewModel(), n = i.colorViewModelList, r = [], c = 0, u = t.length; u > c; c++) r.push({
                itemConfig: {
                    itemTplTarget: h
                },
                ratioValue: s({
                    value: o.ob(t[c][0]),
                    min: 0,
                    max: 1
                }).value,
                colorValue: o.ob(t[c][1]),
                colorMode: i.dpct.colorMode,
                disabled: i.disabled
            });
            n.splice.apply(n, [e, 0].concat(r));
            for (var d, c = 0; d = r[c]; c++) this._persistentOnConfirmed(d.colorValue, a + (e + c)),
            this._persistentOnConfirmed(d.ratioValue, l + (e + c));
            this._refreshSuperScroll()
        },
        _removeColors: function(e) {
            var t = this._viewModel(),
            i = t.colorViewModelList,
            n = i();
            if (null != e) this._removePersistentOnConfirmed(a + e),
            this._removePersistentOnConfirmed(l + e),
            i.splice(e, 1);
            else {
                for (var o, r = 0; o = n[r]; r++) this._removePersistentOnConfirmed(a + r),
                this._removePersistentOnConfirmed(l + r);
                i.splice(0)
            }
            this._refreshSuperScroll()
        },
        _getCfgAccepter: function(e) {
            var t = this;
            if (!n.isArray(e)) return ! 1;
            for (var r = 0,
            s = e.length; s > r; r++) {
                if (!n.isArray(e[r])) return ! 1;
                var a = e[r][1];
                if (!o.validateColor(a)) return ! 1
            }
            return function() {
                if (i.call(t, e)) t._removeColors(),
                t._addColors(0, e),
                t.persistent()
            }
        },
        _packCfg: function() {
            for (var e, t = this._viewModel().colorViewModelList(), i = [], n = 0; e = t[n]; n++) i.push([e.ratioValue(), e.colorValue()]);
            return i
        }
    });
    return c
}),
define("wave/gadget/SelectGadget", ["require", "common/core/lib", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/gadget/Gadget"),
    i = t.extend({
        _define: {
            tplTarget: "gadgetSelectGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-sltggt",
            viewModel: function() {
                return {
                    value: e.ob(!1),
                    dataList: []
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {
            for (var e, t = this._viewModel(), i = 0; e = t.dpct.data[i]; i++) t.dataList.push({
                text: e.text,
                value: e.value
            })
        },
        _fillContent: function() {
            var t = this._viewModel(),
            i = t.dpct.defaultValue;
            e.assert(null != i),
            t.value(i),
            this._persistentOnConfirmed(t.value)
        },
        _getCfgAccepter: function(t) {
            var i = this._viewModel();
            if (!~e.arrayIndexOf(i.dataList, t, "value")) return ! 1;
            else return function() {
                i.value(t)
            }
        },
        _packCfg: function() {
            return this._viewModel().value()
        }
    });
    return i
}),
define("wave/gadget/MapTypeSelectGadget", ["require", "jquery", "common/core/lib", "wave/gadget/Gadget", "common/core/lang", "d8f3fd38.tpl"],
function(require) {
    function e() {
        var e = this._viewModel().isOpenOb;
        e(!e())
    }
    function t(e) {
        var t = this.$el().find(c),
        i = this._sub("opener"),
        n = o.proxy(this._refreshSuperScroll, this);
        if (e) t.stop().slideDown(u, n),
        i.viewModel("text")(l.panelOpenerCollapse);
        else t.stop().slideUp(u, n),
        i.viewModel("text")(l.panelOpenerExpand)
    }
    function i(e) {
        var t = this.$el().find(h);
        t[0].innerHTML = "" + l.cfg.seriesMapTypeCurr + r.encodeHTML(e).replace("|", "&nbsp;&nbsp;&gt;&nbsp;&nbsp;")
    }
    function n(e) {
        if (e === d.ALL_SERIES) this.persistent()
    }
    var o = require("jquery"),
    r = require("common/core/lib"),
    s = require("wave/gadget/Gadget"),
    a = require("common/core/lang"),
    l = a.string,
    h = ".dtm-mptysltggt-sel",
    c = ".dtm-mptysltggt-treepn",
    u = 500,
    d = {
        THIS_SERIES: "THIS_SERIES",
        ALL_SERIES: "ALL_SERIES"
    },
    f = s.extend({
        _define: {
            tplTarget: "gadgetMapTypeSelectGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-mptysltggt",
            viewModel: function() {
                return {
                    datasource: [],
                    selected: null,
                    isOpenOb: r.ob(!1),
                    applyRange: r.ob(d.ALL_SERIES)
                }
            }
        },
        _prepare: function() {
            var e = this._viewModel(),
            t = e.dpct;
            r.assert(null != t.defaultValue && null != t.data),
            e.datasource = t.data,
            e.selected = r.ob(t.defaultValue),
            e.applyRangeViewModel = {
                checked: e.applyRange,
                dataList: [{
                    text: l.applyRangeThisSeries,
                    value: d.THIS_SERIES,
                    tooltip: a.html.applyRangeThisSeriesDesc,
                    tooltipEncodeHTML: !1
                },
                {
                    text: l.applyRangeAllSeries,
                    value: d.ALL_SERIES
                }],
                disabled: e.disabled
            }
        },
        _fillContent: function() {
            var r = this._viewModel(),
            s = this.$el().find(c),
            a = this._sub("opener");
            s.hide(),
            a.viewModel("text")(l.panelOpenerExpand),
            a.on("click", o.proxy(e, this)),
            this._disposable(r.isOpenOb.subscribe(t, this)),
            this._disposable(r.selected.subscribe(i, this)),
            this._disposable(this._sub("treeSelect").viewModel("resizeEvent").subscribe(this._refreshSuperScroll, this)),
            i.call(this, r.selected()),
            this._disposable(r.applyRange.subscribe(n, this)),
            this._persistentOnConfirmed(r.selected)
        },
        _getCfgAccepter: function(e) {
            var t = this._viewModel();
            if ("string" !== o.type(e)) return ! 1;
            else return function() {
                t.selected(e)
            }
        },
        _packCfg: function() {
            return this._viewModel().selected()
        },
        persistent: function(e) {
            return e = e || {},
            e.dspFnArgs = {
                dspKey: this._viewModel().applyRange() === d.ALL_SERIES ? "updateMapTypeOfMapSeries": "base"
            },
            this._applySuper("persistent", [e])
        }
    });
    return f
}),
define("wave/gadget/TextInputGadget", ["require", "jquery", "common/core/lib", "common/core/constant", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/core/constant"),
    n = require("wave/gadget/Gadget"),
    o = n.extend({
        _define: {
            tplTarget: "gadgetTextInputGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-txiptggt",
            viewModel: function() {
                return {
                    value: t.ob("")
                }
            },
            viewModelPublic: ["value"]
        },
        _fillContent: function() {
            var e = this._viewModel(),
            i = e.dpct.defaultValue;
            t.assert(null != i),
            e.value(i),
            this._persistentOnConfirmed(e.value)
        },
        _getCfgAccepter: function(t) {
            var n = this._viewModel();
            if ("string" !== e.type(t) || t.length > i.MAX_INPUT_TEXT_LENGTH) return ! 1;
            else return function() {
                n.value(t)
            }
        },
        _packCfg: function() {
            return this._viewModel().value()
        }
    });
    return o
}),
define("wave/gadget/TextListGadget", ["require", "jquery", "common/core/lib", "common/core/constant", "wave/gadget/Gadget", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/core/constant"),
    n = require("wave/gadget/Gadget"),
    o = "gadgetTextListGadget",
    r = n.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-txlsggt",
            viewModel: function() {
                return {
                    value: []
                }
            },
            viewModelPublic: ["value"]
        },
        _fillContent: function() {
            var i = this._viewModel(),
            n = i.dpct,
            r = i.value,
            s = n.defaultValue,
            a = n.size;
            t.assert(null != a && e.isArray(s) && s.length === a);
            for (var l = 0; a > l; l++) r[l] = t.ob(s[l]);
            if (n.decorateValue) r = n.decorateValue(r);
            this._applyTpl(this.$el(), o);
            for (var l = 0; a > l; l++) this._persistentOnConfirmed(r[l])
        },
        _getCfgAccepter: function(t) {
            var n = this._viewModel();
            if (!e.isArray(t) || t.length !== n.dpct.size) return ! 1;
            for (var o = 0,
            r = t.length; r > o; o++) if (t[o].length > i.MAX_INPUT_TEXT_LENGTH) return ! 1;
            return function() {
                for (var e = 0,
                i = t.length; i > e; e++) n.value[e](t[e])
            }
        },
        _packCfg: function() {
            for (var e = this._viewModel(), t = [], i = 0, n = e.value.length; n > i; i++) t[i] = e.value[i]();
            return t
        }
    });
    return r
}),
define("common/component/value/htmlInputDecorator", ["require", "common/core/lib"],
function(require) {
    function e(e) {
        return e.value.extendWriter(i.curry(t, e.htmlAllow)),
        e
    }
    function t(e, t, n, o, r) {
        n = i.htmlClean(null == n ? "": n + "", e),
        t(n, o, r)
    }
    var i = require("common/core/lib");
    return e
}),
define("wave/gadget/FormatterGadget", ["require", "jquery", "common/core/lib", "common/core/constant", "wave/gadget/Gadget", "common/component/value/htmlInputDecorator", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/core/constant"),
    n = require("wave/gadget/Gadget"),
    o = require("common/component/value/htmlInputDecorator"),
    r = n.extend({
        _define: {
            tplTarget: "gadgetFormatterGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-fmtggt",
            viewModel: function() {
                return {
                    value: t.ob("")
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {
            var e = this._viewModel();
            e.value = o({
                value: e.value,
                htmlAllow: t.HTMLCleanAllow.EC_FORMATTER
            }).value
        },
        _fillContent: function() {
            var e = this._viewModel(),
            i = e.dpct;
            t.assert(null != i.defaultValue && null != i.descHTML),
            e.value(i.defaultValue),
            this._persistentOnConfirmed(e.value)
        },
        _getCfgAccepter: function(t) {
            var n = this._viewModel();
            if ("string" !== e.type(t) || t.length > i.MAX_FORMATTER_TEXT_LENGTH) return ! 1;
            else return function() {
                n.value(t)
            }
        },
        _packCfg: function() {
            return this._viewModel().value()
        }
    });
    return r
}),
define("wave/gadget/FloatInputGadget", ["require", "common/core/lib", "wave/gadget/Gadget", "common/component/value/floatInputDecorator", "d8f3fd38.tpl"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/gadget/Gadget"),
    i = require("common/component/value/floatInputDecorator"),
    n = t.extend({
        _define: {
            tplTarget: "gadgetTextInputGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-txiptggt",
            viewModel: function() {
                return {
                    value: e.ob(0)
                }
            },
            viewModelPublic: ["value"]
        },
        _prepare: function() {
            var e = this._viewModel();
            e.value = i({
                value: e.value
            }).value
        },
        _fillContent: function() {
            var t = this._viewModel(),
            i = t.dpct.defaultValue;
            e.assert(null != i),
            t.value(i),
            this._persistentOnConfirmed(t.value)
        },
        _getCfgAccepter: function(t) {
            var i = this._viewModel();
            if (!e.validateNumeric(t)) return ! 1;
            else return function() {
                i.value(t)
            }
        },
        _packCfg: function() {
            return this._viewModel().value()
        }
    });
    return n
}),
define("wave/gadget/ArrayValueGadget", ["require", "jquery", "common/core/lib", "common/core/lang", "wave/gadget/Gadget", "wave/gadget/gadgetDpctFactory", "wave/gadget/switchGadgetHelper", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        for (var t = this._viewModel(), i = h.makeGadgetDpctList(e.gadget), n = [], o = 0, r = i.length; r > o; o++) i[o].dsp = t.dpct.dsp,
        n.push({
            panelOpenStatus: t.panelOpenStatus,
            residenceHandle: t.residenceHandle,
            disabled: t.disabled,
            css: "dtm-ggt",
            dpct: i[o]
        });
        return n
    }
    function t(e) {
        var t = this._sub("gadgetSwitches." + e);
        if (t) t.on("click", r.proxy(i, this, e)),
        this._disposable(s.bindTooltip({
            bindEl: t.el(),
            followMouse: !0,
            location: {
                x: 0,
                y: -15,
                xAnchor: "center",
                yAnchor: "bottom"
            },
            text: s.strTemplate(a.html.subSwitchGadgetTooltip, {
                gadgetCount: this._sub("gadgets")[e].length
            }),
            encodeHTML: !1
        }))
    }
    function i(e) {
        c.switchGadget(this._sub("gadgets")[e], this._viewModel().currGadgetIndex[e], this._indexUpdaters[e])
    }
    function n(e, t) {
        this._viewModel().currGadgetIndex[e] = t
    }
    var o, r = require("jquery"),
    s = require("common/core/lib"),
    a = require("common/core/lang"),
    l = require("wave/gadget/Gadget"),
    h = require("wave/gadget/gadgetDpctFactory"),
    c = require("wave/gadget/switchGadgetHelper"),
    u = l.extend({
        _define: {
            tplTarget: "gadgetArrayValueGadget",
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-arrvalggt",
            viewModel: function() {
                return {
                    arrayConfDpct: [],
                    currGadgetIndex: []
                }
            }
        },
        _prepare: function() {
            var t = this._viewModel(),
            i = t.dpct.arrayConf;
            this._indexUpdaters = [],
            s.assert(i);
            for (var o, a = 0; o = i[a]; a++) t.arrayConfDpct[a] = {
                css: o.css,
                label: o.label,
                ggtViewModels: e.call(this, o)
            },
            this._indexUpdaters[a] = r.proxy(n, this, a)
        },
        _fillContent: function() {
            for (var e = this._viewModel(), i = e.arrayConfDpct, n = this._sub("gadgets"), s = 0, a = i.length; a > s; s++) {
                t.call(this, s);
                for (var l = 0,
                h = n[s].length; h > l; l++) n[s][l].persistent = r.proxy(this.persistent, this);
                c.adaptGadget(o, n[s], null, this._indexUpdaters[s])
            }
        },
        _getCfgAccepter: function(e) {
            var t = this._viewModel(),
            i = t.currGadgetIndex,
            n = this._sub("gadgets"),
            o = [],
            s = this;
            if (!r.isArray(e) || 2 !== e.length) return ! 1;
            for (var a = 0,
            l = n.length; l > a; a++) if (o[a] = c.chooseGadget(e[a], n[a], i[a]), null == o[a].foundIndex) return ! 1;
            return function() {
                for (var e = 0,
                t = n.length; t > e; e++) c.enterGadgetByChoise(o[e], n[e], s._indexUpdaters[e])
            }
        },
        _packCfg: function() {
            for (var e = this._viewModel(), t = this._sub("gadgets"), i = [], n = 0, o = t.length; o > n; n++) {
                var r = t[n][e.currGadgetIndex[n]];
                if (!r) return;
                i[n] = r.packCfg()
            }
            return i
        }
    });
    return u
}),
define("wave/chartNavigator/ChartNavigator", ["require", "exports"],
function(require, exports) {
    return exports
}),
function() {
    function e(e) {
        this._n = e
    }
    function t(e, t, i) {
        var n, o = Math.pow(10, t);
        if (n = (Math.round(e * o) / o).toFixed(t), i) {
            var r = new RegExp("0{1," + i + "}$");
            n = n.replace(r, "")
        }
        return n
    }
    function i(e, t) {
        var i;
        if (t.indexOf("$") > -1) i = o(e, t);
        else if (t.indexOf("%") > -1) i = r(e, t);
        else if (t.indexOf(":") > -1) i = s(e, t);
        else i = l(e, t);
        return i
    }
    function n(e, t) {
        if (t.indexOf(":") > -1) e._n = a(t);
        else if (t === p) e._n = 0;
        else {
            var i = t;
            if ("." !== d[f].delimiters.decimal) t = t.replace(/\./g, "").replace(d[f].delimiters.decimal, ".");
            for (var n = new RegExp(d[f].abbreviations.thousand + "(?:\\)|(\\" + d[f].currency.symbol + ")?(?:\\))?)?$"), o = new RegExp(d[f].abbreviations.million + "(?:\\)|(\\" + d[f].currency.symbol + ")?(?:\\))?)?$"), r = new RegExp(d[f].abbreviations.billion + "(?:\\)|(\\" + d[f].currency.symbol + ")?(?:\\))?)?$"), s = new RegExp(d[f].abbreviations.trillion + "(?:\\)|(\\" + d[f].currency.symbol + ")?(?:\\))?)?$"), l = ["KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"], h = !1, c = 0; c <= l.length && !(h = t.indexOf(l[c]) > -1 ? Math.pow(1024, c + 1) : !1); c++);
            e._n = (h ? h: 1) * (i.match(n) ? Math.pow(10, 3) : 1) * (i.match(o) ? Math.pow(10, 6) : 1) * (i.match(r) ? Math.pow(10, 9) : 1) * (i.match(s) ? Math.pow(10, 12) : 1) * (t.indexOf("%") > -1 ? .01 : 1) * Number((t.indexOf("(") > -1 ? "-": "") + t.replace(/[^0-9\.-]+/g, "")),
            e._n = h ? Math.ceil(e._n) : e._n
        }
        return e._n
    }
    function o(e, t) {
        var n = t.indexOf("$") <= 1 ? !0 : !1,
        o = "";
        if (t.indexOf(" $") > -1) o = " ",
        t = t.replace(" $", "");
        else if (t.indexOf("$ ") > -1) o = " ",
        t = t.replace("$ ", "");
        else t = t.replace("$", "");
        var r = i(e, t);
        if (n) if (r.indexOf("(") > -1 || r.indexOf("-") > -1) r = r.split(""),
        r.splice(1, 0, d[f].currency.symbol + o),
        r = r.join("");
        else r = d[f].currency.symbol + o + r;
        else if (r.indexOf(")") > -1) r = r.split(""),
        r.splice( - 1, 0, o + d[f].currency.symbol),
        r = r.join("");
        else r = r + o + d[f].currency.symbol;
        return r
    }
    function r(e, t) {
        var n = "";
        if (t.indexOf(" %") > -1) n = " ",
        t = t.replace(" %", "");
        else t = t.replace("%", "");
        e._n = 100 * e._n;
        var o = i(e, t);
        if (o.indexOf(")") > -1) o = o.split(""),
        o.splice( - 1, 0, n + "%"),
        o = o.join("");
        else o = o + n + "%";
        return o
    }
    function s(e) {
        var t = Math.floor(e._n / 60 / 60),
        i = Math.floor((e._n - 60 * t * 60) / 60),
        n = Math.round(e._n - 60 * t * 60 - 60 * i);
        return t + ":" + (10 > i ? "0" + i: i) + ":" + (10 > n ? "0" + n: n)
    }
    function a(e) {
        var t = e.split(":"),
        i = 0;
        if (3 === t.length) i += 60 * Number(t[0]) * 60,
        i += 60 * Number(t[1]),
        i += Number(t[2]);
        else if (2 === t.lenght) i += 60 * Number(t[0]),
        i += Number(t[1]);
        return Number(i)
    }
    function l(e, i) {
        var n = !1,
        o = !1,
        r = "",
        s = "",
        a = "",
        l = Math.abs(e._n);
        if (0 === e._n && null !== p) return p;
        else {
            if (i.indexOf("(") > -1) n = !0,
            i = i.slice(1, -1);
            if (i.indexOf("a") > -1) {
                if (i.indexOf(" a") > -1) r = " ",
                i = i.replace(" a", "");
                else i = i.replace("a", "");
                if (l >= Math.pow(10, 12)) r += d[f].abbreviations.trillion,
                e._n = e._n / Math.pow(10, 12);
                else if (l < Math.pow(10, 12) && l >= Math.pow(10, 9)) r += d[f].abbreviations.billion,
                e._n = e._n / Math.pow(10, 9);
                else if (l < Math.pow(10, 9) && l >= Math.pow(10, 6)) r += d[f].abbreviations.million,
                e._n = e._n / Math.pow(10, 6);
                else if (l < Math.pow(10, 6) && l >= Math.pow(10, 3)) r += d[f].abbreviations.thousand,
                e._n = e._n / Math.pow(10, 3)
            }
            if (i.indexOf("b") > -1) {
                if (i.indexOf(" b") > -1) s = " ",
                i = i.replace(" b", "");
                else i = i.replace("b", "");
                for (var h, c, u = ["B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"], m = 0; m <= u.length; m++) if (h = Math.pow(1024, m), c = Math.pow(1024, m + 1), e._n >= h && e._n < c) {
                    if (s += u[m], h > 0) e._n = e._n / h;
                    break
                }
            }
            if (i.indexOf("o") > -1) {
                if (i.indexOf(" o") > -1) a = " ",
                i = i.replace(" o", "");
                else i = i.replace("o", "");
                a += d[f].ordinal(e._n)
            }
            if (i.indexOf("[.]") > -1) o = !0,
            i = i.replace("[.]", ".");
            var g = e._n.toString().split(".")[0],
            y = i.split(".")[1],
            v = i.indexOf(","),
            b = "",
            x = !1;
            if (y) {
                if (y.indexOf("[") > -1) y = y.replace("]", ""),
                y = y.split("["),
                b = t(e._n, y[0].length + y[1].length, y[1].length);
                else b = t(e._n, y.length);
                if (g = b.split(".")[0], b.split(".")[1].length) b = d[f].delimiters.decimal + b.split(".")[1];
                else b = "";
                if (o && 0 === Number(b)) b = ""
            } else g = t(e._n, null);
            if (g.indexOf("-") > -1) g = g.slice(1),
            x = !0;
            if (v > -1) g = g.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + d[f].delimiters.thousands);
            if (0 === i.indexOf(".")) g = "";
            return (n && x ? "(": "") + (!n && x ? "-": "") + g + b + (a ? a: "") + (r ? r: "") + (s ? s: "") + (n && x ? ")": "")
        }
    }
    function h(e, t) {
        d[e] = t
    }
    var c, u = "1.4.7",
    d = {},
    f = "en",
    p = null,
    m = "undefined" != typeof module && module.exports;
    if (c = function(t) {
        if (c.isNumeral(t)) t = t.value();
        else if (!Number(t)) t = 0;
        return new e(Number(t))
    },
    c.version = u, c.isNumeral = function(t) {
        return t instanceof e
    },
    c.language = function(e, t) {
        if (!e) return f;
        if (e && !t) f = e;
        if (t || !d[e]) h(e, t);
        return c
    },
    c.language("en", {
        delimiters: {
            thousands: ",",
            decimal: "."
        },
        abbreviations: {
            thousand: "k",
            million: "m",
            billion: "b",
            trillion: "t"
        },
        ordinal: function(e) {
            var t = e % 10;
            return 1 === ~~ (e % 100 / 10) ? "th": 1 === t ? "st": 2 === t ? "nd": 3 === t ? "rd": "th"
        },
        currency: {
            symbol: "$"
        }
    }), c.zeroFormat = function(e) {
        if ("string" == typeof e) p = e;
        else p = null
    },
    c.fn = e.prototype = {
        clone: function() {
            return c(this)
        },
        format: function(e) {
            return i(this, e ? e: c.defaultFormat)
        },
        unformat: function(e) {
            return n(this, e ? e: c.defaultFormat)
        },
        value: function() {
            return this._n
        },
        valueOf: function() {
            return this._n
        },
        set: function(e) {
            return this._n = Number(e),
            this
        },
        add: function(e) {
            return this._n = this._n + Number(e),
            this
        },
        subtract: function(e) {
            return this._n = this._n - Number(e),
            this
        },
        multiply: function(e) {
            return this._n = this._n * Number(e),
            this
        },
        divide: function(e) {
            return this._n = this._n / Number(e),
            this
        },
        difference: function(e) {
            var t = this._n - Number(e);
            if (0 > t) t = -t;
            return t
        }
    },
    m) module.exports = c;
    if ("undefined" == typeof ender) this.numeral = c;
    if ("function" == typeof define && define.amd) define("numeral", [],
    function() {
        return c
    })
}.call(this),
define("jqueryhandsontable", ["require", "jquery", "numeral"],
function(require) {
    var e = require("jquery"),
    t = require("numeral"),
    i = {
        extension: {},
        plugins: {},
        helper: {}
    };
    return function(i, n, o) {
        "use strict";
        function r() {
            this.refCounter = 0,
            this.init()
        }
        function s() {
            function e() {
                var e = this;
                e.registerTimeout("enableObserveChanges",
                function() {
                    e.updateSettings({
                        observeChanges: !0
                    })
                },
                0)
            }
            function t(e) {
                return function(t, i) {
                    if (t[1] === i[1]) return 0;
                    if (null === t[1]) return 1;
                    if (null === i[1]) return - 1;
                    if (t[1] < i[1]) return e ? -1 : 1;
                    if (t[1] > i[1]) return e ? 1 : -1;
                    else return 0
                }
            }
            function i(e) {
                return function(t, i) {
                    if (t[1] === i[1]) return 0;
                    if (null === t[1]) return 1;
                    if (null === i[1]) return - 1;
                    var n = new Date(t[1]),
                    o = new Date(i[1]);
                    if (o > n) return e ? -1 : 1;
                    if (n > o) return e ? 1 : -1;
                    else return 0
                }
            }
            function n(e) {
                return "undefined" != typeof e.sortColumn
            }
            var o = this;
            this.init = function(t) {
                var i, n, r = this,
                l = r.getSettings().columnSorting;
                if (r.sortingEnabled = !!l, r.sortingEnabled) {
                    r.sortIndex = [];
                    var h = s.call(r);
                    if ("undefined" != typeof h) i = h.sortColumn,
                    n = h.sortOrder;
                    else i = l.column,
                    n = l.sortOrder;
                    if (o.sortByColumn.call(r, i, n), r.sort = function() {
                        var e = Array.prototype.slice.call(arguments);
                        return o.sortByColumn.apply(r, e)
                    },
                    "undefined" == typeof r.getSettings().observeChanges) e.call(r);
                    if ("afterInit" == t) a.call(r),
                    r.addHook("afterCreateRow", o.afterCreateRow),
                    r.addHook("afterRemoveRow", o.afterRemoveRow),
                    r.addHook("afterLoadData", o.init)
                } else delete r.sort,
                r.removeHook("afterCreateRow", o.afterCreateRow),
                r.removeHook("afterRemoveRow", o.afterRemoveRow),
                r.removeHook("afterLoadData", o.init)
            },
            this.setSortingColumn = function(e, t) {
                var i = this;
                if ("undefined" == typeof e) return delete i.sortColumn,
                void delete i.sortOrder;
                else if (i.sortColumn === e && "undefined" == typeof t) i.sortOrder = !i.sortOrder;
                else i.sortOrder = "undefined" != typeof t ? t: !0;
                i.sortColumn = e
            },
            this.sortByColumn = function(e, t) {
                var i = this;
                if (o.setSortingColumn.call(i, e, t), "undefined" != typeof i.sortColumn) i.PluginHooks.run("beforeColumnSort", i.sortColumn, i.sortOrder),
                o.sort.call(i),
                i.render(),
                r.call(i),
                i.PluginHooks.run("afterColumnSort", i.sortColumn, i.sortOrder)
            };
            var r = function() {
                var e = this,
                t = {};
                if ("undefined" != typeof e.sortColumn) t.sortColumn = e.sortColumn;
                if ("undefined" != typeof e.sortOrder) t.sortOrder = e.sortOrder;
                if (t.hasOwnProperty("sortColumn") || t.hasOwnProperty("sortOrder")) e.PluginHooks.run("persistentStateSave", "columnSorting", t)
            },
            s = function() {
                var e = this,
                t = {};
                return e.PluginHooks.run("persistentStateLoad", "columnSorting", t),
                t.value
            },
            a = function() {
                function e() {
                    var e = i.view.TBODY.querySelector("tr").querySelectorAll("th");
                    return e.length
                }
                function t(t) {
                    var n = i.view.wt.wtDom.closest(t, "TH");
                    return i.view.wt.wtDom.index(n) - e()
                }
                var i = this;
                i.rootElement.on("click.handsontable", ".columnSorting",
                function(e) {
                    if (i.view.wt.wtDom.hasClass(e.target, "columnSorting")) {
                        var n = t(e.target);
                        o.sortByColumn.call(i, n)
                    }
                })
            };
            this.sort = function() {
                var e = this;
                if ("undefined" != typeof e.sortOrder) {
                    e.sortingEnabled = !1,
                    e.sortIndex.length = 0;
                    for (var n = this.colOffset(), o = 0, r = this.countRows() - e.getSettings().minSpareRows; r > o; o++) this.sortIndex.push([o, e.getDataAtCell(o, this.sortColumn + n)]);
                    var s, a = e.getCellMeta(0, e.sortColumn);
                    switch (a.type) {
                    case "date":
                        s = i;
                        break;
                    default:
                        s = t
                    }
                    this.sortIndex.sort(s(e.sortOrder));
                    for (var o = this.sortIndex.length; o < e.countRows(); o++) this.sortIndex.push([o, e.getDataAtCell(o, this.sortColumn + n)]);
                    e.sortingEnabled = !0
                }
            },
            this.translateRow = function(e) {
                var t = this;
                if (t.sortingEnabled && t.sortIndex && t.sortIndex.length && t.sortIndex[e]) return t.sortIndex[e][0];
                else return e
            },
            this.onBeforeGetSet = function(e) {
                var t = this;
                e.row = o.translateRow.call(t, e.row)
            },
            this.untranslateRow = function(e) {
                var t = this;
                if (t.sortingEnabled && t.sortIndex && t.sortIndex.length) for (var i = 0; i < t.sortIndex.length; i++) if (t.sortIndex[i][0] == e) return i
            },
            this.getColHeader = function(e, t) {
                if (this.getSettings().columnSorting) this.view.wt.wtDom.addClass(t.querySelector(".colHeader"), "columnSorting")
            },
            this.afterCreateRow = function(e, t) {
                var i = this;
                if (n(i)) {
                    for (var o = 0; o < i.sortIndex.length; o++) if (i.sortIndex[o][0] >= e) i.sortIndex[o][0] += t;
                    for (var o = 0; t > o; o++) i.sortIndex.splice(e + o, 0, [e + o, i.getData()[e + o][i.sortColumn + i.colOffset()]]);
                    r.call(i)
                }
            },
            this.afterRemoveRow = function(e, t) {
                var i = this;
                if (n(i)) {
                    var s = o.translateRow.call(i, e);
                    i.sortIndex.splice(e, t);
                    for (var a = 0; a < i.sortIndex.length; a++) if (i.sortIndex[a][0] > s) i.sortIndex[a][0] -= t;
                    r.call(i)
                }
            },
            this.afterChangeSort = function(e) {
                var t = this,
                i = !1,
                n = {};
                if (e) {
                    for (var r = 0; r < e.length; r++) if (e[r][1] == t.sortColumn) {
                        i = !0,
                        n.row = o.translateRow.call(t, e[r][0]),
                        n.col = e[r][1];
                        break
                    }
                    if (i) setTimeout(function() {
                        o.sort.call(t),
                        t.render(),
                        t.selectCell(o.untranslateRow.call(t, n.row), n.col)
                    },
                    0)
                }
            }
        }
        function a() {
            var e, t, n, o, r, s = document.createElement("DIV"),
            a = s.style;
            s.className = "ghost",
            a.position = "absolute",
            a.top = "25px",
            a.left = 0,
            a.width = "10px",
            a.height = "10px",
            a.backgroundColor = "#CCC",
            a.opacity = .7;
            var l = function() {
                var e = this;
                e.PluginHooks.run("persistentStateSave", "manualColumnPositions", e.manualColumnPositions)
            },
            h = function() {
                var e = this,
                t = {};
                return e.PluginHooks.run("persistentStateLoad", "manualColumnPositions", t),
                t.value
            },
            c = function() {
                var h = this;
                h.rootElement.on("mousemove.manualColumnMove",
                function(t) {
                    if (e) if (a.left = r + t.pageX - o + 6 + "px", "none" === a.display) a.display = "block"
                }),
                h.rootElement.on("mouseup.manualColumnMove",
                function() {
                    if (e) {
                        if (n > t) n--;
                        if (h.getSettings().rowHeaders) t--,
                        n--;
                        h.manualColumnPositions.splice(n, 0, h.manualColumnPositions.splice(t, 1)[0]),
                        i(".manualColumnMover.active").removeClass("active"),
                        e = !1,
                        h.forceFullRender = !0,
                        h.view.render(),
                        a.display = "none",
                        l.call(h),
                        h.PluginHooks.run("afterColumnMove", t, n)
                    }
                }),
                h.rootElement.on("mousedown.manualColumnMove", ".manualColumnMover",
                function(i) {
                    var l = i.currentTarget,
                    c = h.view.wt.wtDom.closest(l, "TH");
                    t = h.view.wt.wtDom.index(c) + h.colOffset(),
                    n = t,
                    e = !0,
                    o = i.pageX;
                    var u = h.$table[0];
                    u.parentNode.appendChild(s),
                    a.width = h.view.wt.wtDom.outerWidth(c) + "px",
                    a.height = h.view.wt.wtDom.outerHeight(u) + "px",
                    r = parseInt(h.view.wt.wtDom.offset(c).left - h.view.wt.wtDom.offset(u).left, 10),
                    a.left = r + 6 + "px"
                }),
                h.rootElement.on("mouseenter.manualColumnMove", "td, th",
                function() {
                    if (e) {
                        var t = h.view.THEAD.querySelector(".manualColumnMover.active");
                        if (t) h.view.wt.wtDom.removeClass(t, "active");
                        n = h.view.wt.wtDom.index(this) + h.colOffset();
                        var i = h.view.THEAD.querySelectorAll("th"),
                        o = i[n].querySelector(".manualColumnMover");
                        h.view.wt.wtDom.addClass(o, "active")
                    }
                }),
                h.addHook("afterDestroy", u)
            },
            u = function() {
                var e = this;
                e.rootElement.off("mouseup.manualColumnMove"),
                e.rootElement.off("mousemove.manualColumnMove"),
                e.rootElement.off("mousedown.manualColumnMove"),
                e.rootElement.off("mouseenter.manualColumnMove")
            };
            this.beforeInit = function() {
                this.manualColumnPositions = []
            },
            this.init = function(e) {
                var t = this,
                i = !!this.getSettings().manualColumnMove;
                if (i) {
                    var n = this.getSettings().manualColumnMove,
                    o = h.call(t);
                    if ("undefined" != typeof o) this.manualColumnPositions = o;
                    else if (n instanceof Array) this.manualColumnPositions = n;
                    else this.manualColumnPositions = [];
                    if (t.forceFullRender = !0, "afterInit" == e) if (c.call(this), this.manualColumnPositions.length > 0) this.forceFullRender = !0,
                    this.render()
                } else u.call(this),
                this.manualColumnPositions = []
            },
            this.modifyCol = function(e) {
                if (this.getSettings().manualColumnMove) {
                    if ("undefined" == typeof this.manualColumnPositions[e]) this.manualColumnPositions[e] = e;
                    return this.manualColumnPositions[e]
                }
                return e
            },
            this.getColHeader = function(e, t) {
                if (this.getSettings().manualColumnMove) {
                    var i = document.createElement("DIV");
                    i.className = "manualColumnMover",
                    t.firstChild.appendChild(i)
                }
            }
        }
        function l() {
            function e(e) {
                a = this,
                o = e;
                var t = this.view.wt.wtTable.getCoords(e)[1];
                if (t >= 0) {
                    r = t;
                    var i = this.view.wt.wtDom.offset(this.rootElement[0]).left,
                    n = this.view.wt.wtDom.offset(e).left;
                    u = n - i - 6,
                    d.style.left = u + parseInt(this.view.wt.wtDom.outerWidth(e), 10) + "px",
                    this.rootElement[0].appendChild(d)
                }
            }
            function t() {
                var e = this;
                c = parseInt(this.view.wt.wtDom.outerWidth(o), 10),
                e.view.wt.wtDom.addClass(d, "active"),
                m.height = e.view.wt.wtDom.outerHeight(e.$table[0]) + "px",
                n = e
            }
            var n, o, r, s, a, l, h, c, u, d = document.createElement("DIV"),
            f = document.createElement("DIV"),
            p = document.createElement("DIV"),
            m = p.style;
            d.className = "manualColumnResizer",
            f.className = "manualColumnResizerHandle",
            d.appendChild(f),
            p.className = "manualColumnResizerLine",
            d.appendChild(p);
            var g = i(document);
            g.mousemove(function(e) {
                if (n) s = c + (e.pageX - h),
                l = x(r, s),
                d.style.left = u + s + "px"
            }),
            g.mouseup(function() {
                if (n) {
                    if (a.view.wt.wtDom.removeClass(d, "active"), n = !1, l != c) a.forceFullRender = !0,
                    a.view.render(),
                    y.call(a),
                    a.PluginHooks.run("afterColumnResize", r, l);
                    e.call(a, o)
                }
            });
            var y = function() {
                var e = this;
                e.PluginHooks.run("persistentStateSave", "manualColumnWidths", e.manualColumnWidths)
            },
            v = function() {
                var e = this,
                t = {};
                return e.PluginHooks.run("persistentStateLoad", "manualColumnWidths", t),
                t.value
            },
            b = function() {
                var i = this,
                o = 0,
                s = null;
                this.rootElement.on("mouseenter.handsontable", "th",
                function(t) {
                    if (!n) e.call(i, t.currentTarget)
                }),
                this.rootElement.on("mousedown.handsontable", ".manualColumnResizer",
                function() {
                    if (null == s) s = setTimeout(function() {
                        if (o >= 2) l = i.determineColumnWidth.call(i, r),
                        x(r, l),
                        i.forceFullRender = !0,
                        i.view.render(),
                        i.PluginHooks.run("afterColumnResize", r, l);
                        o = 0,
                        s = null
                    },
                    500);
                    o++
                }),
                this.rootElement.on("mousedown.handsontable", ".manualColumnResizer",
                function(e) {
                    h = e.pageX,
                    t.call(i),
                    l = c
                })
            };
            this.beforeInit = function() {
                this.manualColumnWidths = []
            },
            this.init = function(e) {
                var t = this,
                i = !!this.getSettings().manualColumnResize;
                if (i) {
                    var n = this.getSettings().manualColumnResize,
                    o = v.call(t);
                    if ("undefined" != typeof o) this.manualColumnWidths = o;
                    else if (n instanceof Array) this.manualColumnWidths = n;
                    else this.manualColumnWidths = [];
                    if ("afterInit" == e) b.call(this),
                    t.forceFullRender = !0,
                    t.render()
                }
            };
            var x = function(e, t) {
                return t = Math.max(t, 20),
                e = a.PluginHooks.execute("modifyCol", e),
                a.manualColumnWidths[e] = t,
                t
            };
            this.getColWidth = function(e, t) {
                if (this.getSettings().manualColumnResize && this.manualColumnWidths[e]) t.width = this.manualColumnWidths[e]
            }
        }
        function h(e) {
            var t, i = function() {
                n.localStorage[e + "__persistentStateKeys"] = JSON.stringify(t)
            },
            o = function() {
                var i = n.localStorage[e + "__persistentStateKeys"],
                o = "string" == typeof i ? JSON.parse(i) : void 0;
                t = o ? o: []
            },
            r = function() {
                t = [],
                i()
            };
            o(),
            this.saveValue = function(o, r) {
                if (n.localStorage[e + "_" + o] = JSON.stringify(r), -1 == t.indexOf(o)) t.push(o),
                i()
            },
            this.loadValue = function(t, i) {
                t = "undefined" != typeof t ? t: i;
                var o = n.localStorage[e + "_" + t];
                return "undefined" == typeof o ? void 0 : JSON.parse(o)
            },
            this.reset = function(t) {
                n.localStorage.removeItem(e + "_" + t)
            },
            this.resetAll = function() {
                for (var i = 0; i < t.length; i++) n.localStorage.removeItem(e + "_" + t[i]);
                r()
            }
        }
        function c() {
            this.boundaries = null,
            this.callback = null
        }
        function u() {
            this.maxOuts = 10
        }
        function d(e, t) {
            var n;
            this.instance = e,
            this.settings = t,
            this.wtDom = this.instance.wtDom,
            this.main = document.createElement("div"),
            n = this.main.style,
            n.position = "absolute",
            n.top = 0,
            n.left = 0;
            for (var o = 0; 5 > o; o++) {
                var r = document.createElement("DIV");
                r.className = "wtBorder " + (t.className || ""),
                n = r.style,
                n.backgroundColor = t.border.color,
                n.height = t.border.width + "px",
                n.width = t.border.width + "px",
                this.main.appendChild(r)
            }
            if (this.top = this.main.childNodes[0], this.left = this.main.childNodes[1], this.bottom = this.main.childNodes[2], this.right = this.main.childNodes[3], this.topStyle = this.top.style, this.leftStyle = this.left.style, this.bottomStyle = this.bottom.style, this.rightStyle = this.right.style, this.corner = this.main.childNodes[4], this.corner.className += " corner", this.cornerStyle = this.corner.style, this.cornerStyle.width = "5px", this.cornerStyle.height = "5px", this.cornerStyle.border = "2px solid #FFF", this.disappear(), !e.wtTable.bordersHolder) e.wtTable.bordersHolder = document.createElement("div"),
            e.wtTable.bordersHolder.className = "htBorders",
            e.wtTable.hider.appendChild(e.wtTable.bordersHolder);
            e.wtTable.bordersHolder.appendChild(this.main);
            var s = !1,
            a = i(document.body);
            a.on("mousedown.walkontable." + e.guid,
            function() {
                s = !0
            }),
            a.on("mouseup.walkontable." + e.guid,
            function() {
                s = !1
            }),
            i(this.main.childNodes).on("mouseenter",
            function(t) {
                if (s && e.getSetting("hideBorderOnMouseDownOver")) {
                    t.preventDefault(),
                    t.stopImmediatePropagation();
                    var n = this.getBoundingClientRect(),
                    o = i(this);
                    o.hide();
                    var r = function(e) {
                        if (e.clientY < Math.floor(n.top)) return ! 0;
                        if (e.clientY > Math.ceil(n.top + n.height)) return ! 0;
                        if (e.clientX < Math.floor(n.left)) return ! 0;
                        if (e.clientX > Math.ceil(n.left + n.width)) return ! 0;
                        else return void 0
                    };
                    a.on("mousemove.border." + e.guid,
                    function(t) {
                        if (r(t)) a.off("mousemove.border." + e.guid),
                        o.show()
                    })
                }
            })
        }
        function f() {
            this.offset = 0,
            this.total = 0,
            this.fixedCount = 0
        }
        function p(e) {
            this.instance = e
        }
        function m() {
            this.cache = []
        }
        function g() {
            this.countTH = 0
        }
        function y(e, t, i, n) {
            var o, r = 0;
            for (p.apply(this, arguments), this.containerSizeFn = t, this.cellSizesSum = 0, this.cellSizes = [], this.cellStretch = [], this.cellCount = 0, this.remainingSize = 0, this.strategy = n;;) {
                if (o = i(r), void 0 === o) break;
                if (this.cellSizesSum >= this.getContainerSize(this.cellSizesSum + o)) break;
                this.cellSizes.push(o),
                this.cellSizesSum += o,
                this.cellCount++,
                r++
            }
            var s = this.getContainerSize(this.cellSizesSum);
            this.remainingSize = this.cellSizesSum - s
        }
        function v(e) {
            var t = this,
            i = [];
            if (this.guid = "wt_" + w(), this.wtDom = new x, e.cloneSource) this.cloneSource = e.cloneSource,
            this.cloneOverlay = e.cloneOverlay,
            this.wtSettings = e.cloneSource.wtSettings,
            this.wtTable = new A(this, e.table),
            this.wtScroll = new k(this),
            this.wtViewport = e.cloneSource.wtViewport;
            else this.wtSettings = new W(this, e),
            this.wtTable = new A(this, e.table),
            this.wtScroll = new k(this),
            this.wtViewport = new M(this),
            this.wtScrollbars = new I(this),
            this.wtWheel = new D(this),
            this.wtEvent = new _(this);
            if (this.wtTable.THEAD.childNodes.length && this.wtTable.THEAD.childNodes[0].childNodes.length) {
                for (var n = 0,
                o = this.wtTable.THEAD.childNodes[0].childNodes.length; o > n; n++) i.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);
                if (!this.getSetting("columnHeaders").length) this.update("columnHeaders", [function(e, n) {
                    t.wtDom.fastInnerText(n, i[e])
                }])
            }
            this.selections = {};
            var r = this.getSetting("selections");
            if (r) for (var s in r) if (r.hasOwnProperty(s)) this.selections[s] = new E(this, r[s]);
            this.drawn = !1,
            this.drawInterrupted = !1
        }
        function b(e) {
            this.instance = e,
            this.init(),
            this.clone = this.makeClone("debug"),
            this.clone.wtTable.holder.style.opacity = .4,
            this.clone.wtTable.holder.style.textShadow = "0 0 2px #ff0000";
            var t, n = this,
            o = 0,
            r = 0,
            s = n.clone.wtTable.holder.parentNode;
            i(document.body).on("mousemove." + this.instance.guid,
            function(e) {
                if (n.instance.wtTable.holder.parentNode) if (! (e.clientX - o > -5 && e.clientX - o < 5 && e.clientY - r > -5 && e.clientY - r < 5)) o = e.clientX,
                r = e.clientY,
                x.prototype.addClass(s, "wtDebugHidden"),
                x.prototype.removeClass(s, "wtDebugVisible"),
                clearTimeout(t),
                t = setTimeout(function() {
                    x.prototype.removeClass(s, "wtDebugHidden"),
                    x.prototype.addClass(s, "wtDebugVisible")
                },
                1e3)
            })
        }
        function x() {}
        function _(e) {
            var t = this;
            this.instance = e,
            this.wtDom = this.instance.wtDom;
            var n, o = [null, null],
            r = [null, null],
            s = function(e) {
                var i = t.parentCell(e.target);
                if (t.wtDom.hasClass(e.target, "corner")) t.instance.getSetting("onCellCornerMouseDown", e, e.target);
                else if (i.TD && "TD" === i.TD.nodeName) if (t.instance.hasSetting("onCellMouseDown")) t.instance.getSetting("onCellMouseDown", e, i.coords, i.TD);
                if (2 !== e.button) if (i.TD && "TD" === i.TD.nodeName) o[0] = i.TD,
                clearTimeout(r[0]),
                r[0] = setTimeout(function() {
                    o[0] = null
                },
                1e3)
            },
            a = function(e) {
                if (t.instance.hasSetting("onCellMouseOver")) {
                    var i = t.instance.wtTable.TABLE,
                    o = t.wtDom.closest(e.target, ["TD", "TH"], i);
                    if (o && o !== n && t.wtDom.isChildOf(o, i)) if (n = o, "TD" === o.nodeName) t.instance.getSetting("onCellMouseOver", e, t.instance.wtTable.getCoords(o), o)
                }
            },
            l = function(e) {
                if (2 !== e.button) {
                    var i = t.parentCell(e.target);
                    if (i.TD === o[0] && i.TD === o[1]) {
                        if (t.wtDom.hasClass(e.target, "corner")) t.instance.getSetting("onCellCornerDblClick", e, i.coords, i.TD);
                        else if (i.TD) t.instance.getSetting("onCellDblClick", e, i.coords, i.TD);
                        o[0] = null,
                        o[1] = null
                    } else if (i.TD === o[0]) o[1] = i.TD,
                    clearTimeout(r[1]),
                    r[1] = setTimeout(function() {
                        o[1] = null
                    },
                    500)
                }
            };
            i(this.instance.wtTable.holder).on("mousedown", s),
            i(this.instance.wtTable.TABLE).on("mouseover", a),
            i(this.instance.wtTable.holder).on("mouseup", l)
        }
        function w() {
            function e() {
                return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
            }
            return e() + e() + e() + e()
        }
        function V() {}
        function U(e, t, i) {
            p.apply(this, arguments),
            this.containerSizeFn = t,
            this.sizeAtIndex = i,
            this.cellSizesSum = 0,
            this.cellSizes = [],
            this.cellCount = 0,
            this.remainingSize = -1 / 0
        }
        function k(e) {
            this.instance = e
        }
        function C() {}
        function S(e) {
            this.instance = e,
            this.init(),
            this.clone = this.makeClone("corner")
        }
        function L(e) {
            this.instance = e,
            this.type = "horizontal",
            this.cellSize = 50,
            this.init(),
            this.clone = this.makeClone("left")
        }
        function T(e) {
            this.instance = e,
            this.type = "vertical",
            this.cellSize = 23,
            this.init(),
            this.clone = this.makeClone("top")
        }
        function I(e) {
            if (this.instance = e, e.getSetting("nativeScrollbars")) {
                if (e.update("scrollbarWidth", e.wtDom.getScrollbarWidth()), e.update("scrollbarHeight", e.wtDom.getScrollbarWidth()), this.vertical = new T(e), this.horizontal = new L(e), this.corner = new S(e), e.getSetting("debug")) this.debug = new b(e);
                this.registerListeners()
            } else this.vertical = new j(e),
            this.horizontal = new G(e)
        }
        function E(e, t) {
            if (this.instance = e, this.settings = t, this.selected = [], t.border) this.border = new d(e, t)
        }
        function W(e, t) {
            var i = this;
            this.instance = e,
            this.defaults = {
                table: void 0,
                debug: !1,
                scrollH: "auto",
                scrollV: "auto",
                nativeScrollbars: !1,
                stretchH: "hybrid",
                currentRowClassName: null,
                currentColumnClassName: null,
                data: void 0,
                offsetRow: 0,
                offsetColumn: 0,
                fixedColumnsLeft: 0,
                fixedRowsTop: 0,
                rowHeaders: function() {
                    return []
                },
                columnHeaders: function() {
                    return []
                },
                totalRows: void 0,
                totalColumns: void 0,
                width: null,
                height: null,
                cellRenderer: function(e, t, n) {
                    var o = i.getSetting("data", e, t);
                    i.instance.wtDom.fastInnerText(n, void 0 === o || null === o ? "": o)
                },
                columnWidth: 50,
                selections: null,
                hideBorderOnMouseDownOver: !1,
                onCellMouseDown: null,
                onCellMouseOver: null,
                onCellDblClick: null,
                onCellCornerMouseDown: null,
                onCellCornerDblClick: null,
                beforeDraw: null,
                onDraw: null,
                onScrollVertically: null,
                onScrollHorizontally: null,
                scrollbarWidth: 10,
                scrollbarHeight: 10
            },
            this.settings = {};
            for (var n in this.defaults) if (this.defaults.hasOwnProperty(n)) if (void 0 !== t[n]) this.settings[n] = t[n];
            else if (void 0 === this.defaults[n]) throw new Error('A required setting "' + n + '" was not provided');
            else this.settings[n] = this.defaults[n]
        }
        function A(e, t) {
            this.instance = e,
            this.TABLE = t,
            this.wtDom = this.instance.wtDom,
            this.wtDom.removeTextNodes(this.TABLE);
            var i = this.TABLE.parentNode;
            if (!i || 1 !== i.nodeType || !this.wtDom.hasClass(i, "wtHolder")) {
                var n = document.createElement("DIV");
                if (n.className = "wtSpreader", i) i.insertBefore(n, this.TABLE);
                n.appendChild(this.TABLE)
            }
            if (this.spreader = this.TABLE.parentNode, i = this.spreader.parentNode, !i || 1 !== i.nodeType || !this.wtDom.hasClass(i, "wtHolder")) {
                var o = document.createElement("DIV");
                if (o.className = "wtHider", i) i.insertBefore(o, this.spreader);
                o.appendChild(this.spreader)
            }
            if (this.hider = this.spreader.parentNode, this.hiderStyle = this.hider.style, this.hiderStyle.position = "relative", i = this.hider.parentNode, !i || 1 !== i.nodeType || !this.wtDom.hasClass(i, "wtHolder")) {
                var r = document.createElement("DIV");
                if (r.style.position = "relative", r.className = "wtHolder", i) i.insertBefore(r, this.hider);
                r.appendChild(this.hider)
            }
            if (this.holder = this.hider.parentNode, this.TBODY = this.TABLE.getElementsByTagName("TBODY")[0], !this.TBODY) this.TBODY = document.createElement("TBODY"),
            this.TABLE.appendChild(this.TBODY);
            if (this.THEAD = this.TABLE.getElementsByTagName("THEAD")[0], !this.THEAD) this.THEAD = document.createElement("THEAD"),
            this.TABLE.insertBefore(this.THEAD, this.TBODY);
            if (this.COLGROUP = this.TABLE.getElementsByTagName("COLGROUP")[0], !this.COLGROUP) this.COLGROUP = document.createElement("COLGROUP"),
            this.TABLE.insertBefore(this.COLGROUP, this.THEAD);
            if (this.instance.getSetting("columnHeaders").length) if (!this.THEAD.childNodes.length) {
                var s = document.createElement("TR");
                this.THEAD.appendChild(s)
            }
            this.colgroupChildrenLength = this.COLGROUP.childNodes.length,
            this.theadChildrenLength = this.THEAD.firstChild ? this.THEAD.firstChild.childNodes.length: 0,
            this.tbodyChildrenLength = this.TBODY.childNodes.length,
            this.oldCellCache = new m,
            this.currentCellCache = new m,
            this.rowFilter = new V,
            this.columnFilter = new g,
            this.verticalRenderReverse = !1
        }
        function M(e) {
            if (this.instance = e, this.resetSettings(), this.instance.getSetting("nativeScrollbars")) {
                var t = this;
                i(n).on("resize",
                function() {
                    t.clientHeight = t.getWorkspaceHeight()
                })
            }
        }
        function D(e) {
            if (!e.getSetting("nativeScrollbars")) i(e.wtTable.spreader).on("mousewheel",
            function(t, i, n, o) {
                if (!n && !o && i) o = i;
                if (n || o) if (! (o > 0 && 0 === e.getSetting("offsetRow"))) {
                    if (0 > o && e.wtTable.isLastRowFullyVisible()) return;
                    else if (0 > n && 0 === e.getSetting("offsetColumn")) return;
                    else if (n > 0 && e.wtTable.isLastColumnFullyVisible()) return;
                    clearTimeout(e.wheelTimeout),
                    e.wheelTimeout = setTimeout(function() {
                        if (o) {
                            if (e.wtScrollbars.vertical.visible) e.scrollVertical( - Math.ceil(o)).draw()
                        } else if (n) if (e.wtScrollbars.horizontal.visible) e.scrollHorizontal(Math.ceil(n)).draw()
                    },
                    0),
                    t.preventDefault()
                }
            })
        }
        if (!Array.prototype.indexOf) Array.prototype.indexOf = function(e) {
            var t = this.length >>> 0,
            i = Number(arguments[1]) || 0;
            if (i = 0 > i ? Math.ceil(i) : Math.floor(i), 0 > i) i += t;
            for (; t > i; i++) if (i in this && this[i] === e) return i;
            return - 1
        };
        if (!Array.prototype.filter) Array.prototype.filter = function(e, t) {
            function i(e) {
                return /NodeList/i.test(e.item)
            }
            function n(e) {
                for (var t = [], i = 0, n = e.length; n > i; i++) t[i] = e[i];
                return t
            }
            if ("undefined" == typeof this || null === this) throw new TypeError;
            if ("function" != typeof e) throw new TypeError;
            if (t = t || this, i(t)) t = n(t);
            var o, r, s = t.length,
            a = [];
            for (o = 0; s > o; o += 1) if (t.hasOwnProperty(o)) if (r = t[o], e.call(t, r, o, t)) a.push(r);
            return a
        };
        if ("undefined" == typeof WeakMap) !
        function() {
            var e = Object.defineProperty;
            try {
                var t = !0;
                e(function() {},
                "foo", {})
            } catch(i) {
                t = !1
            }
            var o = +new Date % 1e9,
            r = function() {
                if (this.name = "__st" + (1e9 * Math.random() >>> 0) + (o+++"__"), !t) this._wmCache = []
            };
            if (t) r.prototype = {
                set: function(t, i) {
                    var n = t[this.name];
                    if (n && n[0] === t) n[1] = i;
                    else e(t, this.name, {
                        value: [t, i],
                        writable: !0
                    })
                },
                get: function(e) {
                    var t;
                    return (t = e[this.name]) && t[0] === e ? t[1] : void 0
                },
                "delete": function(e) {
                    this.set(e, void 0)
                }
            };
            else r.prototype = {
                set: function(e, t) {
                    if ("undefined" != typeof e && "undefined" != typeof t) {
                        for (var i = 0,
                        n = this._wmCache.length; n > i; i++) if (this._wmCache[i].key == e) return void(this._wmCache[i].value = t);
                        this._wmCache.push({
                            key: e,
                            value: t
                        })
                    }
                },
                get: function(e) {
                    if ("undefined" != typeof e) for (var t = 0,
                    i = this._wmCache.length; i > t; t++) if (this._wmCache[t].key == e) return this._wmCache[t].value
                },
                "delete": function(e) {
                    if ("undefined" != typeof e) for (var t = 0,
                    i = this._wmCache.length; i > t; t++) if (this._wmCache[t].key == e) Array.prototype.slice.call(this._wmCache, t, 1)
                }
            };
            n.WeakMap = r
        } ();
        o.activeGuid = null,
        o.Core = function(e, r) {
            function s() {
                var e = !1;
                return {
                    validatorsInQueue: 0,
                    addValidatorToQueue: function() {
                        this.validatorsInQueue++,
                        e = !1
                    },
                    removeValidatorFormQueue: function() {
                        this.validatorsInQueue = this.validatorsInQueue - 1 < 0 ? 0 : this.validatorsInQueue - 1,
                        this.checkIfQueueIsEmpty()
                    },
                    onQueueEmpty: function() {},
                    checkIfQueueIsEmpty: function() {
                        if (0 == this.validatorsInQueue && 0 == e) e = !0,
                        this.onQueueEmpty()
                    }
                }
            }
            function a(e, n, o) {
                function r() {
                    var t;
                    if (e.length) if (t = y.PluginHooks.execute("beforeChange", e, n), "function" == typeof t) i.when(result).then(function() {
                        o()
                    });
                    else if (t === !1) e.splice(0, e.length);
                    if ("function" != typeof t) o()
                }
                var a = new s;
                a.onQueueEmpty = r;
                for (var l = e.length - 1; l >= 0; l--) if (null === e[l]) e.splice(l, 1);
                else {
                    var h = e[l][0],
                    c = d.propToCol(e[l][1]),
                    u = y.runHooksAndReturn("modifyCol", c),
                    f = y.getCellMeta(h, u);
                    if ("numeric" === f.type && "string" == typeof e[l][3]) if (e[l][3].length > 0 && /^-?[\d\s]*\.?\d*$/.test(e[l][3])) e[l][3] = t().unformat(e[l][3] || "0");
                    if (y.getCellValidator(f)) a.addValidatorToQueue(),
                    y.validateCell(e[l][3], f,
                    function(t, i) {
                        return function(n) {
                            if ("boolean" != typeof n) throw new Error("Validation error: result is not boolean");
                            if (n === !1 && i.allowInvalid === !1) e.splice(t, 1),
                            i.valid = !0,
                            --t;
                            a.removeValidatorFormQueue()
                        }
                    } (l, f), n)
                }
                a.checkIfQueueIsEmpty()
            }
            function l(e, t) {
                var i = e.length - 1;
                if (! (0 > i)) {
                    for (; i >= 0; i--) if (null !== e[i]) {
                        if (u.settings.minSpareRows) for (; e[i][0] > y.countRows() - 1;) d.createRow();
                        if ("array" === y.dataType && u.settings.minSpareCols) for (; d.propToCol(e[i][1]) > y.countCols() - 1;) d.createCol();
                        d.set(e[i][0], e[i][1], e[i][3])
                    } else e.splice(i, 1);
                    y.forceFullRender = !0,
                    f.adjustRowsAndCols(),
                    p.refreshBorders(null, !0),
                    y.PluginHooks.run("afterChange", e, t || "edit")
                }
            }
            function h(e, t, n) {
                if ("object" == typeof e) return e;
                else if (i.isPlainObject(n)) return n;
                else return [[e, t, n]]
            }
            function c(e) {
                if (e.hasOwnProperty("type")) {
                    var t, i = {};
                    if ("object" == typeof e.type) t = e.type;
                    else if ("string" == typeof e.type) if (t = o.cellTypes[e.type], void 0 === t) throw new Error('You declared cell type "' + e.type + '" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');
                    for (var n in t) if (t.hasOwnProperty(n) && !e.hasOwnProperty(n)) i[n] = t[n];
                    return i
                }
            }
            var u, d, f, p, m, g, y = this,
            v = function() {};
            o.helper.extend(v.prototype, P.prototype),
            o.helper.extend(v.prototype, r),
            o.helper.extend(v.prototype, c(r)),
            this.rootElement = e;
            var b = i(document.documentElement),
            x = i(document.body);
            if (this.guid = "ht_" + o.helper.randomString(), !this.rootElement[0].id) this.rootElement[0].id = this.guid;
            u = {
                cellSettings: [],
                columnSettings: [],
                columnsSettingConflicts: ["data", "width"],
                settings: new v,
                settingsFromDOM: {},
                selStart: new o.SelectionPoint,
                selEnd: new o.SelectionPoint,
                isPopulated: null,
                scrollable: null,
                extensions: {},
                firstRun: !0
            },
            f = {
                alter: function(e, t, i, n, r) {
                    var s;
                    switch (i = i || 1, e) {
                    case "insert_row":
                        if (s = d.createRow(t, i)) if (u.selStart.exists() && u.selStart.row() >= t) u.selStart.row(u.selStart.row() + s),
                        p.transformEnd(s, 0);
                        else p.refreshBorders();
                        break;
                    case "insert_col":
                        if (s = d.createCol(t, i)) {
                            if (o.helper.isArray(y.getSettings().colHeaders)) {
                                var a = [t, 0];
                                a.length += s,
                                Array.prototype.splice.apply(y.getSettings().colHeaders, a)
                            }
                            if (u.selStart.exists() && u.selStart.col() >= t) u.selStart.col(u.selStart.col() + s),
                            p.transformEnd(0, s);
                            else p.refreshBorders()
                        }
                        break;
                    case "remove_row":
                        d.removeRow(t, i),
                        u.cellSettings.splice(t, i),
                        f.adjustRowsAndCols(),
                        p.refreshBorders();
                        break;
                    case "remove_col":
                        d.removeCol(t, i);
                        for (var l = 0,
                        h = d.getAll().length; h > l; l++) if (l in u.cellSettings) u.cellSettings[l].splice(t, i);
                        if (o.helper.isArray(y.getSettings().colHeaders)) {
                            if ("undefined" == typeof t) t = -1;
                            y.getSettings().colHeaders.splice(t, i)
                        }
                        u.columnSettings.splice(t, i),
                        f.adjustRowsAndCols(),
                        p.refreshBorders();
                        break;
                    default:
                        throw new Error('There is no such action "' + e + '"')
                    }
                    if (!r) f.adjustRowsAndCols()
                },
                adjustRowsAndCols: function() {
                    var e, t, i, n = y.countEmptyRows(!0);
                    if (t = y.countRows(), t < u.settings.minRows) for (e = 0; e < u.settings.minRows - t; e++) d.createRow(y.countRows(), 1, !0);
                    if (n < u.settings.minSpareRows) for (; n < u.settings.minSpareRows && y.countRows() < u.settings.maxRows; n++) d.createRow(y.countRows(), 1, !0);
                    if (i = y.countEmptyCols(!0), !u.settings.columns && y.countCols() < u.settings.minCols) for (; y.countCols() < u.settings.minCols; i++) d.createCol(y.countCols(), 1, !0);
                    if (!u.settings.columns && "array" === y.dataType && i < u.settings.minSpareCols) for (; i < u.settings.minSpareCols && y.countCols() < u.settings.maxCols; i++) d.createCol(y.countCols(), 1, !0);
                    if (u.settings.enterBeginsEditing) for (; (u.settings.minRows || u.settings.minSpareRows) && y.countRows() > u.settings.minRows && u.settings.minSpareRows && n > u.settings.minSpareRows; n--) d.removeRow();
                    if (u.settings.enterBeginsEditing && !u.settings.columns) for (; (u.settings.minCols || u.settings.minSpareCols) && y.countCols() > u.settings.minCols && u.settings.minSpareCols && i > u.settings.minSpareCols; i--) d.removeCol();
                    var o = y.countRows(),
                    r = y.countCols();
                    if (0 === o || 0 === r) p.deselect();
                    if (u.selStart.exists()) {
                        var s, a = u.selStart.row(),
                        l = u.selStart.col(),
                        h = u.selEnd.row(),
                        c = u.selEnd.col();
                        if (a > o - 1) {
                            if (a = o - 1, s = !0, h > a) h = a
                        } else if (h > o - 1) if (h = o - 1, s = !0, a > h) a = h;
                        if (l > r - 1) {
                            if (l = r - 1, s = !0, c > l) c = l
                        } else if (c > r - 1) if (c = r - 1, s = !0, l > c) l = c;
                        if (s) y.selectCell(a, l, h, c)
                    }
                },
                populateFromArray: function(e, t, i, n, r) {
                    var s, a, l, h, c = [],
                    d = {};
                    if (a = t.length, 0 === a) return ! 1;
                    var f, p, m, g;
                    switch (r) {
                    case "shift_down":
                        for (f = i ? i.col - e.col + 1 : 0, p = i ? i.row - e.row + 1 : 0, t = o.helper.translateRowsToColumns(t), l = 0, h = t.length, m = Math.max(h, f); m > l; l++) if (h > l) {
                            for (s = 0, a = t[l].length; p - a > s; s++) t[l].push(t[l][s % a]);
                            t[l].unshift(e.col + l, e.row, 0),
                            y.spliceCol.apply(y, t[l])
                        } else t[l % h][0] = e.col + l,
                        y.spliceCol.apply(y, t[l % h]);
                        break;
                    case "shift_right":
                        for (f = i ? i.col - e.col + 1 : 0, p = i ? i.row - e.row + 1 : 0, s = 0, a = t.length, g = Math.max(a, p); g > s; s++) if (a > s) {
                            for (l = 0, h = t[s].length; f - h > l; l++) t[s].push(t[s][l % h]);
                            t[s].unshift(e.row + s, e.col, 0),
                            y.spliceRow.apply(y, t[s])
                        } else t[s % a][0] = e.row + s,
                        y.spliceRow.apply(y, t[s % a]);
                        break;
                    case "overwrite":
                    default:
                        for (d.row = e.row, d.col = e.col, s = 0; a > s && !(i && d.row > i.row || !u.settings.minSpareRows && d.row > y.countRows() - 1 || d.row >= u.settings.maxRows); s++) {
                            for (d.col = e.col, h = t[s] ? t[s].length: 0, l = 0; h > l && !(i && d.col > i.col || !u.settings.minSpareCols && d.col > y.countCols() - 1 || d.col >= u.settings.maxCols); l++) {
                                if (!y.getCellMeta(d.row, d.col).readOnly) c.push([d.row, d.col, t[s][l]]);
                                if (d.col++, i && l === h - 1) l = -1
                            }
                            if (d.row++, i && s === a - 1) s = -1
                        }
                        y.setDataAtCell(c, null, null, n || "populateFromArray")
                    }
                },
                getCornerCoords: function(e) {
                    function t(e, t, n) {
                        function o(e) {
                            return e[n]
                        }
                        if (Array.prototype.map) return e.apply(Math, t.map(o));
                        else return e.apply(Math, i.map(t, o))
                    }
                    return {
                        TL: {
                            row: t(Math.min, e, "row"),
                            col: t(Math.min, e, "col")
                        },
                        BR: {
                            row: t(Math.max, e, "row"),
                            col: t(Math.max, e, "col")
                        }
                    }
                },
                getCellsAtCoords: function(e, t) {
                    var i, n, o = f.getCornerCoords([e, t]),
                    r = [];
                    for (i = o.TL.row; i <= o.BR.row; i++) for (n = o.TL.col; n <= o.BR.col; n++) r.push(y.view.getCellAtCoords({
                        row: i,
                        col: n
                    }));
                    return r
                }
            },
            this.selection = p = {
                inProgress: !1,
                begin: function() {
                    y.selection.inProgress = !0
                },
                finish: function() {
                    var e = y.getSelected();
                    y.PluginHooks.run("afterSelectionEnd", e[0], e[1], e[2], e[3]),
                    y.PluginHooks.run("afterSelectionEndByProp", e[0], y.colToProp(e[1]), e[2], y.colToProp(e[3])),
                    y.selection.inProgress = !1
                },
                isInProgress: function() {
                    return y.selection.inProgress
                },
                setRangeStart: function(e) {
                    u.selStart.coords(e),
                    p.setRangeEnd(e)
                },
                setRangeEnd: function(e, t) {
                    if (y.selection.begin(), u.selEnd.coords(e), !u.settings.multiSelect) u.selStart.coords(e);
                    if (y.view.wt.selections.current.clear(), y.view.wt.selections.current.add(u.selStart.arr()), y.view.wt.selections.area.clear(), p.isMultiple()) y.view.wt.selections.area.add(u.selStart.arr()),
                    y.view.wt.selections.area.add(u.selEnd.arr());
                    if (u.settings.currentRowClassName || u.settings.currentColClassName) y.view.wt.selections.highlight.clear(),
                    y.view.wt.selections.highlight.add(u.selStart.arr()),
                    y.view.wt.selections.highlight.add(u.selEnd.arr());
                    if (y.PluginHooks.run("afterSelection", u.selStart.row(), u.selStart.col(), u.selEnd.row(), u.selEnd.col()), y.PluginHooks.run("afterSelectionByProp", u.selStart.row(), d.colToProp(u.selStart.col()), u.selEnd.row(), d.colToProp(u.selEnd.col())), t !== !1) y.view.scrollViewport(e);
                    p.refreshBorders()
                },
                refreshBorders: function(e, t) {
                    if (!t) m.destroyEditor(e);
                    if (y.view.render(), p.isSelected() && !t) m.prepareEditor()
                },
                isMultiple: function() {
                    return ! (u.selEnd.col() === u.selStart.col() && u.selEnd.row() === u.selStart.row())
                },
                transformStart: function(e, t, i) {
                    if (u.selStart.row() + e > y.countRows() - 1) {
                        if (i && u.settings.minSpareRows > 0) y.alter("insert_row", y.countRows());
                        else if (u.settings.autoWrapCol) e = 1 - y.countRows(),
                        t = u.selStart.col() + t == y.countCols() - 1 ? 1 - y.countCols() : 1
                    } else if (u.settings.autoWrapCol && u.selStart.row() + e < 0 && u.selStart.col() + t >= 0) e = y.countRows() - 1,
                    t = u.selStart.col() + t == 0 ? y.countCols() - 1 : -1;
                    if (u.selStart.col() + t > y.countCols() - 1) {
                        if (i && u.settings.minSpareCols > 0) y.alter("insert_col", y.countCols());
                        else if (u.settings.autoWrapRow) e = u.selStart.row() + e == y.countRows() - 1 ? 1 - y.countRows() : 1,
                        t = 1 - y.countCols()
                    } else if (u.settings.autoWrapRow && u.selStart.col() + t < 0 && u.selStart.row() + e >= 0) e = u.selStart.row() + e == 0 ? y.countRows() - 1 : -1,
                    t = y.countCols() - 1;
                    var n = y.countRows(),
                    o = y.countCols(),
                    r = {
                        row: u.selStart.row() + e,
                        col: u.selStart.col() + t
                    };
                    if (r.row < 0) r.row = 0;
                    else if (r.row > 0 && r.row >= n) r.row = n - 1;
                    if (r.col < 0) r.col = 0;
                    else if (r.col > 0 && r.col >= o) r.col = o - 1;
                    p.setRangeStart(r)
                },
                transformEnd: function(e, t) {
                    if (u.selEnd.exists()) {
                        var i = y.countRows(),
                        n = y.countCols(),
                        o = {
                            row: u.selEnd.row() + e,
                            col: u.selEnd.col() + t
                        };
                        if (o.row < 0) o.row = 0;
                        else if (o.row > 0 && o.row >= i) o.row = i - 1;
                        if (o.col < 0) o.col = 0;
                        else if (o.col > 0 && o.col >= n) o.col = n - 1;
                        p.setRangeEnd(o)
                    }
                },
                isSelected: function() {
                    return u.selEnd.exists()
                },
                inInSelection: function(e) {
                    if (!p.isSelected()) return ! 1;
                    var t = f.getCornerCoords([u.selStart.coords(), u.selEnd.coords()]);
                    return t.TL.row <= e.row && t.BR.row >= e.row && t.TL.col <= e.col && t.BR.col >= e.col
                },
                deselect: function() {
                    if (p.isSelected()) y.selection.inProgress = !1,
                    u.selEnd = new o.SelectionPoint,
                    y.view.wt.selections.current.clear(),
                    y.view.wt.selections.area.clear(),
                    m.destroyEditor(),
                    p.refreshBorders(),
                    y.PluginHooks.run("afterDeselect")
                },
                selectAll: function() {
                    if (u.settings.multiSelect) p.setRangeStart({
                        row: 0,
                        col: 0
                    }),
                    p.setRangeEnd({
                        row: y.countRows() - 1,
                        col: y.countCols() - 1
                    },
                    !1)
                },
                empty: function() {
                    if (p.isSelected()) {
                        var e, t, i = f.getCornerCoords([u.selStart.coords(), u.selEnd.coords()]),
                        n = [];
                        for (e = i.TL.row; e <= i.BR.row; e++) for (t = i.TL.col; t <= i.BR.col; t++) if (!y.getCellMeta(e, t).readOnly) n.push([e, t, ""]);
                        y.setDataAtCell(n)
                    }
                }
            },
            this.autofill = g = {
                handle: null,
                init: function() {
                    if (!g.handle) g.handle = {};
                    else g.handle.disabled = !1
                },
                disable: function() {
                    g.handle.disabled = !0
                },
                selectAdjacent: function() {
                    var e, t, i, n, o;
                    if (p.isMultiple()) e = y.view.wt.selections.area.getCorners();
                    else e = y.view.wt.selections.current.getCorners();
                    t = d.getAll();
                    e: for (i = e[2] + 1; i < y.countRows(); i++) {
                        for (o = e[1]; o <= e[3]; o++) if (t[i][o]) break e;
                        if (t[i][e[1] - 1] || t[i][e[3] + 1]) n = i
                    }
                    if (n) y.view.wt.selections.fill.clear(),
                    y.view.wt.selections.fill.add([e[0], e[1]]),
                    y.view.wt.selections.fill.add([n, e[3]]),
                    g.apply()
                },
                apply: function() {
                    var e, t, i, n, o;
                    if (g.handle.isDragged = 0, e = y.view.wt.selections.fill.getCorners()) {
                        if (y.view.wt.selections.fill.clear(), p.isMultiple()) t = y.view.wt.selections.area.getCorners();
                        else t = y.view.wt.selections.current.getCorners();
                        if (e[0] === t[0] && e[1] < t[1]) i = {
                            row: e[0],
                            col: e[1]
                        },
                        n = {
                            row: e[2],
                            col: t[1] - 1
                        };
                        else if (e[0] === t[0] && e[3] > t[3]) i = {
                            row: e[0],
                            col: t[3] + 1
                        },
                        n = {
                            row: e[2],
                            col: e[3]
                        };
                        else if (e[0] < t[0] && e[1] === t[1]) i = {
                            row: e[0],
                            col: e[1]
                        },
                        n = {
                            row: t[0] - 1,
                            col: e[3]
                        };
                        else if (e[2] > t[2] && e[1] === t[1]) i = {
                            row: t[2] + 1,
                            col: e[1]
                        },
                        n = {
                            row: e[2],
                            col: e[3]
                        };
                        if (i) o = SheetClip.parse(d.getText(u.selStart.coords(), u.selEnd.coords())),
                        y.PluginHooks.run("beforeAutofill", i, n, o),
                        f.populateFromArray(i, o, n, "autofill"),
                        p.setRangeStart({
                            row: e[0],
                            col: e[1]
                        }),
                        p.setRangeEnd({
                            row: e[2],
                            col: e[3]
                        })
                    }
                },
                showBorder: function(e) {
                    e.row = e[0],
                    e.col = e[1];
                    var t = f.getCornerCoords([u.selStart.coords(), u.selEnd.coords()]);
                    if ("horizontal" !== u.settings.fillHandle && (t.BR.row < e.row || t.TL.row > e.row)) e = [e.row, t.BR.col];
                    else if ("vertical" !== u.settings.fillHandle) e = [t.BR.row, e.col];
                    else return;
                    y.view.wt.selections.fill.clear(),
                    y.view.wt.selections.fill.add([u.selStart.coords().row, u.selStart.coords().col]),
                    y.view.wt.selections.fill.add([u.selEnd.coords().row, u.selEnd.coords().col]),
                    y.view.wt.selections.fill.add(e),
                    y.view.render()
                }
            },
            this.init = function() {
                if (y.PluginHooks.run("beforeInit"), this.view = new o.TableView(this), m = new o.EditorManager(y, u, p, d), this.updateSettings(u.settings, !0), this.parseSettingsFromDOM(), this.forceFullRender = !0, this.view.render(), "object" == typeof u.firstRun) y.PluginHooks.run("afterChange", u.firstRun[0], u.firstRun[1]),
                u.firstRun = !1;
                y.PluginHooks.run("afterInit")
            },
            this.validateCell = function(e, t, i, n) {
                var o = y.getCellValidator(t);
                if ("[object RegExp]" === Object.prototype.toString.call(o)) o = function(e) {
                    return function(t, i) {
                        i(e.test(t))
                    }
                } (o);
                if ("function" == typeof o) e = y.PluginHooks.execute("beforeValidate", e, t.row, t.prop, n),
                setTimeout(function() {
                    o.call(t, e,
                    function(o) {
                        t.valid = o,
                        o = y.PluginHooks.execute("afterValidate", o, e, t.row, t.prop, n),
                        i(o)
                    })
                });
                else t.valid = !0,
                i(!0)
            },
            this.setDataAtCell = function(e, t, i, n) {
                var o, r, s, c = h(e, t, i),
                u = [];
                for (o = 0, r = c.length; r > o; o++) {
                    if ("object" != typeof c[o]) throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");
                    if ("number" != typeof c[o][1]) throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");
                    s = d.colToProp(c[o][1]),
                    u.push([c[o][0], s, d.get(c[o][0], s), c[o][2]])
                }
                if (!n && "object" == typeof e) n = t;
                a(u, n,
                function() {
                    l(u, n)
                })
            },
            this.setDataAtRowProp = function(e, t, i, n) {
                var o, r, s = h(e, t, i),
                c = [];
                for (o = 0, r = s.length; r > o; o++) c.push([s[o][0], s[o][1], d.get(s[o][0], s[o][1]), s[o][2]]);
                if (!n && "object" == typeof e) n = t;
                a(c, n,
                function() {
                    l(c, n)
                })
            },
            this.listen = function() {
                if (o.activeGuid = y.guid, document.activeElement && document.activeElement !== document.body) document.activeElement.blur();
                else if (!document.activeElement) document.body.focus()
            },
            this.unlisten = function() {
                o.activeGuid = null
            },
            this.isListening = function() {
                return o.activeGuid === y.guid
            },
            this.destroyEditor = function(e) {
                p.refreshBorders(e)
            },
            this.populateFromArray = function(e, t, i, n, o, r, s) {
                if ("object" != typeof i || "object" != typeof i[0]) throw new Error("populateFromArray parameter `input` must be an array of arrays");
                return f.populateFromArray({
                    row: e,
                    col: t
                },
                i, "number" == typeof n ? {
                    row: n,
                    col: o
                }: null, r, s)
            },
            this.spliceCol = function() {
                return d.spliceCol.apply(d, arguments)
            },
            this.spliceRow = function() {
                return d.spliceRow.apply(d, arguments)
            },
            this.getCornerCoords = function(e) {
                return f.getCornerCoords(e)
            },
            this.getSelected = function() {
                if (p.isSelected()) return [u.selStart.row(), u.selStart.col(), u.selEnd.row(), u.selEnd.col()];
                else return void 0
            },
            this.parseSettingsFromDOM = function() {
                var e = this.rootElement.css("overflow");
                if ("scroll" === e || "auto" === e) this.rootElement[0].style.overflow = "visible",
                u.settingsFromDOM.overflow = e;
                else if (void 0 === u.settings.width || void 0 === u.settings.height) u.settingsFromDOM.overflow = "auto";
                if (void 0 === u.settings.width) u.settingsFromDOM.width = this.rootElement.width();
                else u.settingsFromDOM.width = void 0;
                if (u.settingsFromDOM.height = void 0, void 0 === u.settings.height) if ("scroll" === u.settingsFromDOM.overflow || "auto" === u.settingsFromDOM.overflow) {
                    var t = this.rootElement[0].cloneNode(!1),
                    i = this.rootElement[0].parentNode;
                    if (i) {
                        t.removeAttribute("id"),
                        i.appendChild(t);
                        var o = parseInt(t.clientHeight, 10),
                        r = parseInt(n.getComputedStyle(t, null).getPropertyValue("paddingTop"), 10) || 0,
                        s = parseInt(n.getComputedStyle(t, null).getPropertyValue("paddingBottom"), 10) || 0,
                        a = o - r - s;
                        if (isNaN(a) && t.currentStyle) a = parseInt(t.currentStyle.height, 10);
                        if (a > 0) u.settingsFromDOM.height = a;
                        i.removeChild(t)
                    }
                }
            },
            this.render = function() {
                if (y.view) y.forceFullRender = !0,
                y.parseSettingsFromDOM(),
                p.refreshBorders(null, !0)
            },
            this.loadData = function(e) {
                function t() {
                    u.cellSettings.length = 0
                }
                if ("object" == typeof e && null !== e) {
                    if (!e.push || !e.splice) e = [e]
                } else if (null === e) {
                    e = [];
                    for (var i, n = 0,
                    r = u.settings.startRows; r > n; n++) {
                        i = [];
                        for (var s = 0,
                        a = u.settings.startCols; a > s; s++) i.push(null);
                        e.push(i)
                    }
                } else throw new Error("loadData only accepts array of objects or array of arrays (" + typeof e + " given)");
                if (u.isPopulated = !1, v.prototype.data = e, u.settings.dataSchema instanceof Array || e[0] instanceof Array) y.dataType = "array";
                else if ("function" == typeof u.settings.dataSchema) y.dataType = "function";
                else y.dataType = "object";
                if (d = new o.DataMap(y, u, v), t(), f.adjustRowsAndCols(), y.PluginHooks.run("afterLoadData"), u.firstRun) u.firstRun = [null, "loadData"];
                else y.PluginHooks.run("afterChange", null, "loadData"),
                y.render();
                u.isPopulated = !0
            },
            this.getData = function(e, t, i, n) {
                if ("undefined" == typeof e) return d.getAll();
                else return d.getRange({
                    row: e,
                    col: t
                },
                {
                    row: i,
                    col: n
                },
                d.DESTINATION_RENDERER)
            },
            this.getCopyableData = function(e, t, i, n) {
                return d.getCopyableText({
                    row: e,
                    col: t
                },
                {
                    row: i,
                    col: n
                })
            },
            this.updateSettings = function(e, t) {
                var i, n;
                if ("undefined" != typeof e.rows) throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");
                if ("undefined" != typeof e.cols) throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");
                for (i in e) if ("data" !== i) if (void 0 !== y.PluginHooks.hooks[i] || void 0 !== y.PluginHooks.legacy[i]) {
                    if ("function" == typeof e[i] || o.helper.isArray(e[i])) y.PluginHooks.add(i, e[i])
                } else {
                    if (!t && e.hasOwnProperty(i)) v.prototype[i] = e[i];
                    if (o.extension[i]) u.extensions[i] = new o.extension[i](y, e[i])
                } else;
                if (void 0 === e.data && void 0 === u.settings.data) y.loadData(null);
                else if (void 0 !== e.data) y.loadData(e.data);
                else if (void 0 !== e.columns) d.createMap();
                if (n = y.countCols(), u.cellSettings.length = 0, n > 0) {
                    var r, s;
                    for (i = 0; n > i; i++) if (u.columnSettings[i] = o.helper.columnFactory(v, u.columnsSettingConflicts), r = u.columnSettings[i].prototype, v.prototype.columns) s = v.prototype.columns[i],
                    o.helper.extend(r, s),
                    o.helper.extend(r, c(s))
                }
                if ("undefined" != typeof e.fillHandle) if (g.handle && e.fillHandle === !1) g.disable();
                else if (!g.handle && e.fillHandle !== !1) g.init();
                if ("undefined" != typeof e.className) {
                    if (v.prototype.className) y.rootElement.removeClass(v.prototype.className);
                    if (e.className) y.rootElement.addClass(e.className)
                }
                if (!t) y.PluginHooks.run("afterUpdateSettings");
                if (f.adjustRowsAndCols(), y.view && !u.firstRun) y.forceFullRender = !0,
                p.refreshBorders(null, !0)
            },
            this.getValue = function() {
                var e = y.getSelected();
                if (v.prototype.getValue) {
                    if ("function" == typeof v.prototype.getValue) return v.prototype.getValue.call(y);
                    else if (e) return y.getData()[e[0]][v.prototype.getValue]
                } else if (e) return y.getDataAtCell(e[0], e[1])
            },
            this.getSettings = function() {
                return u.settings
            },
            this.getSettingsFromDOM = function() {
                return u.settingsFromDOM
            },
            this.clear = function() {
                p.selectAll(),
                p.empty()
            },
            this.alter = function(e, t, i, n, o) {
                f.alter(e, t, i, n, o)
            },
            this.getCell = function(e, t) {
                return y.view.getCellAtCoords({
                    row: e,
                    col: t
                })
            },
            this.colToProp = function(e) {
                return d.colToProp(e)
            },
            this.propToCol = function(e) {
                return d.propToCol(e)
            },
            this.getDataAtCell = function(e, t) {
                return d.get(e, d.colToProp(t))
            },
            this.getDataAtRowProp = function(e, t) {
                return d.get(e, t)
            },
            this.getDataAtCol = function(e) {
                return [].concat.apply([], d.getRange({
                    row: 0,
                    col: e
                },
                {
                    row: u.settings.data.length - 1,
                    col: e
                },
                d.DESTINATION_RENDERER))
            },
            this.getDataAtProp = function(e) {
                return [].concat.apply([], d.getRange({
                    row: 0,
                    col: d.propToCol(e)
                },
                {
                    row: u.settings.data.length - 1,
                    col: d.propToCol(e)
                },
                d.DESTINATION_RENDERER))
            },
            this.getDataAtRow = function(e) {
                return u.settings.data[e]
            },
            this.getCellMeta = function(e, t) {
                function i(e) {
                    var t = {
                        row: e
                    };
                    return y.PluginHooks.execute("beforeGet", t),
                    t.row
                }
                function n(e) {
                    return o.PluginHooks.execute(y, "modifyCol", e)
                }
                var r, s = d.colToProp(t);
                if (e = i(e), t = n(t), "undefined" == typeof u.columnSettings[t]) u.columnSettings[t] = o.helper.columnFactory(v, u.columnsSettingConflicts);
                if (!u.cellSettings[e]) u.cellSettings[e] = [];
                if (!u.cellSettings[e][t]) u.cellSettings[e][t] = new u.columnSettings[t];
                if (r = u.cellSettings[e][t], r.row = e, r.col = t, r.prop = s, r.instance = y, y.PluginHooks.run("beforeGetCellMeta", e, t, r), o.helper.extend(r, c(r)), r.cells) {
                    var a = r.cells.call(r, e, t, s);
                    if (a) o.helper.extend(r, a),
                    o.helper.extend(r, c(a))
                }
                return y.PluginHooks.run("afterGetCellMeta", e, t, r),
                r
            };
            var _ = o.helper.cellMethodLookupFactory("renderer");
            this.getCellRenderer = function(e, t) {
                var i = _.call(this, e, t);
                return o.renderers.getRenderer(i)
            },
            this.getCellEditor = o.helper.cellMethodLookupFactory("editor"),
            this.getCellValidator = o.helper.cellMethodLookupFactory("validator"),
            this.validateCells = function(e) {
                var t = new s;
                t.onQueueEmpty = e;
                for (var i = y.countRows() - 1; i >= 0;) {
                    for (var n = y.countCols() - 1; n >= 0;) t.addValidatorToQueue(),
                    y.validateCell(y.getDataAtCell(i, n), y.getCellMeta(i, n),
                    function() {
                        t.removeValidatorFormQueue()
                    },
                    "validateCells"),
                    n--;
                    i--
                }
                t.checkIfQueueIsEmpty()
            },
            this.getRowHeader = function(e) {
                if (void 0 === e) {
                    for (var t = [], i = 0, n = y.countRows(); n > i; i++) t.push(y.getRowHeader(i));
                    return t
                } else if ("[object Array]" === Object.prototype.toString.call(u.settings.rowHeaders) && void 0 !== u.settings.rowHeaders[e]) return u.settings.rowHeaders[e];
                else if ("function" == typeof u.settings.rowHeaders) return u.settings.rowHeaders(e);
                else if (u.settings.rowHeaders && "string" != typeof u.settings.rowHeaders && "number" != typeof u.settings.rowHeaders) return e + 1;
                else return u.settings.rowHeaders
            },
            this.hasRowHeaders = function() {
                return !! u.settings.rowHeaders
            },
            this.hasColHeaders = function() {
                if (void 0 !== u.settings.colHeaders && null !== u.settings.colHeaders) return !! u.settings.colHeaders;
                for (var e = 0,
                t = y.countCols(); t > e; e++) if (y.getColHeader(e)) return ! 0;
                return ! 1
            },
            this.getColHeader = function(e) {
                if (void 0 === e) {
                    for (var t = [], i = 0, n = y.countCols(); n > i; i++) t.push(y.getColHeader(i));
                    return t
                } else if (e = o.PluginHooks.execute(y, "modifyCol", e), u.settings.columns && u.settings.columns[e] && u.settings.columns[e].title) return u.settings.columns[e].title;
                else if ("[object Array]" === Object.prototype.toString.call(u.settings.colHeaders) && void 0 !== u.settings.colHeaders[e]) return u.settings.colHeaders[e];
                else if ("function" == typeof u.settings.colHeaders) return u.settings.colHeaders(e);
                else if (u.settings.colHeaders && "string" != typeof u.settings.colHeaders && "number" != typeof u.settings.colHeaders) return o.helper.spreadsheetColumnLabel(e);
                else return u.settings.colHeaders
            },
            this._getColWidthFromSettings = function(e) {
                var t = y.getCellMeta(0, e),
                i = t.width;
                if (void 0 === i || i === u.settings.width) i = t.colWidths;
                if (void 0 !== i && null !== i) {
                    switch (typeof i) {
                    case "object":
                        i = i[e];
                        break;
                    case "function":
                        i = i(e)
                    }
                    if ("string" == typeof i) i = parseInt(i, 10)
                }
                return i
            },
            this.getColWidth = function(e) {
                e = o.PluginHooks.execute(y, "modifyCol", e);
                var t = {
                    width: y._getColWidthFromSettings(e)
                };
                if (!t.width) t.width = 50;
                return y.PluginHooks.run("afterGetColWidth", e, t),
                t.width
            },
            this.countRows = function() {
                return u.settings.data.length
            },
            this.countCols = function() {
                if ("object" === y.dataType || "function" === y.dataType) if (u.settings.columns && u.settings.columns.length) return u.settings.columns.length;
                else return d.colToPropCache.length;
                else if ("array" === y.dataType) if (u.settings.columns && u.settings.columns.length) return u.settings.columns.length;
                else if (u.settings.data && u.settings.data[0] && u.settings.data[0].length) return u.settings.data[0].length;
                else return 0
            },
            this.rowOffset = function() {
                return y.view.wt.getSetting("offsetRow")
            },
            this.colOffset = function() {
                return y.view.wt.getSetting("offsetColumn")
            },
            this.countVisibleRows = function() {
                return y.view.wt.drawn ? y.view.wt.wtTable.rowStrategy.countVisible() : -1
            },
            this.countVisibleCols = function() {
                return y.view.wt.drawn ? y.view.wt.wtTable.columnStrategy.countVisible() : -1
            },
            this.countEmptyRows = function(e) {
                for (var t = y.countRows() - 1, i = 0; t >= 0;) {
                    if (d.get(t, 0), y.isEmptyRow(d.getVars.row)) i++;
                    else if (e) break;
                    t--
                }
                return i
            },
            this.countEmptyCols = function(e) {
                if (y.countRows() < 1) return 0;
                for (var t = y.countCols() - 1, i = 0; t >= 0;) {
                    if (y.isEmptyCol(t)) i++;
                    else if (e) break;
                    t--
                }
                return i
            },
            this.isEmptyRow = function(e) {
                return u.settings.isEmptyRow.call(y, e)
            },
            this.isEmptyCol = function(e) {
                return u.settings.isEmptyCol.call(y, e)
            },
            this.selectCell = function(e, t, i, n, o) {
                if ("number" != typeof e || 0 > e || e >= y.countRows()) return ! 1;
                if ("number" != typeof t || 0 > t || t >= y.countCols()) return ! 1;
                if ("undefined" != typeof i) {
                    if ("number" != typeof i || 0 > i || i >= y.countRows()) return ! 1;
                    if ("number" != typeof n || 0 > n || n >= y.countCols()) return ! 1
                }
                if (u.selStart.coords({
                    row: e,
                    col: t
                }), document.activeElement && document.activeElement !== document.documentElement && document.activeElement !== document.body) document.activeElement.blur();
                if (y.listen(), "undefined" == typeof i) p.setRangeEnd({
                    row: e,
                    col: t
                },
                o);
                else p.setRangeEnd({
                    row: i,
                    col: n
                },
                o);
                return y.selection.finish(),
                !0
            },
            this.selectCellByProp = function() {
                if (arguments[1] = d.propToCol(arguments[1]), "undefined" != typeof arguments[3]) arguments[3] = d.propToCol(arguments[3]);
                return y.selectCell.apply(y, arguments)
            },
            this.deselectCell = function() {
                p.deselect()
            },
            this.destroy = function() {
                if (y.clearTimeouts(), y.view) y.view.wt.destroy();
                y.rootElement.empty(),
                y.rootElement.removeData("handsontable"),
                y.rootElement.off(".handsontable"),
                i(n).off("." + y.guid),
                b.off("." + y.guid),
                x.off("." + y.guid),
                y.PluginHooks.run("afterDestroy")
            },
            this.getActiveEditor = function() {
                return m.getActiveEditor()
            },
            this.getInstance = function() {
                return y.rootElement.data("handsontable")
            },
            function() {
                y.PluginHooks = new o.PluginHookClass;
                var e = y.PluginHooks.run,
                t = y.PluginHooks.execute;
                y.PluginHooks.run = function(t, i, n, r, s, a) {
                    e.call(this, y, t, i, n, r, s, a),
                    o.PluginHooks.run(y, t, i, n, r, s, a)
                },
                y.PluginHooks.execute = function(e, i, n, r, s, a) {
                    var l = o.PluginHooks.execute(y, e, i, n, r, s, a),
                    h = t.call(this, y, e, l, n, r, s, a);
                    return "undefined" == typeof h ? l: h
                },
                y.addHook = function() {
                    y.PluginHooks.add.apply(y.PluginHooks, arguments)
                },
                y.addHookOnce = function() {
                    y.PluginHooks.once.apply(y.PluginHooks, arguments)
                },
                y.removeHook = function() {
                    y.PluginHooks.remove.apply(y.PluginHooks, arguments)
                },
                y.runHooks = function() {
                    y.PluginHooks.run.apply(y.PluginHooks, arguments)
                },
                y.runHooksAndReturn = function() {
                    return y.PluginHooks.execute.apply(y.PluginHooks, arguments)
                }
            } (),
            this.timeouts = {},
            this.registerTimeout = function(e, t, i) {
                clearTimeout(this.timeouts[e]),
                this.timeouts[e] = setTimeout(t, i || 0)
            },
            this.clearTimeouts = function() {
                for (var e in this.timeouts) if (this.timeouts.hasOwnProperty(e)) clearTimeout(this.timeouts[e])
            },
            this.version = "0.10.5"
        };
        var P = function() {};
        P.prototype = {
            data: void 0,
            width: void 0,
            height: void 0,
            startRows: 5,
            startCols: 5,
            rowHeaders: null,
            colHeaders: null,
            minRows: 0,
            minCols: 0,
            maxRows: 1 / 0,
            maxCols: 1 / 0,
            minSpareRows: 0,
            minSpareCols: 0,
            multiSelect: !0,
            fillHandle: !0,
            fixedRowsTop: 0,
            fixedColumnsLeft: 0,
            outsideClickDeselects: !0,
            enterBeginsEditing: !0,
            enterMoves: {
                row: 1,
                col: 0
            },
            tabMoves: {
                row: 0,
                col: 1
            },
            autoWrapRow: !1,
            autoWrapCol: !1,
            copyRowsLimit: 1e3,
            copyColsLimit: 1e3,
            trimWhitespace: !1,
            pasteMode: "overwrite",
            currentRowClassName: void 0,
            currentColClassName: void 0,
            stretchH: "hybrid",
            isEmptyRow: function(e) {
                for (var t, i = 0,
                n = this.countCols(); n > i; i++) if (t = this.getDataAtCell(e, i), "" !== t && null !== t && "undefined" != typeof t) return ! 1;
                return ! 0
            },
            isEmptyCol: function(e) {
                for (var t, i = 0,
                n = this.countRows(); n > i; i++) if (t = this.getDataAtCell(i, e), "" !== t && null !== t && "undefined" != typeof t) return ! 1;
                return ! 0
            },
            observeDOMVisibility: !0,
            allowInvalid: !0,
            invalidCellClassName: "htInvalid",
            placeholderCellClassName: "htPlaceholder",
            readOnlyCellClassName: "htDimmed",
            fragmentSelection: !1,
            readOnly: !1,
            nativeScrollbars: !1,
            type: "text",
            copyable: !0,
            debug: !1
        },
        o.DefaultSettings = P,
        i.fn.handsontable = function(e) {
            var t, i, n, r, s, a = this.first(),
            l = a.data("handsontable");
            if ("string" != typeof e) {
                if (s = e || {},
                l) l.updateSettings(s);
                else l = new o.Core(a, s),
                a.data("handsontable", l),
                l.init();
                return a
            } else {
                if (n = [], arguments.length > 1) for (t = 1, i = arguments.length; i > t; t++) n.push(arguments[t]);
                if (l) if ("undefined" != typeof l[e]) r = l[e].apply(l, n);
                else throw new Error("Handsontable do not provide action: " + e);
                return r
            }
        },
        function(e) {
            function t() {
                function e(e) {
                    return null !== e && !i(e) && ("string" == typeof e || "number" == typeof e)
                }
                function t(e) {
                    return null !== e && ("object" == typeof e || "function" == typeof e)
                }
                function i(e) {
                    return e !== e
                }
                var n = {
                    arrayMap: [],
                    weakMap: new WeakMap
                };
                return {
                    get: function(i) {
                        if (e(i)) return n.arrayMap[i];
                        else if (t(i)) return n.weakMap.get(i)
                    },
                    set: function(i, o) {
                        if (e(i)) n.arrayMap[i] = o;
                        else if (t(i)) n.weakMap.set(i, o);
                        else throw new Error("Invalid key type")
                    },
                    "delete": function(i) {
                        if (e(i)) delete n.arrayMap[i];
                        else if (t(i)) n.weakMap["delete"](i)
                    }
                }
            }
            if (!e.MultiMap) e.MultiMap = t
        } (n),
        o.TableView = function(e) {
            var t = this,
            r = i(n),
            s = i(document.documentElement);
            this.instance = e,
            this.settings = e.getSettings(),
            this.settingsFromDOM = e.getSettingsFromDOM(),
            e.rootElement.data("originalStyle", e.rootElement[0].getAttribute("style")),
            e.rootElement.addClass("handsontable");
            var a = document.createElement("TABLE");
            a.className = "htCore",
            this.THEAD = document.createElement("THEAD"),
            a.appendChild(this.THEAD),
            this.TBODY = document.createElement("TBODY"),
            a.appendChild(this.TBODY),
            e.$table = i(a),
            e.rootElement.prepend(e.$table),
            e.rootElement.on("mousedown.handsontable",
            function(e) {
                if (!t.isTextSelectionAllowed(e.target)) h(),
                e.preventDefault(),
                n.focus()
            }),
            s.on("keyup." + e.guid,
            function(t) {
                if (e.selection.isInProgress() && !t.shiftKey) e.selection.finish()
            });
            var l;
            s.on("mouseup." + e.guid,
            function(t) {
                if (e.selection.isInProgress() && 1 === t.which) e.selection.finish();
                if (l = !1, e.autofill.handle && e.autofill.handle.isDragged) {
                    if (e.autofill.handle.isDragged > 1) e.autofill.apply();
                    e.autofill.handle.isDragged = 0
                }
                if (o.helper.isOutsideInput(document.activeElement)) e.unlisten()
            }),
            s.on("mousedown." + e.guid,
            function(i) {
                var n = i.target;
                if (n !== t.wt.wtTable.spreader) for (; n !== document.documentElement;) {
                    if (null === n) return;
                    if (n === e.rootElement[0] || "HANDSONTABLE-TABLE" === n.nodeName) return;
                    n = n.parentNode
                }
                if (t.settings.outsideClickDeselects) e.deselectCell();
                else e.destroyEditor()
            }),
            e.rootElement.on("mousedown.handsontable", ".dragdealer",
            function() {
                e.destroyEditor()
            }),
            e.$table.on("selectstart",
            function(e) {
                if (!t.settings.fragmentSelection) e.preventDefault()
            });
            var h = function() {
                if (n.getSelection) {
                    if (n.getSelection().empty) n.getSelection().empty();
                    else if (n.getSelection().removeAllRanges) n.getSelection().removeAllRanges()
                } else if (document.selection) document.selection.empty()
            },
            c = {
                debug: function() {
                    return t.settings.debug
                },
                table: a,
                stretchH: this.settings.stretchH,
                data: e.getDataAtCell,
                totalRows: e.countRows,
                totalColumns: e.countCols,
                nativeScrollbars: this.settings.nativeScrollbars,
                offsetRow: 0,
                offsetColumn: 0,
                width: this.getWidth(),
                height: this.getHeight(),
                fixedColumnsLeft: function() {
                    return t.settings.fixedColumnsLeft
                },
                fixedRowsTop: function() {
                    return t.settings.fixedRowsTop
                },
                rowHeaders: function() {
                    return e.hasRowHeaders() ? [function(e, i) {
                        t.appendRowHeader(e, i)
                    }] : []
                },
                columnHeaders: function() {
                    return e.hasColHeaders() ? [function(e, i) {
                        t.appendColHeader(e, i)
                    }] : []
                },
                columnWidth: e.getColWidth,
                cellRenderer: function(e, i, n) {
                    var o = t.instance.colToProp(i),
                    r = t.instance.getCellMeta(e, i),
                    s = t.instance.getCellRenderer(r),
                    a = t.instance.getDataAtRowProp(e, o);
                    s(t.instance, n, e, i, o, a, r),
                    t.instance.PluginHooks.run("afterRenderer", n, e, i, o, a, r)
                },
                selections: {
                    current: {
                        className: "current",
                        border: {
                            width: 2,
                            color: "#5292F7",
                            style: "solid",
                            cornerVisible: function() {
                                return t.settings.fillHandle && !t.isCellEdited() && !e.selection.isMultiple()
                            }
                        }
                    },
                    area: {
                        className: "area",
                        border: {
                            width: 1,
                            color: "#89AFF9",
                            style: "solid",
                            cornerVisible: function() {
                                return t.settings.fillHandle && !t.isCellEdited() && e.selection.isMultiple()
                            }
                        }
                    },
                    highlight: {
                        highlightRowClassName: t.settings.currentRowClassName,
                        highlightColumnClassName: t.settings.currentColClassName
                    },
                    fill: {
                        className: "fill",
                        border: {
                            width: 1,
                            color: "red",
                            style: "solid"
                        }
                    }
                },
                hideBorderOnMouseDownOver: function() {
                    return t.settings.fragmentSelection
                },
                onCellMouseDown: function(t, i, n) {
                    e.listen(),
                    l = !0;
                    var o = {
                        row: i[0],
                        col: i[1]
                    };
                    if (2 === t.button && e.selection.inInSelection(o));
                    else if (t.shiftKey) e.selection.setRangeEnd(o);
                    else e.selection.setRangeStart(o);
                    e.PluginHooks.run("afterOnCellMouseDown", t, i, n)
                },
                onCellMouseOver: function(t, i, n) {
                    var o = {
                        row: i[0],
                        col: i[1]
                    };
                    if (l) e.selection.setRangeEnd(o);
                    else if (e.autofill.handle && e.autofill.handle.isDragged) e.autofill.handle.isDragged++,
                    e.autofill.showBorder(i);
                    e.PluginHooks.run("afterOnCellMouseOver", t, i, n)
                },
                onCellCornerMouseDown: function(t) {
                    e.autofill.handle.isDragged = 1,
                    t.preventDefault(),
                    e.PluginHooks.run("afterOnCellCornerMouseDown", t)
                },
                onCellCornerDblClick: function() {
                    e.autofill.selectAdjacent()
                },
                beforeDraw: function(e) {
                    t.beforeRender(e)
                },
                onDraw: function(e) {
                    t.onDraw(e)
                },
                onScrollVertically: function() {
                    e.runHooks("afterScrollVertically")
                },
                onScrollHorizontally: function() {
                    e.runHooks("afterScrollHorizontally")
                }
            };
            e.PluginHooks.run("beforeInitWalkontable", c),
            this.wt = new v(c),
            r.on("resize." + e.guid,
            function() {
                e.registerTimeout("resizeTimeout",
                function() {
                    e.parseSettingsFromDOM();
                    var i = t.getWidth(),
                    n = t.getHeight();
                    if (c.width !== i || c.height !== n) e.forceFullRender = !0,
                    t.render(),
                    c.width = i,
                    c.height = n
                },
                60)
            }),
            i(t.wt.wtTable.spreader).on("mousedown.handsontable, contextmenu.handsontable",
            function(e) {
                if (e.target === t.wt.wtTable.spreader && 3 === e.which) e.stopPropagation()
            }),
            s.on("click." + e.guid,
            function() {
                if (t.settings.observeDOMVisibility) if (t.wt.drawInterrupted) t.instance.forceFullRender = !0,
                t.render()
            })
        },
        o.TableView.prototype.isTextSelectionAllowed = function(e) {
            if (o.helper.isInput(e)) return ! 0;
            if (this.settings.fragmentSelection && this.wt.wtDom.isChildOf(e, this.TBODY)) return ! 0;
            else return ! 1
        },
        o.TableView.prototype.isCellEdited = function() {
            var e = this.instance.getActiveEditor();
            return e && e.isOpened()
        },
        o.TableView.prototype.getWidth = function() {
            var e = void 0 !== this.settings.width ? this.settings.width: this.settingsFromDOM.width;
            return "function" == typeof e ? e() : e
        },
        o.TableView.prototype.getHeight = function() {
            var e = void 0 !== this.settings.height ? this.settings.height: this.settingsFromDOM.height;
            return "function" == typeof e ? e() : e
        },
        o.TableView.prototype.beforeRender = function(e) {
            if (e) this.instance.PluginHooks.run("beforeRender", this.instance.forceFullRender),
            this.wt.update("width", this.getWidth()),
            this.wt.update("height", this.getHeight())
        },
        o.TableView.prototype.onDraw = function(e) {
            if (e) this.instance.PluginHooks.run("afterRender", this.instance.forceFullRender)
        },
        o.TableView.prototype.render = function() {
            this.wt.draw(!this.instance.forceFullRender),
            this.instance.forceFullRender = !1,
            this.instance.rootElement.triggerHandler("render.handsontable")
        },
        o.TableView.prototype.getCellAtCoords = function(e) {
            var t = this.wt.wtTable.getCell([e.row, e.col]);
            if (0 > t) return null;
            else return t
        },
        o.TableView.prototype.scrollViewport = function(e) {
            this.wt.scrollViewport([e.row, e.col])
        },
        o.TableView.prototype.appendRowHeader = function(e, t) {
            if (e > -1) this.wt.wtDom.fastInnerHTML(t, this.instance.getRowHeader(e));
            else {
                var i = document.createElement("DIV");
                i.className = "relative",
                this.wt.wtDom.fastInnerText(i, " "),
                this.wt.wtDom.empty(t),
                t.appendChild(i)
            }
        },
        o.TableView.prototype.appendColHeader = function(e, t) {
            var i = document.createElement("DIV"),
            n = document.createElement("SPAN");
            i.className = "relative",
            n.className = "colHeader",
            this.wt.wtDom.fastInnerHTML(n, this.instance.getColHeader(e)),
            i.appendChild(n),
            this.wt.wtDom.empty(t),
            t.appendChild(i),
            this.instance.PluginHooks.run("afterGetColHeader", e, t)
        },
        o.TableView.prototype.maximumVisibleElementWidth = function(e) {
            var t = this.wt.wtViewport.getWorkspaceWidth();
            if (this.settings.nativeScrollbars) return t;
            else return t - e
        },
        o.TableView.prototype.maximumVisibleElementHeight = function(e) {
            var t = this.wt.wtViewport.getWorkspaceHeight();
            if (this.settings.nativeScrollbars) return t;
            else return t - e
        },
        function(e) {
            function t(e) {
                var t, i;
                i = {},
                t = e,
                this.getInstance = function(e) {
                    if (! (e.guid in i)) i[e.guid] = new t(e);
                    return i[e.guid]
                }
            }
            var i = {},
            n = new WeakMap;
            e.editors = {
                registerEditor: function(e, o) {
                    var r = new t(o);
                    if ("string" == typeof e) i[e] = r;
                    n.set(o, r)
                },
                getEditor: function(e, t) {
                    var o;
                    if ("function" == typeof e) {
                        if (!n.get(e)) this.registerEditor(null, e);
                        o = n.get(e)
                    } else if ("string" == typeof e) o = i[e];
                    else throw Error('Only strings and functions can be passed as "editor" parameter ');
                    if (!o) throw Error('No editor registered under name "' + e + '"');
                    return o.getInstance(t)
                }
            }
        } (o),
        function(e) {
            e.EditorManager = function(t, n, o) {
                var r, s = this,
                a = i(document),
                l = e.helper.keyCode,
                h = function() {
                    function i(i) {
                        if (t.isListening()) {
                            if (n.settings.beforeOnKeyDown) n.settings.beforeOnKeyDown.call(t, i);
                            if (t.PluginHooks.run("beforeKeyDown", i), !i.isImmediatePropagationStopped()) if (n.lastKeyCode = i.keyCode, o.isSelected()) {
                                var a = (i.ctrlKey || i.metaKey) && !i.altKey;
                                if (!r.isWaiting()) if (!e.helper.isMetaKey(i.keyCode) && !a && !s.isEditorOpened()) return s.openEditor(""),
                                void i.stopPropagation();
                                var h = i.shiftKey ? o.setRangeEnd: o.setRangeStart;
                                switch (i.keyCode) {
                                case l.A:
                                    if (a) {
                                        o.selectAll(),
                                        i.preventDefault(),
                                        i.stopPropagation();
                                        break
                                    }
                                case l.ARROW_UP:
                                    if (s.isEditorOpened() && !r.isWaiting()) s.closeEditorAndSaveChanges(a);
                                    u(i.shiftKey),
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.ARROW_DOWN:
                                    if (s.isEditorOpened() && !r.isWaiting()) s.closeEditorAndSaveChanges(a);
                                    d(i.shiftKey),
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.ARROW_RIGHT:
                                    if (s.isEditorOpened() && !r.isWaiting()) s.closeEditorAndSaveChanges(a);
                                    f(i.shiftKey),
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.ARROW_LEFT:
                                    if (s.isEditorOpened() && !r.isWaiting()) s.closeEditorAndSaveChanges(a);
                                    p(i.shiftKey),
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.TAB:
                                    var m = "function" == typeof n.settings.tabMoves ? n.settings.tabMoves(i) : n.settings.tabMoves;
                                    if (i.shiftKey) o.transformStart( - m.row, -m.col);
                                    else o.transformStart(m.row, m.col, !0);
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.BACKSPACE:
                                case l.DELETE:
                                    o.empty(i),
                                    s.prepareEditor(),
                                    i.preventDefault();
                                    break;
                                case l.F2:
                                    s.openEditor(),
                                    i.preventDefault();
                                    break;
                                case l.ENTER:
                                    if (s.isEditorOpened()) {
                                        if (r.state !== e.EditorState.WAITING) s.closeEditorAndSaveChanges(a);
                                        c(i.shiftKey)
                                    } else if (t.getSettings().enterBeginsEditing) s.openEditor();
                                    else c(i.shiftKey);
                                    i.preventDefault(),
                                    i.stopImmediatePropagation();
                                    break;
                                case l.ESCAPE:
                                    if (s.isEditorOpened()) s.closeEditorAndRestoreOriginalValue(a);
                                    i.preventDefault();
                                    break;
                                case l.HOME:
                                    if (i.ctrlKey || i.metaKey) h({
                                        row: 0,
                                        col: n.selStart.col()
                                    });
                                    else h({
                                        row: n.selStart.row(),
                                        col: 0
                                    });
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.END:
                                    if (i.ctrlKey || i.metaKey) h({
                                        row: t.countRows() - 1,
                                        col: n.selStart.col()
                                    });
                                    else h({
                                        row: n.selStart.row(),
                                        col: t.countCols() - 1
                                    });
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.PAGE_UP:
                                    o.transformStart( - t.countVisibleRows(), 0),
                                    t.view.wt.scrollVertical( - t.countVisibleRows()),
                                    t.view.render(),
                                    i.preventDefault(),
                                    i.stopPropagation();
                                    break;
                                case l.PAGE_DOWN:
                                    o.transformStart(t.countVisibleRows(), 0),
                                    t.view.wt.scrollVertical(t.countVisibleRows()),
                                    t.view.render(),
                                    i.preventDefault(),
                                    i.stopPropagation()
                                }
                            }
                        }
                    }
                    function h() {
                        s.openEditor()
                    }
                    function c(e) {
                        var t = "function" == typeof n.settings.enterMoves ? n.settings.enterMoves(event) : n.settings.enterMoves;
                        if (e) o.transformStart( - t.row, -t.col);
                        else o.transformStart(t.row, t.col, !0)
                    }
                    function u(e) {
                        if (e) o.transformEnd( - 1, 0);
                        else o.transformStart( - 1, 0)
                    }
                    function d(e) {
                        if (e) o.transformEnd(1, 0);
                        else o.transformStart(1, 0)
                    }
                    function f(e) {
                        if (e) o.transformEnd(0, 1);
                        else o.transformStart(0, 1)
                    }
                    function p(e) {
                        if (e) o.transformEnd(0, -1);
                        else o.transformStart(0, -1)
                    }
                    a.on("keydown.handsontable." + t.guid, i),
                    t.view.wt.update("onCellDblClick", h),
                    t.addHook("afterDestroy",
                    function() {
                        a.off("keydown.handsontable." + t.guid)
                    })
                };
                this.destroyEditor = function(e) {
                    this.closeEditor(e)
                },
                this.getActiveEditor = function() {
                    return r
                },
                this.prepareEditor = function() {
                    if (r && r.isWaiting()) return void this.closeEditor(!1, !1,
                    function(e) {
                        if (e) s.prepareEditor()
                    });
                    var i = n.selStart.row(),
                    o = n.selStart.col(),
                    a = t.colToProp(o),
                    l = t.getCell(i, o),
                    h = t.getDataAtCell(i, o),
                    c = t.getCellMeta(i, o),
                    u = t.getCellEditor(c);
                    r = e.editors.getEditor(u, t),
                    r.prepare(i, o, a, l, h, c)
                },
                this.isEditorOpened = function() {
                    return r.isOpened()
                },
                this.openEditor = function(e) {
                    if (!r.cellProperties.readOnly) r.beginEditing(e)
                },
                this.closeEditor = function(e, t, i) {
                    if (!r) {
                        if (i) i(!1)
                    } else r.finishEditing(e, t, i)
                },
                this.closeEditorAndSaveChanges = function(e) {
                    return this.closeEditor(!1, e)
                },
                this.closeEditorAndRestoreOriginalValue = function(e) {
                    return this.closeEditor(!0, e)
                },
                h()
            }
        } (o),
        function(e) {
            var t = {};
            e.renderers = {
                registerRenderer: function(e, i) {
                    t[e] = i
                },
                getRenderer: function(e) {
                    if ("function" == typeof e) return e;
                    if ("string" != typeof e) throw Error('Only strings and functions can be passed as "renderer" parameter ');
                    if (! (e in t)) throw Error('No editor registered under name "' + e + '"');
                    return t[e]
                }
            }
        } (o),
        o.Dom = new x,
        o.helper.isPrintableChar = function(e) {
            return 32 == e || e >= 48 && 57 >= e || e >= 96 && 111 >= e || e >= 186 && 192 >= e || e >= 219 && 222 >= e || e >= 226 || e >= 65 && 90 >= e
        },
        o.helper.isMetaKey = function(e) {
            var t = o.helper.keyCode,
            i = [t.ARROW_DOWN, t.ARROW_UP, t.ARROW_LEFT, t.ARROW_RIGHT, t.HOME, t.END, t.DELETE, t.BACKSPACE, t.F1, t.F2, t.F3, t.F4, t.F5, t.F6, t.F7, t.F8, t.F9, t.F10, t.F11, t.F12, t.TAB, t.PAGE_DOWN, t.PAGE_UP, t.ENTER, t.ESCAPE, t.SHIFT, t.CAPS_LOCK, t.ALT];
            return - 1 != i.indexOf(e)
        },
        o.helper.isCtrlKey = function(e) {
            var t = o.helper.keyCode;
            return - 1 != [t.CONTROL_LEFT, 224, t.COMMAND_LEFT, t.COMMAND_RIGHT].indexOf(e)
        },
        o.helper.stringify = function(e) {
            switch (typeof e) {
            case "string":
            case "number":
                return e + "";
            case "object":
                if (null === e) return "";
                else return e.toString();
            case "undefined":
                return "";
            default:
                return e.toString()
            }
        },
        o.helper.spreadsheetColumnLabel = function(e) {
            for (var t, i = e + 1,
            n = ""; i > 0;) t = (i - 1) % 26,
            n = String.fromCharCode(65 + t) + n,
            i = parseInt((i - t) / 26, 10);
            return n
        },
        o.helper.isNumeric = function(e) {
            var t = typeof e;
            return "number" == t ? !isNaN(e) && isFinite(e) : "string" == t ? !e.length ? !1 : 1 == e.length ? /\d/.test(e) : /^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(e) : "object" == t ? !(!e || "number" != typeof e.valueOf() || e instanceof Date) : !1
        },
        o.helper.isArray = function(e) {
            return null !== Object.prototype.toString.call(e).match(/array/i)
        },
        o.helper.isDescendant = function(e, t) {
            for (var i = t.parentNode; null != i;) {
                if (i == e) return ! 0;
                i = i.parentNode
            }
            return ! 1
        },
        o.helper.randomString = function() {
            return w()
        },
        o.helper.inherit = function(e, t) {
            return t.prototype.constructor = t,
            e.prototype = new t,
            e.prototype.constructor = e,
            e
        },
        o.helper.extend = function(e, t) {
            for (var i in t) if (t.hasOwnProperty(i)) e[i] = t[i]
        },
        o.helper.getPrototypeOf = function(e) {
            var t;
            if ("object" == typeof e.__proto__) t = e.__proto__;
            else {
                var i, n = e.constructor;
                if ("function" == typeof e.constructor) if (i = n, delete e.constructor) n = e.constructor,
                e.constructor = i;
                t = n ? n.prototype: null
            }
            return t
        },
        o.helper.columnFactory = function(e, t) {
            function i() {}
            o.helper.inherit(i, e);
            for (var n = 0,
            r = t.length; r > n; n++) i.prototype[t[n]] = void 0;
            return i
        },
        o.helper.translateRowsToColumns = function(e) {
            var t, i, n, o, r = [],
            s = 0;
            for (t = 0, i = e.length; i > t; t++) for (n = 0, o = e[t].length; o > n; n++) {
                if (n == s) r.push([]),
                s++;
                r[n].push(e[t][n])
            }
            return r
        },
        o.helper.to2dArray = function(e) {
            for (var t = 0,
            i = e.length; i > t;) e[t] = [e[t]],
            t++
        },
        o.helper.extendArray = function(e, t) {
            for (var i = 0,
            n = t.length; n > i;) e.push(t[i]),
            i++
        },
        o.helper.isInput = function(e) {
            var t = ["INPUT", "SELECT", "TEXTAREA"];
            return t.indexOf(e.nodeName) > -1
        },
        o.helper.isOutsideInput = function(e) {
            return o.helper.isInput(e) && -1 == e.className.indexOf("handsontableInput")
        },
        o.helper.keyCode = {
            MOUSE_LEFT: 1,
            MOUSE_RIGHT: 3,
            MOUSE_MIDDLE: 2,
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            CONTROL_LEFT: 91,
            COMMAND_LEFT: 17,
            COMMAND_RIGHT: 93,
            ALT: 18,
            HOME: 36,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            SPACE: 32,
            SHIFT: 16,
            CAPS_LOCK: 20,
            TAB: 9,
            ARROW_RIGHT: 39,
            ARROW_LEFT: 37,
            ARROW_UP: 38,
            ARROW_DOWN: 40,
            F1: 112,
            F2: 113,
            F3: 114,
            F4: 115,
            F5: 116,
            F6: 117,
            F7: 118,
            F8: 119,
            F9: 120,
            F10: 121,
            F11: 122,
            F12: 123,
            A: 65,
            X: 88,
            C: 67,
            V: 86
        },
        o.helper.isObject = function(e) {
            return "[object Object]" == Object.prototype.toString.call(e)
        },
        o.helper.isArray = function(e) {
            return Array.isArray ? Array.isArray(e) : "[object Array]" == Object.prototype.toString.call(e)
        },
        o.helper.pivot = function(e) {
            var t = [];
            if (!e || 0 == e.length || !e[0] || 0 == e[0].length) return t;
            for (var i = e.length,
            n = e[0].length, o = 0; i > o; o++) for (var r = 0; n > r; r++) {
                if (!t[r]) t[r] = [];
                t[r][o] = e[o][r]
            }
            return t
        },
        o.helper.proxy = function(e, t) {
            return function() {
                return e.apply(t, arguments)
            }
        },
        o.helper.cellMethodLookupFactory = function(e, t) {
            function i(e) {
                var t = o.cellTypes[e];
                if ("undefined" == typeof t) throw new Error('You declared cell type "' + e + '" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');
                return t
            }
            return t = "undefined" == typeof t ? !0 : t,
            function(n, r) {
                return function s(n) {
                    if (n) {
                        if (n.hasOwnProperty(e) && n[e]) return n[e];
                        else if (n.hasOwnProperty("type") && n.type) {
                            var r;
                            if ("string" != typeof n.type) throw new Error("Cell type must be a string ");
                            if (r = i(n.type), r.hasOwnProperty(e)) return r[e];
                            else if (t) return
                        }
                        return s(o.helper.getPrototypeOf(n))
                    }
                } ("number" == typeof n ? this.getCellMeta(n, r) : n)
            }
        },
        o.helper.toString = function(e) {
            return "" + e
        },
        o.SelectionPoint = function() {
            this._row = null,
            this._col = null
        },
        o.SelectionPoint.prototype.exists = function() {
            return null !== this._row
        },
        o.SelectionPoint.prototype.row = function(e) {
            if (void 0 !== e) this._row = e;
            return this._row
        },
        o.SelectionPoint.prototype.col = function(e) {
            if (void 0 !== e) this._col = e;
            return this._col
        },
        o.SelectionPoint.prototype.coords = function(e) {
            if (void 0 !== e) this._row = e.row,
            this._col = e.col;
            return {
                row: this._row,
                col: this._col
            }
        },
        o.SelectionPoint.prototype.arr = function(e) {
            if (void 0 !== e) this._row = e[0],
            this._col = e[1];
            return [this._row, this._col]
        },
        function(e) {
            e.DataMap = function(e, t, i) {
                if (this.instance = e, this.priv = t, this.GridSettings = i, this.dataSource = this.instance.getSettings().data, this.dataSource[0]) this.duckSchema = this.recursiveDuckSchema(this.dataSource[0]);
                else this.duckSchema = {};
                this.createMap(),
                this.getVars = {},
                this.setVars = {}
            },
            e.DataMap.prototype.DESTINATION_RENDERER = 1,
            e.DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR = 2,
            e.DataMap.prototype.recursiveDuckSchema = function(e) {
                var t;
                if (i.isPlainObject(e)) {
                    t = {};
                    for (var n in e) if (e.hasOwnProperty(n)) if (i.isPlainObject(e[n])) t[n] = this.recursiveDuckSchema(e[n]);
                    else t[n] = null
                } else t = [];
                return t
            },
            e.DataMap.prototype.recursiveDuckColumns = function(e, t, n) {
                var o, r;
                if ("undefined" == typeof t) t = 0,
                n = "";
                if (i.isPlainObject(e)) for (r in e) if (e.hasOwnProperty(r)) if (null === e[r]) o = n + r,
                this.colToPropCache.push(o),
                this.propToColCache.set(o, t),
                t++;
                else t = this.recursiveDuckColumns(e[r], t, r + ".");
                return t
            },
            e.DataMap.prototype.createMap = function() {
                if ("undefined" == typeof this.getSchema()) throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");
                var e, t, i = this.getSchema();
                this.colToPropCache = [],
                this.propToColCache = new MultiMap;
                var n = this.instance.getSettings().columns;
                if (n) {
                    for (e = 0, t = n.length; t > e; e++) if ("undefined" != typeof n[e].data) this.colToPropCache[e] = n[e].data,
                    this.propToColCache.set(n[e].data, e)
                } else this.recursiveDuckColumns(i)
            },
            e.DataMap.prototype.colToProp = function(t) {
                if (t = e.PluginHooks.execute(this.instance, "modifyCol", t), this.colToPropCache && "undefined" != typeof this.colToPropCache[t]) return this.colToPropCache[t];
                else return t
            },
            e.DataMap.prototype.propToCol = function(t) {
                var i;
                if ("undefined" != typeof this.propToColCache.get(t)) i = this.propToColCache.get(t);
                else i = t;
                return i = e.PluginHooks.execute(this.instance, "modifyCol", i)
            },
            e.DataMap.prototype.getSchema = function() {
                var e = this.instance.getSettings().dataSchema;
                if (e) if ("function" == typeof e) return e();
                else return e;
                return this.duckSchema
            },
            e.DataMap.prototype.createRow = function(e, t, n) {
                var o, r, s = this.instance.countCols(),
                a = 0;
                if (!t) t = 1;
                if ("number" != typeof e || e >= this.instance.countRows()) e = this.instance.countRows();
                r = e;
                for (var l = this.instance.getSettings().maxRows; t > a && this.instance.countRows() < l;) {
                    if ("array" === this.instance.dataType) {
                        o = [];
                        for (var h = 0; s > h; h++) o.push(null)
                    } else if ("function" === this.instance.dataType) o = this.instance.getSettings().dataSchema(e);
                    else o = i.extend(!0, {},
                    this.getSchema());
                    if (e === this.instance.countRows()) this.dataSource.push(o);
                    else this.dataSource.splice(e, 0, o);
                    a++,
                    r++
                }
                return this.instance.PluginHooks.run("afterCreateRow", e, a, n),
                this.instance.forceFullRender = !0,
                a
            },
            e.DataMap.prototype.createCol = function(t, i, n) {
                if ("object" === this.instance.dataType || this.instance.getSettings().columns) throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");
                var o, r, s = this.instance.countRows(),
                a = this.dataSource,
                l = 0;
                if (!i) i = 1;
                r = t;
                for (var h = this.instance.getSettings().maxCols; i > l && this.instance.countCols() < h;) {
                    if (o = e.helper.columnFactory(this.GridSettings, this.priv.columnsSettingConflicts), "number" != typeof t || t >= this.instance.countCols()) {
                        for (var c = 0; s > c; c++) {
                            if ("undefined" == typeof a[c]) a[c] = [];
                            a[c].push(null)
                        }
                        this.priv.columnSettings.push(o)
                    } else {
                        for (var c = 0; s > c; c++) a[c].splice(r, 0, null);
                        this.priv.columnSettings.splice(r, 0, o)
                    }
                    l++,
                    r++
                }
                return this.instance.PluginHooks.run("afterCreateCol", t, l, n),
                this.instance.forceFullRender = !0,
                l
            },
            e.DataMap.prototype.removeRow = function(e, t) {
                if (!t) t = 1;
                if ("number" != typeof e) e = -t;
                e = (this.instance.countRows() + e) % this.instance.countRows();
                var i = this.physicalRowsToLogical(e, t),
                n = this.instance.PluginHooks.execute("beforeRemoveRow", e, t);
                if (n !== !1) {
                    var o = this.dataSource,
                    r = o.filter(function(e, t) {
                        return - 1 == i.indexOf(t)
                    });
                    o.length = 0,
                    Array.prototype.push.apply(o, r),
                    this.instance.PluginHooks.run("afterRemoveRow", e, t),
                    this.instance.forceFullRender = !0
                }
            },
            e.DataMap.prototype.removeCol = function(e, t) {
                if ("object" === this.instance.dataType || this.instance.getSettings().columns) throw new Error("cannot remove column with object data source or columns option specified");
                if (!t) t = 1;
                if ("number" != typeof e) e = -t;
                e = (this.instance.countCols() + e) % this.instance.countCols();
                var i = this.instance.PluginHooks.execute("beforeRemoveCol", e, t);
                if (i !== !1) {
                    for (var n = this.dataSource,
                    o = 0,
                    r = this.instance.countRows(); r > o; o++) n[o].splice(e, t);
                    this.priv.columnSettings.splice(e, t),
                    this.instance.PluginHooks.run("afterRemoveCol", e, t),
                    this.instance.forceFullRender = !0
                }
            },
            e.DataMap.prototype.spliceCol = function(t, i, n) {
                var o = 4 <= arguments.length ? [].slice.call(arguments, 3) : [],
                r = this.instance.getDataAtCol(t),
                s = r.slice(i, i + n),
                a = r.slice(i + n);
                e.helper.extendArray(o, a);
                for (var l = 0; n > l;) o.push(null),
                l++;
                return e.helper.to2dArray(o),
                this.instance.populateFromArray(i, t, o, null, null, "spliceCol"),
                s
            },
            e.DataMap.prototype.spliceRow = function(t, i, n) {
                var o = 4 <= arguments.length ? [].slice.call(arguments, 3) : [],
                r = this.instance.getDataAtRow(t),
                s = r.slice(i, i + n),
                a = r.slice(i + n);
                e.helper.extendArray(o, a);
                for (var l = 0; n > l;) o.push(null),
                l++;
                return this.instance.populateFromArray(t, i, [o], null, null, "spliceRow"),
                s
            },
            e.DataMap.prototype.get = function(e, t) {
                if (this.getVars.row = e, this.getVars.prop = t, this.instance.PluginHooks.run("beforeGet", this.getVars), "string" == typeof this.getVars.prop && this.getVars.prop.indexOf(".") > -1) {
                    var i = this.getVars.prop.split("."),
                    n = this.dataSource[this.getVars.row];
                    if (!n) return null;
                    for (var o = 0,
                    r = i.length; r > o; o++) if (n = n[i[o]], "undefined" == typeof n) return null;
                    return n
                } else if ("function" == typeof this.getVars.prop) return this.getVars.prop(this.dataSource.slice(this.getVars.row, this.getVars.row + 1)[0]);
                else return this.dataSource[this.getVars.row] ? this.dataSource[this.getVars.row][this.getVars.prop] : null
            };
            var t = e.helper.cellMethodLookupFactory("copyable", !1);
            e.DataMap.prototype.getCopyable = function(e, i) {
                if (t.call(this.instance, e, this.propToCol(i))) return this.get(e, i);
                else return ""
            },
            e.DataMap.prototype.set = function(e, t, i, n) {
                if (this.setVars.row = e, this.setVars.prop = t, this.setVars.value = i, this.instance.PluginHooks.run("beforeSet", this.setVars, n || "datamapGet"), "string" == typeof this.setVars.prop && this.setVars.prop.indexOf(".") > -1) {
                    for (var o = this.setVars.prop.split("."), r = this.dataSource[this.setVars.row], s = 0, a = o.length - 1; a > s; s++) r = r[o[s]];
                    r[o[s]] = this.setVars.value
                } else if ("function" == typeof this.setVars.prop) this.setVars.prop(this.dataSource.slice(this.setVars.row, this.setVars.row + 1)[0], this.setVars.value);
                else this.dataSource[this.setVars.row][this.setVars.prop] = this.setVars.value
            },
            e.DataMap.prototype.physicalRowsToLogical = function(e, t) {
                for (var i = this.instance.countRows(), n = (i + e) % i, o = [], r = t; i > n && r;) this.get(n, 0),
                o.push(this.getVars.row),
                r--,
                n++;
                return o
            },
            e.DataMap.prototype.clear = function() {
                for (var e = 0; e < this.instance.countRows(); e++) for (var t = 0; t < this.instance.countCols(); t++) this.set(e, this.colToProp(t), "")
            },
            e.DataMap.prototype.getAll = function() {
                return this.dataSource
            },
            e.DataMap.prototype.getRange = function(e, t, i) {
                var n, o, r, s, a, l = [],
                h = i === this.DESTINATION_CLIPBOARD_GENERATOR ? this.getCopyable: this.get;
                for (o = Math.max(e.row, t.row), s = Math.max(e.col, t.col), n = Math.min(e.row, t.row); o >= n; n++) {
                    for (a = [], r = Math.min(e.col, t.col); s >= r; r++) a.push(h.call(this, n, this.colToProp(r)));
                    l.push(a)
                }
                return l
            },
            e.DataMap.prototype.getText = function(e, t) {
                return SheetClip.stringify(this.getRange(e, t, this.DESTINATION_RENDERER))
            },
            e.DataMap.prototype.getCopyableText = function(e, t) {
                return SheetClip.stringify(this.getRange(e, t, this.DESTINATION_CLIPBOARD_GENERATOR))
            }
        } (o),
        function(e) {
            e.renderers.cellDecorator = function(e, t, i, n, o, r, s) {
                if (s.readOnly) e.view.wt.wtDom.addClass(t, s.readOnlyCellClassName);
                if (s.valid === !1 && s.invalidCellClassName) e.view.wt.wtDom.addClass(t, s.invalidCellClassName);
                if (!r && s.placeholder) e.view.wt.wtDom.addClass(t, s.placeholderCellClassName)
            }
        } (o),
        function(e) {
            var t = function(t, i, n, o, r, s, a) {
                if (e.renderers.cellDecorator.apply(this, arguments), !s && a.placeholder) s = a.placeholder;
                var l = e.helper.stringify(s);
                if (a.rendererTemplate) {
                    t.view.wt.wtDom.empty(i);
                    var h = document.createElement("TEMPLATE");
                    h.setAttribute("bind", "{{}}"),
                    h.innerHTML = a.rendererTemplate,
                    HTMLTemplateElement.decorate(h),
                    h.model = t.getDataAtRow(n),
                    i.appendChild(h)
                } else t.view.wt.wtDom.fastInnerText(i, l)
            };
            e.renderers.TextRenderer = t,
            e.renderers.registerRenderer("text", t)
        } (o),
        function(e) {
            var t = document.createElement("DIV");
            t.className = "htAutocompleteWrapper";
            var i = document.createElement("DIV");
            i.className = "htAutocompleteArrow",
            i.appendChild(document.createTextNode("▼"));
            var n = function(n, o, r, s, a, l, h) {
                var c = (t.cloneNode(!0), i.cloneNode(!0));
                if (e.renderers.TextRenderer(n, o, r, s, a, l, h), o.appendChild(c), e.Dom.addClass(o, "htAutocomplete"), !o.firstChild) o.appendChild(document.createTextNode(" "));
                if (!n.acArrowListener) n.acArrowListener = function() {
                    n.view.wt.getSetting("onCellDblClick")
                },
                n.rootElement.on("mousedown.htAutocompleteArrow", ".htAutocompleteArrow", n.acArrowListener),
                n.addHookOnce("afterDestroy",
                function() {
                    this.rootElement.off("mousedown.htAutocompleteArrow")
                })
            };
            e.AutocompleteRenderer = n,
            e.renderers.AutocompleteRenderer = n,
            e.renderers.registerRenderer("autocomplete", n)
        } (o),
        function(e) {
            var t = document.createElement("INPUT");
            t.className = "htCheckboxRendererInput",
            t.type = "checkbox",
            t.setAttribute("autocomplete", "off");
            var n = function(n, o, r, s, a, l, h) {
                if ("undefined" == typeof h.checkedTemplate) h.checkedTemplate = !0;
                if ("undefined" == typeof h.uncheckedTemplate) h.uncheckedTemplate = !1;
                n.view.wt.wtDom.empty(o);
                var c = t.cloneNode(!1);
                if (l === h.checkedTemplate || l === e.helper.stringify(h.checkedTemplate)) c.checked = !0,
                o.appendChild(c);
                else if (l === h.uncheckedTemplate || l === e.helper.stringify(h.uncheckedTemplate)) o.appendChild(c);
                else if (null === l) c.className += " noValue",
                o.appendChild(c);
                else n.view.wt.wtDom.fastInnerText(o, "#bad value#");
                var u = i(c);
                if (h.readOnly) u.on("click",
                function(e) {
                    e.preventDefault()
                });
                else u.on("mousedown",
                function(e) {
                    e.stopPropagation()
                }),
                u.on("mouseup",
                function(e) {
                    e.stopPropagation()
                }),
                u.on("change",
                function() {
                    if (this.checked) n.setDataAtRowProp(r, a, h.checkedTemplate);
                    else n.setDataAtRowProp(r, a, h.uncheckedTemplate)
                });
                if (!n.CheckboxRenderer || !n.CheckboxRenderer.beforeKeyDownHookBound) n.CheckboxRenderer = {
                    beforeKeyDownHookBound: !0
                },
                n.addHook("beforeKeyDown",
                function(t) {
                    if (t.keyCode == e.helper.keyCode.SPACE) for (var o, r, s, a = n.getSelected(), l = {
                        row: Math.min(a[0], a[2]),
                        col: Math.min(a[1], a[3])
                    },
                    h = {
                        row: Math.max(a[0], a[2]),
                        col: Math.max(a[1], a[3])
                    },
                    c = l.row; c <= h.row; c++) for (var u = h.col; u <= h.col; u++) if (o = n.getCell(c, u), s = n.getCellMeta(c, u), r = o.querySelectorAll("input[type=checkbox]"), r.length > 0 && !s.readOnly) {
                        if (!t.isImmediatePropagationStopped()) t.stopImmediatePropagation(),
                        t.preventDefault();
                        for (var d = 0,
                        f = r.length; f > d; d++) r[d].checked = !r[d].checked,
                        i(r[d]).trigger("change")
                    }
                })
            };
            e.CheckboxRenderer = n,
            e.renderers.CheckboxRenderer = n,
            e.renderers.registerRenderer("checkbox", n)
        } (o),
        function(e) {
            var i = function(i, n, o, r, s, a, l) {
                if (e.helper.isNumeric(a)) {
                    if ("undefined" != typeof l.language) t.language(l.language);
                    a = t(a).format(l.format || "0"),
                    i.view.wt.wtDom.addClass(n, "htNumeric")
                }
                e.renderers.TextRenderer(i, n, o, r, s, a, l)
            };
            e.NumericRenderer = i,
            e.renderers.NumericRenderer = i,
            e.renderers.registerRenderer("numeric", i)
        } (o),
        function(e) {
            var t = function(e, t, i, n, r, s, a) {
                o.renderers.TextRenderer.apply(this, arguments),
                s = t.innerHTML;
                var l, h = a.hashLength || s.length,
                c = a.hashSymbol || "*";
                for (l = ""; l.split(c).length - 1 < h; l += c);
                e.view.wt.wtDom.fastInnerHTML(t, l)
            };
            e.PasswordRenderer = t,
            e.renderers.PasswordRenderer = t,
            e.renderers.registerRenderer("password", t)
        } (o),
        function(e) {
            function t(t, i, n, o, r, s) {
                e.renderers.cellDecorator.apply(this, arguments),
                e.Dom.fastInnerHTML(i, s)
            }
            e.renderers.registerRenderer("html", t),
            e.renderers.HtmlRenderer = t
        } (o),
        function(e) {
            function t(t) {
                this.instance = t,
                this.state = e.EditorState.VIRGIN,
                this._opened = !1,
                this._closeCallback = null,
                this.init()
            }
            e.EditorState = {
                VIRGIN: "STATE_VIRGIN",
                EDITING: "STATE_EDITING",
                WAITING: "STATE_WAITING",
                FINISHED: "STATE_FINISHED"
            },
            t.prototype._fireCallbacks = function(e) {
                if (this._closeCallback) this._closeCallback(e),
                this._closeCallback = null
            },
            t.prototype.init = function() {},
            t.prototype.getValue = function() {
                throw Error("Editor getValue() method unimplemented")
            },
            t.prototype.setValue = function() {
                throw Error("Editor setValue() method unimplemented")
            },
            t.prototype.open = function() {
                throw Error("Editor open() method unimplemented")
            },
            t.prototype.close = function() {
                throw Error("Editor close() method unimplemented")
            },
            t.prototype.prepare = function(t, i, n, o, r, s) {
                this.TD = o,
                this.row = t,
                this.col = i,
                this.prop = n,
                this.originalValue = r,
                this.cellProperties = s,
                this.state = e.EditorState.VIRGIN
            },
            t.prototype.extend = function() {
                function e() {
                    i.apply(this, arguments)
                }
                function t(e, t) {
                    function i() {}
                    return i.prototype = t.prototype,
                    e.prototype = new i,
                    e.prototype.constructor = e,
                    e
                }
                var i = this.constructor;
                return t(e, i)
            },
            t.prototype.saveValue = function(e, t) {
                if (t) {
                    var i = this.instance.getSelected();
                    this.instance.populateFromArray(i[0], i[1], e, i[2], i[3], "edit")
                } else this.instance.populateFromArray(this.row, this.col, e, null, null, "edit")
            },
            t.prototype.beginEditing = function(t) {
                if (this.state == e.EditorState.VIRGIN) this.instance.view.scrollViewport({
                    row: this.row,
                    col: this.col
                }),
                this.instance.view.render(),
                this.state = e.EditorState.EDITING,
                t = "string" == typeof t ? t: this.originalValue,
                this.setValue(e.helper.stringify(t)),
                this.open(),
                this._opened = !0,
                this.focus(),
                this.instance.view.render()
            },
            t.prototype.finishEditing = function(t, i, n) {
                if (n) {
                    var o = this._closeCallback;
                    this._closeCallback = function(e) {
                        if (o) o(e);
                        n(e)
                    }
                }
                if (!this.isWaiting()) {
                    if (this.state == e.EditorState.VIRGIN) {
                        var r = this;
                        return void setTimeout(function() {
                            r._fireCallbacks(!0)
                        })
                    }
                    if (this.state == e.EditorState.EDITING) {
                        if (t) return void this.cancelChanges();
                        var s = [this.instance.getSettings().trimWhitespace ? [this.getValue() + ""] : [String.prototype.trim.call(this.getValue())]];
                        if (this.state = e.EditorState.WAITING, this.saveValue(s, i), this.instance.getCellValidator(this.cellProperties)) {
                            var r = this;
                            this.instance.addHookOnce("afterValidate",
                            function(t) {
                                r.state = e.EditorState.FINISHED,
                                r.discardEditor(t)
                            })
                        } else this.state = e.EditorState.FINISHED,
                        this.discardEditor(!0)
                    }
                }
            },
            t.prototype.cancelChanges = function() {
                this.state = e.EditorState.FINISHED,
                this.discardEditor()
            },
            t.prototype.discardEditor = function(t) {
                if (this.state === e.EditorState.FINISHED) if (t === !1 && this.cellProperties.allowInvalid !== !0) this.instance.selectCell(this.row, this.col),
                this.focus(),
                this.state = e.EditorState.EDITING,
                this._fireCallbacks(!1);
                else this.close(),
                this._opened = !1,
                this.state = e.EditorState.VIRGIN,
                this._fireCallbacks(!0)
            },
            t.prototype.isOpened = function() {
                return this._opened
            },
            t.prototype.isWaiting = function() {
                return this.state === e.EditorState.WAITING
            },
            e.editors.BaseEditor = t
        } (o),
        function(e) {
            var t = e.editors.BaseEditor.prototype.extend();
            t.prototype.init = function() {
                this.createElements(),
                this.bindEvents()
            },
            t.prototype.getValue = function() {
                return this.TEXTAREA.value
            },
            t.prototype.setValue = function(e) {
                this.TEXTAREA.value = e
            };
            var n = function(t) {
                var i = this,
                n = i.getActiveEditor(),
                o = e.helper.keyCode,
                r = (t.ctrlKey || t.metaKey) && !t.altKey;
                if (t.target === n.TEXTAREA && !t.isImmediatePropagationStopped()) {
                    if (17 === t.keyCode || 224 === t.keyCode || 91 === t.keyCode || 93 === t.keyCode) return void t.stopImmediatePropagation();
                    switch (t.keyCode) {
                    case o.ARROW_RIGHT:
                        if (n.wtDom.getCaretPosition(n.TEXTAREA) !== n.TEXTAREA.value.length) t.stopImmediatePropagation();
                        break;
                    case o.ARROW_LEFT:
                        if (0 !== n.wtDom.getCaretPosition(n.TEXTAREA)) t.stopImmediatePropagation();
                        break;
                    case o.ENTER:
                        var s = n.instance.getSelected(),
                        a = !(s[0] === s[2] && s[1] === s[3]);
                        if (r && !a || t.altKey) {
                            if (n.isOpened()) n.setValue(n.getValue() + "\n"),
                            n.focus();
                            else n.beginEditing(n.originalValue + "\n");
                            t.stopImmediatePropagation()
                        }
                        t.preventDefault();
                        break;
                    case o.A:
                    case o.X:
                    case o.C:
                    case o.V:
                        if (r) {
                            t.stopImmediatePropagation();
                            break
                        }
                    case o.BACKSPACE:
                    case o.DELETE:
                    case o.HOME:
                    case o.END:
                        t.stopImmediatePropagation()
                    }
                }
            };
            t.prototype.open = function() {
                this.refreshDimensions(),
                this.instance.addHook("beforeKeyDown", n)
            },
            t.prototype.close = function() {
                if (this.textareaParentStyle.display = "none", document.activeElement === this.TEXTAREA) this.instance.listen();
                this.instance.removeHook("beforeKeyDown", n)
            },
            t.prototype.focus = function() {
                this.TEXTAREA.focus(),
                this.wtDom.setCaretPosition(this.TEXTAREA, this.TEXTAREA.value.length)
            },
            t.prototype.createElements = function() {
                this.$body = i(document.body),
                this.wtDom = new x,
                this.TEXTAREA = document.createElement("TEXTAREA"),
                this.$textarea = i(this.TEXTAREA),
                this.wtDom.addClass(this.TEXTAREA, "handsontableInput"),
                this.textareaStyle = this.TEXTAREA.style,
                this.textareaStyle.width = 0,
                this.textareaStyle.height = 0,
                this.TEXTAREA_PARENT = document.createElement("DIV"),
                this.wtDom.addClass(this.TEXTAREA_PARENT, "handsontableInputHolder"),
                this.textareaParentStyle = this.TEXTAREA_PARENT.style,
                this.textareaParentStyle.top = 0,
                this.textareaParentStyle.left = 0,
                this.textareaParentStyle.display = "none",
                this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),
                this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT);
                var t = this;
                e.PluginHooks.add("afterRender",
                function() {
                    t.instance.registerTimeout("refresh_editor_dimensions",
                    function() {
                        t.refreshDimensions()
                    },
                    0)
                })
            },
            t.prototype.refreshDimensions = function() {
                if (this.state === e.EditorState.EDITING) if (this.TD = this.instance.getCell(this.row, this.col), this.TD) {
                    var t = i(this.TD),
                    n = this.wtDom.offset(this.TD),
                    o = this.wtDom.offset(this.instance.rootElement[0]),
                    r = this.instance.rootElement.scrollTop(),
                    s = this.instance.rootElement.scrollLeft(),
                    a = n.top - o.top + r - 1,
                    l = n.left - o.left + s - 1,
                    h = this.instance.getSettings(),
                    c = h.rowHeaders === !1 ? 0 : 1,
                    u = h.colHeaders === !1 ? 0 : 1;
                    if (0 > a) a = 0;
                    if (0 > l) l = 0;
                    if (c > 0 && parseInt(t.css("border-top-width"), 10) > 0) a += 1;
                    if (u > 0 && parseInt(t.css("border-left-width"), 10) > 0) l += 1;
                    this.textareaParentStyle.top = a + "px",
                    this.textareaParentStyle.left = l + "px";
                    var d = t.width(),
                    f = this.instance.view.maximumVisibleElementWidth(l) - 10,
                    p = t.outerHeight() - 4,
                    m = this.instance.view.maximumVisibleElementHeight(a) - 5;
                    if (parseInt(t.css("border-top-width"), 10) > 0) p -= 1;
                    if (parseInt(t.css("border-left-width"), 10) > 0) if (c > 0) d -= 1;
                    this.$textarea.autoResize({
                        minHeight: Math.min(p, m),
                        maxHeight: m,
                        minWidth: Math.min(d, f),
                        maxWidth: f,
                        animate: !1,
                        extraSpace: 0
                    }),
                    this.textareaParentStyle.display = "block"
                }
            },
            t.prototype.bindEvents = function() {
                this.$textarea.on("cut.editor",
                function(e) {
                    e.stopPropagation()
                }),
                this.$textarea.on("paste.editor",
                function(e) {
                    e.stopPropagation()
                })
            },
            e.editors.TextEditor = t,
            e.editors.registerEditor("text", e.editors.TextEditor)
        } (o),
        function(e) {
            var t = e.editors.BaseEditor.prototype.extend();
            t.prototype.beginEditing = function() {
                var e = this.TD.querySelector('input[type="checkbox"]');
                if (e) i(e).trigger("click")
            },
            t.prototype.finishEditing = function() {},
            t.prototype.init = function() {},
            t.prototype.open = function() {},
            t.prototype.close = function() {},
            t.prototype.getValue = function() {},
            t.prototype.setValue = function() {},
            t.prototype.focus = function() {},
            e.editors.CheckboxEditor = t,
            e.editors.registerEditor("checkbox", t)
        } (o),
        function(e) {
            var t = e.editors.TextEditor.prototype.extend();
            t.prototype.init = function() {
                if (!i.datepicker) throw new Error("jQuery UI Datepicker dependency not found. Did you forget to include jquery-ui.custom.js or its substitute?");
                e.editors.TextEditor.prototype.init.apply(this, arguments),
                this.isCellEdited = !1;
                var t = this;
                this.instance.addHook("afterDestroy",
                function() {
                    t.destroyElements()
                })
            },
            t.prototype.createElements = function() {
                e.editors.TextEditor.prototype.createElements.apply(this, arguments),
                this.datePicker = document.createElement("DIV"),
                this.instance.view.wt.wtDom.addClass(this.datePicker, "htDatepickerHolder"),
                this.datePickerStyle = this.datePicker.style,
                this.datePickerStyle.position = "absolute",
                this.datePickerStyle.top = 0,
                this.datePickerStyle.left = 0,
                this.datePickerStyle.zIndex = 99,
                document.body.appendChild(this.datePicker),
                this.$datePicker = i(this.datePicker);
                var t = this,
                n = {
                    dateFormat: "yy-mm-dd",
                    showButtonPanel: !0,
                    changeMonth: !0,
                    changeYear: !0,
                    onSelect: function(e) {
                        t.setValue(e),
                        t.finishEditing(!1)
                    }
                };
                this.$datePicker.datepicker(n),
                this.$datePicker.on("mousedown",
                function(e) {
                    e.stopPropagation()
                }),
                this.hideDatepicker()
            },
            t.prototype.destroyElements = function() {
                this.$datePicker.datepicker("destroy"),
                this.$datePicker.remove()
            },
            t.prototype.open = function() {
                e.editors.TextEditor.prototype.open.call(this),
                this.showDatepicker()
            },
            t.prototype.finishEditing = function() {
                this.hideDatepicker(),
                e.editors.TextEditor.prototype.finishEditing.apply(this, arguments)
            },
            t.prototype.showDatepicker = function() {
                var e = i(this.TD),
                t = e.offset();
                this.datePickerStyle.top = t.top + e.height() + "px",
                this.datePickerStyle.left = t.left + "px";
                var n = {
                    defaultDate: this.originalValue || void 0
                };
                if (i.extend(n, this.cellProperties), this.$datePicker.datepicker("option", n), this.originalValue) this.$datePicker.datepicker("setDate", this.originalValue);
                this.datePickerStyle.display = "block"
            },
            t.prototype.hideDatepicker = function() {
                this.datePickerStyle.display = "none"
            },
            e.editors.DateEditor = t,
            e.editors.registerEditor("date", t)
        } (o),
        function(e) {
            var t = e.editors.TextEditor.prototype.extend();
            t.prototype.createElements = function() {
                e.editors.TextEditor.prototype.createElements.apply(this, arguments);
                var t = document.createElement("DIV");
                t.className = "handsontableEditor",
                this.TEXTAREA_PARENT.appendChild(t),
                this.$htContainer = i(t),
                this.$htContainer.handsontable()
            },
            t.prototype.prepare = function(t, n, o, r, s, a) {
                e.editors.TextEditor.prototype.prepare.apply(this, arguments);
                var l = this,
                h = {
                    startRows: 0,
                    startCols: 0,
                    minRows: 0,
                    minCols: 0,
                    className: "listbox",
                    copyPaste: !1,
                    cells: function() {
                        return {
                            readOnly: !0
                        }
                    },
                    fillHandle: !1,
                    afterOnCellMouseDown: function() {
                        var e = this.getValue();
                        if (void 0 !== e) l.setValue(e);
                        l.instance.destroyEditor()
                    },
                    beforeOnKeyDown: function(t) {
                        var i = this;
                        switch (t.keyCode) {
                        case e.helper.keyCode.ESCAPE:
                            l.instance.destroyEditor(!0),
                            t.stopImmediatePropagation(),
                            t.preventDefault();
                            break;
                        case e.helper.keyCode.ENTER:
                            var n = i.getSelected(),
                            o = this.getDataAtCell(n[0], n[1]);
                            if (void 0 !== o) l.setValue(o);
                            l.instance.destroyEditor();
                            break;
                        case e.helper.keyCode.ARROW_UP:
                            if (i.getSelected() && 0 == i.getSelected()[0] && !l.cellProperties.strict) i.deselectCell(),
                            l.instance.listen(),
                            l.focus(),
                            t.preventDefault(),
                            t.stopImmediatePropagation()
                        }
                    }
                };
                if (this.cellProperties.handsontable) h = i.extend(h, a.handsontable);
                this.$htContainer.handsontable("destroy"),
                this.$htContainer.handsontable(h)
            };
            var n = function(t) {
                if (!t.isImmediatePropagationStopped()) {
                    var i = this.getActiveEditor(),
                    n = i.$htContainer.handsontable("getInstance");
                    if (t.keyCode == e.helper.keyCode.ARROW_DOWN) {
                        if (!n.getSelected()) n.selectCell(0, 0);
                        else {
                            var o = n.getSelected()[0],
                            r = o < n.countRows() - 1 ? o + 1 : o;
                            n.selectCell(r, 0)
                        }
                        t.preventDefault(),
                        t.stopImmediatePropagation()
                    }
                }
            };
            t.prototype.open = function() {
                if (this.instance.addHook("beforeKeyDown", n), e.editors.TextEditor.prototype.open.apply(this, arguments), this.$htContainer.handsontable("render"), this.cellProperties.strict) this.$htContainer.handsontable("selectCell", 0, 0),
                this.$textarea[0].style.visibility = "hidden";
                else this.$htContainer.handsontable("deselectCell"),
                this.$textarea[0].style.visibility = "visible";
                this.wtDom.setCaretPosition(this.$textarea[0], 0, this.$textarea[0].value.length)
            },
            t.prototype.close = function() {
                this.instance.removeHook("beforeKeyDown", n),
                this.instance.listen(),
                e.editors.TextEditor.prototype.close.apply(this, arguments)
            },
            t.prototype.focus = function() {
                this.instance.listen(),
                e.editors.TextEditor.prototype.focus.apply(this, arguments)
            },
            t.prototype.beginEditing = function() {
                var t = this.instance.getSettings().onBeginEditing;
                if (!t || t() !== !1) e.editors.TextEditor.prototype.beginEditing.apply(this, arguments)
            },
            t.prototype.finishEditing = function() {
                if (this.$htContainer.handsontable("isListening")) this.instance.listen();
                if (this.$htContainer.handsontable("getSelected")) {
                    var t = this.$htContainer.handsontable("getInstance").getValue();
                    if (void 0 !== t) this.setValue(t)
                }
                return e.editors.TextEditor.prototype.finishEditing.apply(this, arguments)
            },
            e.editors.HandsontableEditor = t,
            e.editors.registerEditor("handsontable", t)
        } (o),
        function(e) {
            var t = e.editors.HandsontableEditor.prototype.extend();
            t.prototype.init = function() {
                e.editors.HandsontableEditor.prototype.init.apply(this, arguments),
                this.query = null,
                this.choices = []
            },
            t.prototype.createElements = function() {
                e.editors.HandsontableEditor.prototype.createElements.apply(this, arguments),
                this.$htContainer.addClass("autocompleteEditor")
            },
            t.prototype.bindEvents = function() {
                var t = this;
                this.$textarea.on("keydown.autocompleteEditor",
                function(i) {
                    if (!e.helper.isMetaKey(i.keyCode) || -1 != [e.helper.keyCode.BACKSPACE, e.helper.keyCode.DELETE].indexOf(i.keyCode)) setTimeout(function() {
                        t.queryChoices(t.$textarea.val())
                    });
                    else if (i.keyCode == e.helper.keyCode.ENTER && t.cellProperties.strict !== !0) t.$htContainer.handsontable("deselectCell")
                }),
                this.$htContainer.on("mouseleave",
                function() {
                    if (t.cellProperties.strict === !0) t.highlightBestMatchingChoice()
                }),
                this.$htContainer.on("mouseenter",
                function() {
                    t.$htContainer.handsontable("deselectCell")
                }),
                e.editors.HandsontableEditor.prototype.bindEvents.apply(this, arguments)
            };
            var i;
            t.prototype.open = function() {
                e.editors.HandsontableEditor.prototype.open.apply(this, arguments),
                this.$textarea[0].style.visibility = "visible",
                this.focus();
                var t = this.$htContainer.handsontable("getInstance"),
                n = this;
                t.updateSettings({
                    colWidths: [this.wtDom.outerWidth(this.TEXTAREA) - 2],
                    afterRenderer: function(e, t, i, o, r) {
                        var s = this.getCellMeta(t, i).filteringCaseSensitive === !0,
                        a = s ? r.indexOf(this.query) : r.toLowerCase().indexOf(n.query.toLowerCase());
                        if ( - 1 != a) {
                            var l = r.substr(a, n.query.length);
                            e.innerHTML = r.replace(l, "<strong>" + l + "</strong>")
                        }
                    }
                }),
                i = function(t) {
                    var i = this;
                    if (t.keyCode == e.helper.keyCode.ARROW_UP) if (i.getSelected() && 0 == i.getSelected()[0]) {
                        if (!parent.cellProperties.strict) i.deselectCell();
                        parent.instance.listen(),
                        parent.focus(),
                        t.preventDefault(),
                        t.stopImmediatePropagation()
                    }
                },
                t.addHook("beforeKeyDown", i),
                this.queryChoices(this.TEXTAREA.value)
            },
            t.prototype.close = function() {
                this.$htContainer.handsontable("getInstance").removeHook("beforeKeyDown", i),
                e.editors.HandsontableEditor.prototype.close.apply(this, arguments)
            },
            t.prototype.queryChoices = function(t) {
                if (this.query = t, "function" == typeof this.cellProperties.source) {
                    var i = this;
                    this.cellProperties.source(t,
                    function(e) {
                        i.updateChoicesList(e)
                    })
                } else if (e.helper.isArray(this.cellProperties.source)) {
                    var n;
                    if (!t || this.cellProperties.filter === !1) n = this.cellProperties.source;
                    else {
                        var o = this.cellProperties.filteringCaseSensitive === !0,
                        r = t.toLowerCase();
                        n = this.cellProperties.source.filter(function(e) {
                            if (o) return - 1 != e.indexOf(t);
                            else return - 1 != e.toLowerCase().indexOf(r)
                        })
                    }
                    this.updateChoicesList(n)
                } else this.updateChoicesList([])
            },
            t.prototype.updateChoicesList = function(t) {
                if (this.choices = t, this.$htContainer.handsontable("loadData", e.helper.pivot([t])), this.cellProperties.strict === !0) this.highlightBestMatchingChoice();
                this.focus()
            },
            t.prototype.highlightBestMatchingChoice = function() {
                var e = this.findBestMatchingChoice();
                if ("undefined" == typeof e && this.cellProperties.allowInvalid === !1) e = 0;
                if ("undefined" == typeof e) this.$htContainer.handsontable("deselectCell");
                else this.$htContainer.handsontable("selectCell", e, 0)
            },
            t.prototype.findBestMatchingChoice = function() {
                for (var e, t, i, n = {},
                o = this.getValue().length, r = 0, s = this.choices.length; s > r; r++) {
                    if (e = this.choices[r], o > 0) t = e.indexOf(this.getValue());
                    else t = e === this.getValue() ? 0 : -1;
                    if ( - 1 != t) {
                        if (i = e.length - t - o, "undefined" == typeof n.indexOfValue || n.indexOfValue > t || n.indexOfValue == t && n.charsLeft > i) n.indexOfValue = t,
                        n.charsLeft = i,
                        n.index = r
                    } else;
                }
                return n.index
            },
            e.editors.AutocompleteEditor = t,
            e.editors.registerEditor("autocomplete", t)
        } (o),
        function(e) {
            var t = e.editors.TextEditor.prototype.extend(),
            n = new x;
            t.prototype.createElements = function() {
                e.editors.TextEditor.prototype.createElements.apply(this, arguments),
                this.TEXTAREA = document.createElement("input"),
                this.TEXTAREA.setAttribute("type", "password"),
                this.TEXTAREA.className = "handsontableInput",
                this.textareaStyle = this.TEXTAREA.style,
                this.textareaStyle.width = 0,
                this.textareaStyle.height = 0,
                this.$textarea = i(this.TEXTAREA),
                n.empty(this.TEXTAREA_PARENT),
                this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)
            },
            e.editors.PasswordEditor = t,
            e.editors.registerEditor("password", t)
        } (o),
        function(e) {
            var t = e.editors.BaseEditor.prototype.extend();
            t.prototype.init = function() {
                this.select = document.createElement("SELECT"),
                e.Dom.addClass(this.select, "htSelectEditor"),
                this.select.style.display = "none",
                this.instance.rootElement[0].appendChild(this.select)
            },
            t.prototype.prepare = function() {
                e.editors.BaseEditor.prototype.prepare.apply(this, arguments);
                var t, i = this.cellProperties.selectOptions;
                if ("function" == typeof i) t = this.prepareOptions(i(this.row, this.col, this.prop));
                else t = this.prepareOptions(i);
                e.Dom.empty(this.select);
                for (var n in t) if (t.hasOwnProperty(n)) {
                    var o = document.createElement("OPTION");
                    o.value = n,
                    e.Dom.fastInnerHTML(o, t[n]),
                    this.select.appendChild(o)
                }
            },
            t.prototype.prepareOptions = function(t) {
                var i = {};
                if (e.helper.isArray(t)) for (var n = 0,
                o = t.length; o > n; n++) i[t[n]] = t[n];
                else if ("object" == typeof t) i = t;
                return i
            },
            t.prototype.getValue = function() {
                return this.select.value
            },
            t.prototype.setValue = function(e) {
                this.select.value = e
            };
            var i = function(t) {
                var i = this,
                n = i.getActiveEditor();
                switch (t.keyCode) {
                case e.helper.keyCode.ARROW_UP:
                    var o = n.select.find("option:selected").prev();
                    if (1 == o.length) o.prop("selected", !0);
                    t.stopImmediatePropagation(),
                    t.preventDefault();
                    break;
                case e.helper.keyCode.ARROW_DOWN:
                    var r = n.select.find("option:selected").next();
                    if (1 == r.length) r.prop("selected", !0);
                    t.stopImmediatePropagation(),
                    t.preventDefault()
                }
            };
            t.prototype.open = function() {
                var t = e.Dom.outerWidth(this.TD),
                n = e.Dom.outerHeight(this.TD),
                o = e.Dom.offset(this.instance.rootElement[0]),
                r = e.Dom.offset(this.TD);
                this.select.style.height = n + "px",
                this.select.style.minWidth = t + "px",
                this.select.style.top = r.top - o.top + "px",
                this.select.style.left = r.left - o.left - 2 + "px",
                this.select.style.display = "",
                this.instance.addHook("beforeKeyDown", i)
            },
            t.prototype.close = function() {
                this.select.style.display = "none",
                this.instance.removeHook("beforeKeyDown", i)
            },
            t.prototype.focus = function() {
                this.select.focus()
            },
            e.editors.SelectEditor = t,
            e.editors.registerEditor("select", t)
        } (o),
        function(e) {
            var t = e.editors.AutocompleteEditor.prototype.extend();
            t.prototype.prepare = function() {
                e.editors.AutocompleteEditor.prototype.prepare.apply(this, arguments),
                this.cellProperties.filter = !1,
                this.cellProperties.strict = !0
            },
            e.editors.DropdownEditor = t,
            e.editors.registerEditor("dropdown", t)
        } (o),
        o.NumericValidator = function(e, t) {
            if (null === e) e = "";
            t(/^-?\d*\.?\d*$/.test(e))
        };
        var O = function(e, t) {
            var i = e,
            n = "string" == typeof i ? i.toLowerCase() : null;
            return function(e) {
                for (var o = !1,
                r = 0,
                s = e.length; s > r; r++) if (i === e[r]) {
                    o = !0;
                    break
                } else if (n === e[r].toLowerCase()) {
                    o = !0;
                    break
                }
                t(o)
            }
        };
        o.AutocompleteValidator = function(e, t) {
            if (this.strict && this.source)"function" == typeof this.source ? this.source(e, O(e, t)) : O(e, t)(this.source);
            else t(!0)
        },
        o.AutocompleteCell = {
            editor: o.editors.AutocompleteEditor,
            renderer: o.renderers.AutocompleteRenderer,
            validator: o.AutocompleteValidator
        },
        o.CheckboxCell = {
            editor: o.editors.CheckboxEditor,
            renderer: o.renderers.CheckboxRenderer
        },
        o.TextCell = {
            editor: o.editors.TextEditor,
            renderer: o.renderers.TextRenderer
        },
        o.NumericCell = {
            editor: o.editors.TextEditor,
            renderer: o.renderers.NumericRenderer,
            validator: o.NumericValidator,
            dataType: "number"
        },
        o.DateCell = {
            editor: o.editors.DateEditor,
            renderer: o.renderers.AutocompleteRenderer
        },
        o.HandsontableCell = {
            editor: o.editors.HandsontableEditor,
            renderer: o.renderers.AutocompleteRenderer
        },
        o.PasswordCell = {
            editor: o.editors.PasswordEditor,
            renderer: o.renderers.PasswordRenderer,
            copyable: !1
        },
        o.DropdownCell = {
            editor: o.editors.DropdownEditor,
            renderer: o.renderers.AutocompleteRenderer,
            validator: o.AutocompleteValidator
        },
        o.cellTypes = {
            text: o.TextCell,
            date: o.DateCell,
            numeric: o.NumericCell,
            checkbox: o.CheckboxCell,
            autocomplete: o.AutocompleteCell,
            handsontable: o.HandsontableCell,
            password: o.PasswordCell,
            dropdown: o.DropdownCell
        },
        o.cellLookup = {
            validator: {
                numeric: o.NumericValidator,
                autocomplete: o.AutocompleteValidator
            }
        },
        function(e) {
            function t(n) {
                return this.filter(t.resizableFilterSelector).each(function() {
                    new i(e(this), n)
                }),
                this
            }
            function i(i, n) {
                if (!this.clones) {
                    if (this.config = e.extend({},
                    t.defaults, n), this.el = i, this.nodeName = i[0].nodeName.toLowerCase(), this.previousScrollTop = null, "original" === n.maxWidth) n.maxWidth = i.width();
                    if ("original" === n.minWidth) n.minWidth = i.width();
                    if ("original" === n.maxHeight) n.maxHeight = i.height();
                    if ("original" === n.minHeight) n.minHeight = i.height();
                    if ("textarea" === this.nodeName) i.css({
                        resize: "none",
                        overflowY: "none"
                    });
                    i.data("AutoResizer", this),
                    this.createClone(),
                    this.injectClone(),
                    this.bind()
                }
            }
            t.defaults = {
                onResize: function() {},
                animate: {
                    duration: 200,
                    complete: function() {}
                },
                extraSpace: 50,
                minHeight: "original",
                maxHeight: 500,
                minWidth: "original",
                maxWidth: 500
            },
            t.cloneCSSProperties = ["lineHeight", "textDecoration", "letterSpacing", "fontSize", "fontFamily", "fontStyle", "fontWeight", "textTransform", "textAlign", "direction", "wordSpacing", "fontSizeAdjust", "padding"],
            t.cloneCSSValues = {
                position: "absolute",
                top: -9999,
                left: -9999,
                opacity: 0,
                overflow: "hidden",
                overflowX: "hidden",
                overflowY: "hidden",
                border: "1px solid black",
                padding: "0.49em"
            },
            t.resizableFilterSelector = "textarea,input:not(input[type]),input[type=text],input[type=password]",
            t.AutoResizer = i,
            e.fn.autoResize = t,
            i.prototype = {
                bind: function() {
                    var t = e.proxy(function() {
                        return this.check(),
                        !0
                    },
                    this);
                    this.unbind(),
                    this.el.bind("keyup.autoResize", t).bind("change.autoResize", t),
                    this.check(null, !0)
                },
                unbind: function() {
                    this.el.unbind(".autoResize")
                },
                createClone: function() {
                    var i = this.el,
                    n = this,
                    o = this.config;
                    if (this.clones = e(), "original" !== o.minHeight || "original" !== o.maxHeight) this.hClone = i.clone().height("auto"),
                    this.clones = this.clones.add(this.hClone);
                    if ("original" !== o.minWidth || "original" !== o.maxWidth) this.wClone = e("<div/>").width("auto").css({
                        whiteSpace: "nowrap",
                        "float": "left"
                    }),
                    this.clones = this.clones.add(this.wClone);
                    e.each(t.cloneCSSProperties,
                    function(e, t) {
                        n.clones.css(t, i.css(t))
                    }),
                    this.clones.removeAttr("name").removeAttr("id").attr("tabIndex", -1).css(t.cloneCSSValues).css("overflowY", "scroll")
                },
                check: function(e, t) {
                    var i = this.config,
                    n = this.wClone,
                    o = this.hClone,
                    r = this.el,
                    s = r.val();
                    if (n) {
                        n.text(s);
                        var a = n.outerWidth(),
                        l = a + i.extraSpace >= i.minWidth ? a + i.extraSpace: i.minWidth,
                        h = r.width();
                        if (l = Math.min(l, i.maxWidth), h > l && l >= i.minWidth || l >= i.minWidth && l <= i.maxWidth) i.onResize.call(r),
                        r.scrollLeft(0),
                        i.animate && !t ? r.stop(1, 1).animate({
                            width: l
                        },
                        i.animate) : r.width(l)
                    }
                    if (o) {
                        if (l) o.width(l);
                        o.height(0).val(s).scrollTop(1e4);
                        var c = o[0].scrollTop + i.extraSpace;
                        if (this.previousScrollTop === c) return;
                        if (this.previousScrollTop = c, c >= i.maxHeight) c = i.maxHeight;
                        if (c < i.minHeight) c = i.minHeight;
                        if (c == i.maxHeight && l == i.maxWidth) r.css("overflowY", "scroll");
                        else r.css("overflowY", "hidden");
                        i.onResize.call(r),
                        i.animate && !t ? r.stop(1, 1).animate({
                            height: c
                        },
                        i.animate) : r.height(c)
                    }
                },
                destroy: function() {
                    this.unbind(),
                    this.el.removeData("AutoResizer"),
                    this.clones.remove(),
                    delete this.el,
                    delete this.hClone,
                    delete this.wClone,
                    delete this.clones
                },
                injectClone: function() { (t.cloneContainer || (t.cloneContainer = e("<arclones/>").appendTo("body"))).empty().append(this.clones)
                }
            }
        } (e),
        function(e) {
            function t(e) {
                return e.split('"').length - 1
            }
            e.SheetClip = {
                parse: function(e) {
                    var i, n, o, r, s, a, l, h = [],
                    c = 0;
                    if (o = e.split("\n"), o.length > 1 && "" === o[o.length - 1]) o.pop();
                    for (i = 0, n = o.length; n > i; i += 1) {
                        for (o[i] = o[i].split("	"), r = 0, s = o[i].length; s > r; r += 1) {
                            if (!h[c]) h[c] = [];
                            if (a && 0 === r) {
                                if (l = h[c].length - 1, h[c][l] = h[c][l] + "\n" + o[i][0], a && 1 & t(o[i][0])) a = !1,
                                h[c][l] = h[c][l].substring(0, h[c][l].length - 1).replace(/""/g, '"')
                            } else if (r === s - 1 && 0 === o[i][r].indexOf('"')) h[c].push(o[i][r].substring(1).replace(/""/g, '"')),
                            a = !0;
                            else h[c].push(o[i][r].replace(/""/g, '"')),
                            a = !1
                        }
                        if (!a) c += 1
                    }
                    return h
                },
                stringify: function(e) {
                    var t, i, n, o, r, s = "";
                    for (t = 0, i = e.length; i > t; t += 1) {
                        for (n = 0, o = e[t].length; o > n; n += 1) {
                            if (n > 0) s += "	";
                            if (r = e[t][n], "string" == typeof r) if (r.indexOf("\n") > -1) s += '"' + r.replace(/"/g, '""') + '"';
                            else s += r;
                            else if (null === r || void 0 === r) s += "";
                            else s += r
                        }
                        s += "\n"
                    }
                    return s
                }
            }
        } (n);
        var X = function() {
            var e;
            return {
                getInstance: function() {
                    if (!e) e = new r;
                    else if (e.hasBeenDestroyed()) e.init();
                    return e.refCounter++,
                    e
                }
            }
        } ();
        r.prototype.init = function() {
            var e, t, n = this;
            if (this.copyCallbacks = [], this.cutCallbacks = [], this.pasteCallbacks = [], this.listenerElement = document.documentElement, t = document.body, document.getElementById("CopyPasteDiv")) this.elDiv = document.getElementById("CopyPasteDiv"),
            this.elTextarea = this.elDiv.firstChild;
            else if (this.elDiv = document.createElement("DIV"), this.elDiv.id = "CopyPasteDiv", e = this.elDiv.style, e.position = "fixed", e.top = "-10000px", e.left = "-10000px", t.appendChild(this.elDiv), this.elTextarea = document.createElement("TEXTAREA"), this.elTextarea.className = "copyPaste", e = this.elTextarea.style, e.width = "10000px", e.height = "10000px", e.overflow = "hidden", this.elDiv.appendChild(this.elTextarea), "undefined" != typeof e.opacity) e.opacity = 0;
            else;
            this.keydownListener = function(e) {
                var t = !1;
                if (e.metaKey) t = !0;
                else if (e.ctrlKey && -1 === navigator.userAgent.indexOf("Mac")) t = !0;
                if (t) {
                    if (document.activeElement !== n.elTextarea && ("" != n.getSelectionText() || -1 != ["INPUT", "SELECT", "TEXTAREA"].indexOf(document.activeElement.nodeName) || "true" === i(document.activeElement).prop("contentEditable"))) return;
                    n.selectNodeText(n.elTextarea),
                    setTimeout(function() {
                        n.selectNodeText(n.elTextarea)
                    },
                    0)
                }
                if (t && (67 === e.keyCode || 86 === e.keyCode || 88 === e.keyCode)) if (88 === e.keyCode) setTimeout(function() {
                    n.triggerCut(e)
                },
                0);
                else if (86 === e.keyCode) setTimeout(function() {
                    n.triggerPaste(e)
                },
                0)
            },
            this._bindEvent(this.listenerElement, "keydown", this.keydownListener)
        },
        r.prototype.selectNodeText = function(e) {
            e.select()
        },
        r.prototype.getSelectionText = function() {
            var e = "";
            if (n.getSelection) e = n.getSelection().toString();
            else if (document.selection && "Control" != document.selection.type) e = document.selection.createRange().text;
            return e
        },
        r.prototype.copyable = function(e) {
            if ("string" != typeof e && void 0 === e.toString) throw new Error("copyable requires string parameter");
            this.elTextarea.value = e
        },
        r.prototype.onCut = function(e) {
            this.cutCallbacks.push(e)
        },
        r.prototype.onPaste = function(e) {
            this.pasteCallbacks.push(e)
        },
        r.prototype.removeCallback = function(e) {
            var t, i;
            for (t = 0, i = this.copyCallbacks.length; i > t; t++) if (this.copyCallbacks[t] === e) return this.copyCallbacks.splice(t, 1),
            !0;
            for (t = 0, i = this.cutCallbacks.length; i > t; t++) if (this.cutCallbacks[t] === e) return this.cutCallbacks.splice(t, 1),
            !0;
            for (t = 0, i = this.pasteCallbacks.length; i > t; t++) if (this.pasteCallbacks[t] === e) return this.pasteCallbacks.splice(t, 1),
            !0;
            return ! 1
        },
        r.prototype.triggerCut = function(e) {
            var t = this;
            if (t.cutCallbacks) setTimeout(function() {
                for (var i = 0,
                n = t.cutCallbacks.length; n > i; i++) t.cutCallbacks[i](e)
            },
            50)
        },
        r.prototype.triggerPaste = function(e, t) {
            var i = this;
            if (i.pasteCallbacks) setTimeout(function() {
                for (var n = (t || i.elTextarea.value).replace(/\n$/, ""), o = 0, r = i.pasteCallbacks.length; r > o; o++) i.pasteCallbacks[o](n, e)
            },
            50)
        },
        r.prototype.destroy = function() {
            if (!this.hasBeenDestroyed() && 0 == --this.refCounter) {
                if (this.elDiv && this.elDiv.parentNode) this.elDiv.parentNode.removeChild(this.elDiv);
                this._unbindEvent(this.listenerElement, "keydown", this.keydownListener)
            }
        },
        r.prototype.hasBeenDestroyed = function() {
            return ! this.refCounter
        },
        r.prototype._bindEvent = function() {
            if (n.jQuery) return function(e, t, n) {
                i(e).on(t + ".copypaste", n)
            };
            else return function(e, t, i) {
                e.addEventListener(t, i, !1)
            }
        } (),
        r.prototype._unbindEvent = function() {
            if (n.jQuery) return function(e, t, n) {
                i(e).off(t + ".copypaste", n)
            };
            else return function(e, t, i) {
                e.removeEventListener(t, i, !1)
            }
        } ();
        var N;
        if (function(e) {
            function t(e) {
                if ( - 1 === e.indexOf("/") && -1 === e.indexOf("~")) return e;
                else return e.replace(/~/g, "~0").replace(/\//g, "~1")
            }
            function i(e, n) {
                var o;
                for (var r in e) if (e.hasOwnProperty(r)) if (e[r] === n) return t(r) + "/";
                else if ("object" == typeof e[r]) if (o = i(e[r], n), "" != o) return t(r) + "/" + o;
                return ""
            }
            function o(e, t) {
                if (e === t) return "/";
                var n = i(e, t);
                if ("" === n) throw new Error("Object not found in root");
                return "/" + n
            }
            function r(e) {
                for (var t = 0,
                i = v.length; i > t; t++) if (v[t].obj === e) return v[t]
            }
            function s(e, t) {
                for (var i = 0,
                n = e.observers.length; n > i; i++) if (e.observers[i].callback === t) return e.observers[i].observer
            }
            function a(e, t) {
                for (var i = 0,
                n = e.observers.length; n > i; i++) if (e.observers[i].observer === t) return void e.observers.splice(i, 1)
            }
            function l(e, t) {
                if (d(t), Object.observe) u(t, e);
                else clearTimeout(t.next);
                var i = r(e);
                a(i, t)
            }
            function h(e, t) {
                var i, a = [],
                l = e,
                h = r(e);
                if (!h) h = new b(e),
                v.push(h);
                else i = s(h, t);
                if (i) return i;
                if (Object.observe) i = function(n) {
                    u(i, e),
                    c(i, e);
                    for (var r = 0,
                    s = n.length; s > r;) {
                        if (("length" !== n[r].name || !w(n[r].object)) && "__Jasmine_been_here_before__" !== n[r].name) {
                            var h = n[r].type;
                            switch (h) {
                            case "new":
                                h = "add";
                                break;
                            case "deleted":
                                h = "delete";
                                break;
                            case "updated":
                                h = "update"
                            }
                            y[h].call(n[r], a, o(l, n[r].object))
                        }
                        r++
                    }
                    if (a) if (t) t(a);
                    i.patches = a,
                    a = []
                };
                else if (i = {},
                h.value = JSON.parse(JSON.stringify(e)), t) {
                    i.callback = t,
                    i.next = null;
                    var f = this.intervals || [100, 1e3, 1e4, 6e4],
                    p = 0,
                    m = function() {
                        d(i)
                    },
                    g = function() {
                        clearTimeout(i.next),
                        i.next = setTimeout(function() {
                            m(),
                            p = 0,
                            i.next = setTimeout(_, f[p++])
                        },
                        0)
                    },
                    _ = function() {
                        if (m(), p == f.length) p = f.length - 1;
                        i.next = setTimeout(_, f[p++])
                    };
                    if ("undefined" != typeof n) if (n.addEventListener) n.addEventListener("mousedown", g),
                    n.addEventListener("mouseup", g),
                    n.addEventListener("keydown", g);
                    else n.attachEvent("onmousedown", g),
                    n.attachEvent("onmouseup", g),
                    n.attachEvent("onkeydown", g);
                    i.next = setTimeout(_, f[p++])
                }
                return i.patches = a,
                i.object = e,
                h.observers.push(new x(t, i)),
                c(i, e)
            }
            function c(e, t) {
                if (Object.observe) {
                    Object.observe(t, e);
                    for (var i in t) if (t.hasOwnProperty(i)) {
                        var n = t[i];
                        if (n && "object" == typeof n) c(e, n)
                    }
                }
                return e
            }
            function u(e, t) {
                if (Object.observe) {
                    Object.unobserve(t, e);
                    for (var i in t) if (t.hasOwnProperty(i)) {
                        var n = t[i];
                        if (n && "object" == typeof n) u(e, n)
                    }
                }
                return e
            }
            function d(e) {
                if (Object.observe) Object.deliverChangeRecords(e);
                else {
                    for (var t, i = 0,
                    n = v.length; n > i; i++) if (v[i].obj === e.object) {
                        t = v[i];
                        break
                    }
                    f(t.value, e.object, e.patches, "")
                }
                var o = e.patches;
                if (o.length > 0) if (e.patches = [], e.callback) e.callback(o);
                return o
            }
            function f(e, i, n, o) {
                for (var r = _(i), s = _(e), a = !1, l = !1, h = s.length - 1; h >= 0; h--) {
                    var c = s[h],
                    u = e[c];
                    if (i.hasOwnProperty(c)) {
                        var d = i[c];
                        if (u instanceof Object) f(u, d, n, o + "/" + t(c));
                        else if (u != d) a = !0,
                        n.push({
                            op: "replace",
                            path: o + "/" + t(c),
                            value: d
                        }),
                        e[c] = d
                    } else n.push({
                        op: "remove",
                        path: o + "/" + t(c)
                    }),
                    delete e[c],
                    l = !0
                }
                if (l || r.length != s.length) for (var h = 0; h < r.length; h++) {
                    var c = r[h];
                    if (!e.hasOwnProperty(c)) n.push({
                        op: "add",
                        path: o + "/" + t(c),
                        value: i[c]
                    }),
                    e[c] = JSON.parse(JSON.stringify(i[c]))
                }
            }
            function p(e, t) {
                for (var i, n = !1,
                o = 0,
                r = t.length; r > o;) {
                    i = t[o];
                    for (var s = i.path.split("/"), a = e, l = 1, h = s.length;;) if (w(a)) {
                        var c = parseInt(s[l], 10);
                        if (l++, l >= h) {
                            n = g[i.op].call(i, a, c, e);
                            break
                        }
                        a = a[c]
                    } else {
                        var u = s[l];
                        if ( - 1 != u.indexOf("~")) u = u.replace(/~1/g, "/").replace(/~0/g, "~");
                        if (l++, l >= h) {
                            n = m[i.op].call(i, a, u, e);
                            break
                        }
                        a = a[u]
                    }
                    o++
                }
                return n
            }
            var m = {
                add: function(e, t) {
                    return e[t] = this.value,
                    !0
                },
                remove: function(e, t) {
                    return delete e[t],
                    !0
                },
                replace: function(e, t) {
                    return e[t] = this.value,
                    !0
                },
                move: function(e, t, i) {
                    var n = {
                        op: "_get",
                        path: this.from
                    };
                    return p(i, [n]),
                    p(i, [{
                        op: "remove",
                        path: this.from
                    }]),
                    p(i, [{
                        op: "add",
                        path: this.path,
                        value: n.value
                    }]),
                    !0
                },
                copy: function(e, t, i) {
                    var n = {
                        op: "_get",
                        path: this.from
                    };
                    return p(i, [n]),
                    p(i, [{
                        op: "add",
                        path: this.path,
                        value: n.value
                    }]),
                    !0
                },
                test: function(e, t) {
                    return JSON.stringify(e[t]) === JSON.stringify(this.value)
                },
                _get: function(e, t) {
                    this.value = e[t]
                }
            },
            g = {
                add: function(e, t) {
                    return e.splice(t, 0, this.value),
                    !0
                },
                remove: function(e, t) {
                    return e.splice(t, 1),
                    !0
                },
                replace: function(e, t) {
                    return e[t] = this.value,
                    !0
                },
                move: m.move,
                copy: m.copy,
                test: m.test,
                _get: m._get
            },
            y = {
                add: function(e, i) {
                    var n = {
                        op: "add",
                        path: i + t(this.name),
                        value: this.object[this.name]
                    };
                    e.push(n)
                },
                "delete": function(e, i) {
                    var n = {
                        op: "remove",
                        path: i + t(this.name)
                    };
                    e.push(n)
                },
                update: function(e, i) {
                    var n = {
                        op: "replace",
                        path: i + t(this.name),
                        value: this.object[this.name]
                    };
                    e.push(n)
                }
            },
            v = [];
            e.intervals;
            var b = function() {
                function e(e) {
                    this.observers = [],
                    this.obj = e
                }
                return e
            } (),
            x = function() {
                function e(e, t) {
                    this.callback = e,
                    this.observer = t
                }
                return e
            } ();
            e.unobserve = l,
            e.observe = h,
            e.generate = d;
            var _;
            if (Object.keys) _ = Object.keys;
            else _ = function(e) {
                var t = [];
                for (var i in e) if (e.hasOwnProperty(i)) t.push(i);
                return t
            };
            var w;
            if (Array.isArray) w = Array.isArray;
            else w = function(e) {
                return e.push && "number" == typeof e.length
            };
            e.apply = p
        } (N || (N = {})), "undefined" != typeof exports) exports.apply = N.apply,
        exports.observe = N.observe,
        exports.unobserve = N.unobserve,
        exports.generate = N.generate;
        o.PluginHookClass = function() {
            function e() {
                this.hooks = t(),
                this.legacy = i
            }
            var t = function() {
                return {
                    beforeInitWalkontable: [],
                    beforeInit: [],
                    beforeRender: [],
                    beforeChange: [],
                    beforeRemoveCol: [],
                    beforeRemoveRow: [],
                    beforeValidate: [],
                    beforeGet: [],
                    beforeSet: [],
                    beforeGetCellMeta: [],
                    beforeAutofill: [],
                    beforeKeyDown: [],
                    beforeColumnSort: [],
                    afterInit: [],
                    afterLoadData: [],
                    afterUpdateSettings: [],
                    afterRender: [],
                    afterRenderer: [],
                    afterChange: [],
                    afterValidate: [],
                    afterGetCellMeta: [],
                    afterGetColHeader: [],
                    afterGetColWidth: [],
                    afterDestroy: [],
                    afterRemoveRow: [],
                    afterCreateRow: [],
                    afterRemoveCol: [],
                    afterCreateCol: [],
                    afterColumnResize: [],
                    afterColumnMove: [],
                    afterColumnSort: [],
                    afterDeselect: [],
                    afterSelection: [],
                    afterSelectionByProp: [],
                    afterSelectionEnd: [],
                    afterSelectionEndByProp: [],
                    afterCopyLimit: [],
                    afterOnCellMouseDown: [],
                    afterOnCellMouseOver: [],
                    afterOnCellCornerMouseDown: [],
                    afterScrollVertically: [],
                    afterScrollHorizontally: [],
                    modifyCol: []
                }
            },
            i = {
                onBeforeChange: "beforeChange",
                onChange: "afterChange",
                onCreateRow: "afterCreateRow",
                onCreateCol: "afterCreateCol",
                onSelection: "afterSelection",
                onCopyLimit: "afterCopyLimit",
                onSelectionEnd: "afterSelectionEnd",
                onSelectionByProp: "afterSelectionByProp",
                onSelectionEndByProp: "afterSelectionEndByProp"
            };
            return e.prototype.add = function(e, t) {
                if (o.helper.isArray(t)) for (var n = 0,
                r = t.length; r > n; n++) this.add(e, t[n]);
                else {
                    if (e in i) e = i[e];
                    if ("undefined" == typeof this.hooks[e]) this.hooks[e] = [];
                    if ( - 1 == this.hooks[e].indexOf(t)) this.hooks[e].push(t)
                }
                return this
            },
            e.prototype.once = function(e, t) {
                if (o.helper.isArray(t)) for (var i = 0,
                n = t.length; n > i; i++) t[i].runOnce = !0,
                this.add(e, t[i]);
                else t.runOnce = !0,
                this.add(e, t)
            },
            e.prototype.remove = function(e, t) {
                var n = !1;
                if (e in i) e = i[e];
                if ("undefined" != typeof this.hooks[e]) for (var o = 0,
                r = this.hooks[e].length; r > o; o++) if (this.hooks[e][o] == t) {
                    delete this.hooks[e][o].runOnce,
                    this.hooks[e].splice(o, 1),
                    n = !0;
                    break
                }
                return n
            },
            e.prototype.run = function(e, t, n, o, r, s, a) {
                if (t in i) t = i[t];
                if ("undefined" != typeof this.hooks[t]) for (var l = Array.prototype.slice.call(this.hooks[t]), h = 0, c = l.length; c > h; h++) if (l[h].call(e, n, o, r, s, a), l[h].runOnce) this.remove(t, l[h])
            },
            e.prototype.execute = function(e, t, n, o, r, s, a) {
                var l, h;
                if (t in i) t = i[t];
                if ("undefined" != typeof this.hooks[t]) {
                    h = Array.prototype.slice.call(this.hooks[t]);
                    for (var c = 0,
                    u = h.length; u > c; c++) {
                        if (l = h[c].call(e, n, o, r, s, a), void 0 !== l) n = l;
                        if (h[c].runOnce) this.remove(t, h[c]);
                        if (l === !1) return ! 1
                    }
                }
                return n
            },
            e
        } (),
        o.PluginHooks = new o.PluginHookClass,
        function(e) {
            function t() {
                function t(e) {
                    var t = document,
                    i = this;
                    i.table = t.createElement("table"),
                    i.theadTh = t.createElement("th"),
                    i.table.appendChild(t.createElement("thead")).appendChild(t.createElement("tr")).appendChild(i.theadTh),
                    i.tableStyle = i.table.style,
                    i.tableStyle.tableLayout = "auto",
                    i.tableStyle.width = "auto",
                    i.tbody = t.createElement("tbody"),
                    i.table.appendChild(i.tbody),
                    i.container = t.createElement("div"),
                    i.container.className = e.rootElement[0].className + " hidden",
                    i.containerStyle = i.container.style,
                    i.container.appendChild(i.table)
                }
                var n = this,
                o = 5;
                this.beforeInit = function() {
                    var e = this;
                    if (e.autoColumnWidths = [], e.getSettings().autoColumnSize !== !1) {
                        if (!e.autoColumnSizeTmp) e.autoColumnSizeTmp = {
                            table: null,
                            tableStyle: null,
                            theadTh: null,
                            tbody: null,
                            container: null,
                            containerStyle: null,
                            determineBeforeNextRender: !0
                        },
                        e.addHook("beforeRender", i.determineIfChanged),
                        e.addHook("afterGetColWidth", i.getColWidth),
                        e.addHook("afterDestroy", i.afterDestroy),
                        e.determineColumnWidth = n.determineColumnWidth
                    } else if (e.autoColumnSizeTmp) e.removeHook("beforeRender", i.determineIfChanged),
                    e.removeHook("afterGetColWidth", i.getColWidth),
                    e.removeHook("afterDestroy", i.afterDestroy),
                    delete e.determineColumnWidth,
                    n.afterDestroy.call(e)
                },
                this.determineIfChanged = function(e) {
                    if (e) i.determineColumnsWidth.apply(this, arguments)
                },
                this.determineColumnWidth = function(i) {
                    var n = this,
                    r = n.autoColumnSizeTmp;
                    if (!r.container) t.call(r, n);
                    r.container.className = n.rootElement[0].className + " htAutoColumnSize",
                    r.table.className = n.$table[0].className;
                    for (var s = n.countRows(), a = {},
                    l = 0, h = 0; s > h; h++) {
                        var c = e.helper.stringify(n.getDataAtCell(h, i)),
                        u = c.length;
                        if (u > l) l = u;
                        if (!a[u]) a[u] = {
                            needed: o,
                            strings: []
                        };
                        if (a[u].needed) a[u].strings.push({
                            value: c,
                            row: h
                        }),
                        a[u].needed--
                    }
                    var d = n.getSettings();
                    if (d.colHeaders) n.view.appendColHeader(i, r.theadTh);
                    n.view.wt.wtDom.empty(r.tbody);
                    for (var f in a) if (a.hasOwnProperty(f)) for (var p = 0,
                    m = a[f].strings.length; m > p; p++) {
                        var g = a[f].strings[p].row,
                        y = n.getCellMeta(g, i);
                        y.col = i,
                        y.row = g;
                        var v = n.getCellRenderer(y),
                        b = document.createElement("tr"),
                        x = document.createElement("td");
                        v(n, x, g, i, n.colToProp(i), a[f].strings[p].value, y),
                        h++,
                        b.appendChild(x),
                        r.tbody.appendChild(b)
                    }
                    var _ = n.rootElement[0].parentNode;
                    _.appendChild(r.container);
                    var w = n.view.wt.wtDom.outerWidth(r.table);
                    if (_.removeChild(r.container), !d.nativeScrollbars) {
                        var V = n.view.wt.wtViewport.getViewportWidth() - 2;
                        if (w > V) w = V
                    }
                    return w
                },
                this.determineColumnsWidth = function() {
                    var e = this,
                    t = this.getSettings();
                    if (t.autoColumnSize || !t.colWidths) for (var i = this.countCols(), o = 0; i > o; o++) if (!e._getColWidthFromSettings(o)) this.autoColumnWidths[o] = n.determineColumnWidth.call(e, o)
                },
                this.getColWidth = function(e, t) {
                    if (this.autoColumnWidths[e] && this.autoColumnWidths[e] > t.width) t.width = this.autoColumnWidths[e]
                },
                this.afterDestroy = function() {
                    var e = this;
                    if (e.autoColumnSizeTmp && e.autoColumnSizeTmp.container && e.autoColumnSizeTmp.container.parentNode) e.autoColumnSizeTmp.container.parentNode.removeChild(e.autoColumnSizeTmp.container);
                    e.autoColumnSizeTmp = null
                }
            }
            var i = new t;
            e.PluginHooks.add("beforeInit", i.beforeInit),
            e.PluginHooks.add("afterUpdateSettings", i.beforeInit)
        } (o);
        var R = new s;
        o.PluginHooks.add("afterInit",
        function() {
            R.init.call(this, "afterInit")
        }),
        o.PluginHooks.add("afterUpdateSettings",
        function() {
            R.init.call(this, "afterUpdateSettings")
        }),
        o.PluginHooks.add("beforeGet", R.onBeforeGetSet),
        o.PluginHooks.add("beforeSet", R.onBeforeGetSet),
        o.PluginHooks.add("afterGetColHeader", R.getColHeader),
        function(e) {
            function t(n, o) {
                function r() {
                    var t = i("body > .htContextMenu")[0];
                    if (!t) t = document.createElement("DIV"),
                    e.Dom.addClass(t, "htContextMenu"),
                    document.getElementsByTagName("body")[0].appendChild(t);
                    return t
                }
                this.instance = n;
                var s = this;
                this.menu = r(),
                this.enabled = !0,
                this.bindMouseEvents(),
                this.bindTableEvents(),
                this.instance.addHook("afterDestroy",
                function() {
                    s.destroy()
                }),
                this.defaultOptions = {
                    items: {
                        row_above: {
                            name: "Insert row above",
                            callback: function(e, t) {
                                this.alter("insert_row", t.start.row())
                            },
                            disabled: function() {
                                return this.countRows() >= this.getSettings().maxRows
                            }
                        },
                        row_below: {
                            name: "Insert row below",
                            callback: function(e, t) {
                                this.alter("insert_row", t.end.row() + 1)
                            },
                            disabled: function() {
                                return this.countRows() >= this.getSettings().maxRows
                            }
                        },
                        hsep1: t.SEPARATOR,
                        col_left: {
                            name: "Insert column on the left",
                            callback: function(e, t) {
                                this.alter("insert_col", t.start.col())
                            },
                            disabled: function() {
                                return this.countCols() >= this.getSettings().maxCols
                            }
                        },
                        col_right: {
                            name: "Insert column on the right",
                            callback: function(e, t) {
                                this.alter("insert_col", t.end.col() + 1)
                            },
                            disabled: function() {
                                return this.countCols() >= this.getSettings().maxCols
                            }
                        },
                        hsep2: t.SEPARATOR,
                        remove_row: {
                            name: "Remove row",
                            callback: function(e, t) {
                                var i = t.end.row() - t.start.row() + 1;
                                this.alter("remove_row", t.start.row(), i)
                            }
                        },
                        remove_col: {
                            name: "Remove column",
                            callback: function(e, t) {
                                var i = t.end.col() - t.start.col() + 1;
                                this.alter("remove_col", t.start.col(), i)
                            }
                        },
                        hsep3: t.SEPARATOR,
                        undo: {
                            name: "Undo",
                            callback: function() {
                                this.undo()
                            },
                            disabled: function() {
                                return this.undoRedo && !this.undoRedo.isUndoAvailable()
                            }
                        },
                        redo: {
                            name: "Redo",
                            callback: function() {
                                this.redo()
                            },
                            disabled: function() {
                                return this.undoRedo && !this.undoRedo.isRedoAvailable()
                            }
                        }
                    }
                },
                this.options = {},
                e.helper.extend(this.options, this.defaultOptions),
                this.updateOptions(o)
            }
            function n() {
                var i = this,
                n = i.getSettings().contextMenu,
                o = e.helper.isObject(n) ? n: {};
                if (n) {
                    if (!i.contextMenu) i.contextMenu = new t(i, o);
                    if (i.contextMenu.enable(), e.helper.isArray(n)) i.contextMenu.filterItems(n)
                } else if (i.contextMenu) i.contextMenu.destroy(),
                delete i.contextMenu
            }
            t.prototype.bindMouseEvents = function() {
                function n(n) {
                    if (n.preventDefault(), "TD" == n.target.nodeName || e.Dom.hasClass(n.target, "current") && e.Dom.hasClass(n.target, "wtBorder")) this.show(n.pageY, n.pageX),
                    i(document).on("mousedown.htContextMenu", e.helper.proxy(t.prototype.close, this))
                }
                this.instance.rootElement.on("contextmenu.htContextMenu", e.helper.proxy(n, this))
            },
            t.prototype.bindTableEvents = function() {
                var e = this;
                this._afterScrollCallback = function() {
                    e.close()
                },
                this.instance.addHook("afterScrollVertically", this._afterScrollCallback),
                this.instance.addHook("afterScrollHorizontally", this._afterScrollCallback)
            },
            t.prototype.unbindTableEvents = function() {
                if (this._afterScrollCallback) this.instance.removeHook("afterScrollVertically", this._afterScrollCallback),
                this.instance.removeHook("afterScrollHorizontally", this._afterScrollCallback),
                this._afterScrollCallback = null
            },
            t.prototype.performAction = function() {
                var e = i(this.menu).handsontable("getInstance"),
                n = e.getSelected()[0],
                o = e.getData()[n];
                if (o.disabled !== !0 && ("function" != typeof o.disabled || o.disabled.call(this.instance) !== !0)) if ("function" == typeof o.callback) {
                    var r = this.instance.getSelected(),
                    s = t.utils.normalizeSelection(r);
                    o.callback.call(this.instance, o.key, s)
                }
            },
            t.prototype.unbindMouseEvents = function() {
                this.instance.rootElement.off("contextmenu.htContextMenu"),
                i(document).off("mousedown.htContextMenu")
            },
            t.prototype.show = function(n, o) {
                this.menu.style.display = "block",
                i(this.menu).off("mousedown.htContextMenu").on("mousedown.htContextMenu", e.helper.proxy(this.performAction, this)),
                i(this.menu).handsontable({
                    data: t.utils.convertItemsToArray(this.getItems()),
                    colHeaders: !1,
                    colWidths: [160],
                    readOnly: !0,
                    copyPaste: !1,
                    columns: [{
                        data: "name",
                        renderer: e.helper.proxy(this.renderer, this)
                    }],
                    beforeKeyDown: e.helper.proxy(this.onBeforeKeyDown, this)
                }),
                this.bindTableEvents(),
                this.setMenuPosition(n, o),
                i(this.menu).handsontable("listen")
            },
            t.prototype.close = function() {
                this.hide(),
                i(document).off("mousedown.htContextMenu"),
                this.unbindTableEvents(),
                this.instance.listen()
            },
            t.prototype.hide = function() {
                this.menu.style.display = "none",
                i(this.menu).handsontable("destroy")
            },
            t.prototype.renderer = function(n, o, r, s, a, l) {
                function h(e) {
                    return new RegExp(t.SEPARATOR, "i").test(e.name)
                }
                function c(e) {
                    return e.disabled === !0 || "function" == typeof e.disabled && e.disabled.call(u.instance) === !0
                }
                var u = this,
                d = n.getData()[r],
                f = document.createElement("DIV");
                if (e.Dom.empty(o), o.appendChild(f), h(d)) e.Dom.addClass(o, "htSeparator");
                else e.Dom.fastInnerText(f, l);
                if (c(d, u.instance)) e.Dom.addClass(o, "htDisabled"),
                i(f).on("mouseenter",
                function() {
                    n.deselectCell()
                });
                else e.Dom.removeClass(o, "htDisabled"),
                i(f).on("mouseenter",
                function() {
                    n.selectCell(r, s)
                })
            },
            t.prototype.onBeforeKeyDown = function(n) {
                function o(e) {
                    var i = e.getCell(0, 0);
                    if (t.utils.isSeparator(i) || t.utils.isDisabled(i)) s(0, 0, e);
                    else e.selectCell(0, 0)
                }
                function r(e) {
                    var i = e.countRows() - 1,
                    n = e.getCell(i, 0);
                    if (t.utils.isSeparator(n) || t.utils.isDisabled(n)) a(i, 0, e);
                    else e.selectCell(i, 0)
                }
                function s(e, i, n) {
                    var o = e + 1,
                    r = o < n.countRows() ? n.getCell(o, i) : null;
                    if (r) if (t.utils.isSeparator(r) || t.utils.isDisabled(r)) s(o, i, n);
                    else n.selectCell(o, i)
                }
                function a(e, i, n) {
                    var o = e - 1,
                    r = o >= 0 ? n.getCell(o, i) : null;
                    if (r) if (t.utils.isSeparator(r) || t.utils.isDisabled(r)) a(o, i, n);
                    else n.selectCell(o, i)
                }
                var l = this,
                h = i(l.menu).handsontable("getInstance"),
                c = h.getSelected();
                switch (n.keyCode) {
                case e.helper.keyCode.ESCAPE:
                    l.close(),
                    n.preventDefault(),
                    n.stopImmediatePropagation();
                    break;
                case e.helper.keyCode.ENTER:
                    if (h.getSelected()) l.performAction(),
                    l.close();
                    break;
                case e.helper.keyCode.ARROW_DOWN:
                    if (!c) o(h);
                    else s(c[0], c[1], h);
                    n.preventDefault(),
                    n.stopImmediatePropagation();
                    break;
                case e.helper.keyCode.ARROW_UP:
                    if (!c) r(h);
                    else a(c[0], c[1], h);
                    n.preventDefault(),
                    n.stopImmediatePropagation()
                }
            },
            t.prototype.getItems = function() {
                function t(t) {
                    if ("string" == typeof t) this.name = t;
                    else e.helper.extend(this, t)
                }
                var i = {};
                t.prototype = this.options;
                for (var n in this.options.items) if (this.options.items.hasOwnProperty(n) && (!this.itemsFilter || -1 != this.itemsFilter.indexOf(n))) i[n] = new t(this.options.items[n]);
                return i
            },
            t.prototype.updateOptions = function(t) {
                if (t = t || {},
                t.items) for (var i in t.items) {
                    var n = {};
                    if (t.items.hasOwnProperty(i)) if (this.defaultOptions.items.hasOwnProperty(i) && e.helper.isObject(t.items[i])) e.helper.extend(n, this.defaultOptions.items[i]),
                    e.helper.extend(n, t.items[i]),
                    t.items[i] = n
                }
                e.helper.extend(this.options, t)
            },
            t.prototype.setMenuPosition = function(e, t) {
                var i = {
                    top: e,
                    topRelative: e - document.documentElement.scrollTop,
                    left: t,
                    leftRelative: t - document.documentElement.scrollLeft
                };
                if (this.menuFitsBelowCursor(i)) this.positionMenuBelowCursor(i);
                else this.positionMenuAboveCursor(i);
                if (this.menuFitsOnRightOfCursor(i)) this.positionMenuOnRightOfCursor(i);
                else this.positionMenuOnLeftOfCursor(i)
            },
            t.prototype.menuFitsBelowCursor = function(e) {
                return e.topRelative + this.menu.offsetHeight <= document.documentElement.scrollTop + document.documentElement.clientHeight
            },
            t.prototype.menuFitsOnRightOfCursor = function(e) {
                return e.leftRelative + this.menu.offsetWidth <= document.documentElement.scrollLeft + document.documentElement.clientWidth
            },
            t.prototype.positionMenuBelowCursor = function(e) {
                this.menu.style.top = e.top + "px"
            },
            t.prototype.positionMenuAboveCursor = function(e) {
                this.menu.style.top = e.top - this.menu.offsetHeight + "px"
            },
            t.prototype.positionMenuOnRightOfCursor = function(e) {
                this.menu.style.left = e.left + "px"
            },
            t.prototype.positionMenuOnLeftOfCursor = function(e) {
                this.menu.style.left = e.left - this.menu.offsetWidth + "px"
            },
            t.utils = {},
            t.utils.convertItemsToArray = function(e) {
                var t, i = [];
                for (var n in e) if (e.hasOwnProperty(n)) {
                    if ("string" == typeof e[n]) t = {
                        name: e[n]
                    };
                    else if (e[n].visible !== !1) t = e[n];
                    else continue;
                    t.key = n,
                    i.push(t)
                }
                return i
            },
            t.utils.normalizeSelection = function(t) {
                var i = {
                    start: new e.SelectionPoint,
                    end: new e.SelectionPoint
                };
                return i.start.row(Math.min(t[0], t[2])),
                i.start.col(Math.min(t[1], t[3])),
                i.end.row(Math.max(t[0], t[2])),
                i.end.col(Math.max(t[1], t[3])),
                i
            },
            t.utils.isSeparator = function(t) {
                return e.Dom.hasClass(t, "htSeparator")
            },
            t.utils.isDisabled = function(t) {
                return e.Dom.hasClass(t, "htDisabled")
            },
            t.prototype.enable = function() {
                if (!this.enabled) this.enabled = !0,
                this.bindMouseEvents()
            },
            t.prototype.disable = function() {
                if (this.enabled) this.enabled = !1,
                this.close(),
                this.unbindMouseEvents(),
                this.unbindTableEvents()
            },
            t.prototype.destroy = function() {
                if (this.close(), this.unbindMouseEvents(), this.unbindTableEvents(), !this.isMenuEnabledByOtherHotInstance()) this.removeMenu()
            },
            t.prototype.isMenuEnabledByOtherHotInstance = function() {
                for (var e = i(".handsontable"), t = !1, n = 0, o = e.length; o > n; n++) {
                    var r = i(e[n]).handsontable("getInstance");
                    if (r && r.getSettings().contextMenu) {
                        t = !0;
                        break
                    }
                }
                return t
            },
            t.prototype.removeMenu = function() {
                if (this.menu.parentNode) this.menu.parentNode.removeChild(this.menu)
            },
            t.prototype.filterItems = function(e) {
                this.itemsFilter = e
            },
            t.SEPARATOR = "---------",
            e.PluginHooks.add("afterInit", n),
            e.PluginHooks.add("afterUpdateSettings", n),
            e.ContextMenu = t
        } (o),
        o.PluginHooks.add("beforeGetCellMeta",
        function(e, t, i) {
            if (i.isWritable = !i.readOnly, i.autoComplete) throw new Error("Support for legacy autocomplete syntax was removed in Handsontable 0.10.0. Please remove the property named 'autoComplete' from your config. For replacement instructions, see wiki page https://github.com/warpech/jquery-handsontable/wiki/Migration-guide-to-0.10.x")
        });
        var K = new a;
        o.PluginHooks.add("beforeInit", K.beforeInit),
        o.PluginHooks.add("afterInit",
        function() {
            K.init.call(this, "afterInit")
        }),
        o.PluginHooks.add("afterUpdateSettings",
        function() {
            K.init.call(this, "afterUpdateSettings")
        }),
        o.PluginHooks.add("afterGetColHeader", K.getColHeader),
        o.PluginHooks.add("modifyCol", K.modifyCol);
        var F = new l;
        o.PluginHooks.add("beforeInit", F.beforeInit),
        o.PluginHooks.add("afterInit",
        function() {
            F.init.call(this, "afterInit")
        }),
        o.PluginHooks.add("afterUpdateSettings",
        function() {
            F.init.call(this, "afterUpdateSettings")
        }),
        o.PluginHooks.add("afterGetColWidth", F.getColWidth),
        function() {
            function e() {
                var e = this,
                i = e.getSettings().observeChanges;
                if (i) {
                    if (e.observer) n.call(e);
                    t.call(e),
                    s.call(e)
                } else if (!i) n.call(e)
            }
            function t() {
                var e = this;
                e.observeChangesActive = !0,
                e.pauseObservingChanges = function() {
                    e.observeChangesActive = !1
                },
                e.resumeObservingChanges = function() {
                    e.observeChangesActive = !0
                },
                e.observedData = e.getData(),
                e.observer = N.observe(e.observedData,
                function(t) {
                    if (e.observeChangesActive) i.call(e, t),
                    e.render();
                    e.runHooks("afterChangesObserved")
                })
            }
            function i(e) {
                function t(e) {
                    var t;
                    return t = n(e),
                    t = i(t)
                }
                function i(e) {
                    var t = [];
                    return e.filter(function(e) {
                        var i = o(e.path);
                        if ( - 1 != ["add", "remove"].indexOf(e.op) && !isNaN(i.col)) if ( - 1 != t.indexOf(i.col)) return ! 1;
                        else t.push(i.col);
                        return ! 0
                    })
                }
                function n(e) {
                    return e.filter(function(e) {
                        return ! /[\/]length/gi.test(e.path)
                    })
                }
                function o(e) {
                    var t = e.match(/^\/(\d+)\/?(.*)?$/);
                    return {
                        row: parseInt(t[1], 10),
                        col: /^\d*$/.test(t[2]) ? parseInt(t[2], 10) : t[2]
                    }
                }
                for (var r = this,
                s = t(e), a = 0, l = s.length; l > a; a++) {
                    var h = s[a],
                    c = o(h.path);
                    switch (h.op) {
                    case "add":
                        if (isNaN(c.col)) r.runHooks("afterCreateRow", c.row);
                        else r.runHooks("afterCreateCol", c.col);
                        break;
                    case "remove":
                        if (isNaN(c.col)) r.runHooks("afterRemoveRow", c.row, 1);
                        else r.runHooks("afterRemoveCol", c.col, 1);
                        break;
                    case "replace":
                        r.runHooks("afterChange", [c.row, c.col, null, h.value], "external")
                    }
                }
            }
            function n() {
                var e = this;
                if (e.observer) r.call(e),
                a.call(e)
            }
            function r() {
                var e = this;
                N.unobserve(e.observedData, e.observer),
                delete e.observeChangesActive,
                delete e.pauseObservingChanges,
                delete e.resumeObservingChanges
            }
            function s() {
                var e = this;
                e.addHook("afterDestroy", n),
                e.addHook("afterCreateRow", l),
                e.addHook("afterRemoveRow", l),
                e.addHook("afterCreateCol", l),
                e.addHook("afterRemoveCol", l),
                e.addHook("afterChange",
                function(e, t) {
                    if ("loadData" != t) l.call(this)
                })
            }
            function a() {
                var e = this;
                e.removeHook("afterDestroy", n),
                e.removeHook("afterCreateRow", l),
                e.removeHook("afterRemoveRow", l),
                e.removeHook("afterCreateCol", l),
                e.removeHook("afterRemoveCol", l),
                e.removeHook("afterChange", l)
            }
            function l() {
                var e = this;
                e.pauseObservingChanges(),
                e.addHookOnce("afterChangesObserved",
                function() {
                    e.resumeObservingChanges()
                })
            }
            o.PluginHooks.add("afterLoadData", e),
            o.PluginHooks.add("afterUpdateSettings", e)
        } (),
        function(e) {
            function t() {
                function t() {
                    var e = this;
                    for (var t in r) if (r.hasOwnProperty(t) && !n.call(e, t)) e.PluginHooks.add(t, r[t])
                }
                function i() {
                    var e = this;
                    for (var t in r) if (r.hasOwnProperty(t) && n.call(e, t)) e.PluginHooks.remove(t, r[t])
                }
                function n(e) {
                    var t = this;
                    return t.PluginHooks.hooks.hasOwnProperty(e)
                }
                var o = this;
                this.init = function() {
                    var n = this,
                    r = n.getSettings().persistentState;
                    if (o.enabled = !!r, !o.enabled) return void i.call(n);
                    if (!n.storage) n.storage = new e(n.rootElement[0].id);
                    n.resetState = o.resetValue,
                    t.call(n)
                },
                this.saveValue = function(e, t) {
                    var i = this;
                    i.storage.saveValue(e, t)
                },
                this.loadValue = function(e, t) {
                    var i = this;
                    t.value = i.storage.loadValue(e)
                },
                this.resetValue = function(e) {
                    var t = this;
                    if ("undefined" != typeof e) t.storage.reset(e);
                    else t.storage.resetAll()
                };
                var r = {
                    persistentStateSave: o.saveValue,
                    persistentStateLoad: o.loadValue,
                    persistentStateReset: o.resetValue
                }
            }
            var i = new t;
            o.PluginHooks.add("beforeInit", i.init),
            o.PluginHooks.add("afterUpdateSettings", i.init)
        } (h),
        function(e) {
            e.UndoRedo = function(t) {
                var i = this;
                this.instance = t,
                this.doneActions = [],
                this.undoneActions = [],
                this.ignoreNewActions = !1,
                t.addHook("afterChange",
                function(t) {
                    if (t) {
                        var n = new e.UndoRedo.ChangeAction(t);
                        i.done(n)
                    }
                }),
                t.addHook("afterCreateRow",
                function(t, n, o) {
                    if (!o) {
                        var r = new e.UndoRedo.CreateRowAction(t, n);
                        i.done(r)
                    }
                }),
                t.addHook("beforeRemoveRow",
                function(t, n) {
                    var o = i.instance.getData();
                    t = (o.length + t) % o.length;
                    var r = o.slice(t, t + n),
                    s = new e.UndoRedo.RemoveRowAction(t, r);
                    i.done(s)
                }),
                t.addHook("afterCreateCol",
                function(t, n, o) {
                    if (!o) {
                        var r = new e.UndoRedo.CreateColumnAction(t, n);
                        i.done(r)
                    }
                }),
                t.addHook("beforeRemoveCol",
                function(n, o) {
                    var r = i.instance.getData();
                    n = (i.instance.countCols() + n) % i.instance.countCols();
                    for (var s = [], a = 0, l = r.length; l > a; a++) s[a] = r[a].slice(n, n + o);
                    var h;
                    if (e.helper.isArray(t.getSettings().colHeaders)) h = t.getSettings().colHeaders.slice(n, n + s.length);
                    var c = new e.UndoRedo.RemoveColumnAction(n, s, h);
                    i.done(c)
                })
            },
            e.UndoRedo.prototype.done = function(e) {
                if (!this.ignoreNewActions) this.doneActions.push(e),
                this.undoneActions.length = 0
            },
            e.UndoRedo.prototype.undo = function() {
                if (this.isUndoAvailable()) {
                    var e = this.doneActions.pop();
                    this.ignoreNewActions = !0;
                    var t = this;
                    e.undo(this.instance,
                    function() {
                        t.ignoreNewActions = !1,
                        t.undoneActions.push(e)
                    })
                }
            },
            e.UndoRedo.prototype.redo = function() {
                if (this.isRedoAvailable()) {
                    var e = this.undoneActions.pop();
                    this.ignoreNewActions = !0;
                    var t = this;
                    e.redo(this.instance,
                    function() {
                        t.ignoreNewActions = !1,
                        t.doneActions.push(e)
                    })
                }
            },
            e.UndoRedo.prototype.isUndoAvailable = function() {
                return this.doneActions.length > 0
            },
            e.UndoRedo.prototype.isRedoAvailable = function() {
                return this.undoneActions.length > 0
            },
            e.UndoRedo.prototype.clear = function() {
                this.doneActions.length = 0,
                this.undoneActions.length = 0
            },
            e.UndoRedo.Action = function() {},
            e.UndoRedo.Action.prototype.undo = function() {},
            e.UndoRedo.Action.prototype.redo = function() {},
            e.UndoRedo.ChangeAction = function(e) {
                this.changes = e
            },
            e.helper.inherit(e.UndoRedo.ChangeAction, e.UndoRedo.Action),
            e.UndoRedo.ChangeAction.prototype.undo = function(e, t) {
                for (var n = i.extend(!0, [], this.changes), o = 0, r = n.length; r > o; o++) n[o].splice(3, 1);
                e.addHookOnce("afterChange", t),
                e.setDataAtRowProp(n, null, null, "undo")
            },
            e.UndoRedo.ChangeAction.prototype.redo = function(e, t) {
                for (var n = i.extend(!0, [], this.changes), o = 0, r = n.length; r > o; o++) n[o].splice(2, 1);
                e.addHookOnce("afterChange", t),
                e.setDataAtRowProp(n, null, null, "redo")
            },
            e.UndoRedo.CreateRowAction = function(e, t) {
                this.index = e,
                this.amount = t
            },
            e.helper.inherit(e.UndoRedo.CreateRowAction, e.UndoRedo.Action),
            e.UndoRedo.CreateRowAction.prototype.undo = function(e, t) {
                e.addHookOnce("afterRemoveRow", t),
                e.alter("remove_row", this.index, this.amount)
            },
            e.UndoRedo.CreateRowAction.prototype.redo = function(e, t) {
                e.addHookOnce("afterCreateRow", t),
                e.alter("insert_row", this.index + 1, this.amount)
            },
            e.UndoRedo.RemoveRowAction = function(e, t) {
                this.index = e,
                this.data = t
            },
            e.helper.inherit(e.UndoRedo.RemoveRowAction, e.UndoRedo.Action),
            e.UndoRedo.RemoveRowAction.prototype.undo = function(e, t) {
                var i = [this.index, 0];
                Array.prototype.push.apply(i, this.data),
                Array.prototype.splice.apply(e.getData(), i),
                e.addHookOnce("afterRender", t),
                e.render()
            },
            e.UndoRedo.RemoveRowAction.prototype.redo = function(e, t) {
                e.addHookOnce("afterRemoveRow", t),
                e.alter("remove_row", this.index, this.data.length)
            },
            e.UndoRedo.CreateColumnAction = function(e, t) {
                this.index = e,
                this.amount = t
            },
            e.helper.inherit(e.UndoRedo.CreateColumnAction, e.UndoRedo.Action),
            e.UndoRedo.CreateColumnAction.prototype.undo = function(e, t) {
                e.addHookOnce("afterRemoveCol", t),
                e.alter("remove_col", this.index, this.amount)
            },
            e.UndoRedo.CreateColumnAction.prototype.redo = function(e, t) {
                e.addHookOnce("afterCreateCol", t),
                e.alter("insert_col", this.index + 1, this.amount)
            },
            e.UndoRedo.RemoveColumnAction = function(e, t, i) {
                this.index = e,
                this.data = t,
                this.amount = this.data[0].length,
                this.headers = i
            },
            e.helper.inherit(e.UndoRedo.RemoveColumnAction, e.UndoRedo.Action),
            e.UndoRedo.RemoveColumnAction.prototype.undo = function(e, t) {
                for (var i, n, o = 0,
                r = e.getData().length; r > o; o++) i = e.getDataAtRow(o),
                n = [this.index, 0],
                Array.prototype.push.apply(n, this.data[o]),
                Array.prototype.splice.apply(i, n);
                if ("undefined" != typeof this.headers) n = [this.index, 0],
                Array.prototype.push.apply(n, this.headers),
                Array.prototype.splice.apply(e.getSettings().colHeaders, n);
                e.addHookOnce("afterRender", t),
                e.render()
            },
            e.UndoRedo.RemoveColumnAction.prototype.redo = function(e, t) {
                e.addHookOnce("afterRemoveCol", t),
                e.alter("remove_col", this.index, this.amount)
            }
        } (o),
        function(e) {
            function t() {
                var t = this,
                s = "undefined" == typeof t.getSettings().undo || t.getSettings().undo;
                if (s) {
                    if (!t.undoRedo) t.undoRedo = new e.UndoRedo(t),
                    o(t),
                    t.addHook("beforeKeyDown", i),
                    t.addHook("afterChange", n)
                } else if (t.undoRedo) delete t.undoRedo,
                r(t),
                t.removeHook("beforeKeyDown", i),
                t.removeHook("afterChange", n)
            }
            function i(e) {
                var t = this,
                i = (e.ctrlKey || e.metaKey) && !e.altKey;
                if (i) if (89 === e.keyCode || e.shiftKey && 90 === e.keyCode) t.undoRedo.redo(),
                e.stopImmediatePropagation();
                else if (90 === e.keyCode) t.undoRedo.undo(),
                e.stopImmediatePropagation()
            }
            function n(e, t) {
                var i = this;
                if ("loadData" == t) return i.undoRedo.clear();
                else return void 0
            }
            function o(e) {
                e.undo = function() {
                    return e.undoRedo.undo()
                },
                e.redo = function() {
                    return e.undoRedo.redo()
                },
                e.isUndoAvailable = function() {
                    return e.undoRedo.isUndoAvailable()
                },
                e.isRedoAvailable = function() {
                    return e.undoRedo.isRedoAvailable()
                },
                e.clearUndo = function() {
                    return e.undoRedo.clear()
                }
            }
            function r(e) {
                delete e.undo,
                delete e.redo,
                delete e.isUndoAvailable,
                delete e.isRedoAvailable,
                delete e.clearUndo
            }
            e.PluginHooks.add("afterInit", t),
            e.PluginHooks.add("afterUpdateSettings", t)
        } (o),
        c.prototype.setBoundaries = function(e) {
            this.boundaries = e
        },
        c.prototype.setCallback = function(e) {
            this.callback = e
        },
        c.prototype.check = function(e, t) {
            var i = 0,
            n = 0;
            if (t < this.boundaries.top) n = t - this.boundaries.top;
            else if (t > this.boundaries.bottom) n = t - this.boundaries.bottom;
            if (e < this.boundaries.left) i = e - this.boundaries.left;
            else if (e > this.boundaries.right) i = e - this.boundaries.right;
            this.callback(i, n)
        };
        var z, H = !1;
        if ("undefined" != typeof o) {
            var B = function(e) {
                var t = e.view.wt.wtScrollbars.vertical.scrollHandler;
                if (z = new c, t !== n) {
                    if (t) z.setBoundaries(t.getBoundingClientRect());
                    else z.setBoundaries(e.$table[0].getBoundingClientRect());
                    z.setCallback(function(i, n) {
                        if (0 > i) if (t) t.scrollLeft -= 50;
                        else e.view.wt.scrollHorizontal( - 1).draw();
                        else if (i > 0) if (t) t.scrollLeft += 50;
                        else e.view.wt.scrollHorizontal(1).draw();
                        if (0 > n) if (t) t.scrollTop -= 20;
                        else e.view.wt.scrollVertical( - 1).draw();
                        else if (n > 0) if (t) t.scrollTop += 20;
                        else e.view.wt.scrollVertical(1).draw()
                    }),
                    H = !0
                }
            };
            o.PluginHooks.add("afterInit",
            function() {
                i(document).on("mouseup." + this.guid,
                function() {
                    H = !1
                }),
                i(document).on("mousemove." + this.guid,
                function(e) {
                    if (H) z.check(e.clientX, e.clientY)
                })
            }),
            o.PluginHooks.add("destroy",
            function() {
                i(document).off("." + this.guid)
            }),
            o.PluginHooks.add("afterOnCellMouseDown",
            function() {
                B(this)
            }),
            o.PluginHooks.add("afterOnCellCornerMouseDown",
            function() {
                B(this)
            }),
            o.plugins.DragToScroll = c
        }
        if (function(e, t, i) {
            function n(n) {
                function o() {
                    if (n.isListening()) n.selection.empty()
                }
                function r(e) {
                    if (n.isListening() && n.selection.isSelected()) {
                        var t = e.replace(/^[\r\n]*/g, "").replace(/[\r\n]*$/g, ""),
                        o = i.parse(t),
                        r = n.getSelected(),
                        s = n.getCornerCoords([{
                            row: r[0],
                            col: r[1]
                        },
                        {
                            row: r[2],
                            col: r[3]
                        }]),
                        a = s.TL,
                        l = {
                            row: Math.max(s.BR.row, o.length - 1 + s.TL.row),
                            col: Math.max(s.BR.col, o[0].length - 1 + s.TL.col)
                        };
                        n.PluginHooks.once("afterChange",
                        function(e) {
                            if (e && e.length) this.selectCell(a.row, a.col, l.row, l.col)
                        }),
                        n.populateFromArray(a.row, a.col, o, l.row, l.col, "paste", n.getSettings().pasteMode)
                    }
                }
                function s(t) {
                    if (e.helper.isCtrlKey(t.keyCode) && n.getSelected()) return a.setCopyableText(),
                    void t.stopImmediatePropagation();
                    var i = (t.ctrlKey || t.metaKey) && !t.altKey;
                    if (t.keyCode == e.helper.keyCode.A && i) setTimeout(e.helper.proxy(a.setCopyableText, a))
                }
                this.copyPasteInstance = t.getInstance(),
                this.copyPasteInstance.onCut(o),
                this.copyPasteInstance.onPaste(r);
                var a = this;
                n.addHook("beforeKeyDown", s),
                this.destroy = function() {
                    this.copyPasteInstance.removeCallback(o),
                    this.copyPasteInstance.removeCallback(r),
                    this.copyPasteInstance.destroy(),
                    n.removeHook("beforeKeyDown", s)
                },
                n.addHook("afterDestroy", e.helper.proxy(this.destroy, this)),
                this.triggerPaste = e.helper.proxy(this.copyPasteInstance.triggerPaste, this.copyPasteInstance),
                this.triggerCut = e.helper.proxy(this.copyPasteInstance.triggerCut, this.copyPasteInstance),
                this.setCopyableText = function() {
                    var e = n.getSelected(),
                    t = n.getSettings(),
                    i = t.copyRowsLimit,
                    o = t.copyColsLimit,
                    r = Math.min(e[0], e[2]),
                    s = Math.min(e[1], e[3]),
                    a = Math.max(e[0], e[2]),
                    l = Math.max(e[1], e[3]),
                    h = Math.min(a, r + i - 1),
                    c = Math.min(l, s + o - 1);
                    if (n.copyPaste.copyPasteInstance.copyable(n.getCopyableData(r, s, h, c)), a !== h || l !== c) n.PluginHooks.run("afterCopyLimit", a - r + 1, l - s + 1, i, o)
                }
            }
            function o() {
                var e = this,
                t = e.getSettings().copyPaste !== !1;
                if (t && !e.copyPaste) e.copyPaste = new n(e);
                else if (!t && e.copyPaste) e.copyPaste.destroy(),
                delete e.copyPaste
            }
            e.PluginHooks.add("afterInit", o),
            e.PluginHooks.add("afterUpdateSettings", o)
        } (o, X, SheetClip),
        function(e) {
            function t() {
                var t = this,
                i = !!t.getSettings().search;
                if (i) t.search = new e.Search(t);
                else delete t.search
            }
            e.Search = function(t) {
                this.query = function(i, n, o) {
                    var r = t.countRows(),
                    s = t.countCols(),
                    a = [];
                    if (!n) n = e.Search.global.getDefaultCallback();
                    if (!o) o = e.Search.global.getDefaultQueryMethod();
                    for (var l = 0; r > l; l++) for (var h = 0; s > h; h++) {
                        var c = t.getDataAtCell(l, h),
                        u = t.getCellMeta(l, h),
                        d = u.search.callback || n,
                        f = u.search.queryMethod || o,
                        p = f(i, c);
                        if (p) {
                            var m = {
                                row: l,
                                col: h,
                                data: c
                            };
                            a.push(m)
                        }
                        if (d) d(t, l, h, c, p)
                    }
                    return a
                }
            },
            e.Search.DEFAULT_CALLBACK = function(e, t, i, n, o) {
                e.getCellMeta(t, i).isSearchResult = o
            },
            e.Search.DEFAULT_QUERY_METHOD = function(e, t) {
                if ("undefined" == typeof e || null == e || !e.toLowerCase || 0 == e.length) return ! 1;
                else return - 1 != t.toString().toLowerCase().indexOf(e.toLowerCase())
            },
            e.Search.DEFAULT_SEARCH_RESULT_CLASS = "htSearchResult",
            e.Search.global = function() {
                var t = e.Search.DEFAULT_CALLBACK,
                i = e.Search.DEFAULT_QUERY_METHOD,
                n = e.Search.DEFAULT_SEARCH_RESULT_CLASS;
                return {
                    getDefaultCallback: function() {
                        return t
                    },
                    setDefaultCallback: function(e) {
                        t = e
                    },
                    getDefaultQueryMethod: function() {
                        return i
                    },
                    setDefaultQueryMethod: function(e) {
                        i = e
                    },
                    getDefaultSearchResultClass: function() {
                        return n
                    },
                    setDefaultSearchResultClass: function(e) {
                        n = e
                    }
                }
            } (),
            e.SearchCellDecorator = function(t, i, n, o, r, s, a) {
                var l = "object" == typeof a.search && a.search.searchResultClass || e.Search.global.getDefaultSearchResultClass();
                if (a.isSearchResult) e.Dom.addClass(i, l);
                else e.Dom.removeClass(i, l)
            };
            var i = e.renderers.cellDecorator;
            e.renderers.cellDecorator = function() {
                i.apply(this, arguments),
                e.SearchCellDecorator.apply(this, arguments)
            },
            e.PluginHooks.add("afterInit", t),
            e.PluginHooks.add("afterUpdateSettings", t)
        } (o), u.prototype.init = function() {
            this.TABLE = this.instance.wtTable.TABLE,
            this.fixed = this.instance.wtTable.hider,
            this.fixedContainer = this.instance.wtTable.holder,
            this.fixed.style.position = "absolute",
            this.fixed.style.left = "0",
            this.scrollHandler = this.getScrollableElement(this.TABLE),
            this.$scrollHandler = i(this.scrollHandler)
        },
        u.prototype.makeClone = function(e) {
            var t = document.createElement("DIV");
            t.className = "ht_clone_" + e + " handsontable",
            t.style.position = "fixed",
            t.style.overflow = "hidden";
            var i = document.createElement("TABLE");
            return i.className = this.instance.wtTable.TABLE.className,
            t.appendChild(i),
            this.instance.wtTable.holder.parentNode.appendChild(t),
            new v({
                cloneSource: this.instance,
                cloneOverlay: this,
                table: i
            })
        },
        u.prototype.getScrollableElement = function(e) {
            for (var t = e.parentNode; t && t.style;) {
                if ("visible" !== t.style.overflow && "" !== t.style.overflow) return t;
                if (this instanceof L && "visible" !== t.style.overflowX && "" !== t.style.overflowX) return t;
                t = t.parentNode
            }
            return n
        },
        u.prototype.prepare = function() {},
        u.prototype.onScroll = function(e) {
            if (this.windowScrollPosition = this.getScrollPosition(), this.readSettings(), e) this.windowScrollPosition = e;
            this.resetFixedPosition()
        },
        u.prototype.availableSize = function() {
            var e;
            if (this.windowScrollPosition > this.tableParentOffset) if (this.instance.wtTable.getLastVisibleRow() === this.total - 1) e = this.instance.wtDom.outerHeight(this.TABLE);
            else e = this.windowSize;
            else e = this.windowSize - this.tableParentOffset;
            return e
        },
        u.prototype.refresh = function(e) {
            var t = this.getLastCell();
            if (this.measureBefore = this.sumCellSizes(0, this.offset), -1 === t) this.measureAfter = 0;
            else this.measureAfter = this.sumCellSizes(t, this.total - t);
            this.applyToDOM(),
            this.clone && this.clone.draw(e)
        },
        u.prototype.destroy = function() {
            this.$scrollHandler.off("." + this.instance.guid),
            i(n).off("." + this.instance.guid),
            i(document).off("." + this.instance.guid)
        },
        d.prototype.appear = function(e) {
            var t, i, n, o, r, s, a, l, h, c, u, d;
            if (!this.disabled) {
                var f, p, m, g, y, v, b, x = this.instance,
                _ = !1,
                w = !1,
                V = !1,
                U = !1;
                if (!x.wtTable.isRowInViewport(e[0])) _ = !0;
                if (!x.wtTable.isRowInViewport(e[2])) V = !0;
                for (v = x.wtTable.rowStrategy.countVisible(), y = 0; v > y; y++) if (b = x.wtTable.rowFilter.visibleToSource(y), b >= e[0] && b <= e[2]) {
                    f = b;
                    break
                }
                for (y = v - 1; y >= 0; y--) if (b = x.wtTable.rowFilter.visibleToSource(y), b >= e[0] && b <= e[2]) {
                    m = b;
                    break
                }
                if (_ && V) w = !0,
                U = !0;
                else {
                    if (!x.wtTable.isColumnInViewport(e[1])) w = !0;
                    if (!x.wtTable.isColumnInViewport(e[3])) U = !0;
                    for (v = x.wtTable.columnStrategy.countVisible(), y = 0; v > y; y++) if (b = x.wtTable.columnFilter.visibleToSource(y), b >= e[1] && b <= e[3]) {
                        p = b;
                        break
                    }
                    for (y = v - 1; y >= 0; y--) if (b = x.wtTable.columnFilter.visibleToSource(y), b >= e[1] && b <= e[3]) {
                        g = b;
                        break
                    }
                }
                if (void 0 !== f && void 0 !== p) {
                    t = f !== m || p !== g,
                    i = x.wtTable.getCell([f, p]),
                    n = t ? x.wtTable.getCell([m, g]) : i,
                    o = this.wtDom.offset(i),
                    r = t ? this.wtDom.offset(n) : o,
                    s = this.wtDom.offset(x.wtTable.TABLE),
                    l = o.top,
                    u = r.top + this.wtDom.outerHeight(n) - l,
                    c = o.left,
                    d = r.left + this.wtDom.outerWidth(n) - c,
                    a = l - s.top - 1,
                    h = c - s.left - 1;
                    var k = this.wtDom.getComputedStyle(i);
                    if (parseInt(k.borderTopWidth, 10) > 0) a += 1,
                    u = u > 0 ? u - 1 : 0;
                    if (parseInt(k.borderLeftWidth, 10) > 0) h += 1,
                    d = d > 0 ? d - 1 : 0
                } else return void this.disappear();
                if (_) this.topStyle.display = "none";
                else this.topStyle.top = a + "px",
                this.topStyle.left = h + "px",
                this.topStyle.width = d + "px",
                this.topStyle.display = "block";
                if (w) this.leftStyle.display = "none";
                else this.leftStyle.top = a + "px",
                this.leftStyle.left = h + "px",
                this.leftStyle.height = u + "px",
                this.leftStyle.display = "block";
                var C = Math.floor(this.settings.border.width / 2);
                if (V) this.bottomStyle.display = "none";
                else this.bottomStyle.top = a + u - C + "px",
                this.bottomStyle.left = h + "px",
                this.bottomStyle.width = d + "px",
                this.bottomStyle.display = "block";
                if (U) this.rightStyle.display = "none";
                else this.rightStyle.top = a + "px",
                this.rightStyle.left = h + d - C + "px",
                this.rightStyle.height = u + 1 + "px",
                this.rightStyle.display = "block";
                if (V || U || !this.hasSetting(this.settings.border.cornerVisible)) this.cornerStyle.display = "none";
                else this.cornerStyle.top = a + u - 4 + "px",
                this.cornerStyle.left = h + d - 4 + "px",
                this.cornerStyle.display = "block"
            }
        },
        d.prototype.disappear = function() {
            this.topStyle.display = "none",
            this.leftStyle.display = "none",
            this.bottomStyle.display = "none",
            this.rightStyle.display = "none",
            this.cornerStyle.display = "none"
        },
        d.prototype.hasSetting = function(e) {
            if ("function" == typeof e) return e();
            else return !! e
        },
        f.prototype.source = function(e) {
            return e
        },
        f.prototype.offsetted = function(e) {
            return e + this.offset
        },
        f.prototype.unOffsetted = function(e) {
            return e - this.offset
        },
        f.prototype.fixed = function(e) {
            if (e < this.fixedCount) return e - this.offset;
            else return e
        },
        f.prototype.unFixed = function(e) {
            if (e < this.fixedCount) return e + this.offset;
            else return e
        },
        f.prototype.visibleToSource = function(e) {
            return this.source(this.offsetted(this.fixed(e)))
        },
        f.prototype.sourceToVisible = function(e) {
            return this.source(this.unOffsetted(this.unFixed(e)))
        },
        p.prototype.getSize = function(e) {
            return this.cellSizes[e]
        },
        p.prototype.getContainerSize = function(e) {
            return "function" == typeof this.containerSizeFn ? this.containerSizeFn(e) : this.containerSizeFn
        },
        p.prototype.countVisible = function() {
            return this.cellCount
        },
        p.prototype.isLastIncomplete = function() {
            if (this.instance.getSetting("nativeScrollbars")) {
                var e = this.instance.cloneFrom ? this.instance.cloneFrom.wtScrollbars.vertical: this.instance.wtScrollbars.vertical;
                return this.remainingSize > e.sumCellSizes(e.offset, e.offset + e.curOuts + 1)
            } else return this.remainingSize > 0
        },
        m.prototype.add = function(e, t, i) {
            if (!this.cache[e]) this.cache[e] = [];
            if (!this.cache[e][t]) this.cache[e][t] = [];
            this.cache[e][t][i] = !0
        },
        m.prototype.test = function(e, t, i) {
            return this.cache[e] && this.cache[e][t] && this.cache[e][t][i]
        },
        g.prototype = new f, g.prototype.readSettings = function(e) {
            this.offset = e.wtSettings.settings.offsetColumn,
            this.total = e.getSetting("totalColumns"),
            this.fixedCount = e.getSetting("fixedColumnsLeft"),
            this.countTH = e.getSetting("rowHeaders").length
        },
        g.prototype.offsettedTH = function(e) {
            return e - this.countTH
        },
        g.prototype.unOffsettedTH = function(e) {
            return e + this.countTH
        },
        g.prototype.visibleRowHeadedColumnToSourceColumn = function(e) {
            return this.visibleToSource(this.offsettedTH(e))
        },
        g.prototype.sourceColumnToVisibleRowHeadedColumn = function(e) {
            return this.unOffsettedTH(this.sourceToVisible(e))
        },
        y.prototype = new p, y.prototype.getSize = function(e) {
            return this.cellSizes[e] + (this.cellStretch[e] || 0)
        },
        y.prototype.stretch = function() {
            var e = this.getContainerSize(this.cellSizesSum),
            t = 0;
            if (this.remainingSize = this.cellSizesSum - e, this.cellStretch.length = 0, "all" === this.strategy) {
                if (this.remainingSize < 0) {
                    for (var i, n = e / this.cellSizesSum; t < this.cellCount - 1;) i = Math.floor(n * this.cellSizes[t]),
                    this.remainingSize += i - this.cellSizes[t],
                    this.cellStretch[t] = i - this.cellSizes[t],
                    t++;
                    this.cellStretch[this.cellCount - 1] = -this.remainingSize,
                    this.remainingSize = 0
                }
            } else if ("last" === this.strategy) if (this.remainingSize < 0 && 1 / 0 !== e) this.cellStretch[this.cellCount - 1] = -this.remainingSize,
            this.remainingSize = 0
        },
        v.prototype.draw = function(e) {
            if (this.drawInterrupted = !1, !e && !this.wtDom.isVisible(this.wtTable.TABLE)) return void(this.drawInterrupted = !0);
            if (this.getSetting("beforeDraw", !e), e = e && this.getSetting("offsetRow") === this.lastOffsetRow && this.getSetting("offsetColumn") === this.lastOffsetColumn, this.drawn) this.scrollVertical(0),
            this.scrollHorizontal(0);
            if (this.lastOffsetRow = this.getSetting("offsetRow"), this.lastOffsetColumn = this.getSetting("offsetColumn"), this.wtTable.draw(e), !this.cloneSource) this.getSetting("onDraw", !e);
            return this
        },
        v.prototype.update = function(e, t) {
            return this.wtSettings.update(e, t)
        },
        v.prototype.scrollVertical = function(e) {
            var t = this.wtScroll.scrollVertical(e);
            return this.getSetting("onScrollVertically"),
            t
        },
        v.prototype.scrollHorizontal = function(e) {
            var t = this.wtScroll.scrollHorizontal(e);
            return this.getSetting("onScrollHorizontally"),
            t
        },
        v.prototype.scrollViewport = function(e) {
            return this.wtScroll.scrollViewport(e),
            this
        },
        v.prototype.getViewport = function() {
            return [this.wtTable.rowFilter.visibleToSource(0), this.wtTable.columnFilter.visibleToSource(0), this.wtTable.getLastVisibleRow(), this.wtTable.getLastVisibleColumn()]
        },
        v.prototype.getSetting = function(e, t, i, n) {
            return this.wtSettings.getSetting(e, t, i, n)
        },
        v.prototype.hasSetting = function(e) {
            return this.wtSettings.has(e)
        },
        v.prototype.destroy = function() {
            i(document.body).off("." + this.guid),
            this.wtScrollbars.destroy(),
            clearTimeout(this.wheelTimeout),
            this.wtEvent && this.wtEvent.destroy()
        },
        b.prototype = new u, b.prototype.resetFixedPosition = function() {
            if (this.instance.wtTable.holder.parentNode) {
                var e = this.clone.wtTable.holder.parentNode,
                t = this.instance.wtTable.holder.getBoundingClientRect();
                e.style.top = Math.ceil(t.top, 10) + "px",
                e.style.left = Math.ceil(t.left, 10) + "px"
            }
        },
        b.prototype.prepare = function() {},
        b.prototype.refresh = function(e) {
            this.clone && this.clone.draw(e)
        },
        b.prototype.getScrollPosition = function() {},
        b.prototype.getLastCell = function() {},
        b.prototype.applyToDOM = function() {},
        b.prototype.scrollTo = function() {},
        b.prototype.readWindowSize = function() {},
        b.prototype.readSettings = function() {},
        x.prototype.closest = function(e, t, i) {
            for (; null != e && e !== i;) {
                if (1 === e.nodeType && t.indexOf(e.nodeName) > -1) return e;
                e = e.parentNode
            }
            return null
        },
        x.prototype.isChildOf = function(e, t) {
            for (var i = e.parentNode; null != i;) {
                if (i == t) return ! 0;
                i = i.parentNode
            }
            return ! 1
        },
        x.prototype.index = function(e) {
            for (var t = 0; e = e.previousSibling;)++t;
            return t
        },
        document.documentElement.classList) x.prototype.hasClass = function(e, t) {
            return e.classList.contains(t)
        },
        x.prototype.addClass = function(e, t) {
            e.classList.add(t)
        },
        x.prototype.removeClass = function(e, t) {
            e.classList.remove(t)
        };
        else x.prototype.hasClass = function(e, t) {
            return e.className.match(new RegExp("(\\s|^)" + t + "(\\s|$)"))
        },
        x.prototype.addClass = function(e, t) {
            if (!this.hasClass(e, t)) e.className += " " + t
        },
        x.prototype.removeClass = function(e, t) {
            if (this.hasClass(e, t)) {
                var i = new RegExp("(\\s|^)" + t + "(\\s|$)");
                e.className = e.className.replace(i, " ").trim()
            }
        };
        if (x.prototype.removeTextNodes = function(e, t) {
            if (3 === e.nodeType) t.removeChild(e);
            else if (["TABLE", "THEAD", "TBODY", "TFOOT", "TR"].indexOf(e.nodeName) > -1) for (var i = e.childNodes,
            n = i.length - 1; n >= 0; n--) this.removeTextNodes(i[n], e)
        },
        x.prototype.empty = function(e) {
            for (var t; t = e.lastChild;) e.removeChild(t)
        },
        x.prototype.HTML_CHARACTERS = /(<(.*)>|&(.*);)/, x.prototype.fastInnerHTML = function(e, t) {
            if (this.HTML_CHARACTERS.test(t)) e.innerHTML = t;
            else this.fastInnerText(e, t)
        },
        document.createTextNode("test").textContent) x.prototype.fastInnerText = function(e, t) {
            var i = e.firstChild;
            if (i && 3 === i.nodeType && null === i.nextSibling) i.textContent = t;
            else this.empty(e),
            e.appendChild(document.createTextNode(t))
        };
        else x.prototype.fastInnerText = function(e, t) {
            var i = e.firstChild;
            if (i && 3 === i.nodeType && null === i.nextSibling) i.data = t;
            else this.empty(e),
            e.appendChild(document.createTextNode(t))
        };
        if (x.prototype.isVisible = function(e) {
            for (var t = e; t !== document.documentElement;) {
                if (null === t) return ! 1;
                else if (11 === t.nodeType) if (t.host) if (t.host.impl) return x.prototype.isVisible(t.host.impl);
                else if (t.host) return x.prototype.isVisible(t.host);
                else throw new Error("Lost in Web Components world");
                else return ! 1;
                else if ("none" === t.style.display) return ! 1;
                t = t.parentNode
            }
            return ! 0
        },
        x.prototype.offset = function(e) {
            if (this.hasCaptionProblem() && e.firstChild && "CAPTION" === e.firstChild.nodeName) {
                var t = e.getBoundingClientRect();
                return {
                    top: t.top + (n.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0),
                    left: t.left + (n.pageXOffset || document.documentElement.scrollLeft) - (document.documentElement.clientLeft || 0)
                }
            }
            for (var i = e.offsetLeft,
            o = e.offsetTop,
            r = e; (e = e.offsetParent) && e !== document.body;) i += e.offsetLeft,
            o += e.offsetTop,
            r = e;
            if (r && "fixed" === r.style.position) i += n.pageXOffset || document.documentElement.scrollLeft,
            o += n.pageYOffset || document.documentElement.scrollTop;
            return {
                left: i,
                top: o
            }
        },
        x.prototype.getComputedStyle = function(e) {
            return e.currentStyle || document.defaultView.getComputedStyle(e)
        },
        x.prototype.outerWidth = function(e) {
            return e.offsetWidth
        },
        x.prototype.outerHeight = function(e) {
            if (this.hasCaptionProblem() && e.firstChild && "CAPTION" === e.firstChild.nodeName) return e.offsetHeight + e.firstChild.offsetHeight;
            else return e.offsetHeight
        },
        function() {
            function e() {
                var e = document.createElement("TABLE");
                e.style.borderSpacing = 0,
                e.style.borderWidth = 0,
                e.style.padding = 0;
                var t = document.createElement("TBODY");
                e.appendChild(t),
                t.appendChild(document.createElement("TR")),
                t.firstChild.appendChild(document.createElement("TD")),
                t.firstChild.firstChild.innerHTML = "<tr><td>t<br>t</td></tr>";
                var n = document.createElement("CAPTION");
                n.innerHTML = "c<br>c<br>c<br>c",
                n.style.padding = 0,
                n.style.margin = 0,
                e.insertBefore(n, t),
                document.body.appendChild(e),
                i = e.offsetHeight < 2 * e.lastChild.offsetHeight,
                document.body.removeChild(e)
            }
            function t() {
                var e = document.createElement("p");
                e.style.width = "100%",
                e.style.height = "200px";
                var t = document.createElement("div");
                t.style.position = "absolute",
                t.style.top = "0px",
                t.style.left = "0px",
                t.style.visibility = "hidden",
                t.style.width = "200px",
                t.style.height = "150px",
                t.style.overflow = "hidden",
                t.appendChild(e),
                (document.body || document.documentElement).appendChild(t);
                var i = e.offsetWidth;
                t.style.overflow = "scroll";
                var n = e.offsetWidth;
                if (i == n) n = t.clientWidth;
                return (document.body || document.documentElement).removeChild(t),
                i - n
            }
            var i;
            x.prototype.hasCaptionProblem = function() {
                if (void 0 === i) e();
                return i
            },
            x.prototype.getCaretPosition = function(e) {
                if (e.selectionStart) return e.selectionStart;
                else if (document.selection) {
                    e.focus();
                    var t = document.selection.createRange();
                    if (null == t) return 0;
                    var i = e.createTextRange(),
                    n = i.duplicate();
                    return i.moveToBookmark(t.getBookmark()),
                    n.setEndPoint("EndToStart", i),
                    n.text.length
                }
                return 0
            },
            x.prototype.setCaretPosition = function(e, t, i) {
                if (void 0 === i) i = t;
                if (e.setSelectionRange) e.focus(),
                e.setSelectionRange(t, i);
                else if (e.createTextRange) {
                    var n = e.createTextRange();
                    n.collapse(!0),
                    n.moveEnd("character", i),
                    n.moveStart("character", t),
                    n.select()
                }
            };
            var n;
            x.prototype.getScrollbarWidth = function() {
                if (void 0 === n) n = t();
                return n
            }
        } (), _.prototype.parentCell = function(e) {
            var t = {},
            i = this.instance.wtTable.TABLE,
            n = this.wtDom.closest(e, ["TD", "TH"], i);
            if (n && this.wtDom.isChildOf(n, i)) t.coords = this.instance.wtTable.getCoords(n),
            t.TD = n;
            else if (this.wtDom.hasClass(e, "wtBorder") && this.wtDom.hasClass(e, "current")) t.coords = this.instance.selections.current.selected[0],
            t.TD = this.instance.wtTable.getCell(t.coords);
            return t
        },
        _.prototype.destroy = function() {
            clearTimeout(this.dblClickTimeout0),
            clearTimeout(this.dblClickTimeout1)
        },
        n.requestAnimFrame = function() {
            return n.requestAnimationFrame || n.webkitRequestAnimationFrame || n.mozRequestAnimationFrame || n.oRequestAnimationFrame || n.msRequestAnimationFrame ||
            function(e) {
                return n.setTimeout(e, 1e3 / 60)
            }
        } (), n.cancelRequestAnimFrame = function() {
            return n.cancelAnimationFrame || n.webkitCancelRequestAnimationFrame || n.mozCancelRequestAnimationFrame || n.oCancelRequestAnimationFrame || n.msCancelRequestAnimationFrame || clearTimeout
        } (), !n.getComputedStyle) !
        function() {
            var e, t = {
                getPropertyValue: function(t) {
                    if ("float" == t) t = "styleFloat";
                    return e.currentStyle[t.toUpperCase()] || null
                }
            };
            n.getComputedStyle = function(i) {
                return e = i,
                t
            }
        } ();
        if (!String.prototype.trim) {
            var J = /^\s+|\s+$/g;
            String.prototype.trim = function() {
                return this.replace(J, "")
            }
        }
        V.prototype = new f,
        V.prototype.readSettings = function(e) {
            if (e.cloneOverlay instanceof b) this.offset = 0;
            else this.offset = e.wtSettings.settings.offsetRow;
            this.total = e.getSetting("totalRows"),
            this.fixedCount = e.getSetting("fixedRowsTop")
        },
        U.prototype = new p,
        U.prototype.add = function(e, t, i) {
            if (!this.isLastIncomplete() && 0 != this.remainingSize) {
                var n = this.sizeAtIndex(e, t);
                if (void 0 === n) return ! 1;
                var o = this.getContainerSize(this.cellSizesSum + n);
                if (i) this.cellSizes.unshift(n);
                else this.cellSizes.push(n);
                if (this.cellSizesSum += n, this.cellCount++, this.remainingSize = this.cellSizesSum - o, i && this.isLastIncomplete()) return ! 1;
                else return ! 0
            }
            return ! 1
        },
        U.prototype.remove = function() {
            var e = this.cellSizes.pop();
            this.cellSizesSum -= e,
            this.cellCount--,
            this.remainingSize -= e
        },
        U.prototype.removeOutstanding = function() {
            for (; this.cellCount > 0 && this.cellSizes[this.cellCount - 1] < this.remainingSize;) this.remove()
        },
        k.prototype.scrollVertical = function(e) {
            if (!this.instance.drawn) throw new Error("scrollVertical can only be called after table was drawn to DOM");
            var t, i = this.instance,
            n = i.getSetting("offsetRow"),
            o = i.getSetting("fixedRowsTop"),
            r = i.getSetting("totalRows"),
            s = i.wtViewport.getViewportHeight();
            if (r > 0) t = this.scrollLogicVertical(e, n, r, o, s,
            function(e) {
                if (o > e - n && e - n >= 0) return i.getSetting("rowHeight", e - n);
                else return i.getSetting("rowHeight", e)
            },
            function(e) {
                i.wtTable.verticalRenderReverse = e
            });
            else t = 0;
            if (t !== n) this.instance.wtScrollbars.vertical.scrollTo(t);
            return i
        },
        k.prototype.scrollHorizontal = function(e) {
            if (!this.instance.drawn) throw new Error("scrollHorizontal can only be called after table was drawn to DOM");
            var t, i = this.instance,
            n = i.getSetting("offsetColumn"),
            o = i.getSetting("fixedColumnsLeft"),
            r = i.getSetting("totalColumns"),
            s = i.wtViewport.getViewportWidth();
            if (r > 0) t = this.scrollLogicHorizontal(e, n, r, o, s,
            function(e) {
                if (o > e - n && e - n >= 0) return i.getSetting("columnWidth", e - n);
                else return i.getSetting("columnWidth", e)
            });
            else t = 0;
            if (t !== n) this.instance.wtScrollbars.horizontal.scrollTo(t);
            return i
        },
        k.prototype.scrollLogicVertical = function(e, t, i, n, o, r, s) {
            var a = t + e;
            if (a >= i - n) a = i - n - 1,
            s(!0);
            if (0 > a) a = 0;
            return a
        },
        k.prototype.scrollLogicHorizontal = function(e, t, i, n, o, r) {
            var s, a = t + e,
            l = 0;
            if (a > n) {
                if (a >= i - n) a = i - n - 1;
                for (s = a; o > l && i > s;) l += r(s),
                s++;
                if (o > l) for (; a > 0 && (l += r(a - 1), o > l);) a--
            } else if (0 > a) a = 0;
            return a
        },
        k.prototype.scrollViewport = function(e) {
            if (this.instance.drawn) {
                var t = this.instance.getSetting("offsetRow"),
                i = (this.instance.getSetting("offsetColumn"), this.instance.wtTable.getLastVisibleRow()),
                o = this.instance.getSetting("totalRows"),
                r = this.instance.getSetting("totalColumns"),
                s = this.instance.getSetting("fixedRowsTop"),
                a = this.instance.getSetting("fixedColumnsLeft");
                if (this.instance.getSetting("nativeScrollbars")) {
                    var l = this.instance.wtTable.getCell(e);
                    if ("object" == typeof l) {
                        var h = x.prototype.offset(l),
                        c = x.prototype.outerWidth(l),
                        u = x.prototype.outerHeight(l),
                        d = this.instance.wtScrollbars.horizontal.getScrollPosition(),
                        f = this.instance.wtScrollbars.vertical.getScrollPosition(),
                        p = x.prototype.outerWidth(this.instance.wtScrollbars.horizontal.scrollHandler),
                        m = x.prototype.outerHeight(this.instance.wtScrollbars.vertical.scrollHandler);
                        if (this.instance.wtScrollbars.horizontal.scrollHandler !== n) h.left = h.left - x.prototype.offset(this.instance.wtScrollbars.horizontal.scrollHandler).left;
                        if (this.instance.wtScrollbars.vertical.scrollHandler !== n) h.top = h.top - x.prototype.offset(this.instance.wtScrollbars.vertical.scrollHandler).top;
                        if (p -= 20, m -= 20, p > c) if (h.left < d) this.instance.wtScrollbars.horizontal.setScrollPosition(h.left);
                        else if (h.left + c > d + p) this.instance.wtScrollbars.horizontal.setScrollPosition(h.left - p + c);
                        if (m > u) if (h.top < f) this.instance.wtScrollbars.vertical.setScrollPosition(h.top);
                        else if (h.top + u > f + m) this.instance.wtScrollbars.vertical.setScrollPosition(h.top - m + u);
                        return
                    }
                }
                if (e[0] < 0 || e[0] > o - 1) throw new Error("row " + e[0] + " does not exist");
                else if (e[1] < 0 || e[1] > r - 1) throw new Error("column " + e[1] + " does not exist");
                if (e[0] > i) this.scrollVertical(e[0] - s - t),
                this.instance.wtTable.verticalRenderReverse = !0;
                else if (e[0] === i && this.instance.wtTable.rowStrategy.isLastIncomplete()) this.scrollVertical(e[0] - s - t),
                this.instance.wtTable.verticalRenderReverse = !0;
                else if (e[0] - s < t) this.scrollVertical(e[0] - s - t);
                else this.scrollVertical(0);
                if (this.instance.wtTable.isColumnBeforeViewport(e[1])) this.instance.wtScrollbars.horizontal.scrollTo(e[1] - a);
                else if (this.instance.wtTable.isColumnAfterViewport(e[1]) || this.instance.wtTable.getLastVisibleColumn() === e[1] && !this.instance.wtTable.isLastColumnFullyVisible()) {
                    for (var g = 0,
                    y = 0; a > y; y++) g += this.instance.getSetting("columnWidth", y);
                    var v = e[1];
                    g += this.instance.getSetting("columnWidth", v);
                    var b = this.instance.wtViewport.getViewportWidth();
                    if (b > g) for (var _ = this.instance.getSetting("columnWidth", v - 1); b >= g + _ && v >= a;) v--,
                    g += _,
                    _ = this.instance.getSetting("columnWidth", v - 1);
                    this.instance.wtScrollbars.horizontal.scrollTo(v - a)
                }
                return this.instance
            }
        },
        C.prototype.init = function() {
            var e = this;
            this.$table = i(this.instance.wtTable.TABLE),
            this.slider = document.createElement("DIV"),
            this.sliderStyle = this.slider.style,
            this.sliderStyle.position = "absolute",
            this.sliderStyle.top = "0",
            this.sliderStyle.left = "0",
            this.sliderStyle.display = "none",
            this.slider.className = "dragdealer " + this.type,
            this.handle = document.createElement("DIV"),
            this.handleStyle = this.handle.style,
            this.handle.className = "handle",
            this.slider.appendChild(this.handle),
            this.container = this.instance.wtTable.holder,
            this.container.appendChild(this.slider);
            var t = !0;
            this.dragTimeout = null;
            var n, o = function() {
                e.onScroll(n)
            };
            this.dragdealer = new Q(this.slider, {
                vertical: "vertical" === this.type,
                horizontal: "horizontal" === this.type,
                slide: !1,
                speed: 100,
                animationCallback: function(i, r) {
                    if (t) return void(t = !1);
                    if (e.skipRefresh = !0, n = "vertical" === e.type ? r: i, null === e.dragTimeout) e.dragTimeout = setInterval(o, 100),
                    o()
                },
                callback: function(t, i) {
                    e.skipRefresh = !1,
                    clearInterval(e.dragTimeout),
                    e.dragTimeout = null,
                    n = "vertical" === e.type ? i: t,
                    e.onScroll(n)
                }
            }),
            this.skipRefresh = !1
        },
        C.prototype.onScroll = function(e) {
            if (this.instance.drawn) if (this.readSettings(), this.total > this.visibleCount) {
                var t = Math.round(this.handlePosition * this.total / this.sliderSize);
                if (1 === e) if ("vertical" === this.type) this.instance.scrollVertical(1 / 0).draw();
                else this.instance.scrollHorizontal(1 / 0).draw();
                else if (t !== this.offset) if ("vertical" === this.type) this.instance.scrollVertical(t - this.offset).draw();
                else this.instance.scrollHorizontal(t - this.offset).draw();
                else this.refresh()
            }
        },
        C.prototype.getHandleSizeRatio = function(e, t) {
            if (!t || e > t || e == t) return 1;
            else return 1 / t
        },
        C.prototype.prepare = function() {
            if (!this.skipRefresh) {
                var e = this.getHandleSizeRatio(this.visibleCount, this.total);
                if ((1 === e || isNaN(e)) && "auto" === this.scrollMode || "none" === this.scrollMode) this.visible = !1;
                else this.visible = !0
            }
        },
        C.prototype.refresh = function() {
            if (!this.skipRefresh) {
                if (!this.visible) return void(this.sliderStyle.display = "none");
                var e, t, i, n, o = this.visibleCount,
                r = this.instance.wtViewport.getWorkspaceWidth(),
                s = this.instance.wtViewport.getWorkspaceHeight();
                if (1 / 0 === r) r = this.instance.wtViewport.getWorkspaceActualWidth();
                if (1 / 0 === s) s = this.instance.wtViewport.getWorkspaceActualHeight();
                if ("vertical" === this.type) {
                    if (this.instance.wtTable.rowStrategy.isLastIncomplete()) o--;
                    t = s - 2,
                    this.sliderStyle.top = this.instance.wtDom.offset(this.$table[0]).top - this.instance.wtDom.offset(this.container).top + "px",
                    this.sliderStyle.left = r - 1 + "px",
                    this.sliderStyle.height = Math.max(t, 0) + "px"
                } else t = r - 2,
                this.sliderStyle.left = this.instance.wtDom.offset(this.$table[0]).left - this.instance.wtDom.offset(this.container).left + "px",
                this.sliderStyle.top = s - 1 + "px",
                this.sliderStyle.width = Math.max(t, 0) + "px";
                if (e = this.getHandleSizeRatio(o, this.total), i = Math.round(t * e), 10 > i) i = 15;
                if (n = Math.floor(t * (this.offset / this.total)), i + n > t) n = t - i;
                if ("vertical" === this.type) this.handleStyle.height = i + "px",
                this.handleStyle.top = n + "px";
                else this.handleStyle.width = i + "px",
                this.handleStyle.left = n + "px";
                this.sliderStyle.display = "block"
            }
        },
        C.prototype.destroy = function() {
            clearInterval(this.dragdealer.interval)
        };
        var j = function(e) {
            this.instance = e,
            this.type = "vertical",
            this.init()
        };
        j.prototype = new C,
        j.prototype.scrollTo = function(e) {
            this.instance.update("offsetRow", e)
        },
        j.prototype.readSettings = function() {
            if (this.scrollMode = this.instance.getSetting("scrollV"), this.offset = this.instance.getSetting("offsetRow"), this.total = this.instance.getSetting("totalRows"), this.visibleCount = this.instance.wtTable.rowStrategy.countVisible(), this.visibleCount > 1 && this.instance.wtTable.rowStrategy.isLastIncomplete()) this.visibleCount--;
            this.handlePosition = parseInt(this.handleStyle.top, 10),
            this.sliderSize = parseInt(this.sliderStyle.height, 10),
            this.fixedCount = this.instance.getSetting("fixedRowsTop")
        };
        var G = function(e) {
            this.instance = e,
            this.type = "horizontal",
            this.init()
        };
        G.prototype = new C,
        G.prototype.scrollTo = function(e) {
            this.instance.update("offsetColumn", e)
        },
        G.prototype.readSettings = function() {
            if (this.scrollMode = this.instance.getSetting("scrollH"), this.offset = this.instance.getSetting("offsetColumn"), this.total = this.instance.getSetting("totalColumns"), this.visibleCount = this.instance.wtTable.columnStrategy.countVisible(), this.visibleCount > 1 && this.instance.wtTable.columnStrategy.isLastIncomplete()) this.visibleCount--;
            this.handlePosition = parseInt(this.handleStyle.left, 10),
            this.sliderSize = parseInt(this.sliderStyle.width, 10),
            this.fixedCount = this.instance.getSetting("fixedColumnsLeft")
        },
        G.prototype.getHandleSizeRatio = function(e, t) {
            if (!t || e > t || e == t) return 1;
            else return e / t
        },
        S.prototype = new u,
        S.prototype.resetFixedPosition = function() {
            if (this.instance.wtTable.holder.parentNode) {
                var e, t = this.clone.wtTable.holder.parentNode;
                if (this.scrollHandler === n) {
                    e = this.instance.wtTable.hider.getBoundingClientRect();
                    var i = Math.ceil(e.top, 10),
                    o = Math.ceil(e.bottom, 10);
                    if (0 > i && o > 0) t.style.top = "0";
                    else t.style.top = i + "px";
                    var r = Math.ceil(e.left, 10),
                    s = Math.ceil(e.right, 10);
                    if (0 > r && s > 0) t.style.left = "0";
                    else t.style.left = r + "px"
                } else e = this.scrollHandler.getBoundingClientRect(),
                t.style.top = Math.ceil(e.top, 10) + "px",
                t.style.left = Math.ceil(e.left, 10) + "px";
                t.style.width = x.prototype.outerWidth(this.clone.wtTable.TABLE) + 4 + "px",
                t.style.height = x.prototype.outerHeight(this.clone.wtTable.TABLE) + 4 + "px"
            }
        },
        S.prototype.prepare = function() {},
        S.prototype.refresh = function(e) {
            this.measureBefore = 0,
            this.measureAfter = 0,
            this.clone && this.clone.draw(e)
        },
        S.prototype.getScrollPosition = function() {},
        S.prototype.getLastCell = function() {},
        S.prototype.applyToDOM = function() {},
        S.prototype.scrollTo = function() {},
        S.prototype.readWindowSize = function() {},
        S.prototype.readSettings = function() {},
        L.prototype = new u,
        L.prototype.resetFixedPosition = function() {
            if (this.instance.wtTable.holder.parentNode) {
                var e, t = this.clone.wtTable.holder.parentNode;
                if (this.scrollHandler === n) {
                    e = this.instance.wtTable.hider.getBoundingClientRect();
                    var i = Math.ceil(e.left, 10),
                    o = Math.ceil(e.right, 10);
                    if (0 > i && o > 0) t.style.left = "0";
                    else t.style.left = i + "px"
                } else e = this.scrollHandler.getBoundingClientRect(),
                t.style.top = Math.ceil(e.top, 10) + "px",
                t.style.left = Math.ceil(e.left, 10) + "px"
            }
        },
        L.prototype.react = function() {
            if (this.instance.wtTable.holder.parentNode) {
                var e = this.clone.wtTable.holder.parentNode;
                if (this.instance.wtScrollbars.vertical.scrollHandler === n) {
                    var t = this.instance.wtTable.hider.getBoundingClientRect();
                    e.style.top = Math.ceil(t.top, 10) + "px",
                    e.style.height = x.prototype.outerHeight(this.clone.wtTable.TABLE) + "px"
                } else this.clone.wtTable.holder.style.top = -(this.instance.wtScrollbars.vertical.windowScrollPosition - this.instance.wtScrollbars.vertical.measureBefore) + "px",
                e.style.height = this.instance.wtViewport.getWorkspaceHeight() + "px";
                e.style.width = x.prototype.outerWidth(this.clone.wtTable.TABLE) + 4 + "px"
            }
        },
        L.prototype.prepare = function() {},
        L.prototype.refresh = function(e) {
            this.measureBefore = 0,
            this.measureAfter = 0,
            this.clone && this.clone.draw(e)
        },
        L.prototype.getScrollPosition = function() {
            if (this.scrollHandler === n) return this.scrollHandler.scrollX;
            else return this.scrollHandler.scrollLeft
        },
        L.prototype.setScrollPosition = function(e) {
            this.scrollHandler.scrollLeft = e
        },
        L.prototype.onScroll = function() {
            u.prototype.onScroll.apply(this, arguments),
            this.instance.getSetting("onScrollHorizontally")
        },
        L.prototype.getLastCell = function() {
            return this.instance.wtTable.getLastVisibleColumn()
        },
        L.prototype.applyToDOM = function() {
            this.fixedContainer.style.paddingLeft = this.measureBefore + "px",
            this.fixedContainer.style.paddingRight = this.measureAfter + "px"
        },
        L.prototype.scrollTo = function(e) {
            this.$scrollHandler.scrollLeft(this.tableParentOffset + e * this.cellSize)
        },
        L.prototype.readWindowSize = function() {
            if (this.scrollHandler === n) this.windowSize = document.documentElement.clientWidth,
            this.tableParentOffset = this.instance.wtTable.holderOffset.left;
            else this.windowSize = x.prototype.outerWidth(this.scrollHandler),
            this.tableParentOffset = 0;
            this.windowScrollPosition = this.getScrollPosition()
        },
        L.prototype.readSettings = function() {
            this.offset = this.instance.getSetting("offsetColumn"),
            this.total = this.instance.getSetting("totalColumns")
        },
        T.prototype = new u,
        T.prototype.resetFixedPosition = function() {
            if (this.instance.wtTable.holder.parentNode) {
                var e, t = this.clone.wtTable.holder.parentNode;
                if (this.scrollHandler === n) {
                    e = this.instance.wtTable.hider.getBoundingClientRect();
                    var i = Math.ceil(e.top, 10),
                    o = Math.ceil(e.bottom, 10);
                    if (0 > i && o > 0) t.style.top = "0";
                    else t.style.top = i + "px"
                } else e = this.instance.wtScrollbars.horizontal.scrollHandler.getBoundingClientRect(),
                t.style.top = Math.ceil(e.top, 10) + "px",
                t.style.left = Math.ceil(e.left, 10) + "px";
                if (this.instance.wtScrollbars.horizontal.scrollHandler === n) t.style.width = this.instance.wtViewport.getWorkspaceActualWidth() + "px";
                else t.style.width = x.prototype.outerWidth(this.instance.wtTable.holder.parentNode) + "px";
                t.style.height = x.prototype.outerHeight(this.clone.wtTable.TABLE) + 4 + "px"
            }
        },
        T.prototype.react = function() {
            if (this.instance.wtTable.holder.parentNode) if (this.instance.wtScrollbars.horizontal.scrollHandler !== n) {
                var e = this.clone.wtTable.holder.parentNode;
                e.firstChild.style.left = -this.instance.wtScrollbars.horizontal.windowScrollPosition + "px"
            }
        },
        T.prototype.getScrollPosition = function() {
            if (this.scrollHandler === n) return this.scrollHandler.scrollY;
            else return this.scrollHandler.scrollTop
        },
        T.prototype.setScrollPosition = function(e) {
            this.scrollHandler.scrollTop = e
        },
        T.prototype.onScroll = function() {
            u.prototype.onScroll.apply(this, arguments);
            var e, t = 0;
            if (true) if (e = this.windowScrollPosition - this.tableParentOffset, q = 0, e > 0) {
                for (var i, n = 0,
                o = 0; o < this.total && (i = this.instance.getSetting("rowHeight", o), n += i, !(n > e)); o++);
                if (this.offset > 0) q = n - e;
                t = o,
                t = Math.min(t, this.total)
            }
            this.curOuts = t > this.maxOuts ? this.maxOuts: t,
            t -= this.curOuts,
            this.instance.update("offsetRow", t),
            this.readSettings(),
            this.instance.draw(),
            this.instance.getSetting("onScrollVertically")
        },
        T.prototype.getLastCell = function() {
            return this.instance.getSetting("offsetRow") + this.instance.wtTable.tbodyChildrenLength - 1
        };
        var q = 0;
        T.prototype.sumCellSizes = function(e, t) {
            for (var i = 0; t > e;) i += this.instance.getSetting("rowHeight", e),
            e++;
            return i
        },
        T.prototype.applyToDOM = function() {
            var e = this.instance.wtViewport.getColumnHeaderHeight();
            this.fixedContainer.style.height = e + this.sumCellSizes(0, this.total) + 4 + "px",
            this.fixed.style.top = this.measureBefore + "px",
            this.fixed.style.bottom = ""
        },
        T.prototype.scrollTo = function(e) {
            var t = this.tableParentOffset + e * this.cellSize;
            this.$scrollHandler.scrollTop(t),
            this.onScroll(t)
        },
        T.prototype.readWindowSize = function() {
            if (this.scrollHandler === n) this.windowSize = document.documentElement.clientHeight,
            this.tableParentOffset = this.instance.wtTable.holderOffset.top;
            else this.windowSize = this.scrollHandler.clientHeight,
            this.tableParentOffset = 0;
            this.windowScrollPosition = this.getScrollPosition()
        },
        T.prototype.readSettings = function() {
            this.offset = this.instance.getSetting("offsetRow"),
            this.total = this.instance.getSetting("totalRows")
        },
        I.prototype.registerListeners = function() {
            function e() {
                if (!h.instance.wtTable.holder.parentNode) return void h.destroy();
                if (h.vertical.windowScrollPosition = h.vertical.getScrollPosition(), h.horizontal.windowScrollPosition = h.horizontal.getScrollPosition(), h.box = h.instance.wtTable.hider.getBoundingClientRect(), (h.box.width !== a || h.box.height !== l) && h.instance.rowHeightCache) a = h.box.width,
                l = h.box.height,
                h.instance.draw();
                if (h.vertical.windowScrollPosition !== t || h.horizontal.windowScrollPosition !== o || h.box.top !== r || h.box.left !== s) h.vertical.onScroll(),
                h.horizontal.onScroll(),
                h.vertical.react(),
                h.horizontal.react(),
                t = h.vertical.windowScrollPosition,
                o = h.horizontal.windowScrollPosition,
                r = h.box.top,
                s = h.box.left
            }
            var t, o, r, s, a, l, h = this,
            c = i(n);
            if (this.vertical.$scrollHandler.on("scroll." + this.instance.guid, e), this.vertical.scrollHandler !== this.horizontal.scrollHandler) this.horizontal.$scrollHandler.on("scroll." + this.instance.guid, e);
            if (this.vertical.scrollHandler !== n && this.horizontal.scrollHandler !== n) c.on("scroll." + this.instance.guid, e);
            c.on("load." + this.instance.guid, e),
            c.on("resize." + this.instance.guid, e),
            i(document).on("ready." + this.instance.guid, e),
            setInterval(e, 100)
        },
        I.prototype.destroy = function() {
            this.vertical && this.vertical.destroy(),
            this.horizontal && this.horizontal.destroy()
        },
        I.prototype.refresh = function(e) {
            this.horizontal && this.horizontal.readSettings(),
            this.vertical && this.vertical.readSettings(),
            this.horizontal && this.horizontal.prepare(),
            this.vertical && this.vertical.prepare(),
            this.horizontal && this.horizontal.refresh(e),
            this.vertical && this.vertical.refresh(e),
            this.corner && this.corner.refresh(e),
            this.debug && this.debug.refresh(e)
        },
        E.prototype.add = function(e) {
            this.selected.push(e)
        },
        E.prototype.clear = function() {
            this.selected.length = 0
        },
        E.prototype.getCorners = function() {
            var e, t, i, n, o, r = this.selected.length;
            if (r > 0) if (e = i = this.selected[0][0], t = n = this.selected[0][1], r > 1) for (o = 1; r > o; o++) {
                if (this.selected[o][0] < e) e = this.selected[o][0];
                else if (this.selected[o][0] > i) i = this.selected[o][0];
                if (this.selected[o][1] < t) t = this.selected[o][1];
                else if (this.selected[o][1] > n) n = this.selected[o][1]
            }
            return [e, t, i, n]
        },
        E.prototype.draw = function() {
            var e, t, i, n, o, r = this.instance.wtTable.rowStrategy.countVisible(),
            s = this.instance.wtTable.columnStrategy.countVisible();
            if (this.selected.length) {
                for (e = this.getCorners(), t = 0; r > t; t++) for (i = 0; s > i; i++) if (n = this.instance.wtTable.rowFilter.visibleToSource(t), o = this.instance.wtTable.columnFilter.visibleToSource(i), n >= e[0] && n <= e[2] && o >= e[1] && o <= e[3]) this.instance.wtTable.currentCellCache.add(t, i, this.settings.className);
                else if (n >= e[0] && n <= e[2]) this.instance.wtTable.currentCellCache.add(t, i, this.settings.highlightRowClassName);
                else if (o >= e[1] && o <= e[3]) this.instance.wtTable.currentCellCache.add(t, i, this.settings.highlightColumnClassName);
                this.border && this.border.appear(e)
            } else this.border && this.border.disappear()
        },
        W.prototype.update = function(e, t) {
            if (void 0 === t) {
                for (var i in e) if (e.hasOwnProperty(i)) this.settings[i] = e[i]
            } else this.settings[e] = t;
            return this.instance
        },
        W.prototype.getSetting = function(e, t, i, n) {
            if (this[e]) return this[e](t, i, n);
            else return this._getSetting(e, t, i, n)
        },
        W.prototype._getSetting = function(e, t, i, n) {
            if ("function" == typeof this.settings[e]) return this.settings[e](t, i, n);
            else if (void 0 !== t && "[object Array]" === Object.prototype.toString.call(this.settings[e])) return this.settings[e][t];
            else return this.settings[e]
        },
        W.prototype.has = function(e) {
            return !! this.settings[e]
        },
        W.prototype.rowHeight = function(e, t) {
            if (!this.instance.rowHeightCache) this.instance.rowHeightCache = [];
            if (void 0 === this.instance.rowHeightCache[e]) {
                var i = 23;
                if (t) i = this.instance.wtDom.outerHeight(t),
                this.instance.rowHeightCache[e] = i;
                return i
            } else return this.instance.rowHeightCache[e]
        },
        A.prototype.refreshHiderDimensions = function() {
            var e = this.instance.wtViewport.getWorkspaceHeight(),
            t = this.instance.wtViewport.getWorkspaceWidth(),
            i = this.spreader.style;
            if ((1 / 0 !== e || 1 / 0 !== t) && !this.instance.getSetting("nativeScrollbars")) {
                if (1 / 0 === e) e = this.instance.wtViewport.getWorkspaceActualHeight();
                if (1 / 0 === t) t = this.instance.wtViewport.getWorkspaceActualWidth();
                if (this.hiderStyle.overflow = "hidden", i.position = "absolute", i.top = "0", i.left = "0", !this.instance.getSetting("nativeScrollbars")) i.height = "4000px",
                i.width = "4000px";
                if (0 > e) e = 0;
                this.hiderStyle.height = e + "px",
                this.hiderStyle.width = t + "px"
            } else i.position = "relative",
            i.width = "auto",
            i.height = "auto"
        },
        A.prototype.refreshStretching = function() {
            if (!this.instance.cloneSource) {
                var e = this.instance,
                t = e.getSetting("stretchH"),
                i = e.getSetting("totalRows"),
                n = e.getSetting("totalColumns"),
                o = e.getSetting("offsetColumn"),
                r = function(e) {
                    var t = s.instance.wtViewport.getViewportWidth(e);
                    if (e > t && s.instance.getSetting("nativeScrollbars")) return 1 / 0;
                    else return t
                },
                s = this,
                a = function(t) {
                    var i = s.columnFilter.visibleToSource(t);
                    if (n > i) return e.getSetting("columnWidth", i);
                    else return void 0
                };
                if ("hybrid" === t) if (o > 0) t = "last";
                else t = "none";
                var l = function(e) {
                    if (s.instance.getSetting("nativeScrollbars")) if (s.instance.cloneOverlay instanceof b) return 1 / 0;
                    else return 2 * s.instance.wtViewport.getViewportHeight(e);
                    return s.instance.wtViewport.getViewportHeight(e)
                },
                h = function(e, t) {
                    if (s.instance.getSetting("nativeScrollbars")) return 20;
                    var n = s.rowFilter.visibleToSource(e);
                    if (i > n) if (s.verticalRenderReverse && 0 === e) return s.instance.getSetting("rowHeight", n, t) - 1;
                    else return s.instance.getSetting("rowHeight", n, t)
                };
                this.columnStrategy = new y(e, r, a, t),
                this.rowStrategy = new U(e, l, h)
            }
        },
        A.prototype.adjustAvailableNodes = function() {
            for (var e, t, i, n, o = this.instance.getSetting("rowHeaders"), r = o.length, s = this.instance.getSetting("columnHeaders"); this.colgroupChildrenLength < r;) this.COLGROUP.appendChild(document.createElement("COL")),
            this.colgroupChildrenLength++;
            if (this.refreshStretching(), this.instance.cloneSource && (this.instance.cloneOverlay instanceof L || this.instance.cloneOverlay instanceof S)) e = this.instance.getSetting("fixedColumnsLeft");
            else e = this.columnStrategy.cellCount;
            for (; this.colgroupChildrenLength < e + r;) this.COLGROUP.appendChild(document.createElement("COL")),
            this.colgroupChildrenLength++;
            for (; this.colgroupChildrenLength > e + r;) this.COLGROUP.removeChild(this.COLGROUP.lastChild),
            this.colgroupChildrenLength--;
            if (t = this.THEAD.firstChild, s.length) {
                if (!t) t = document.createElement("TR"),
                this.THEAD.appendChild(t);
                for (this.theadChildrenLength = t.childNodes.length; this.theadChildrenLength < e + r;) t.appendChild(document.createElement("TH")),
                this.theadChildrenLength++;
                for (; this.theadChildrenLength > e + r;) t.removeChild(t.lastChild),
                this.theadChildrenLength--
            } else if (t) this.wtDom.empty(t);
            for (n = 0; n < this.colgroupChildrenLength; n++) if (r > n) this.wtDom.addClass(this.COLGROUP.childNodes[n], "rowHeader");
            else this.wtDom.removeClass(this.COLGROUP.childNodes[n], "rowHeader");
            if (s.length) if (t = this.THEAD.firstChild, r) for (i = t.firstChild, n = 0; r > n; n++) o[n]( - r + n, i),
            i = i.nextSibling;
            for (n = 0; e > n; n++) if (s.length) s[0](this.columnFilter.visibleToSource(n), t.childNodes[r + n])
        },
        A.prototype.adjustColumns = function(e, t) {
            for (var i = e.childNodes.length; t > i;) {
                var n = document.createElement("TD");
                e.appendChild(n),
                i++
            }
            for (; i > t;) e.removeChild(e.lastChild),
            i--
        },
        A.prototype.draw = function(e) {
            if (this.instance.getSetting("nativeScrollbars")) this.verticalRenderReverse = !1;
            if (this.rowFilter.readSettings(this.instance), this.columnFilter.readSettings(this.instance), !e) {
                if (this.instance.getSetting("nativeScrollbars")) if (this.instance.cloneSource) this.tableOffset = this.instance.cloneSource.wtTable.tableOffset;
                else this.holderOffset = this.wtDom.offset(this.holder),
                this.tableOffset = this.wtDom.offset(this.TABLE),
                this.instance.wtScrollbars.vertical.readWindowSize(),
                this.instance.wtScrollbars.horizontal.readWindowSize(),
                this.instance.wtViewport.resetSettings();
                else this.tableOffset = this.wtDom.offset(this.TABLE),
                this.instance.wtViewport.resetSettings();
                this._doDraw()
            } else this.instance.wtScrollbars && this.instance.wtScrollbars.refresh(!0);
            if (this.refreshPositions(e), !e) if (this.instance.getSetting("nativeScrollbars")) if (!this.instance.cloneSource) this.instance.wtScrollbars.vertical.resetFixedPosition(),
            this.instance.wtScrollbars.horizontal.resetFixedPosition(),
            this.instance.wtScrollbars.corner.resetFixedPosition(),
            this.instance.wtScrollbars.debug && this.instance.wtScrollbars.debug.resetFixedPosition();
            return this.instance.drawn = !0,
            this
        },
        A.prototype._doDraw = function() {
            var e, t, i, n, o, r, s, a, l, h, c = 0,
            u = this.instance.getSetting("offsetRow"),
            d = this.instance.getSetting("totalRows"),
            f = this.instance.getSetting("totalColumns"),
            p = this.instance.getSetting("rowHeaders"),
            m = p.length,
            g = !1;
            if (this.verticalRenderReverse) l = u;
            var y = !1;
            if (this.verticalRenderReverse) if (u === d - this.rowFilter.fixedCount - 1) y = !0;
            else this.instance.update("offsetRow", u + 1),
            this.rowFilter.readSettings(this.instance);
            if (this.instance.cloneSource) this.columnStrategy = this.instance.cloneSource.wtTable.columnStrategy,
            this.rowStrategy = this.instance.cloneSource.wtTable.rowStrategy;
            if (f > 0) {
                e = this.rowFilter.visibleToSource(c);
                var v, x = this.instance.getSetting("fixedRowsTop");
                if (this.instance.cloneSource) if (this.instance.cloneOverlay instanceof T || this.instance.cloneOverlay instanceof S) v = x;
                else if (this.instance.cloneOverlay instanceof L) v = this.rowStrategy.countVisible();
                if (this.adjustAvailableNodes(), g = !0, this.instance.cloneSource && (this.instance.cloneOverlay instanceof L || this.instance.cloneOverlay instanceof S)) n = this.instance.getSetting("fixedColumnsLeft");
                else n = this.columnStrategy.cellCount;
                if (!this.instance.cloneSource) a = this.instance.wtViewport.getWorkspaceWidth(),
                this.columnStrategy.stretch();
                for (t = 0; n > t; t++) this.COLGROUP.childNodes[t + m].style.width = this.columnStrategy.getSize(t) + "px";
                for (; d > e && e >= 0;) {
                    if (c > 1e3) throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");
                    if (void 0 !== v && c === v) break;
                    if (c >= this.tbodyChildrenLength || this.verticalRenderReverse && c >= this.rowFilter.fixedCount) {
                        for (o = document.createElement("TR"), t = 0; m > t; t++) o.appendChild(document.createElement("TH"));
                        if (this.verticalRenderReverse && c >= this.rowFilter.fixedCount) this.TBODY.insertBefore(o, this.TBODY.childNodes[this.rowFilter.fixedCount] || this.TBODY.firstChild);
                        else this.TBODY.appendChild(o);
                        this.tbodyChildrenLength++
                    } else if (0 === c) o = this.TBODY.firstChild;
                    else o = o.nextSibling;
                    for (s = o.firstChild, t = 0; m > t; t++) {
                        if ("TD" == s.nodeName) r = s,
                        s = document.createElement("TH"),
                        o.insertBefore(s, r),
                        o.removeChild(r);
                        p[t](e, s),
                        s = s.nextSibling
                    }
                    for (this.adjustColumns(o, n + m), t = 0; n > t; t++) {
                        if (i = this.columnFilter.visibleToSource(t), 0 === t) r = o.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];
                        else r = r.nextSibling;
                        if ("TH" == r.nodeName) s = r,
                        r = document.createElement("TD"),
                        o.insertBefore(r, s),
                        o.removeChild(s);
                        r.className = "",
                        r.removeAttribute("style"),
                        this.instance.getSetting("cellRenderer", e, i, r)
                    }
                    if (u = this.instance.getSetting("offsetRow"), this.verticalRenderReverse && y) {
                        if ( - this.wtDom.outerHeight(o.firstChild) < this.rowStrategy.remainingSize) {
                            this.TBODY.removeChild(o),
                            this.instance.update("offsetRow", u + 1),
                            this.tbodyChildrenLength--,
                            this.rowFilter.readSettings(this.instance);
                            break
                        } else if (!this.instance.cloneSource) if (h = this.rowStrategy.add(c, r, this.verticalRenderReverse), h === !1) this.rowStrategy.removeOutstanding()
                    } else if (!this.instance.cloneSource) {
                        if (h = this.rowStrategy.add(c, r, this.verticalRenderReverse), h === !1) if (!this.instance.getSetting("nativeScrollbars")) this.rowStrategy.removeOutstanding();
                        if (this.rowStrategy.isLastIncomplete()) {
                            if (this.verticalRenderReverse && !this.isRowInViewport(l)) return this.verticalRenderReverse = !1,
                            this.instance.update("offsetRow", l),
                            void this.draw();
                            break
                        }
                    }
                    if (this.instance.getSetting("nativeScrollbars")) if (this.instance.cloneSource) o.style.height = this.instance.getSetting("rowHeight", e) + "px";
                    else this.instance.getSetting("rowHeight", e, r);
                    if (this.verticalRenderReverse && c >= this.rowFilter.fixedCount) {
                        if (0 === u) break;
                        this.instance.update("offsetRow", u - 1),
                        this.rowFilter.readSettings(this.instance)
                    } else c++;
                    e = this.rowFilter.visibleToSource(c)
                }
            }
            if (!g) this.adjustAvailableNodes();
            if (! (this.instance.cloneOverlay instanceof b)) for (c = this.rowStrategy.countVisible(); this.tbodyChildrenLength > c;) this.TBODY.removeChild(this.TBODY.lastChild),
            this.tbodyChildrenLength--;
            if (this.instance.wtScrollbars && this.instance.wtScrollbars.refresh(!1), !this.instance.cloneSource) if (a !== this.instance.wtViewport.getWorkspaceWidth()) for (this.columnStrategy.stretch(), t = 0; t < this.columnStrategy.cellCount; t++) this.COLGROUP.childNodes[t + m].style.width = this.columnStrategy.getSize(t) + "px";
            this.verticalRenderReverse = !1
        },
        A.prototype.refreshPositions = function(e) {
            this.refreshHiderDimensions(),
            this.refreshSelections(e)
        },
        A.prototype.refreshSelections = function(e) {
            var t, i, n, o, r, s, a = [],
            l = this.rowStrategy.countVisible(),
            h = this.columnStrategy.countVisible();
            if (this.oldCellCache = this.currentCellCache, this.currentCellCache = new m, this.instance.selections) for (i in this.instance.selections) if (this.instance.selections.hasOwnProperty(i)) {
                if (this.instance.selections[i].draw(), this.instance.selections[i].settings.className) a.push(this.instance.selections[i].settings.className);
                if (this.instance.selections[i].settings.highlightRowClassName) a.push(this.instance.selections[i].settings.highlightRowClassName);
                if (this.instance.selections[i].settings.highlightColumnClassName) a.push(this.instance.selections[i].settings.highlightColumnClassName)
            }
            for (s = a.length, t = 0; l > t; t++) for (n = 0; h > n; n++) for (i = this.rowFilter.visibleToSource(t), o = this.columnFilter.visibleToSource(n), r = 0; s > r; r++) if (this.currentCellCache.test(t, n, a[r])) this.wtDom.addClass(this.getCell([i, o]), a[r]);
            else if (e && this.oldCellCache.test(t, n, a[r])) this.wtDom.removeClass(this.getCell([i, o]), a[r])
        },
        A.prototype.getCell = function(e) {
            if (this.isRowBeforeViewport(e[0])) return - 1;
            else if (this.isRowAfterViewport(e[0])) return - 2;
            else if (this.isColumnBeforeViewport(e[1])) return - 3;
            else if (this.isColumnAfterViewport(e[1])) return - 4;
            else return this.TBODY.childNodes[this.rowFilter.sourceToVisible(e[0])].childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e[1])]
        },
        A.prototype.getCoords = function(e) {
            return [this.rowFilter.visibleToSource(this.wtDom.index(e.parentNode)), this.columnFilter.visibleRowHeadedColumnToSourceColumn(e.cellIndex)]
        },
        A.prototype.getLastVisibleRow = function() {
            return this.rowFilter.visibleToSource(this.rowStrategy.cellCount - 1)
        },
        A.prototype.getLastVisibleColumn = function() {
            return this.columnFilter.visibleToSource(this.columnStrategy.cellCount - 1)
        },
        A.prototype.isRowBeforeViewport = function(e) {
            return this.rowFilter.sourceToVisible(e) < this.rowFilter.fixedCount && e >= this.rowFilter.fixedCount
        },
        A.prototype.isRowAfterViewport = function(e) {
            return e > this.getLastVisibleRow()
        },
        A.prototype.isColumnBeforeViewport = function(e) {
            return this.columnFilter.sourceToVisible(e) < this.columnFilter.fixedCount && e >= this.columnFilter.fixedCount
        },
        A.prototype.isColumnAfterViewport = function(e) {
            return e > this.getLastVisibleColumn()
        },
        A.prototype.isRowInViewport = function(e) {
            return ! this.isRowBeforeViewport(e) && !this.isRowAfterViewport(e)
        },
        A.prototype.isColumnInViewport = function(e) {
            return ! this.isColumnBeforeViewport(e) && !this.isColumnAfterViewport(e)
        },
        A.prototype.isLastRowFullyVisible = function() {
            return this.getLastVisibleRow() === this.instance.getSetting("totalRows") - 1 && !this.rowStrategy.isLastIncomplete()
        },
        A.prototype.isLastColumnFullyVisible = function() {
            return this.getLastVisibleColumn() === this.instance.getSetting("totalColumns") - 1 && !this.columnStrategy.isLastIncomplete()
        },
        M.prototype.getWorkspaceHeight = function(e) {
            if (this.instance.getSetting("nativeScrollbars")) return this.instance.wtScrollbars.vertical.windowSize;
            var t = this.instance.getSetting("height");
            if (1 / 0 === t || void 0 === t || null === t || 1 > t) if (this.instance.wtScrollbars.vertical instanceof u) t = this.instance.wtScrollbars.vertical.availableSize();
            else t = 1 / 0;
            if (1 / 0 !== t) if (e >= t) t -= this.instance.getSetting("scrollbarHeight");
            else if (this.instance.wtScrollbars.horizontal.visible) t -= this.instance.getSetting("scrollbarHeight");
            return t
        },
        M.prototype.getWorkspaceWidth = function(e) {
            var t = this.instance.getSetting("width");
            if (1 / 0 === t || void 0 === t || null === t || 1 > t) if (this.instance.wtScrollbars.horizontal instanceof u) t = this.instance.wtScrollbars.horizontal.availableSize();
            else t = 1 / 0;
            if (1 / 0 !== t) if (e >= t) t -= this.instance.getSetting("scrollbarWidth");
            else if (this.instance.wtScrollbars.vertical.visible) t -= this.instance.getSetting("scrollbarWidth");
            return t
        },
        M.prototype.getWorkspaceActualHeight = function() {
            return this.instance.wtDom.outerHeight(this.instance.wtTable.TABLE)
        },
        M.prototype.getWorkspaceActualWidth = function() {
            return this.instance.wtDom.outerWidth(this.instance.wtTable.TABLE) || this.instance.wtDom.outerWidth(this.instance.wtTable.TBODY) || this.instance.wtDom.outerWidth(this.instance.wtTable.THEAD)
        },
        M.prototype.getColumnHeaderHeight = function() {
            if (isNaN(this.columnHeaderHeight)) {
                var e = this.instance.wtDom.offset(this.instance.wtTable.TBODY),
                t = this.instance.wtTable.tableOffset;
                this.columnHeaderHeight = e.top - t.top
            }
            return this.columnHeaderHeight
        },
        M.prototype.getViewportHeight = function(e) {
            var t = this.getWorkspaceHeight(e);
            if (1 / 0 === t) return t;
            var i = this.getColumnHeaderHeight();
            if (i > 0) return t - i;
            else return t
        },
        M.prototype.getRowHeaderWidth = function() {
            if (this.instance.cloneSource) return this.instance.cloneSource.wtViewport.getRowHeaderWidth();
            if (isNaN(this.rowHeaderWidth)) {
                var e = this.instance.getSetting("rowHeaders");
                if (e.length) {
                    var t = this.instance.wtTable.TABLE.querySelector("TH");
                    this.rowHeaderWidth = 0;
                    for (var i = 0,
                    n = e.length; n > i; i++) if (t) this.rowHeaderWidth += this.instance.wtDom.outerWidth(t),
                    t = t.nextSibling;
                    else this.rowHeaderWidth += 50
                } else this.rowHeaderWidth = 0
            }
            return this.rowHeaderWidth
        },
        M.prototype.getViewportWidth = function(e) {
            var t = this.getWorkspaceWidth(e);
            if (1 / 0 === t) return t;
            var i = this.getRowHeaderWidth();
            if (i > 0) return t - i;
            else return t
        },
        M.prototype.resetSettings = function() {
            this.rowHeaderWidth = 0 / 0,
            this.columnHeaderHeight = 0 / 0
        };
        var Y = {
            x: 0,
            y: 0,
            init: function() {
                this.setEvent("mouse"),
                this.setEvent("touch")
            },
            setEvent: function(e) {
                var t = document["on" + e + "move"] ||
                function() {};
                document["on" + e + "move"] = function(e) {
                    t(e),
                    Y.refresh(e)
                }
            },
            refresh: function(e) {
                if (!e) e = n.event;
                if ("mousemove" == e.type) this.set(e);
                else if (e.touches) this.set(e.touches[0])
            },
            set: function(e) {
                if (e.pageX || e.pageY) this.x = e.pageX,
                this.y = e.pageY;
                else if (document.body && (e.clientX || e.clientY)) this.x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                this.y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop
            }
        };
        Y.init();
        var $ = {
            get: function(e) {
                var t = 0,
                i = 0;
                if (e.offsetParent) do i += e.offsetLeft,
                t += e.offsetTop;
                while (e = e.offsetParent);
                return [i, t]
            }
        },
        Q = function(e, t) {
            if ("string" == typeof e) e = document.getElementById(e);
            if (e) {
                var i = e.getElementsByTagName("div")[0];
                if (i && -1 != i.className.search(/(^|\s)handle(\s|$)/)) this.init(e, i, t || {}),
                this.setup()
            }
        };
        Q.prototype = {
            init: function(e, t, i) {
                this.wrapper = e,
                this.handle = t,
                this.options = i,
                this.disabled = this.getOption("disabled", !1),
                this.horizontal = this.getOption("horizontal", !0),
                this.vertical = this.getOption("vertical", !1),
                this.slide = this.getOption("slide", !0),
                this.steps = this.getOption("steps", 0),
                this.snap = this.getOption("snap", !1),
                this.loose = this.getOption("loose", !1),
                this.speed = this.getOption("speed", 10) / 100,
                this.xPrecision = this.getOption("xPrecision", 0),
                this.yPrecision = this.getOption("yPrecision", 0),
                this.callback = i.callback || null,
                this.animationCallback = i.animationCallback || null,
                this.bounds = {
                    left: i.left || 0,
                    right: -(i.right || 0),
                    top: i.top || 0,
                    bottom: -(i.bottom || 0),
                    x0: 0,
                    x1: 0,
                    xRange: 0,
                    y0: 0,
                    y1: 0,
                    yRange: 0
                },
                this.value = {
                    prev: [ - 1, -1],
                    current: [i.x || 0, i.y || 0],
                    target: [i.x || 0, i.y || 0]
                },
                this.offset = {
                    wrapper: [0, 0],
                    mouse: [0, 0],
                    prev: [ - 999999, -999999],
                    current: [0, 0],
                    target: [0, 0]
                },
                this.change = [0, 0],
                this.activity = !1,
                this.dragging = !1,
                this.tapping = !1
            },
            getOption: function(e, t) {
                return void 0 !== this.options[e] ? this.options[e] : t
            },
            setup: function() {
                this.setWrapperOffset(),
                this.setBoundsPadding(),
                this.setBounds(),
                this.setSteps(),
                this.addListeners()
            },
            setWrapperOffset: function() {
                this.offset.wrapper = $.get(this.wrapper)
            },
            setBoundsPadding: function() {
                if (!this.bounds.left && !this.bounds.right) this.bounds.left = $.get(this.handle)[0] - this.offset.wrapper[0],
                this.bounds.right = -this.bounds.left;
                if (!this.bounds.top && !this.bounds.bottom) this.bounds.top = $.get(this.handle)[1] - this.offset.wrapper[1],
                this.bounds.bottom = -this.bounds.top
            },
            setBounds: function() {
                this.bounds.x0 = this.bounds.left,
                this.bounds.x1 = this.wrapper.offsetWidth + this.bounds.right,
                this.bounds.xRange = this.bounds.x1 - this.bounds.x0 - this.handle.offsetWidth,
                this.bounds.y0 = this.bounds.top,
                this.bounds.y1 = this.wrapper.offsetHeight + this.bounds.bottom,
                this.bounds.yRange = this.bounds.y1 - this.bounds.y0 - this.handle.offsetHeight,
                this.bounds.xStep = 1 / (this.xPrecision || Math.max(this.wrapper.offsetWidth, this.handle.offsetWidth)),
                this.bounds.yStep = 1 / (this.yPrecision || Math.max(this.wrapper.offsetHeight, this.handle.offsetHeight))
            },
            setSteps: function() {
                if (this.steps > 1) {
                    this.stepRatios = [];
                    for (var e = 0; e <= this.steps - 1; e++) this.stepRatios[e] = e / (this.steps - 1)
                }
            },
            addListeners: function() {
                var e = this;
                this.wrapper.onselectstart = function() {
                    return ! 1
                },
                this.handle.onmousedown = this.handle.ontouchstart = function(t) {
                    e.handleDownHandler(t)
                },
                this.wrapper.onmousedown = this.wrapper.ontouchstart = function(t) {
                    e.wrapperDownHandler(t)
                };
                var t = document.onmouseup ||
                function() {};
                document.onmouseup = function(i) {
                    t(i),
                    e.documentUpHandler(i)
                };
                var i = document.ontouchend ||
                function() {};
                document.ontouchend = function(t) {
                    i(t),
                    e.documentUpHandler(t)
                };
                var o = n.onresize ||
                function() {};
                n.onresize = function(t) {
                    o(t),
                    e.documentResizeHandler(t)
                },
                this.wrapper.onmousemove = function() {
                    e.activity = !0
                },
                this.wrapper.onclick = function() {
                    return ! e.activity
                },
                this.interval = setInterval(function() {
                    e.animate()
                },
                25),
                e.animate(!1, !0)
            },
            handleDownHandler: function(e) {
                this.activity = !1,
                Y.refresh(e),
                this.preventDefaults(e, !0),
                this.startDrag()
            },
            wrapperDownHandler: function(e) {
                Y.refresh(e),
                this.preventDefaults(e, !0),
                this.startTap()
            },
            documentUpHandler: function() {
                this.stopDrag(),
                this.stopTap()
            },
            documentResizeHandler: function() {
                this.setWrapperOffset(),
                this.setBounds(),
                this.update()
            },
            enable: function() {
                this.disabled = !1,
                this.handle.className = this.handle.className.replace(/\s?disabled/g, "")
            },
            disable: function() {
                this.disabled = !0,
                this.handle.className += " disabled"
            },
            setStep: function(e, t, i) {
                this.setValue(this.steps && e > 1 ? (e - 1) / (this.steps - 1) : 0, this.steps && t > 1 ? (t - 1) / (this.steps - 1) : 0, i)
            },
            setValue: function(e, t, i) {
                if (this.setTargetValue([e, t || 0]), i) this.groupCopy(this.value.current, this.value.target)
            },
            startTap: function(e) {
                if (!this.disabled) {
                    if (this.tapping = !0, this.setWrapperOffset(), this.setBounds(), void 0 === e) e = [Y.x - this.offset.wrapper[0] - this.handle.offsetWidth / 2, Y.y - this.offset.wrapper[1] - this.handle.offsetHeight / 2];
                    this.setTargetOffset(e)
                }
            },
            stopTap: function() {
                if (!this.disabled && this.tapping) this.tapping = !1,
                this.setTargetValue(this.value.current),
                this.result()
            },
            startDrag: function() {
                if (!this.disabled) this.setWrapperOffset(),
                this.setBounds(),
                this.offset.mouse = [Y.x - $.get(this.handle)[0], Y.y - $.get(this.handle)[1]],
                this.dragging = !0
            },
            stopDrag: function() {
                if (!this.disabled && this.dragging) {
                    this.dragging = !1;
                    var e = this.groupClone(this.value.current);
                    if (this.slide) {
                        var t = this.change;
                        e[0] += 4 * t[0],
                        e[1] += 4 * t[1]
                    }
                    this.setTargetValue(e),
                    this.result()
                }
            },
            feedback: function() {
                var e = this.value.current;
                if (this.snap && this.steps > 1) e = this.getClosestSteps(e);
                if (!this.groupCompare(e, this.value.prev)) {
                    if ("function" == typeof this.animationCallback) this.animationCallback(e[0], e[1]);
                    this.groupCopy(this.value.prev, e)
                }
            },
            result: function() {
                if ("function" == typeof this.callback) this.callback(this.value.target[0], this.value.target[1])
            },
            animate: function(e, t) {
                if (!e || this.dragging) {
                    if (this.dragging) {
                        var i = this.groupClone(this.value.target),
                        n = [Y.x - this.offset.wrapper[0] - this.offset.mouse[0], Y.y - this.offset.wrapper[1] - this.offset.mouse[1]];
                        this.setTargetOffset(n, this.loose),
                        this.change = [this.value.target[0] - i[0], this.value.target[1] - i[1]]
                    }
                    if (this.dragging || t) this.groupCopy(this.value.current, this.value.target);
                    if (this.dragging || this.glide() || t) this.update(),
                    this.feedback()
                }
            },
            glide: function() {
                var e = [this.value.target[0] - this.value.current[0], this.value.target[1] - this.value.current[1]];
                if (!e[0] && !e[1]) return ! 1;
                if (Math.abs(e[0]) > this.bounds.xStep || Math.abs(e[1]) > this.bounds.yStep) this.value.current[0] += e[0] * this.speed,
                this.value.current[1] += e[1] * this.speed;
                else this.groupCopy(this.value.current, this.value.target);
                return ! 0
            },
            update: function() {
                if (!this.snap) this.offset.current = this.getOffsetsByRatios(this.value.current);
                else this.offset.current = this.getOffsetsByRatios(this.getClosestSteps(this.value.current));
                this.show()
            },
            show: function() {
                if (!this.groupCompare(this.offset.current, this.offset.prev)) {
                    if (this.horizontal) this.handle.style.left = String(this.offset.current[0]) + "px";
                    if (this.vertical) this.handle.style.top = String(this.offset.current[1]) + "px";
                    this.groupCopy(this.offset.prev, this.offset.current)
                }
            },
            setTargetValue: function(e, t) {
                var i = t ? this.getLooseValue(e) : this.getProperValue(e);
                this.groupCopy(this.value.target, i),
                this.offset.target = this.getOffsetsByRatios(i)
            },
            setTargetOffset: function(e, t) {
                var i = this.getRatiosByOffsets(e),
                n = t ? this.getLooseValue(i) : this.getProperValue(i);
                this.groupCopy(this.value.target, n),
                this.offset.target = this.getOffsetsByRatios(n)
            },
            getLooseValue: function(e) {
                var t = this.getProperValue(e);
                return [t[0] + (e[0] - t[0]) / 4, t[1] + (e[1] - t[1]) / 4]
            },
            getProperValue: function(e) {
                var t = this.groupClone(e);
                if (t[0] = Math.max(t[0], 0), t[1] = Math.max(t[1], 0), t[0] = Math.min(t[0], 1), t[1] = Math.min(t[1], 1), !this.dragging && !this.tapping || this.snap) if (this.steps > 1) t = this.getClosestSteps(t);
                return t
            },
            getRatiosByOffsets: function(e) {
                return [this.getRatioByOffset(e[0], this.bounds.xRange, this.bounds.x0), this.getRatioByOffset(e[1], this.bounds.yRange, this.bounds.y0)]
            },
            getRatioByOffset: function(e, t, i) {
                return t ? (e - i) / t: 0
            },
            getOffsetsByRatios: function(e) {
                return [this.getOffsetByRatio(e[0], this.bounds.xRange, this.bounds.x0), this.getOffsetByRatio(e[1], this.bounds.yRange, this.bounds.y0)]
            },
            getOffsetByRatio: function(e, t, i) {
                return Math.round(e * t) + i
            },
            getClosestSteps: function(e) {
                return [this.getClosestStep(e[0]), this.getClosestStep(e[1])]
            },
            getClosestStep: function(e) {
                for (var t = 0,
                i = 1,
                n = 0; n <= this.steps - 1; n++) if (Math.abs(this.stepRatios[n] - e) < i) i = Math.abs(this.stepRatios[n] - e),
                t = n;
                return this.stepRatios[t]
            },
            groupCompare: function(e, t) {
                return e[0] == t[0] && e[1] == t[1]
            },
            groupCopy: function(e, t) {
                e[0] = t[0],
                e[1] = t[1]
            },
            groupClone: function(e) {
                return [e[0], e[1]]
            },
            preventDefaults: function(e, t) {
                if (!e) e = n.event;
                if (e.preventDefault) e.preventDefault();
                if (e.returnValue = !1, t && document.selection) document.selection.empty()
            },
            cancelEvent: function(e) {
                if (!e) e = n.event;
                if (e.stopPropagation) e.stopPropagation();
                e.cancelBubble = !0
            }
        }
    } (e, window, i),
    i
}),
define("wave/dataEditor/BaseDataProcessor", ["require", "jquery", "common/core/lib", "jqueryhandsontable"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("jqueryhandsontable"),
    n = i.renderers.TextRenderer,
    o = "#EFEFEF",
    r = "#EFEFEF",
    s = "#FFF",
    a = "#EFEFEF",
    l = "#E0E0E0",
    h = t.newClass({
        fillEditorDataFromCfg: null,
        cells: e.noop,
        afterChange: null,
        afterCreateRow: null,
        afterCreateCol: null,
        afterRemoveRow: null,
        afterRemoveCol: null,
        getConfigurer: e.noop
    }),
    c = h.helper = {};
    c.duplicateSeriesItemData = function(e) {
        for (var t = e.data || [], i = [], n = 0, o = t.length; o > n; n++) {
            var r = t[n];
            i.push(Object(r) === r ? r.value: r)
        }
        return i
    },
    c.createHandsontable = function(e, t) {
        if (!t.data) t.data = [[]];
        e.handsontable(t);
        var i = e.handsontable("getInstance");
        return i.dtEditorData = new u(i),
        i
    };
    var u = function(e) {
        this._data = e.getData(),
        this._htIns = e
    },
    d = u.prototype;
    return d.clear = function() {
        for (var e = 0,
        t = this._data,
        i = t.length; i > e; e++) for (var n = 0,
        o = t[e].length; o > n; n++) t[e][n] = null
    },
    d.enlarge = function(e, t) {
        var i = this._data,
        n = this._htIns.countCols();
        if (t = Math.max(t, n), t > n) for (var o = 0,
        r = i.length; r > o; o++) i.length = t;
        if (e > i.length) for (var o = i.length; e > o; o++) i.push(new Array(t))
    },
    d.uncheckSet = function(e, t, i) {
        this._data[e][t] = i
    },
    d.writeArray = function(t) {
        var t = t || [[]],
        i = t.length,
        n = 0;
        e.each(t,
        function(e, t) {
            var t = t || [];
            n = Math.max(t.length, n)
        }),
        this.clear(),
        this.enlarge(i, n);
        var o = this;
        e.each(t,
        function(t, i) {
            e.each(i || [],
            function(e, i) {
                o.uncheckSet(t, e, i)
            })
        })
    },
    d.get = function(e, i, n) {
        var o = this._data[e],
        r = o ? o[i] : null;
        if ("string" === n) r = null == r ? "": String(r);
        else if ("number" === n) r = t.getNumber(r);
        return r
    },
    d.isBlank = function(e, i) {
        return t.isBlank(this.get(e, i))
    },
    c.renderers = {
        category: function(t, i) {
            n.apply(this, arguments),
            e(i).css("background", o)
        },
        seriesName: function(t, i) {
            n.apply(this, arguments),
            e(i).css("background", r)
        },
        xOfXYZ: function(t, i) {
            n.apply(this, arguments),
            e(i).css("background", s)
        },
        yOfXYZ: function(t, i) {
            n.apply(this, arguments),
            e(i).css("background", a)
        },
        zOfXYZ: function(t, i) {
            n.apply(this, arguments),
            e(i).css("background", l)
        }
    },
    h
}),
define("wave/dataEditor/DataProcessorCatvalBase", ["require", "common/core/lib", "wave/dataEditor/BaseDataProcessor", "wave/app/waveProdMgr"],
function(require) {
    var e, t = require("common/core/lib"),
    i = require("wave/dataEditor/BaseDataProcessor"),
    n = require("wave/app/waveProdMgr"),
    o = i.helper,
    r = o.renderers,
    s = i.extend({
        CATEGORY_START_ROW_INDEX: 1,
        CATEGORY_COL_INDEX: 0,
        SERIES_NAME_ROW_INDEX: 0,
        SERIES_VALUE_START_ROW_INDEX: 1,
        SERIES_NAME_START_COL_INDEX: 1,
        fillEditorDataFromCfg: function(e, t) {
            this._paintCagetoryDataVertically(e, t),
            this._paintCatvalSeriesVertically(e, t)
        },
        cells: function(e, t, i) {
            if (i === this.CATEGORY_COL_INDEX && t >= this.CATEGORY_START_ROW_INDEX) e.renderer = r.category;
            else if (t === this.SERIES_NAME_ROW_INDEX && i >= this.SERIES_NAME_START_COL_INDEX) e.renderer = r.seriesName;
            else e.renderer = null
        },
        afterChange: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterCreateRow: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterCreateCol: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterRemoveRow: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterRemoveCol: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        getConfigurer: function() {
            return e
        },
        _refreshAllCfg: function(t, i) {
            var o = t.dtEditorData,
            r = t.countCols(),
            s = t.countRows(),
            a = this._findNewCategoryLength(o, s),
            l = this._constructSeries(o, r, a),
            h = this._constructLegendData(l.series),
            c = this._constructCategoryData(o, a, l);
            n.updateCfg({
                method: "refreshSeriesAndCategory",
                wgtId: i,
                seriesToSetCfg: l.series,
                categoryDataToSetCfg: "category" === c.type ? c.data: e,
                polarDataToSetCfg: "polar" === c.type ? c.data: e,
                legendDataToSetCfg: h,
                defaultEcChartType: this._getDefaultEcChartType()
            })
        },
        _getDefaultEcChartType: function() {
            throw new Error("Must be implemented by Sub-class")
        },
        _constructSeries: function(e, i, n) {
            for (var o = [], r = Number.MAX_VALUE, s = Number.MIN_VALUE, a = [], l = [], h = [], c = [], u = 0; n > u; u++) h[u] = Number.MAX_VALUE,
            c[u] = Number.MIN_VALUE;
            for (var d = 0; i > d; d++) {
                for (var f = d + this.SERIES_NAME_START_COL_INDEX,
                p = e.get(this.SERIES_NAME_ROW_INDEX, f, "string"), m = [], g = t.isBlank(p), y = Number.MAX_VALUE, v = Number.MIN_VALUE, u = 0; n > u; u++) {
                    var b = e.get(u + this.CATEGORY_START_ROW_INDEX, f, "number");
                    m.push(t.toEcValue(b)),
                    r > b && (r = b),
                    b > s && (s = b),
                    y > b && (y = b),
                    b > v && (v = b),
                    b < h[u] && (h[u] = b),
                    b > c[u] && (c[u] = b),
                    g &= t.isBlank(b)
                }
                if (g) break;
                o.push({
                    name: t.toNotEmptyEcName(p),
                    data: m
                }),
                a.push(y),
                l.push(v)
            }
            return {
                series: o,
                minZValueBySeries: a,
                maxZValueBySeries: l,
                minZValueByCategory: h,
                maxZValueByCategory: c,
                minZValue: r,
                maxZValue: s
            }
        },
        _constructLegendData: function(e) {
            for (var t = [], i = 0, n = (e || []).length; n > i; i++) t.push(e[i].name);
            return t
        },
        _constructCategoryData: function() {
            return e
        },
        _constructPolarData: function() {
            return e
        },
        _paintCatvalSeriesVertically: function(e, i) {
            for (var o, r = e.dtEditorData,
            s = n.getDataCfgWrap(i).getChartSeries(), a = 0, l = 0; o = s[l]; l++) {
                var h = (o.data || []).length;
                h > a && (a = h)
            }
            r.enlarge(a + this.SERIES_VALUE_START_ROW_INDEX, s.length + this.SERIES_NAME_START_COL_INDEX);
            for (var o, l = 0; o = s[l]; l++) {
                r.uncheckSet(this.SERIES_NAME_ROW_INDEX, l + this.SERIES_NAME_START_COL_INDEX, o.name);
                for (var c = 0,
                u = o.data || [], d = u.length; d > c; c++) r.uncheckSet(c + this.SERIES_VALUE_START_ROW_INDEX, l + this.SERIES_NAME_START_COL_INDEX, t.fromEcValue(u[c]))
            }
        },
        _paintCagetoryDataVertically: function(e, t) {
            var i = e.dtEditorData,
            n = this._fetchCategoryDataForPaint(t);
            i.enlarge(n.length + this.CATEGORY_START_ROW_INDEX, this.CATEGORY_COL_INDEX + 1);
            for (var o = 0,
            r = n.length; r > o; o++) i.uncheckSet(o + this.CATEGORY_START_ROW_INDEX, this.CATEGORY_COL_INDEX, n[o])
        },
        _fetchCategoryDataForPaint: function() {
            throw new Error("Must be implemented by Sub-class")
        },
        _findNewCategoryLength: function(e, t) {
            for (var i = t - 1; i >= this.CATEGORY_START_ROW_INDEX && e.isBlank(i, this.CATEGORY_COL_INDEX); i--);
            return i + 1 - this.CATEGORY_START_ROW_INDEX
        }
    });
    return s
}),
define("wave/dataEditor/ConfigurerCatval", ["require", "jquery", "common/core/lang", "common/core/constant", "wave/app/BasePanel", "wave/app/waveProdMgr", "d8f3fd38.tpl"],
function(require) {
    function e() {
        s.updateCfg({
            method: "exchangeAxisType",
            wgtId: this.getWgtId()
        }).then(i.proxy(t, this))
    }
    function t() {
        var e = this.getWgtId(),
        t = s.getDataCfgWrap(e),
        i = t.getChartAxis("x"),
        n = t.getChartAxis("y"),
        o = this.$el();
        o.find(a).html(h[i.type] || ""),
        o.find(l).html(h[n.type] || "")
    }
    var i = require("jquery"),
    n = require("common/core/lang"),
    o = require("common/core/constant"),
    r = require("wave/app/BasePanel"),
    s = require("wave/app/waveProdMgr"),
    a = ".dtm-x-axis",
    l = ".dtm-y-axis",
    h = {};
    h[o.EcAxisType.CATEGORY] = n.html.dataEditor.categoryAxis,
    h[o.EcAxisType.VALUE] = n.html.dataEditor.valueAxis;
    var c = r.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            tplTarget: "dataEditorConfigurerCatval",
            css: "cpt-cfgpn-catval",
            viewModel: function() {
                return {
                    dataEditType: null,
                    residenceHandle: null
                }
            }
        },
        _fillContent: function() {
            this._sub("exchgBtn").on("click", i.proxy(e, this)),
            t.call(this)
        },
        getWgtId: function() {
            return this._viewModel().residenceHandle.getWgtId()
        }
    });
    return c
}),
define("wave/dataEditor/DataProcessorCatval", ["require", "wave/dataEditor/DataProcessorCatvalBase", "wave/dataEditor/ConfigurerCatval", "common/core/constant", "wave/app/waveProdMgr"],
function(require) {
    var e = require("wave/dataEditor/DataProcessorCatvalBase"),
    t = require("wave/dataEditor/ConfigurerCatval"),
    i = require("common/core/constant"),
    n = require("wave/app/waveProdMgr"),
    o = e.extend({
        getConfigurer: function() {
            return t
        },
        _getDefaultEcChartType: function() {
            return i.EcChartType.LINE
        },
        _constructCategoryData: function(e, t) {
            for (var i = [], n = 0; t > n; n++) i.push(e.get(n + this.CATEGORY_START_ROW_INDEX, this.CATEGORY_COL_INDEX, "string"));
            return {
                data: i,
                type: "category"
            }
        },
        _fetchCategoryDataForPaint: function(e) {
            return n.getDataCfgWrap(e).getChartCategoryData()
        }
    });
    return o
}),
define("wave/dataEditor/DataProcessorNamvalBase", ["require", "common/core/lib", "wave/dataEditor/BaseDataProcessor", "wave/app/waveProdMgr"],
function(require) {
    var e = require("common/core/lib"),
    t = require("wave/dataEditor/BaseDataProcessor"),
    i = require("wave/app/waveProdMgr"),
    n = t.helper,
    o = n.renderers,
    r = 0,
    s = 1,
    a = 2,
    l = 1,
    h = 0,
    c = 1,
    u = t.extend({
        fillEditorDataFromCfg: function(e, t) {
            this._paintPieSeriesVertically(e, t)
        },
        cells: function(e, t, i) {
            if (t === r && i % a === l) e.renderer = o.seriesName;
            else if (t > r && i % a === h) e.renderer = o.category;
            else e.renderer = null
        },
        afterChange: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterCreateRow: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterCreateCol: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterRemoveRow: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        afterRemoveCol: function(e, t) {
            this._refreshAllCfg(e, t)
        },
        getConfigurer: function() {
            return null
        },
        _refreshAllCfg: function(e, t) {
            var n = e.dtEditorData,
            o = e.countCols(),
            r = e.countRows(),
            s = this._constructSeries(n, o, r),
            a = this._constructLegendData(s.series),
            l = this._constructSeriesMold(s.series, t);
            i.updateCfg({
                method: "refreshSeriesAndCategory",
                wgtId: t,
                seriesToSetCfg: s.series,
                legendDataToSetCfg: a,
                minZValue: s.minZValue,
                maxZValue: s.maxZValue,
                seriesMold: l,
                defaultEcChartType: this._getDefaultEcChartType()
            })
        },
        _getDefaultEcChartType: function() {
            throw new Error("Must be implemented by Sub-class")
        },
        _paintPieSeriesVertically: function(t, n) {
            for (var o, u = t.dtEditorData,
            d = i.getDataCfgWrap(n).getChartSeries(), f = 0, p = 0; o = d[p]; p++) {
                var m = (o.data || []).length;
                m > f && (f = m)
            }
            u.enlarge(f + s, d.length * a);
            for (var o, p = 0; o = d[p]; p++) {
                var g = p * a;
                u.uncheckSet(r, g + l, o.name);
                for (var y = o.data || [], v = 0, b = y.length; b > v; v++) {
                    var x = y[v],
                    _ = Object(x) === x;
                    u.uncheckSet(v + s, g + c, e.fromEcValue(_ ? x.value: x)),
                    u.uncheckSet(v + s, g + h, _ ? x.name: null)
                }
            }
        },
        _constructSeries: function(t, i, n) {
            for (var o = [], u = Number.MAX_VALUE, d = Number.MIN_VALUE, f = 0; i > f; f++) {
                for (var p = f * a,
                m = {
                    name: t.get(r, p + l, "string"),
                    data: []
                },
                g = n - 1; g >= s && (t.isBlank(g, p + h) && t.isBlank(g, p + c)); g--);
                var y = g + 1 - s,
                v = !0,
                b = e.isBlank(m.name);
                for (g = 0; y > g; g++) {
                    var x = g + s,
                    _ = t.get(x, p + c, "number"),
                    w = t.get(x, p + h, "string");
                    u > _ && (u = _),
                    _ > d && (d = _),
                    b &= e.isBlank(_),
                    b &= e.isBlank(w),
                    v &= e.isBlank(_),
                    m.data.push({
                        value: e.toEcValue(_),
                        name: e.toNotEmptyEcName(w)
                    })
                }
                if (b) break;
                if (v && m.data.length) m.data[0].value = 1;
                o.push(m)
            }
            return {
                series: o,
                minZValue: u,
                maxZValue: d
            }
        },
        _constructLegendData: function(t) {
            for (var i = [], n = 0, o = (t || []).length; o > n; n++) for (var r = t[n].data || [], s = 0, a = r.length; a > s; s++) {
                var l = (r[s] || {}).name;
                if (!e.isBlank(l)) i.push(l)
            }
            return i
        },
        _constructSeriesMold: function() {
            return void 0
        }
    });
    return u
}),
define("wave/dataEditor/DataProcessorPie", ["require", "wave/dataEditor/DataProcessorNamvalBase", "common/core/constant"],
function(require) {
    var e = require("wave/dataEditor/DataProcessorNamvalBase"),
    t = require("common/core/constant"),
    i = e.extend({
        _getDefaultEcChartType: function() {
            return t.EcChartType.PIE
        }
    });
    return i
}),
define("wave/dataEditor/DataProcessorScatter", ["require", "jquery", "common/core/lib", "wave/dataEditor/BaseDataProcessor", "wave/app/waveProdMgr", "common/core/constant"],
function(require) {
    function e(e, t) {
        for (var i, n = e.dtEditorData,
        s = a.getDataCfgWrap(t).getChartSeries(), l = this._getSeriesColSpan(), h = 0, c = 0; i = s[c]; c++) {
            var g = (i.data || []).length;
            g > h && (h = g)
        }
        n.enlarge(h + d, s.length * l);
        for (var i, c = 0; i = s[c]; c++) {
            var y = c * l;
            n.uncheckSet(u, y, i.name);
            for (var v = 0,
            b = i.data || [], x = b.length; x > v; v++) {
                var _ = b[v],
                w = o.isArray(_);
                n.uncheckSet(v + d, y + f, r.fromEcValue(w ? _[0] : null)),
                n.uncheckSet(v + d, y + p, r.fromEcValue(w ? _[1] : null)),
                this._useZValue() && n.uncheckSet(v + d, y + m, r.fromEcValue(w ? _[2] : null))
            }
        }
    }
    function t(e, t) {
        var o = e.dtEditorData,
        r = e.countCols(),
        s = e.countRows(),
        h = i.call(this, o, r, s),
        c = n.call(this, h.series);
        a.updateCfg({
            method: "refreshSeriesAndCategory",
            wgtId: t,
            seriesToSetCfg: h.series,
            legendDataToSetCfg: c,
            defaultEcChartType: l.EcChartType.SCATTER,
            minZValue: h.minZValue,
            maxZValue: h.maxZValue,
            seriesMold: this._getSeriesMold()
        })
    }
    function i(e, t, i) {
        for (var n = [], o = this._getSeriesColSpan(), s = Number.MAX_VALUE, a = Number.MIN_VALUE, l = 0; t > l; l++) {
            for (var h = l * o,
            c = e.get(u, h, "string"), g = [], y = i - 1; y >= d && (e.isBlank(y, h + f) && e.isBlank(y, h + p)); y--);
            var v = y + 1 - d,
            b = r.isBlank(c);
            for (y = 0; v > y; y++) {
                var x = y + d,
                _ = e.get(x, h + f, "number"),
                w = e.get(x, h + p, "number"),
                V = [_, w];
                if (b &= r.isBlank(_), b &= r.isBlank(w), this._useZValue()) {
                    var U = e.get(x, h + m, "number");
                    s > U && (s = U),
                    U > a && (a = U),
                    V.push(U)
                }
                g.push(V)
            }
            if (b) break;
            n.push({
                name: r.toNotEmptyEcName(c),
                data: g
            })
        }
        return {
            series: n,
            minZValue: s,
            maxZValue: a
        }
    }
    function n(e) {
        for (var t = [], i = 0, n = (e || []).length; n > i; i++) t.push(e[i].name);
        return t
    }
    var o = require("jquery"),
    r = require("common/core/lib"),
    s = require("wave/dataEditor/BaseDataProcessor"),
    a = require("wave/app/waveProdMgr"),
    l = require("common/core/constant"),
    h = s.helper,
    c = h.renderers,
    u = 0,
    d = 1,
    f = 0,
    p = 1,
    m = 2,
    g = s.extend({
        fillEditorDataFromCfg: function(t, i) {
            e.call(this, t, i)
        },
        cells: function(e, t, i) {
            var n = this._getSeriesColSpan();
            if (t === u && i % n === 0) e.renderer = c.seriesName;
            else if (t > u) {
                var o = {};
                o[f] = c.xOfXYZ,
                o[p] = c.yOfXYZ,
                o[m] = c.zOfXYZ,
                e.renderer = o[i % n]
            }
        },
        afterChange: function(e, i) {
            t.call(this, e, i)
        },
        afterCreateRow: function(e, i) {
            t.call(this, e, i)
        },
        afterCreateCol: function(e, i) {
            t.call(this, e, i)
        },
        afterRemoveRow: function(e, i) {
            t.call(this, e, i)
        },
        afterRemoveCol: function(e, i) {
            t.call(this, e, i)
        },
        getConfigurer: function() {
            return null
        },
        _useZValue: function() {
            return ! 1
        },
        _getSeriesMold: function() {
            return {}
        },
        _getSeriesColSpan: function() {
            return this._useZValue() ? 3 : 2
        }
    });
    return g
}),
define("wave/dataEditor/DataProcessorBubble", ["require", "wave/dataEditor/DataProcessorScatter"],
function(require) {
    var e = require("wave/dataEditor/DataProcessorScatter"),
    t = e.extend({
        _useZValue: function() {
            return ! 0
        },
        _getSeriesMold: function() {
            return {
                _dtfAutoCalcSymbolSizeByGlobalZLimit: !0
            }
        }
    });
    return t
}),
define("wave/dataEditor/DataProcessorFunnel", ["require", "common/core/lib", "common/core/constant", "wave/dataEditor/DataProcessorNamvalBase"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/constant"),
    i = require("wave/dataEditor/DataProcessorNamvalBase"),
    n = i.extend({
        _constructSeries: function() {
            for (var t, i = this._applySuper("_constructSeries", arguments), n = 0; t = i.series[n]; n++) {
                for (var o = t.data || [], r = Number.MIN_VALUE, s = 0, a = o.length; a > s; s++) {
                    var l = o[s];
                    if (e.isObject(l) && l.value > r) r = l.value
                }
                t.data = o,
                t.max = r
            }
            return i
        },
        _getDefaultEcChartType: function() {
            return t.EcChartType.FUNNEL
        }
    });
    return n
}),
define("wave/dataEditor/DataProcessorMap", ["require", "common/core/constant", "wave/dataEditor/DataProcessorNamvalBase", "wave/app/waveProdMgr"],
function(require) {
    var e = require("common/core/constant"),
    t = require("wave/dataEditor/DataProcessorNamvalBase"),
    i = require("wave/app/waveProdMgr"),
    n = t.extend({
        _getDefaultEcChartType: function() {
            return e.EcChartType.MAP
        },
        _constructLegendData: function(e) {
            for (var t = [], i = 0, n = (e || []).length; n > i; i++) t.push(e[i].name);
            return t
        },
        _constructSeriesMold: function(e, t) {
            var n, o = i.getDataCfgWrap(t),
            r = o.fetchChartMapSeriesIndexes();
            if (r && r.length) n = o.cloneChartSeriesExceptDataAndFn(r.length - 1);
            return n
        }
    });
    return n
}),
define("wave/dataEditor/DataProcessorGauge", ["require", "wave/dataEditor/DataProcessorNamvalBase", "common/core/constant"],
function(require) {
    var e = require("wave/dataEditor/DataProcessorNamvalBase"),
    t = require("common/core/constant"),
    i = e.extend({
        _getDefaultEcChartType: function() {
            return t.EcChartType.GAUGE
        }
    });
    return i
}),
define("wave/dataEditor/DataProcessorRadar", ["require", "wave/dataEditor/DataProcessorCatvalBase", "common/core/constant", "wave/app/waveProdMgr", "wave/dataEditor/BaseDataProcessor", "common/core/lang"],
function(require) {
    var e, t = require("wave/dataEditor/DataProcessorCatvalBase"),
    i = require("common/core/constant"),
    n = require("wave/app/waveProdMgr"),
    o = require("wave/dataEditor/BaseDataProcessor"),
    r = require("common/core/lang").string,
    s = o.helper,
    a = s.renderers,
    l = t.extend({
        SERIES_NAME_START_COL_INDEX: 3,
        RADAR_INDICATOR_MIN_COL: 2,
        RADAR_INDICATOR_MAX_COL: 1,
        _getDefaultEcChartType: function() {
            return i.EcChartType.RADAR
        },
        cells: function(e, t, i) {
            if (this._applySuper("cells", arguments), (i === this.RADAR_INDICATOR_MIN_COL || i === this.RADAR_INDICATOR_MAX_COL) && t >= this.CATEGORY_START_ROW_INDEX) e.renderer = a.category
        },
        _constructCategoryData: function(t, i) {
            for (var n = [], o = 0; i > o; o++) {
                var r = t.get(o + this.CATEGORY_START_ROW_INDEX, this.CATEGORY_COL_INDEX, "string"),
                s = t.get(o + this.CATEGORY_START_ROW_INDEX, this.RADAR_INDICATOR_MIN_COL, "number"),
                a = t.get(o + this.CATEGORY_START_ROW_INDEX, this.RADAR_INDICATOR_MAX_COL, "number");
                null == s && (s = e),
                null == a && (a = e),
                n.push({
                    text: r,
                    min: s,
                    max: a
                })
            }
            return {
                data: n,
                type: "polar"
            }
        },
        _fetchCategoryDataForPaint: function(e) {
            for (var t = n.getDataCfgWrap(e).getChartPolar(), i = t[0].indicator, o = [], r = 0, s = i.length; s > r; r++) o.push(i[r].text);
            return o
        },
        _paintCagetoryDataVertically: function(e, t) {
            this._applySuper("_paintCagetoryDataVertically", arguments);
            var i = e.dtEditorData,
            o = n.getDataCfgWrap(t).getChartPolar()[0].indicator;
            i.enlarge(o.length + this.SERIES_VALUE_START_ROW_INDEX, Math.max(this.RADAR_INDICATOR_MAX_COL, this.RADAR_INDICATOR_MIN_COL) + 1);
            for (var s, a = 0; s = o[a]; a++) i.uncheckSet(a + this.SERIES_VALUE_START_ROW_INDEX, this.RADAR_INDICATOR_MIN_COL, s.min),
            i.uncheckSet(a + this.SERIES_VALUE_START_ROW_INDEX, this.RADAR_INDICATOR_MAX_COL, s.max);
            i.uncheckSet(this.SERIES_NAME_ROW_INDEX, this.RADAR_INDICATOR_MIN_COL, r.radarRangeMin),
            i.uncheckSet(this.SERIES_NAME_ROW_INDEX, this.RADAR_INDICATOR_MAX_COL, r.radarRangeMax)
        }
    });
    return l
}),
define("wave/dataEditor/dataProcessor", ["require", "common/core/lib", "common/core/constant", "wave/dataEditor/BaseDataProcessor", "wave/dataEditor/DataProcessorCatval", "wave/dataEditor/DataProcessorPie", "wave/dataEditor/DataProcessorScatter", "wave/dataEditor/DataProcessorBubble", "wave/dataEditor/DataProcessorFunnel", "wave/dataEditor/DataProcessorMap", "wave/dataEditor/DataProcessorGauge", "wave/dataEditor/DataProcessorRadar"],
function(require) {
    var e = require("common/core/lib"),
    t = require("common/core/constant"),
    i = require("wave/dataEditor/BaseDataProcessor"),
    n = t.DataEditType,
    o = {};
    o.getProcessor = function(e) {
        return r[e]
    };
    var r = {};
    return r[n.CATVAL.key] = new(require("wave/dataEditor/DataProcessorCatval")),
    r[n.PIE.key] = new(require("wave/dataEditor/DataProcessorPie")),
    r[n.SCATTER.key] = new(require("wave/dataEditor/DataProcessorScatter")),
    r[n.BUBBLE.key] = new(require("wave/dataEditor/DataProcessorBubble")),
    r[n.FUNNEL.key] = new(require("wave/dataEditor/DataProcessorFunnel")),
    r[n.MAP.key] = new(require("wave/dataEditor/DataProcessorMap")),
    r[n.GAUGE.key] = new(require("wave/dataEditor/DataProcessorGauge")),
    r[n.RADAR.key] = new(require("wave/dataEditor/DataProcessorRadar")),
    e.assign(o, i.helper),
    o
}),
define("wave/dataEditor/DataEditor", ["require", "jquery", "common/core/lib", "common/core/url", "common/core/constant", "wave/app/BasePanel", "wave/app/dialog", "wave/app/waveProdMgr", "wave/dataEditor/dataProcessor", "d8f3fd38.tpl"],
function(require) {
    function e(e, t) {
        for (var i = e.view.wt.wtTable,
        n = i.THEAD.childNodes[0].childNodes, o = e.countRows(), r = 0, s = n.length; s > r; r++) if (t === n[r]) {
            var a = i.columnFilter.visibleRowHeadedColumnToSourceColumn(r);
            e.selectCell(0, a, o - 1, a, !1);
            break
        }
    }
    function t(e, t) {
        for (var i = e.view.wt.wtTable,
        n = i.TBODY.childNodes,
        o = e.countCols(), r = 0, s = n.length; s > r; r++) if (t === n[r].childNodes[0]) {
            var a = i.rowFilter.visibleToSource(r);
            e.selectCell(a, 0, a, o - 1, !1);
            break
        }
    }
    function i(e) {
        n(e);
        var t = o(e),
        i = e.wtTable;
        if (t) {
            for (var a = t.r; a <= t.r2; a++) {
                var h = s(i, a);
                h && l(h).addClass(g)
            }
            for (var a = t.c; a <= t.c2; a++) {
                var c = r(i, a);
                c && l(c).addClass(g)
            }
        }
    }
    function n(e) {
        l("." + g, e.wtTable.TABLE).removeClass(g)
    }
    function o(e) {
        var t, i = {},
        n = e.selections.area.selected;
        if (n && n.length >= 2) i.r = n[0][0],
        i.c = n[0][1],
        i.r2 = n[1][0],
        i.c2 = n[1][1];
        else if (n = e.selections.current.selected, n && n.length >= 1) i.r = n[0][0],
        i.c = n[0][1],
        i.r2 = i.r,
        i.c2 = i.c;
        else return;
        return i.r > i.r2 && (t = i.r, i.r = i.r2, i.r2 = t),
        i.c > i.c2 && (t = i.c, i.c = i.c2, i.c2 = t),
        i
    }
    function r(e, t) {
        if (!e.isColumnBeforeViewport(t) && !e.isColumnAfterViewport(t)) return e.THEAD.childNodes[0].childNodes[e.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)];
        else return void 0
    }
    function s(e, t) {
        if (!e.isRowBeforeViewport(t) && !e.isRowAfterViewport(t)) return e.TBODY.childNodes[e.rowFilter.sourceToVisible(t)].childNodes[0];
        else return void 0
    }
    function a(e) {
        if (!e || !e.data) return void f.alert({
            content: "文件导入失败，请重新导入！"
        });
        var t = this;
        f.confirm({
            content: "继续导入将用您上传的数据覆盖当前表格中的数据，且不可恢复，是否继续导入？",
            onYes: function() {
                t._htIns.dtEditorData.writeArray(e.data),
                t._htIns.render(),
                t.afterChange()
            },
            textYes: "继续导入"
        })
    }
    var l = require("jquery"),
    h = require("common/core/lib"),
    c = require("common/core/url"),
    u = require("common/core/constant"),
    d = require("wave/app/BasePanel"),
    f = require("wave/app/dialog"),
    p = require("wave/app/waveProdMgr"),
    m = require("wave/dataEditor/dataProcessor"),
    g = "rchead-highlight",
    y = ".dtm-residence-mask",
    v = "dataEditor",
    b = d.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-datedt",
            viewModel: function() {
                return {
                    dataEditType: h.ob(),
                    residenceHandle: null,
                    panelOpenStatus: null,
                    excelUploader: {}
                }
            }
        },
        _fillContent: function() {
            this._viewModel().excelUploader = {
                uploadURL: c.net("excelUpload"),
                uploadType: u.UploadType.EXCEL,
                done: l.proxy(a, this),
                uploadBtnNormal: "导入Excel"
            },
            this._applyTpl(this.el(), v)
        },
        _enter: function() {
            if (this.$el().find(y).stop(!0, !0).show().fadeOut(u.EDITOR_MASK_FADE_DURATION), this.getPanelState() === this.PanelState.READY) this._enterWhenReady();
            this._enterConfigurer()
        },
        _enterWhenReady: function() {
            var e = this._viewModel().dataEditType;
            if (e(p.getDataCfgWrap(this.getWgtId()).getDataEditType()), this._resetDataEditTypeCss(), this._currProcessor = m.getProcessor(e()), this._createConfigurer(), !this._editorCreated) this._createEditor(),
            this._editorCreated = !0;
            this._renderData()
        },
        _clear: function() {
            if (this._htIns) this._htIns.dtEditorData.clear();
            this.$el().find(y).show(),
            this._currProcessor = null,
            this._disposeConfigurer()
        },
        _dispose: function() {
            if (this._htIns) this._htIns.destroy(),
            this._htIns = null;
            this._disposeConfigurer()
        },
        _createEditor: function() {
            var o = this,
            r = {
                cells: function() {
                    if (o._currProcessor) o._currProcessor.cells.apply(o._currProcessor, [this].concat(h.arraySlice(arguments)))
                },
                afterChange: function(e, t) {
                    if ("loadData" !== t) o.afterChange(e)
                },
                afterCreateRow: function(e, t) {
                    o._isDispatchable() && o._currProcessor.afterCreateRow(o._htIns, o.getWgtId(), e, t)
                },
                afterCreateCol: function(e, t) {
                    o._isDispatchable() && o._currProcessor.afterCreateCol(o._htIns, o.getWgtId(), e, t)
                },
                afterRemoveRow: function(e, t) {
                    o._isDispatchable() && o._currProcessor.afterRemoveRow(o._htIns, o.getWgtId(), e, t)
                },
                afterRemoveCol: function(e, t) {
                    o._isDispatchable() && o._currProcessor.afterRemoveCol(o._htIns, o.getWgtId(), e, t)
                },
                afterSelection: function() {
                    i(this.view.wt)
                },
                afterDeselect: function() {
                    n(this.view.wt)
                },
                afterRender: function() {
                    i(this.view.wt)
                },
                minSpareRows: 1,
                minSpareCols: 1,
                rowHeaders: !0,
                colHeaders: !0,
                contextMenu: !0,
                stretchH: "last",
                minRows: 50,
                minCols: 12,
                manualColumnResize: !0,
                manualColumnMove: !1,
                fillHandle: !0,
                undo: !0,
                outsideClickDeselects: !0,
                enterBeginsEditing: !0,
                autoWrapCol: !1,
                autoWrapRow: !1,
                copyRowsLimit: 3e3,
                copyColsLimit: 3e3,
                pasteMode: "overwrite",
                columnSorting: !1,
                persistentState: !1
            },
            s = this.$el("editor", this.$el().find(".dtm-handsontable")),
            a = this._htIns = m.createHandsontable(s, r);
            s.on(this._event("click"), "table.htCore thead th",
            function(t) {
                e(a, t.currentTarget)
            }),
            s.on(this._event("click"), "table.htCore tbody th",
            function(e) {
                t(a, e.currentTarget)
            })
        },
        _createConfigurer: function() {
            var e = this._viewModel(),
            t = this._currProcessor.getConfigurer(e.dataEditType());
            if (t) this._configurer = new t(this.$el().find(".dtm-cfgpn"), {
                dataEditType: e.dataEditType,
                residenceHandle: e.residenceHandle,
                panelOpenStatus: e.panelOpenStatus
            }),
            this._configurer.enter()
        },
        _disposeConfigurer: function() {
            if (this._configurer) this._configurer.dispose(),
            this._configurer = null
        },
        _enterConfigurer: function() {
            if (this._configurer) this._configurer.enter()
        },
        _resetDataEditTypeCss: function() {
            var e = this.$el(),
            t = this._currDataEditTypeCss;
            if (t) e.removeClass(t);
            t = this._currDataEditTypeCss = this.css() + "-" + this._viewModel().dataEditType(),
            e.addClass(t)
        },
        _renderData: function() {
            this._currProcessor.fillEditorDataFromCfg(this._htIns, this.getWgtId()),
            this._htIns.render()
        },
        _isDispatchable: function() {
            return this._htIns && this._currProcessor
        },
        getWgtId: function() {
            return this._viewModel().residenceHandle.getWgtId()
        },
        afterChange: function(e) {
            this._isDispatchable() && this._currProcessor.afterChange(this._htIns, this.getWgtId(), e)
        }
    });
    return b
}),
define("wave/gallery/ProdItem", ["require", "jquery", "common/core/lib", "common/core/lang", "common/component/Foreach"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/core/lang"),
    n = require("common/component/Foreach"),
    o = ".dtm-btns",
    r = ".cpt-btn",
    s = ".dtm-title",
    a = "op-key",
    l = n.prototype.Item.extend({
        _define: {
            tplTarget: "galleryProdItem",
            css: "cpt-glyproditm",
            viewModel: function() {
                return {
                    title: "",
                    prodId: "",
                    operationHandlers: null
                }
            },
            viewModelPublic: ["title", "prodId"]
        },
        _prepare: function() {
            this._viewModel().prodItemBtnDefs = [{
                name: "manufactureBtn",
                text: "编辑",
                opKey: "manufacture"
            },
            {
                name: "previewBtn",
                text: "预览",
                opKey: "preview"
            },
            {
                name: "duplicateBtn",
                text: "克隆",
                opKey: "duplicate"
            },
            {
                name: "removeBtn",
                text: "删除",
                opKey: "remove"
            }]
        },
        _init: function() {
            for (var e, i = this.$el(), n = this._viewModel(), o = 0; e = n.prodItemBtnDefs[o]; o++) this._sub(e.name).on("click", t.curry(n.operationHandlers[e.opKey], this));
            i.find(s).html(t.encodeHTML(n.title)),
            this._initTooltip()
        },
        _initTooltip: function() {
            function n(t) {
                var n = e(t),
                o = n.data(a);
                return i.string.prodItemBtnTooltip[o]
            }
            this._disposable(t.bindTooltip({
                bindEl: this.$el().find(o)[0],
                followMouse: !0,
                selector: r,
                location: {
                    x: 0,
                    y: -16,
                    xAnchor: "center",
                    yAnchor: "bottom"
                },
                text: n
            }))
        },
        _dispose: function() {}
    });
    return l
}),
define("wave/manufacture/CodePanel", ["require", "jquery", "wave/app/WinPanel", "wave/app/waveProdMgr", "d8f3fd38.tpl"],
function(require) {
    function e(e, i, n) {
        if (this.isOpen() && i === this._asyncUID) {
            if (!this._depInitialized) {
                var o = {
                    snippet: "javascript",
                    theme: "ambiance",
                    lineNumbers: !0,
                    matchBrackets: !0,
                    indentUnit: 4,
                    lineWrapping: !1,
                    smartIndent: !1
                };
                this._codeBox = n(this.$content().find(a)[0], o),
                this._depInitialized = !0
            }
            t.call(this, e)
        }
    }
    function t(e) {
        this._codeBox.setValue(r.getECOptionStr(e.wgtId))
    }
    var i, n = require("jquery"),
    o = require("wave/app/WinPanel"),
    r = require("wave/app/waveProdMgr"),
    s = "codePanel",
    a = ".dtm-code-box",
    l = ["codemirrordir/lib/codemirror", "codemirrordir/mode/javascript/javascript", "codemirrordir/addon/edit/matchbrackets", "codemirrordir/addon/edit/continuelist"],
    h = o.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: ["cpt-codepn"],
            closeWhenClickOther: !0,
            noAnimate: !0
        },
        _afterShow: function(t, i) {
            if (!this._contentRendered) this._renderTpl(s, {},
            t),
            this._contentRendered = !0;
            this._asyncUID = Math.random() + "",
            require(l, n.proxy(e, this, i, this._asyncUID))
        }
    });
    return h.singleton = function() {
        if (!i) i = new h;
        return i
    },
    h
}),
define("wave/manufacture/paperPlugin", ["require", "jquery", "common/core/constant", "common/core/lang", "wave/app/waveProdMgr", "wave/app/dialog", "wave/manufacture/CodePanel", "common/core/lib"],
function(require) {
    function e(e, t, i) {
        var n = e.find(s.SELECTOR_WGT_MAIN);
        if (n.length < 2) return n;
        var o;
        return n.each(function(e, n) {
            var s = r(n),
            a = s.offset();
            if (t >= a.left && t <= a.left + s.width() && i >= a.top && i <= a.top + s.height()) return o = s,
            !1;
            else return void 0
        }),
        o ? o: r(n[0])
    }
    function t(e, t, i) {
        var n = U[e];
        return n[t] && n[t][i] || n.common && n.common[i]
    }
    function i() {
        this._disposable(this._viewModel().residenceHandle.subscribeMonopoly(n, this))
    }
    function n(e) {
        if (o.call(this), e.isActive) {
            var t = (e.options || {}).wgtId,
            i = t ? l.$wgtEl(t) : null;
            if (i) i.addClass(y),
            this._panelEditingWgtId = t
        }
    }
    function o() {
        var e = this._panelEditingWgtId;
        if (null != e) {
            var t = l.$wgtEl(e);
            t && t.removeClass(y),
            this._panelEditingWgtId = null
        }
    }
    var r = require("jquery"),
    s = require("common/core/constant"),
    a = require("common/core/lang"),
    l = require("wave/app/waveProdMgr"),
    h = require("wave/app/dialog"),
    c = require("wave/manufacture/CodePanel"),
    u = s.WgtType,
    d = s.OpType,
    f = a.string.dialog,
    p = require("common/core/lib"),
    m = "cpt-mf-paper",
    g = "cpt-mf-paper-dwgt-txedt",
    y = "cpt-mf-paper-dwgt-pnedt",
    v = "cpt-mf-paper-dwgt-szedt",
    b = m + "-szop",
    x = m + "-szbx",
    _ = m + "-szeg",
    w = "data-szop",
    V = 2,
    U = {};
    s.OpType.forEachEnum(function(e, t) {
        U[t] = {}
    }),
    U[d.DATA_EDIT].common = {
        tplTarget: "mfPagerOpDataEditBtn",
        onClick: function(e, t) {
            this._viewModel().residenceHandle.active(s.ResidentPanelName.CHART_EDITOR, {
                wgtId: t.wgtId,
                tabKey: "dataEditor"
            })
        }
    },
    U[d.CONF_EDIT].common = {
        tplTarget: "mfPagerOpConfEditBtn"
    },
    U[d.CONF_EDIT][u.SIMPLE_CHART] = {
        onClick: function(e, t) {
            this._viewModel().residenceHandle.active(s.ResidentPanelName.CHART_EDITOR, {
                wgtId: t.wgtId,
                tabKey: "chartConfigurer"
            })
        }
    },
    U[d.CONF_EDIT][u.FORMAT_TEXT] = {
        onClick: function(e, t) {
            this._viewModel().residenceHandle.active(s.ResidentPanelName.FORMAT_TEXT_CONFIGURER, {
                wgtId: t.wgtId
            })
        }
    },
    U[d.SELF_EDIT].common = {
        tplTarget: "mfPagerOpSelfEditBtn"
    },
    U[d.SELF_EDIT][u.IMAGE] = {
        onClick: function(e, t) {
            this._viewModel().residenceHandle.active(s.ResidentPanelName.IMAGE_CONFIGURER, {
                wgtId: t.wgtId
            })
        }
    },
    U[d.SELF_EDIT][u.PLAIN_TEXT] = {
        init: function(e, t, i) {
            function n(e) {
                l.updateCfg({
                    method: "updateWgtTplCfg",
                    wgtId: t.wgtId,
                    dsp: "mainText",
                    value: e[0].innerHTML
                })
            }
            i.on(this._event("blur"), s.SELECTOR_WGT_MAIN,
            function(e) {
                var t = r(e.currentTarget);
                if ("true" === String(t.attr("contenteditable"))) t.removeAttr("contenteditable"),
                i.removeClass(g),
                n(t)
            })
        },
        onClick: function(e, t, i) {
            i.find(s.SELECTOR_WGT_MAIN).attr("contenteditable", "true").focus(),
            i.addClass(g)
        }
    },
    U[d.SELF_EDIT][u.FORMAT_TEXT] = {
        init: function(t, i) {
            function n(e) {
                var t = r(e.currentTarget);
                if ("true" === String(t.attr("contenteditable"))) t.removeAttr("contenteditable"),
                i.removeClass(g),
                o(t)
            }
            function o(e) {
                if ("quote" !== t.tplCfg.type) {
                    var n = e[0].innerHTML;
                    if (n !== a("mainText")) h("mainText", n)
                } else {
                    var e = i.find(s.SELECTOR_WGT_MAIN),
                    o = e[0].innerHTML,
                    r = e[1].innerHTML;
                    if (o !== a("mainText")) h("mainText", o);
                    if (r !== a("author")) h("author", r)
                }
            }
            function a(e) {
                return l.retrieveCfg({
                    method: "retrieveWgtTplCfg",
                    wgtId: t.wgtId,
                    dsp: e
                })
            }
            function h(e, i) {
                return l.updateCfg({
                    method: "updateWgtTplCfg",
                    wgtId: t.wgtId,
                    dsp: e,
                    value: i
                })
            }
            function c(e) {
                e.preventDefault();
                var t = (e.originalEvent || e).clipboardData.getData("text/plain");
                document.execCommand("insertText", !1, t)
            }
            i.find(".dtp-wgt-ftext-mask").on("dblclick",
            function(t) {
                var n = e(i, t.pageX, t.pageY);
                n.attr("contenteditable", "true").focus(),
                p.setEndOfContenteditable(n.get(0)),
                i.addClass(g)
            }),
            i.on(this._event("blur"), s.SELECTOR_WGT_MAIN, r.proxy(n));
            var u = i.find(s.SELECTOR_WGT_MAIN);
            u.bind("keydown", "esc", r.proxy(n)),
            u.on("paste", r.proxy(c))
        }
    },
    U[d.DRAG].common = {
        tplTarget: "mfPagerOpDrapBtn"
    },
    U[d.LAY_MANNER].common = {
        tplTarget: "mfPagerOpLayMannerBtn",
        init: function(e, t) {
            var i = l.layManner(t.wgtId);
            e.viewModel("text")(k[i])
        },
        onClick: function(e, t) {
            var i = t.wgtId,
            n = l.layManner(i),
            o = "CSS_LAY_MANNER_DOC" === n ? "CSS_LAY_MANNER_ABS": "CSS_LAY_MANNER_DOC";
            e.viewModel("text")(k[o]),
            l.layManner(i, o)
        }
    };
    var k = {
        CSS_LAY_MANNER_ABS: "Ld",
        CSS_LAY_MANNER_DOC: "La"
    };
    return U[d.RESIZE].common = {
        tplTarget: "mfPagerOpResizeBtn"
    },
    U[d.RESIZE][u.IMAGE] = {
        init: function(e, t, i) {
            function n() {
                u = r('<div class="' + x + '" style="display:none;"></div>').appendTo(i);
                var e = [],
                t = ["tl", "tr", "bl", "br"];
                e.push('<div class="', _, '"></div>');
                for (var n = 0,
                o = t.length; o > n; n++) e.push('<div class="', b, " ", b, "-", t[n], '" ', w, '="', t[n], '"></div>');
                u.append(e.join(""))
            }
            function o() {
                d = u.find("." + b),
                d.each(function() {
                    r(this).mousable({
                        start: a,
                        drag: h,
                        stop: c
                    })
                })
            }
            function a() {
                if (m = U[0].offsetWidth, g = U[0].offsetHeight, null == f) f = m,
                p = g
            }
            function h(e, t) {
                var i = r(this),
                n = e.pageY - t.originalMousePos.pageY;
                if (~i.attr(w).indexOf("t")) n = -n;
                var o = f > p ? V: V * p / f;
                v = Math.max(g + n, o),
                y = v * f / p,
                y = Math.round(y) + "px",
                v = Math.round(v) + "px",
                U.css({
                    width: y,
                    height: v
                }),
                u.css({
                    width: y,
                    height: v
                })
            }
            function c() {
                null != y && l.updateCfg({
                    method: "updateWgtTplCfg",
                    wgtId: t.wgtId,
                    dsp: "wgtStyle.width",
                    value: y
                }),
                null != v && l.updateCfg({
                    method: "updateWgtTplCfg",
                    wgtId: t.wgtId,
                    dsp: "wgtStyle.height",
                    value: v
                }),
                m = g = y = v = null
            }
            var u, d, f, p, m, g, y, v, U = i.find(s.SELECTOR_WGT_MAIN);
            n.call(this),
            o.call(this)
        },
        onClick: function(e, t, i) {
            var n = i.find("." + x),
            o = i.find(s.SELECTOR_WGT_MAIN);
            if (!i.hasClass(v)) {
                i.addClass(v),
                n.show(),
                o.appendTo(n);
                var r = o[0].offsetWidth,
                a = o[0].offsetHeight;
                o.css({
                    width: r + "px",
                    height: a + "px"
                }),
                n.css({
                    width: r + "px",
                    height: a + "px"
                })
            } else i.removeClass(v),
            n.hide(),
            o.appendTo(i)
        },
        dispose: function(e, t, i) {
            var n = i.find("." + b);
            n.each(function() {
                r(this).mousable("destroy")
            })
        }
    },
    U[d.REMOVE].common = {
        tplTarget: "mfPagerOpRemoveBtn",
        onClick: function(e, t) {
            function i() {
                l.removeWgt(t.wgtId).done(function() {
                    n._viewModel().residenceHandle.active(!1)
                })
            }
            h.confirm({
                content: f.confirmRemove,
                textYes: f.remove,
                textCancel: f.cancel,
                onYes: i
            });
            var n = this
        }
    },
    U[d.CODE][u.SIMPLE_CHART] = {
        tplTarget: "mfPagerOpCodeBtn",
        onClick: function(e, t) {
            c.singleton().open({
                wgtId: t.wgtId
            })
        }
    },
    {
        getPlugin: t,
        subscribeResidenceHandle: i
    }
}),
define("wave/manufacture/Paper", ["require", "jquery", "common/core/lib", "common/core/lang", "common/core/constant", "common/component/Component", "wave/app/waveProdMgr", "wave/manufacture/paperPlugin"],
function(require) {
    var e, t = require("jquery"),
    i = require("common/core/lib"),
    n = require("common/core/lang"),
    o = require("common/core/constant"),
    r = require("common/component/Component"),
    s = require("wave/app/waveProdMgr"),
    a = require("wave/manufacture/paperPlugin"),
    l = o.WgtType,
    h = o.OpType,
    c = "cpt-mf-paper",
    u = c + "-dwgt",
    d = c + "-ops-outer",
    f = c + "-ops",
    p = c + "-placeholder",
    m = "[data-op-type=drag]",
    g = "[data-op-type]",
    y = "op-type",
    v = "lay-manner",
    b = 40,
    x = "tooltipOps-",
    _ = r.extend({
        _define: {
            tplTarget: "mfPaper",
            css: c,
            viewModel: function() {
                return {
                    residenceHandle: null
                }
            }
        },
        _paperDelegations: {
            afterBlueprintLoaded: function() {
                a.subscribeResidenceHandle.call(this)
            },
            beforeClearPaper: function() {
                this._destroyWgtsDraggable(),
                s.forEachWgt(this._undressWgt, this)
            },
            afterRenderPaper: function() {
                s.forEachWgt(this._dressWgt, this),
                this._makeWgtsDraggable()
            },
            afterAddWgt: function(e, t, i) {
                this._dressWgt(e, t, i),
                this._destroyWgtsDraggable(),
                this._makeWgtsDraggable()
            },
            beforeRemoveWgt: function(e, t, i) {
                this._destroyWgtsDraggable(),
                this._undressWgt(e, t, i)
            },
            afterRemoveWgt: function() {
                this._makeWgtsDraggable()
            }
        },
        getPaperDelegations: function() {
            var e = this._paperDelegations,
            i = {};
            for (var n in e) if (e.hasOwnProperty(n)) i[n] = t.proxy(e[n], this);
            return i
        },
        _renderOperationsTpl: function(e) {
            for (var t = w[e.wgtType], i = [], n = 0, o = t.length; o > n; n++) i.push(this._renderTpl(a.getPlugin(t[n], e.wgtType, "tplTarget"), {
                opType: t[n],
                wgtId: e.wgtId
            }));
            return i.join("")
        },
        _initWgtHover: function(e, t) {
            function i(e) {
                if (a._dragging) return void e.stopPropagation();
                else return r(),
                void t.addClass(u + "-hover")
            }
            function n(e) {
                if (a._dragging) return void e.stopPropagation();
                else return void(s = setTimeout(o, b))
            }
            function o() {
                t.removeClass(u + "-hover"),
                s = null
            }
            function r() {
                if (null != s) clearTimeout(s),
                s = null
            }
            var s, a = this;
            t.on(this._event("mouseenter"), i),
            t.on(this._event("mouseleave"), n)
        },
        _initOperations: function(e, t) {
            var i = t.find("." + f);
            this._initOpByDefs(i, e, t),
            this._initOpTooltip(e, i)
        },
        _initFTextEdit: function(e, t) {
            var i = a.getPlugin(h.SELF_EDIT, e.wgtType, "init");
            i && i.call(this, e, t)
        },
        _initOpByDefs: function(e, i, n) {
            function o(e) {
                var o = t(e.currentTarget),
                s = o.data(y),
                l = a.getPlugin(s, i.wgtType, "onClick");
                l && l.call(h, r[s], i, n)
            }
            var r = this._sub("dwgts[" + i.wgtId + "].operations") || {};
            for (var s in r) if (r.hasOwnProperty(s)) {
                var l = a.getPlugin(s, i.wgtType, "init");
                l && l.call(this, r[s], i, n)
            }
            n.on(this._event("click"), g, o);
            var h = this
        },
        _makeWgtsDraggable: function() {
            var e = this,
            t = s.getPaperCon();
            t && t.sortable({
                items: "." + o.CSS_LAY_MANNER_DOC,
                handle: m,
                placeholder: p,
                forcePlaceholderSize: !0,
                start: function() {
                    e._dragging = !0,
                    i.disableTooltip()
                },
                stop: function() {
                    e._dragging = !1,
                    i.enableTooltip()
                },
                update: function() {
                    s.updateCfg({
                        method: "resetLayout"
                    })
                }
            })
        },
        _destroyWgtsDraggable: function() {
            var e = s.getPaperCon();
            e && e.sortable("destroy")
        },
        _initOpLocation: function(e) {
            function n(e, t) {
                return Math.round(s * (1 + e * Math[t](l)) - h)
            }
            function o(e) {
                return (e < 1.4 * Math.PI ? [ - 32, 0, "right", "center"] : e < 1.7 * Math.PI ? [0, -28, "center", "bottom"] : [32, 0, "left", "center"]).join("_")
            }
            var r = e.find(g),
            s = e.outerWidth() / 2;
            i.assert(r.length > 1);
            var a = Math.PI / (r.length - 1),
            l = 1.2 * Math.PI,
            h = r.outerWidth() / 2;
            r.each(function(e, i) {
                t(i).css({
                    left: n(.85, "cos"),
                    top: n(.85, "sin")
                }).data("tooltip-offset", o(l)),
                l += a
            })
        },
        _initOpTooltip: function(e, o) {
            function r(e) {
                var i = t(e),
                o = i.data(y);
                if (o === h.LAY_MANNER) return n.html.opTooltipDesc["abs" === i.data(v) ? h.LAY_MANNER_TO_DOC: h.LAY_MANNER_TO_ABS];
                else return n.html.opTooltipDesc[o]
            }
            var s = {
                x: 0,
                y: -15,
                xAnchor: "center",
                yAnchor: "bottom"
            },
            a = i.bindTooltip({
                bindEl: o[0],
                followMouse: !0,
                selector: g,
                location: s,
                encodeHTML: !1,
                text: r
            });
            this._disposable(a)
        },
        _initOpTooltipForRoundOpPanel: function(e, o) {
            function r(e) {
                var i = t(e).data("tooltip-offset").split("_");
                return {
                    x: Number(i[0]),
                    y: Number(i[1]),
                    xAnchor: i[2],
                    yAnchor: i[3]
                }
            }
            function s(e) {
                var i = t(e),
                o = i.data(y);
                if (o === h.LAY_MANNER) return n.html.opTooltipDesc["abs" === i.data(v) ? h.LAY_MANNER_TO_DOC: h.LAY_MANNER_TO_ABS];
                else return n.html.opTooltipDesc[o]
            }
            this._disposable(i.bindTooltip({
                bindEl: o[0],
                followMouse: !0,
                selector: g,
                location: r,
                text: s,
                encodeHTML: !1
            }), x + e.wgtId)
        },
        _dressWgt: function(e, i, r) {
            var s = t(i);
            if (s.addClass(u), s.append(t(['<div class="' + d + '">', '<div class="' + f + '">', this._renderOperationsTpl(r), "</div>", "</div>"].join(""))), this._constructSub(s.find("." + f)), this._initWgtHover(r, s), this._initOperations(r, s), r.wgtType === o.WgtType.FORMAT_TEXT) s.append(t(['<div class="dtp-wgt-ftext-mask">', '<div class="dtp-wgt-ftext-mask-hint">' + n.string.textEditor.dbclickToEdit + "</div>", "</div>"].join(""))),
            this._initFTextEdit(r, s)
        },
        _undressWgt: function(i, n, o) {
            var r = t(n),
            s = this._sub("dwgts[" + i + "].operations") || {};
            for (var l in s) if (s.hasOwnProperty(l)) {
                var h = a.getPlugin(l, o.wgtType, "dispose");
                h && h.call(this, s[l], o, r)
            }
            r.off(this._event()),
            r.find(g).off(this._event()),
            this._disposable(x + i),
            this._sub("dwgts[" + i + "]", e, !0)
        },
        _dispose: function() {
            var e = s.getPaperCon();
            e && e.sortable("destroy"),
            s.forEachWgt(this._undressWgt, this)
        }
    }),
    w = {};
    if (w[l.SIMPLE_CHART] = [h.DRAG, h.DATA_EDIT, h.CONF_EDIT, h.CODE, h.REMOVE], w[l.PLAIN_TEXT] = [h.DRAG, h.SELF_EDIT, h.REMOVE], window.isAdmin) w[l.FORMAT_TEXT] = [h.DRAG, h.CONF_EDIT, h.REMOVE];
    else w[l.FORMAT_TEXT] = [h.DRAG, h.REMOVE];
    return w[l.IMAGE] = [h.DRAG, h.RESIZE, h.SELF_EDIT, h.REMOVE],
    _
}),
define("wave/manufacture/ChartEditor", ["require", "jquery", "wave/app/ResidentPanel"],
function(require) {
    var e = require("jquery"),
    t = require("wave/app/ResidentPanel"),
    i = "cpt-chtedt",
    n = t.extend({
        _define: {
            tplTarget: "chartEditor",
            css: i
        },
        _init: function() {
            function t(e) {
                if (this.isOpened()) this._sub(e).enter()
            }
            this._sub("closeBtn").on("click", e.proxy(this.close, this));
            var i = this._sub("tab").viewModel("currentTab");
            if (this._disposable(i.subscribe(t, this)), this.isOpened()) this._sub(i()).enter()
        },
        prepareShow: function() {
            var e = this._viewModel().residenceHandle;
            if (e) this._sub("tab").viewModel("currentTab")(e.getOptions().tabKey)
        },
        _enter: function() {
            this.isOpened() && this._sub(this._sub("tab").viewModel("currentTab")()).enter()
        },
        _clear: function() {
            this._sub("dataEditor").clear(),
            this._sub("chartConfigurer").clear()
        }
    });
    return n
}),
define("wave/manufacture/PaperConfigurer", ["require", "jquery", "common/core/lang", "common/core/constant", "wave/app/ResidentPanel", "d8f3fd38.tpl", "wave/app/waveProdMgr"],
function(require) {
    function e() {
        var e = require("wave/app/waveProdMgr");
        return e.retrieveCfg({
            method: "retrievePaperTplCfg",
            dsp: "paperStyle.background-type"
        })
    }
    var t = require("jquery"),
    i = require("common/core/lang"),
    n = require("common/core/constant"),
    o = require("wave/app/ResidentPanel"),
    r = i.string.cfg,
    s = "cpt-pprcfg",
    a = "paperConfigurer",
    l = ".dtm-residence-mask",
    h = "wave/gadget/EditItem",
    c = "wave/gadget/EditBlock",
    u = o.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: s,
            viewModel: function() {
                return {
                    subViewModelList: []
                }
            }
        },
        _prepare: function() {
            this.localOb("LOCAL_OB_REFRESH_CFG", t.proxy(this.refresh, this))
        },
        _fillContent: function() {
            this._viewModel().subViewModelList = this._getSubViewModelList(),
            this._applyTpl(this.el(), a),
            this._sub("closeBtn").on("click", t.proxy(this.close, this))
        },
        _enter: function() {
            this.$el().find(l).stop(!0, !0).show().fadeOut(n.EDITOR_MASK_FADE_DURATION);
            var e = this._sub("items");
            for (var t in e) if (e.hasOwnProperty(t)) e[t].enter();
            this._sub("scrollPanel")._refresh()
        },
        _clear: function() {
            this.$el().find(l).show()
        },
        _getSubViewModelList: function() {
            for (var t = this._viewModel(), i = {
                type: "measure",
                min: 0,
                max: 100,
                defaultValue: 35,
                dataConverter: "pxStr"
            },
            o = [{
                key: "theme",
                ui: h,
                dsp: "N/A",
                refreshSuper: !0,
                gadget: "themeSelect",
                title: r.theme,
                hideDsp: !0,
                alwaysUsed: !0,
                cfgRetriever: "retrieveTheme",
                cfgUpdater: "updateTheme"
            },
            {
                key: "paperBackgroundBlock",
                ui: c,
                rows: [{
                    key: "paperBackgroundType",
                    ui: h,
                    gadget: {
                        type: "backgroundType"
                    },
                    dsp: "paperStyle.background-type",
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    refreshSuper: !0,
                    title: r.paperBackgroundType
                },
                {
                    key: "paperBackgroundColor",
                    ui: h,
                    gadget: {
                        type: "color",
                        defaultValue: "#7FCFEE"
                    },
                    dsp: "paperStyle.background-color",
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperBackgroundColor,
                    applicable: function() {
                        if ("color" === e()) return ! 0;
                        else return ! 1
                    }
                },
                {
                    key: "paperBackgroundImage",
                    ui: h,
                    gadget: {
                        type: "backgroundImageSelect"
                    },
                    dsp: "paperStyle.background-image",
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperBackgroundImage,
                    applicable: function() {
                        if ("image" === e()) return ! 0;
                        else return ! 1
                    }
                },
                {
                    key: "paperBackgroundSize",
                    ui: h,
                    gadget: {
                        type: "backgroundSize"
                    },
                    dsp: "paperStyle.background-size",
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperBackgroundSize,
                    applicable: function() {
                        if ("image" === e()) return ! 0;
                        else return ! 1
                    }
                }]
            },
            {
                key: "paperSizeBlock",
                ui: c,
                rows: [{
                    key: "paperWidth",
                    ui: h,
                    gadget: {
                        type: "measure",
                        min: 0,
                        max: 1600,
                        defaultValue: n.DEFAULT_PAPER_WIDTH,
                        dataConverter: "pxStr"
                    },
                    dsp: "paperStyle.width",
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperWidth
                },
                {
                    key: "paperPaddingLeft",
                    ui: h,
                    dsp: "paperStyle.padding-left",
                    gadget: i,
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperPaddingLeft
                },
                {
                    key: "paperPaddingRight",
                    ui: h,
                    dsp: "paperStyle.padding-right",
                    gadget: i,
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperPaddingRight
                },
                {
                    key: "paperPaddingTop",
                    ui: h,
                    dsp: "paperStyle.padding-top",
                    gadget: i,
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperPaddingTop
                },
                {
                    key: "paperPaddingBottom",
                    ui: h,
                    dsp: "paperStyle.padding-bottom",
                    gadget: i,
                    cfgRetriever: "retrievePaperTplCfg",
                    cfgUpdater: "updatePaperTplCfg",
                    hideDsp: !0,
                    title: r.paperPaddingBottom
                }]
            }], s = [], a = 0, l = o.length; l > a; a++) s.push({
                dpct: o[a],
                panelOpenStatus: t.panelOpenStatus,
                residenceHandle: t.residenceHandle
            });
            return s
        },
        refresh: function() {
            var e = this._sub("items");
            for (var t in e) if (e.hasOwnProperty(t)) e[t].enter();
            this._sub("scrollPanel")._refresh()
        }
    });
    return u
}),
define("wave/manufacture/PaperNavigator", ["require", "jquery", "common/core/lib", "common/core/constant", "wave/app/ResidentPanel", "wave/app/waveProdMgr", "common/core/lang", "wave/app/dialog", "common/core/appContext", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lib"),
    i = require("common/core/constant"),
    n = require("wave/app/ResidentPanel"),
    o = require("wave/app/waveProdMgr"),
    r = require("common/core/lang"),
    s = require("wave/app/dialog"),
    a = require("common/core/appContext"),
    l = "cpt-pprnav",
    h = "paperNavigator",
    c = ".dtm-residence-mask",
    u = ".dtm-pprnav-shot-box",
    d = ".dtm-pprnav-item-mask",
    f = ".dtm-pprnav-item",
    p = ".dtm-pprnav-item-num",
    m = "dtm-pprnav-item-selected",
    g = ".dtstl-scale",
    y = ".dtm-count-info",
    v = ".dtm-pprnav-item-ops",
    b = "dtm-pprnav-item-ops-hide",
    x = "data-dtstl-scale",
    _ = "data-paper-id",
    w = "dtm-sclpn-con-trans-anim",
    V = 132,
    U = 100,
    k = n.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: l,
            viewModel: function() {
                return {
                    panelOpenMode: i.PanelOpenMode.RIGHT_TO_LEFT,
                    paperShotSet: null,
                    paperShotViewModelList: t.obArray([])
                }
            }
        },
        _fillContent: function() {
            this._scaleRatio = 1,
            this._applyTpl(this.el(), h),
            this._initTransformStyle(),
            this._sub("closeBtn").on("click", e.proxy(this.close, this)),
            this._disposable(a.onGlobalEvent("PAPER_RESIZED", e.proxy(this._adjustScale, this)).debounce(U)),
            this._initPaperShot(),
            this._initPanelOps(),
            this._isFirstEnter = !0
        },
        _enter: function() {
            this.$el().find(v).removeClass(b),
            this.$el().find(c).stop(!0, !0).show().fadeOut(i.EDITOR_MASK_FADE_DURATION),
            o.getPaperShot().wake(this._isFirstEnter),
            this._isFirstEnter = !1
        },
        _clear: function() {
            this.$el().find(c).show(),
            o.getPaperShot().sleep()
        },
        close: function() {
            this._viewModel().residenceHandle.activeSharing(i.ResidentPanelName.PAPER_NAVIGATOR, !1, !1),
            this.$el().find(v).addClass(b)
        },
        _initPaperShot: function() {
            function t(t) {
                var i = e(t.currentTarget).attr(_);
                this._doChangeShot(i)
            }
            var i = {};
            for (var n in C) if (C.hasOwnProperty(n)) i[n] = e.proxy(C[n], this);
            o.getPaperShot().init(this._viewModel().paperShotViewModelList, i);
            var r = o.getPaperIdOb();
            r.subscribe(this._resetSelected, this),
            this.$el().find(u).on(this._event("click"), d, e.proxy(t, this)),
            this._resetShotNumber(),
            this._resetSelected(r()),
            this._adjustScale(),
            this._initTransitionAnimation()
        },
        _resetSelected: function(t) {
            this.$el().find(f).removeClass(m);
            var i = o.getPaperIndexByPaperId(t),
            n = e(this._getShotElAt(i));
            n.addClass(m),
            this._resetCountInfo(i)
        },
        _refreshScrollPanel: function() {
            var e = this._sub("scrollPanel");
            e.setContentHeightScale(this._scaleRatio),
            e.refresh()
        },
        _initPanelOps: function() {
            var t = this._sub("ops");
            t.up.on("click", e.proxy(this._doUpShot, this)),
            t.down.on("click", e.proxy(this._doDownShot, this)),
            t.add.on("click", e.proxy(this._doAddShot, this)),
            t.remove.on("click", e.proxy(this._doRemoveShot, this))
        },
        _initTransitionAnimation: function() {
            var e = this;
            setTimeout(function() {
                e.$el().find(u).addClass(w)
            },
            0)
        },
        _doChangeShot: function(e) {
            o.getPaperIdOb()(e)
        },
        _doUpShot: function() {
            o.movePaper(null, -1),
            this._resetShotNumber(),
            this._resetCountInfo(o.getCurrPaperIndex())
        },
        _doDownShot: function() {
            o.movePaper(null, 1),
            this._resetShotNumber(),
            this._resetCountInfo(o.getCurrPaperIndex())
        },
        _doAddShot: function() {
            o.createPaper(),
            this._resetShotNumber(),
            this._resetCountInfo(o.getCurrPaperIndex()),
            this._refreshScrollPanel()
        },
        _doRemoveShot: function() {
            function t() {
                o.removePaper(),
                this._resetShotNumber(),
                this._resetCountInfo(o.getCurrPaperIndex()),
                this._refreshScrollPanel()
            }
            s.confirm({
                content: r.html.confirmRemovePaper,
                textYes: r.string.dialog.remove,
                textCancel: r.string.dialog.cancel,
                onYes: e.proxy(t, this),
                encodeHTML: !1
            })
        },
        _getShotElAt: function(e) {
            var t = this._sub("paperShotList"),
            i = t.getItemAt(e);
            return i.el()
        },
        _initTransformStyle: function() {
            var e = this._scaleRatio;
            this.$el().find(u)[0].style.cssText += ["-webkit-transform:scale(", e, ");", "-moz-transform:scale(", e, ");", "-ms-transform:scale(", e, ");", "-o-transform:scale(", e, ");", "transform:scale(", e, ");"].join("")
        },
        _adjustScale: function() {
            var e = o.getPaperSize(),
            t = V / e.width;
            isNaN(t) && (t = 1e-4),
            this._scaleRatio = t;
            var i = this.$el().find(u);
            i[0].style.cssText = i[0].style.cssText.replace(/scale\(.*?\)/g, "scale(" + t + ")"),
            this._resetScaleStyle(this.$el()),
            this._refreshScrollPanel()
        },
        _resetScaleStyle: function(i) {
            function n(i, n) {
                var r = e(n),
                s = t.parseInlineCss(r.attr(x));
                for (var a in s) if (s.hasOwnProperty(a)) s[a] = Math.round(parseInt(s[a], 10) / o) + "px";
                r.css(s)
            }
            var o = this._scaleRatio;
            i.find(g).each(n),
            n(null, i)
        },
        _resetShotNumber: function() {
            this.$el().find(p).each(function(e, t) {
                t.innerHTML = e + 1
            })
        },
        _resetCountInfo: function(e) {
            this.$el().find(y)[0].innerHTML = e + 1 + "&nbsp;/&nbsp;" + this._sub("paperShotList").count()
        },
        _disposeFinally: function() {
            this._$opsBox && this._$opsBox.remove()
        }
    }),
    C = {
        getShotElAt: function(e) {
            return this._getShotElAt(e)
        },
        isShotVisible: function() {
            return !! this.el().offsetWidth
        },
        refreshScrollPanel: function() {
            this._refreshScrollPanel()
        },
        dressShotEl: function(e) {
            this._resetScaleStyle(e)
        },
        undressShotEl: function() {}
    };
    return k
}),
define("wave/manufacture/ImageConfigurer", ["require", "jquery", "common/core/lang", "common/core/url", "common/core/constant", "wave/app/ResidentPanel", "wave/app/waveProdMgr", "d8f3fd38.tpl"],
function(require) {
    function e(e) {
        var t = this._viewModel().residenceHandle.getWgtId();
        a.updateCfg({
            wgtId: t,
            dsp: "imgSrc",
            value: e.url,
            method: "updateWgtTplCfg"
        }),
        a.updateCfg({
            wgtId: t,
            dsp: "imgCode",
            value: e.imgCode,
            method: "updateWgtTplCfg",
            viewUpdater: "refreshWgtImgSrc"
        })
    }
    function t() {
        var e = this._viewModel().residenceHandle.getWgtId(),
        t = a.retrieveCfg({
            method: "retrieveWgtTplCfg",
            wgtId: e,
            dsp: "imgCode"
        });
        return [{
            name: "prodId",
            value: a.getProdId()
        },
        {
            name: "wgtId",
            value: e
        },
        {
            name: "imgCode",
            value: t || ""
        }]
    }
    var i = require("jquery"),
    n = require("common/core/lang"),
    o = require("common/core/url"),
    r = require("common/core/constant"),
    s = require("wave/app/ResidentPanel"),
    a = require("wave/app/waveProdMgr"),
    l = "cpt-imgcfg",
    h = "imageConfigurer",
    c = ".dtm-residence-mask",
    u = "wave/gadget/EditItem",
    d = "input/Uploader",
    f = s.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: l,
            viewModel: function() {
                return {
                    subViewModelList: []
                }
            }
        },
        _fillContent: function() {
            var e = this._viewModel();
            e.subViewModelList = this._getSubViewModelList(),
            this._applyTpl(this.el(), h),
            this._sub("closeBtn").on("click", i.proxy(this.close, this))
        },
        _enter: function() {
            this.$el().find(c).stop(!0, !0).show().fadeOut(r.EDITOR_MASK_FADE_DURATION);
            var e = this._sub("items");
            for (var t in e) if (e.hasOwnProperty(t)) e[t].enter && e[t].enter()
        },
        _clear: function() {
            this.$el().find(c).show()
        },
        _getSubViewModelList: function() {
            var s = this._viewModel();
            return [{
                dpct: {
                    key: "url",
                    ui: u,
                    gadget: {
                        type: "text",
                        defaultValue: ""
                    },
                    dsp: "imgSrc",
                    title: n.string.cfg.imgSrc,
                    cfgRetriever: "retrieveWgtTplCfg",
                    cfgUpdater: "updateWgtTplCfg",
                    viewUpdater: "refreshWgtImgSrc",
                    hideDsp: !0
                },
                panelOpenStatus: s.panelOpenStatus,
                residenceHandle: s.residenceHandle
            },
            {
                dpct: {
                    key: "imgUploader",
                    ui: d
                },
                uploadURL: o.net("wgtImgUpload"),
                uploadType: r.UploadType.IMAGE,
                done: i.proxy(e, this),
                formData: i.proxy(t, this)
            }]
        }
    });
    return f
}),
define("wave/manufacture/FormatTextConfigurer", ["require", "jquery", "common/core/lang", "common/core/constant", "wave/app/ResidentPanel", "d8f3fd38.tpl"],
function(require) {
    var e = require("jquery"),
    t = require("common/core/lang"),
    i = require("common/core/constant"),
    n = require("wave/app/ResidentPanel"),
    o = "cpt-ftextcfg",
    r = "formatTextConfigurer",
    s = ".dtm-residence-mask",
    a = "wave/gadget/EditItem",
    l = n.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: o,
            viewModel: function() {
                return {
                    subViewModelList: []
                }
            }
        },
        _fillContent: function() {
            var t = this._viewModel();
            t.subViewModelList = this._getSubViewModelList(),
            this._applyTpl(this.el(), r),
            this._sub("closeBtn").on("click", e.proxy(this.close, this))
        },
        _enter: function() {
            this.$el().find(s).stop(!0, !0).show().fadeOut(i.EDITOR_MASK_FADE_DURATION);
            var e = this._sub("items");
            for (var t in e) if (e.hasOwnProperty(t)) e[t].enter && e[t].enter()
        },
        _clear: function() {
            this.$el().find(s).show()
        },
        _getSubViewModelList: function() {
            var e = this._viewModel();
            return [{
                dpct: {
                    key: "font-size",
                    ui: a,
                    gadget: {
                        type: "measure",
                        min: 12,
                        max: 100,
                        dataConverter: "pxStr"
                    },
                    dsp: "wgtStyle.font-size",
                    title: t.string.cfg.fontSize,
                    cfgRetriever: "retrieveWgtTplCfg",
                    cfgUpdater: "updateWgtTplCfg",
                    viewUpdater: "refreshWgtStyle"
                },
                panelOpenStatus: e.panelOpenStatus,
                residenceHandle: e.residenceHandle
            }]
        }
    });
    return l
}),
define("wave/manufacture/Zoomer", ["require", "common/component/Component"],
function(require) {
    var e = require("common/component/Component"),
    t = e.extend({
        _define: {
            tplTarget: "zoomer",
            css: "cpt-zoomer",
            viewModel: function() {
                return {}
            }
        },
        _prepare: function() {},
        _dispose: function() {}
    });
    return t
}),
define("wave/textNavigator/TextNavigator", ["require", "exports"],
function(require, exports) {
    return exports.init = function() {},
    exports
}),
define("wave/gadget/ThemeGadget", ["require", "wave/gadget/Gadget", "jquery", "common/core/lib", "common/core/constant", "common/core/themeMgr", "common/core/lang", "common/core/ajax", "common/core/url", "common/core/appContext", "wave/chartConfigurer/depictionMgr", "d8f3fd38.tpl"],
function(require) {
    function e() {
        var e = this._viewModel().isOpenOb;
        e(!e())
    }
    function t(e) {
        var t = this._viewModel(),
        i = s(e.target).parent(),
        n = i.attr(g);
        if (n !== t.valueOb()) t.valueOb(n, a.valueInfo(a.valueInfo.CONFIRMED))
    }
    function i(e) {
        var t = this._sub("opener"),
        i = this.$el(),
        n = i.find(x),
        o = s.proxy(this._refreshSuperScroll, this);
        if (e) t.viewModel("text")(c.panelOpenerCollapse),
        n.slideDown(m, o);
        else t.viewModel("text")(c.panelOpenerMore),
        n.slideUp(m, o)
    }
    function n() {
        var e = this._viewModel(),
        t = e.valueOb(),
        i = l.getInfo(t).thumbnail,
        n = this.$el(),
        o = n.find(v);
        o.attr("src", i);
        var r = n.find(b);
        r.removeClass(y),
        n.find("li[" + g + '="' + t + '"]').addClass(y)
    }
    function o() {
        var e = new s.Deferred;
        return u(d.net("getAllStyle"), {
            method: "GET",
            dataType: "ejson"
        }).then(function(e) {
            s(document.body).append(e)
        },
        function(t) {
            e.reject(t)
        }),
        e.promise()
    }
    var r = require("wave/gadget/Gadget"),
    s = require("jquery"),
    a = require("common/core/lib"),
    l = (require("common/core/constant"), require("common/core/themeMgr")),
    h = require("common/core/lang"),
    c = h.string,
    u = require("common/core/ajax"),
    d = require("common/core/url"),
    f = (require("common/core/appContext"), require("wave/chartConfigurer/depictionMgr")),
    p = "gadgetThemeGadget",
    m = 400,
    g = "data-value",
    y = "cpt-theggt-selected",
    v = ".cpt-theggt-cur img",
    b = ".cpt-theggt-list li",
    x = ".cpt-theggt-list",
    _ = r.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-theggt",
            viewModel: function() {
                return {
                    valueOb: a.ob(""),
                    dataOb: a.ob([]),
                    isOpenOb: a.ob(!1)
                }
            }
        },
        _prepare: function() {
            var e = this._viewModel(),
            t = e.dpct;
            f.fillViewModelByDepiction(e, t, {
                valueOb: "defaultValue",
                dataOb: "data"
            }),
            e.value = e.valueOb(),
            e.data = e.dataOb()
        },
        _packCfg: function() {
            return this._viewModel().valueOb()
        },
        _getCfgAccepter: function(e) {
            var t = this._viewModel();
            return function() {
                t.valueOb(e),
                t.value = t.valueOb()
            }
        },
        _fillContent: function() {
            o.call(this),
            this._applyTpl(this.el(), p);
            var r = this.$el(),
            a = this._viewModel(),
            l = this._sub("opener"),
            h = r.find(b),
            u = r.find(v);
            l.viewModel("text")(c.panelOpenerMore),
            l.on("click", s.proxy(e, this)),
            u.on("click", s.proxy(e, this)),
            h.on("click", s.proxy(t, this)),
            this._disposable(a.isOpenOb.subscribe(i, this)),
            this._disposable(a.valueOb.subscribe(n, this)),
            this._persistentOnConfirmed(a.valueOb),
            n.call(this)
        }
    });
    return _
}),
define("wave/gadget/ImageSelectGadget", ["require", "jquery", "common/core/lib", "wave/gadget/Gadget", "wave/chartConfigurer/depictionMgr", "common/core/lang", "common/core/constant", "common/core/url", "d8f3fd38.tpl", "wave/app/waveProdMgr"],
function(require) {
    function e() {
        var e = require("wave/app/waveProdMgr");
        return [{
            name: "prodId",
            value: e.getProdId()
        },
        {
            name: "preImg",
            value: this._viewModel().value
        }]
    }
    function t() {
        var e = this._viewModel().isOpenOb;
        e(!e())
    }
    function i(e) {
        var t = this._viewModel().isOpenOb;
        if (t() === !1) return void t(!t());
        var i = this._viewModel();
        if ("IMG" === e.target.tagName.toUpperCase()) {
            var n = s(e.target).attr("src");
            if (n !== i.valueOb()) i.valueOb(n, a.valueInfo(a.valueInfo.CONFIRMED))
        }
    }
    function n(e) {
        var t = this._sub("opener"),
        i = this.$el().find(m),
        n = s.proxy(this._refreshSuperScroll, this);
        if (e) t.viewModel("text")(d.panelOpenerCollapse),
        i.slideDown(y, n);
        else t.viewModel("text")(d.panelOpenerMore),
        i.slideUp(y, n)
    }
    function o() {
        var e = this._viewModel();
        e.value = e.valueOb(),
        this.$el().find(g).attr("src", e.value)
    }
    function r(e) {
        var t = this._viewModel();
        t.valueOb(e.url, a.valueInfo(a.valueInfo.CONFIRMED))
    }
    var s = require("jquery"),
    a = require("common/core/lib"),
    l = require("wave/gadget/Gadget"),
    h = require("wave/chartConfigurer/depictionMgr"),
    c = require("common/core/lang"),
    u = require("common/core/constant"),
    d = c.string,
    f = require("common/core/url"),
    p = "gadgetImageSelectGadget",
    m = ".cpt-isggt-list",
    g = ".cpt-isggt-cur img",
    y = 400,
    v = l.extend({
        _define: {
            tpl: require("d8f3fd38.tpl"),
            css: "cpt-isggt",
            viewModel: function() {
                return {
                    valueOb: a.ob(""),
                    dataOb: a.ob([]),
                    isOpenOb: a.ob(!1)
                }
            }
        },
        _prepare: function() {
            var t = this._viewModel(),
            i = t.dpct;
            t.imageUploader = {
                uploadURL: f.net("uploadBgImage"),
                uploadType: u.UploadType.IMAGE,
                done: s.proxy(r, this),
                formData: s.proxy(e, this),
                css: ["cpt-isggt-upload"]
            },
            h.fillViewModelByDepiction(t, i, {
                valueOb: "defaultValue",
                dataOb: "data"
            }),
            t.value = t.valueOb(),
            t.data = t.dataOb()
        },
        _fillContent: function() {
            var e = this._viewModel();
            this._applyTpl(this.$el(), p);
            var r = this._sub("opener"),
            a = this.$el().find(m);
            r.viewModel("text")(d.panelOpenerMore),
            r.on("click", s.proxy(t, this)),
            a.on("click", s.proxy(i, this)),
            this._disposable(e.isOpenOb.subscribe(n, this)),
            this._disposable(e.valueOb.subscribe(o, this)),
            this._persistentOnConfirmed(e.valueOb)
        },
        _packCfg: function() {
            var e = this._viewModel().valueOb();
            return "url(" + e + ")"
        },
        _getCfgAccepter: function(e) {
            var t = this._viewModel();
            if (!e) return ! 1;
            if (/^url\((.*)\)$/.test(e)) e = e.match(/^url\((.*)\)$/)[1];
            return function() {
                t.valueOb(e),
                t.value = t.valueOb()
            }
        }
    });
    return v
}),
define("common/component/componentConfig", ["require", "common/component/Component", "common/component/Foreach", "common/component/Button", "common/component/Tab", "common/component/ScrollPanel", "common/component/input/GadgetSwitch", "common/component/input/StatusButton", "common/component/input/SwitchButton", "common/component/input/Select", "common/component/input/TreeSelect", "common/component/input/Slider", "common/component/input/ColorPicker", "common/component/input/TextInput", "common/component/input/LinkInput", "common/component/input/CheckButton", "common/component/input/BoxParamInput", "common/component/input/RadiusInput", "common/component/input/ChartTypeInput", "common/component/input/Uploader", "common/component/Failure", "wave/app/Wave", "wave/app/BasePanel", "wave/app/ResidentPanel", "wave/addPanel/AddChartPanel", "wave/addPanel/AddProdPanel", "wave/chartConfigurer/ChartConfigurer", "wave/chartConfigurer/SubTabPanel", "wave/chartConfigurer/SeriesTabPanel", "wave/chartConfigurer/InnerTabPanel", "wave/chartConfigurer/AxisPointerPanel", "wave/gadget/EditPanel", "wave/gadget/EditBlock", "wave/gadget/FoldableEditBlock", "wave/gadget/ConfBasePanel", "wave/gadget/EditItem", "wave/gadget/Gadget", "wave/gadget/MeasureGadget", "wave/gadget/RangeMeasureGadget", "wave/gadget/BooleanGadget", "wave/gadget/BoxStyleGadget", "wave/gadget/ChartTypeGadget", "wave/gadget/ColorGadget", "wave/gadget/ColorListGadget", "wave/gadget/RatioColorListGadget", "wave/gadget/SelectGadget", "wave/gadget/MapTypeSelectGadget", "wave/gadget/TextInputGadget", "wave/gadget/TextListGadget", "wave/gadget/FormatterGadget", "wave/gadget/FloatInputGadget", "wave/gadget/ArrayValueGadget", "wave/chartNavigator/ChartNavigator", "wave/dataEditor/DataEditor", "wave/dataEditor/ConfigurerCatval", "wave/gallery/Gallery", "wave/gallery/ProdItem", "wave/manufacture/Manufacture", "wave/manufacture/AddSelectPanel", "wave/manufacture/Paper", "wave/manufacture/ChartEditor", "wave/manufacture/PaperConfigurer", "wave/manufacture/PaperNavigator", "wave/manufacture/ImageConfigurer", "wave/manufacture/FormatTextConfigurer", "wave/manufacture/Zoomer", "wave/textNavigator/TextNavigator", "wave/gadget/ThemeGadget", "wave/gadget/ImageSelectGadget"],
function(require) {
    var e = require("common/component/Component"),
    t = e.cptClasses;
    t.foreach = require("common/component/Foreach"),
    t.button = require("common/component/Button"),
    t.tab = require("common/component/Tab"),
    t.scrollPanel = require("common/component/ScrollPanel"),
    t["input/GadgetSwitch"] = require("common/component/input/GadgetSwitch"),
    t["input/StatusButton"] = require("common/component/input/StatusButton"),
    t["input/SwitchButton"] = require("common/component/input/SwitchButton"),
    t["input/Select"] = require("common/component/input/Select"),
    t["input/TreeSelect"] = require("common/component/input/TreeSelect"),
    t["input/Slider"] = require("common/component/input/Slider"),
    t["input/ColorPicker"] = require("common/component/input/ColorPicker"),
    t["input/TextInput"] = require("common/component/input/TextInput"),
    t["input/LinkInput"] = require("common/component/input/LinkInput"),
    t["input/CheckButton"] = require("common/component/input/CheckButton"),
    t["input/BoxParamInput"] = require("common/component/input/BoxParamInput"),
    t["input/RadiusInput"] = require("common/component/input/RadiusInput"),
    t["input/ChartTypeInput"] = require("common/component/input/ChartTypeInput"),
    t["input/Uploader"] = require("common/component/input/Uploader"),
    t["common/component/Failure"] = require("common/component/Failure"),
    t["wave/app/Wave"] = require("wave/app/Wave"),
    t["wave/app/BasePanel"] = require("wave/app/BasePanel"),
    t["wave/app/ResidentPanel"] = require("wave/app/ResidentPanel"),
    t["wave/addPanel/AddChartPanel"] = require("wave/addPanel/AddChartPanel"),
    t["wave/addPanel/AddProdPanel"] = require("wave/addPanel/AddProdPanel"),
    t["wave/chartConfigurer/ChartConfigurer"] = require("wave/chartConfigurer/ChartConfigurer"),
    t["wave/chartConfigurer/SubTabPanel"] = require("wave/chartConfigurer/SubTabPanel"),
    t["wave/chartConfigurer/SeriesTabPanel"] = require("wave/chartConfigurer/SeriesTabPanel"),
    t["wave/chartConfigurer/InnerTabPanel"] = require("wave/chartConfigurer/InnerTabPanel"),
    t["wave/chartConfigurer/AxisPointerPanel"] = require("wave/chartConfigurer/AxisPointerPanel"),
    t["wave/gadget/EditPanel"] = require("wave/gadget/EditPanel"),
    t["wave/gadget/EditBlock"] = require("wave/gadget/EditBlock"),
    t["wave/gadget/FoldableEditBlock"] = require("wave/gadget/FoldableEditBlock"),
    t["wave/gadget/ConfBasePanel"] = require("wave/gadget/ConfBasePanel"),
    t["wave/gadget/EditItem"] = require("wave/gadget/EditItem"),
    t["wave/gadget/Gadget"] = require("wave/gadget/Gadget"),
    t["wave/gadget/MeasureGadget"] = require("wave/gadget/MeasureGadget"),
    t["wave/gadget/RangeMeasureGadget"] = require("wave/gadget/RangeMeasureGadget"),
    t["wave/gadget/BooleanGadget"] = require("wave/gadget/BooleanGadget"),
    t["wave/gadget/BoxStyleGadget"] = require("wave/gadget/BoxStyleGadget"),
    t["wave/gadget/ChartTypeGadget"] = require("wave/gadget/ChartTypeGadget"),
    t["wave/gadget/ColorGadget"] = require("wave/gadget/ColorGadget"),
    t["wave/gadget/ColorListGadget"] = require("wave/gadget/ColorListGadget"),
    t["wave/gadget/RatioColorListGadget"] = require("wave/gadget/RatioColorListGadget"),
    t["wave/gadget/SelectGadget"] = require("wave/gadget/SelectGadget"),
    t["wave/gadget/MapTypeSelectGadget"] = require("wave/gadget/MapTypeSelectGadget"),
    t["wave/gadget/TextInputGadget"] = require("wave/gadget/TextInputGadget"),
    t["wave/gadget/TextListGadget"] = require("wave/gadget/TextListGadget"),
    t["wave/gadget/FormatterGadget"] = require("wave/gadget/FormatterGadget"),
    t["wave/gadget/FloatInputGadget"] = require("wave/gadget/FloatInputGadget"),
    t["wave/gadget/ArrayValueGadget"] = require("wave/gadget/ArrayValueGadget"),
    t["wave/chartNavigator/ChartNavigator"] = require("wave/chartNavigator/ChartNavigator"),
    t["wave/dataEditor/DataEditor"] = require("wave/dataEditor/DataEditor"),
    t["wave/dataEditor/ConfigurerCatval"] = require("wave/dataEditor/ConfigurerCatval"),
    t["wave/gallery/Gallery"] = require("wave/gallery/Gallery"),
    t["wave/gallery/ProdItem"] = require("wave/gallery/ProdItem"),
    t["wave/manufacture/Manufacture"] = require("wave/manufacture/Manufacture"),
    t["wave/manufacture/AddSelectPanel"] = require("wave/manufacture/AddSelectPanel"),
    t["wave/manufacture/Paper"] = require("wave/manufacture/Paper"),
    t["wave/manufacture/ChartEditor"] = require("wave/manufacture/ChartEditor"),
    t["wave/manufacture/PaperConfigurer"] = require("wave/manufacture/PaperConfigurer"),
    t["wave/manufacture/PaperNavigator"] = require("wave/manufacture/PaperNavigator"),
    t["wave/manufacture/ImageConfigurer"] = require("wave/manufacture/ImageConfigurer"),
    t["wave/manufacture/FormatTextConfigurer"] = require("wave/manufacture/FormatTextConfigurer"),
    t["wave/manufacture/Zoomer"] = require("wave/manufacture/Zoomer"),
    t["wave/textNavigator/TextNavigator"] = require("wave/textNavigator/TextNavigator"),
    t["wave/gadget/ThemeGadget"] = require("wave/gadget/ThemeGadget"),
    t["wave/gadget/ThemeGadget"] = require("wave/gadget/ThemeGadget"),
    t["wave/gadget/ImageSelectGadget"] = require("wave/gadget/ImageSelectGadget")
}),
define("jqueryui", ["jquery"],
function() {
    jQuery = require("jquery"),
    function(e, t) {
        function i(t, i) {
            var o, r, s, a = t.nodeName.toLowerCase();
            if ("area" === a) if (o = t.parentNode, r = o.name, !t.href || !r || "map" !== o.nodeName.toLowerCase()) return ! 1;
            else return s = e("img[usemap=#" + r + "]")[0],
            !!s && n(s);
            return (/input|select|textarea|button|object/.test(a) ? !t.disabled: "a" === a ? t.href || i: i) && n(t)
        }
        function n(t) {
            return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
                return "hidden" === e.css(this, "visibility")
            }).length
        }
        var o = 0,
        r = /^ui-id-\d+$/;
        if (e.ui = e.ui || {},
        e.extend(e.ui, {
            version: "1.10.4",
            keyCode: {
                BACKSPACE: 8,
                COMMA: 188,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                LEFT: 37,
                NUMPAD_ADD: 107,
                NUMPAD_DECIMAL: 110,
                NUMPAD_DIVIDE: 111,
                NUMPAD_ENTER: 108,
                NUMPAD_MULTIPLY: 106,
                NUMPAD_SUBTRACT: 109,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SPACE: 32,
                TAB: 9,
                UP: 38
            }
        }), e.fn.extend({
            focus: function(t) {
                return function(i, n) {
                    return "number" == typeof i ? this.each(function() {
                        var t = this;
                        setTimeout(function() {
                            if (e(t).focus(), n) n.call(t)
                        },
                        i)
                    }) : t.apply(this, arguments)
                }
            } (e.fn.focus),
            scrollParent: function() {
                var t;
                if (e.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position"))) t = this.parents().filter(function() {
                    return /(relative|absolute|fixed)/.test(e.css(this, "position")) && /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
                }).eq(0);
                else t = this.parents().filter(function() {
                    return /(auto|scroll)/.test(e.css(this, "overflow") + e.css(this, "overflow-y") + e.css(this, "overflow-x"))
                }).eq(0);
                return /fixed/.test(this.css("position")) || !t.length ? e(document) : t
            },
            zIndex: function(i) {
                if (i !== t) return this.css("zIndex", i);
                if (this.length) for (var n, o, r = e(this[0]); r.length && r[0] !== document;) {
                    if (n = r.css("position"), "absolute" === n || "relative" === n || "fixed" === n) if (o = parseInt(r.css("zIndex"), 10), !isNaN(o) && 0 !== o) return o;
                    r = r.parent()
                }
                return 0
            },
            uniqueId: function() {
                return this.each(function() {
                    if (!this.id) this.id = "ui-id-" + ++o
                })
            },
            removeUniqueId: function() {
                return this.each(function() {
                    if (r.test(this.id)) e(this).removeAttr("id")
                })
            }
        }), e.extend(e.expr[":"], {
            data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
                return function(i) {
                    return !! e.data(i, t)
                }
            }) : function(t, i, n) {
                return !! e.data(t, n[3])
            },
            focusable: function(t) {
                return i(t, !isNaN(e.attr(t, "tabindex")))
            },
            tabbable: function(t) {
                var n = e.attr(t, "tabindex"),
                o = isNaN(n);
                return (o || n >= 0) && i(t, !o)
            }
        }), !e("<a>").outerWidth(1).jquery) e.each(["Width", "Height"],
        function(i, n) {
            function o(t, i, n, o) {
                return e.each(r,
                function() {
                    if (i -= parseFloat(e.css(t, "padding" + this)) || 0, n) i -= parseFloat(e.css(t, "border" + this + "Width")) || 0;
                    if (o) i -= parseFloat(e.css(t, "margin" + this)) || 0
                }),
                i
            }
            var r = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
            s = n.toLowerCase(),
            a = {
                innerWidth: e.fn.innerWidth,
                innerHeight: e.fn.innerHeight,
                outerWidth: e.fn.outerWidth,
                outerHeight: e.fn.outerHeight
            };
            e.fn["inner" + n] = function(i) {
                if (i === t) return a["inner" + n].call(this);
                else return this.each(function() {
                    e(this).css(s, o(this, i) + "px")
                })
            },
            e.fn["outer" + n] = function(t, i) {
                if ("number" != typeof t) return a["outer" + n].call(this, t);
                else return this.each(function() {
                    e(this).css(s, o(this, t, !0, i) + "px")
                })
            }
        });
        if (!e.fn.addBack) e.fn.addBack = function(e) {
            return this.add(null == e ? this.prevObject: this.prevObject.filter(e))
        };
        if (e("<a>").data("a-b", "a").removeData("a-b").data("a-b")) e.fn.removeData = function(t) {
            return function(i) {
                if (arguments.length) return t.call(this, e.camelCase(i));
                else return t.call(this)
            }
        } (e.fn.removeData);
        e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
        e.support.selectstart = "onselectstart" in document.createElement("div"),
        e.fn.extend({
            disableSelection: function() {
                return this.bind((e.support.selectstart ? "selectstart": "mousedown") + ".ui-disableSelection",
                function(e) {
                    e.preventDefault()
                })
            },
            enableSelection: function() {
                return this.unbind(".ui-disableSelection")
            }
        }),
        e.extend(e.ui, {
            plugin: {
                add: function(module, t, i) {
                    var n, o = e.ui[module].prototype;
                    for (n in i) o.plugins[n] = o.plugins[n] || [],
                    o.plugins[n].push([t, i[n]])
                },
                call: function(e, t, i) {
                    var n, o = e.plugins[t];
                    if (o && e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType) for (n = 0; n < o.length; n++) if (e.options[o[n][0]]) o[n][1].apply(e.element, i)
                }
            },
            hasScroll: function(t, i) {
                if ("hidden" === e(t).css("overflow")) return ! 1;
                var n = i && "left" === i ? "scrollLeft": "scrollTop",
                o = !1;
                if (t[n] > 0) return ! 0;
                else return t[n] = 1,
                o = t[n] > 0,
                t[n] = 0,
                o
            }
        })
    } (jQuery),
    function(e, t) {
        var i = 0,
        n = Array.prototype.slice,
        o = e.cleanData;
        e.cleanData = function(t) {
            for (var i, n = 0; null != (i = t[n]); n++) try {
                e(i).triggerHandler("remove")
            } catch(r) {}
            o(t)
        },
        e.widget = function(t, i, n) {
            var o, r, s, a, l = {},
            h = t.split(".")[0];
            if (t = t.split(".")[1], o = h + "-" + t, !n) n = i,
            i = e.Widget;
            if (e.expr[":"][o.toLowerCase()] = function(t) {
                return !! e.data(t, o)
            },
            e[h] = e[h] || {},
            r = e[h][t], s = e[h][t] = function(e, t) {
                if (!this._createWidget) return new s(e, t);
                if (arguments.length) this._createWidget(e, t)
            },
            e.extend(s, r, {
                version: n.version,
                _proto: e.extend({},
                n),
                _childConstructors: []
            }), a = new i, a.options = e.widget.extend({},
            a.options), e.each(n,
            function(t, n) {
                if (!e.isFunction(n)) return void(l[t] = n);
                else return void(l[t] = function() {
                    var e = function() {
                        return i.prototype[t].apply(this, arguments)
                    },
                    o = function(e) {
                        return i.prototype[t].apply(this, e)
                    };
                    return function() {
                        var t, i = this._super,
                        r = this._superApply;
                        return this._super = e,
                        this._superApply = o,
                        t = n.apply(this, arguments),
                        this._super = i,
                        this._superApply = r,
                        t
                    }
                } ())
            }), s.prototype = e.widget.extend(a, {
                widgetEventPrefix: r ? a.widgetEventPrefix || t: t
            },
            l, {
                constructor: s,
                namespace: h,
                widgetName: t,
                widgetFullName: o
            }), r) e.each(r._childConstructors,
            function(t, i) {
                var n = i.prototype;
                e.widget(n.namespace + "." + n.widgetName, s, i._proto)
            }),
            delete r._childConstructors;
            else i._childConstructors.push(s);
            e.widget.bridge(t, s)
        },
        e.widget.extend = function(i) {
            for (var o, r, s = n.call(arguments, 1), a = 0, l = s.length; l > a; a++) for (o in s[a]) if (r = s[a][o], s[a].hasOwnProperty(o) && r !== t) if (e.isPlainObject(r)) i[o] = e.isPlainObject(i[o]) ? e.widget.extend({},
            i[o], r) : e.widget.extend({},
            r);
            else i[o] = r;
            return i
        },
        e.widget.bridge = function(i, o) {
            var r = o.prototype.widgetFullName || i;
            e.fn[i] = function(s) {
                var a = "string" == typeof s,
                l = n.call(arguments, 1),
                h = this;
                if (s = !a && l.length ? e.widget.extend.apply(null, [s].concat(l)) : s, a) this.each(function() {
                    var n, o = e.data(this, r);
                    if (!o) return e.error("cannot call methods on " + i + " prior to initialization; attempted to call method '" + s + "'");
                    if (!e.isFunction(o[s]) || "_" === s.charAt(0)) return e.error("no such method '" + s + "' for " + i + " widget instance");
                    if (n = o[s].apply(o, l), n !== o && n !== t) return h = n && n.jquery ? h.pushStack(n.get()) : n,
                    !1;
                    else return void 0
                });
                else this.each(function() {
                    var t = e.data(this, r);
                    if (t) t.option(s || {})._init();
                    else e.data(this, r, new o(s, this))
                });
                return h
            }
        },
        e.Widget = function() {},
        e.Widget._childConstructors = [],
        e.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            defaultElement: "<div>",
            options: {
                disabled: !1,
                create: null
            },
            _createWidget: function(t, n) {
                if (n = e(n || this.defaultElement || this)[0], this.element = e(n), this.uuid = i++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = e.widget.extend({},
                this.options, this._getCreateOptions(), t), this.bindings = e(), this.hoverable = e(), this.focusable = e(), n !== this) e.data(n, this.widgetFullName, this),
                this._on(!0, this.element, {
                    remove: function(e) {
                        if (e.target === n) this.destroy()
                    }
                }),
                this.document = e(n.style ? n.ownerDocument: n.document || n),
                this.window = e(this.document[0].defaultView || this.document[0].parentWindow);
                this._create(),
                this._trigger("create", null, this._getCreateEventData()),
                this._init()
            },
            _getCreateOptions: e.noop,
            _getCreateEventData: e.noop,
            _create: e.noop,
            _init: e.noop,
            destroy: function() {
                this._destroy(),
                this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),
                this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"),
                this.bindings.unbind(this.eventNamespace),
                this.hoverable.removeClass("ui-state-hover"),
                this.focusable.removeClass("ui-state-focus")
            },
            _destroy: e.noop,
            widget: function() {
                return this.element
            },
            option: function(i, n) {
                var o, r, s, a = i;
                if (0 === arguments.length) return e.widget.extend({},
                this.options);
                if ("string" == typeof i) if (a = {},
                o = i.split("."), i = o.shift(), o.length) {
                    for (r = a[i] = e.widget.extend({},
                    this.options[i]), s = 0; s < o.length - 1; s++) r[o[s]] = r[o[s]] || {},
                    r = r[o[s]];
                    if (i = o.pop(), 1 === arguments.length) return r[i] === t ? null: r[i];
                    r[i] = n
                } else {
                    if (1 === arguments.length) return this.options[i] === t ? null: this.options[i];
                    a[i] = n
                }
                return this._setOptions(a),
                this
            },
            _setOptions: function(e) {
                var t;
                for (t in e) this._setOption(t, e[t]);
                return this
            },
            _setOption: function(e, t) {
                if (this.options[e] = t, "disabled" === e) this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!t).attr("aria-disabled", t),
                this.hoverable.removeClass("ui-state-hover"),
                this.focusable.removeClass("ui-state-focus");
                return this
            },
            enable: function() {
                return this._setOption("disabled", !1)
            },
            disable: function() {
                return this._setOption("disabled", !0)
            },
            _on: function(t, i, n) {
                var o, r = this;
                if ("boolean" != typeof t) n = i,
                i = t,
                t = !1;
                if (!n) n = i,
                i = this.element,
                o = this.widget();
                else i = o = e(i),
                this.bindings = this.bindings.add(i);
                e.each(n,
                function(n, s) {
                    function a() {
                        if (t || r.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled")) return ("string" == typeof s ? r[s] : s).apply(r, arguments);
                        else return void 0
                    }
                    if ("string" != typeof s) a.guid = s.guid = s.guid || a.guid || e.guid++;
                    var l = n.match(/^(\w+)\s*(.*)$/),
                    h = l[1] + r.eventNamespace,
                    c = l[2];
                    if (c) o.delegate(c, h, a);
                    else i.bind(h, a)
                })
            },
            _off: function(e, t) {
                t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
                e.unbind(t).undelegate(t)
            },
            _delay: function(e, t) {
                function i() {
                    return ("string" == typeof e ? n[e] : e).apply(n, arguments)
                }
                var n = this;
                return setTimeout(i, t || 0)
            },
            _hoverable: function(t) {
                this.hoverable = this.hoverable.add(t),
                this._on(t, {
                    mouseenter: function(t) {
                        e(t.currentTarget).addClass("ui-state-hover")
                    },
                    mouseleave: function(t) {
                        e(t.currentTarget).removeClass("ui-state-hover")
                    }
                })
            },
            _focusable: function(t) {
                this.focusable = this.focusable.add(t),
                this._on(t, {
                    focusin: function(t) {
                        e(t.currentTarget).addClass("ui-state-focus")
                    },
                    focusout: function(t) {
                        e(t.currentTarget).removeClass("ui-state-focus")
                    }
                })
            },
            _trigger: function(t, i, n) {
                var o, r, s = this.options[t];
                if (n = n || {},
                i = e.Event(i), i.type = (t === this.widgetEventPrefix ? t: this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], r = i.originalEvent) for (o in r) if (! (o in i)) i[o] = r[o];
                return this.element.trigger(i, n),
                !(e.isFunction(s) && s.apply(this.element[0], [i].concat(n)) === !1 || i.isDefaultPrevented())
            }
        },
        e.each({
            show: "fadeIn",
            hide: "fadeOut"
        },
        function(t, i) {
            e.Widget.prototype["_" + t] = function(n, o, r) {
                if ("string" == typeof o) o = {
                    effect: o
                };
                var s, a = !o ? t: o === !0 || "number" == typeof o ? i: o.effect || i;
                if (o = o || {},
                "number" == typeof o) o = {
                    duration: o
                };
                if (s = !e.isEmptyObject(o), o.complete = r, o.delay) n.delay(o.delay);
                if (s && e.effects && e.effects.effect[a]) n[t](o);
                else if (a !== t && n[a]) n[a](o.duration, o.easing, r);
                else n.queue(function(i) {
                    if (e(this)[t](), r) r.call(n[0]);
                    i()
                })
            }
        })
    } (jQuery),
    function(e) {
        var t = !1;
        e(document).mouseup(function() {
            t = !1
        }),
        e.widget("ui.mouse", {
            version: "1.10.4",
            options: {
                cancel: "input,textarea,button,select,option",
                distance: 1,
                delay: 0
            },
            _mouseInit: function() {
                var t = this;
                this.element.bind("mousedown." + this.widgetName,
                function(e) {
                    return t._mouseDown(e)
                }).bind("click." + this.widgetName,
                function(i) {
                    if (!0 === e.data(i.target, t.widgetName + ".preventClickEvent")) return e.removeData(i.target, t.widgetName + ".preventClickEvent"),
                    i.stopImmediatePropagation(),
                    !1;
                    else return void 0
                }),
                this.started = !1
            },
            _mouseDestroy: function() {
                if (this.element.unbind("." + this.widgetName), this._mouseMoveDelegate) e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
            },
            _mouseDown: function(i) {
                if (!t) {
                    this._mouseStarted && this._mouseUp(i),
                    this._mouseDownEvent = i;
                    var n = this,
                    o = 1 === i.which,
                    r = "string" == typeof this.options.cancel && i.target.nodeName ? e(i.target).closest(this.options.cancel).length: !1;
                    if (!o || r || !this._mouseCapture(i)) return ! 0;
                    if (this.mouseDelayMet = !this.options.delay, !this.mouseDelayMet) this._mouseDelayTimer = setTimeout(function() {
                        n.mouseDelayMet = !0
                    },
                    this.options.delay);
                    if (this._mouseDistanceMet(i) && this._mouseDelayMet(i)) if (this._mouseStarted = this._mouseStart(i) !== !1, !this._mouseStarted) return i.preventDefault(),
                    !0;
                    if (!0 === e.data(i.target, this.widgetName + ".preventClickEvent")) e.removeData(i.target, this.widgetName + ".preventClickEvent");
                    return this._mouseMoveDelegate = function(e) {
                        return n._mouseMove(e)
                    },
                    this._mouseUpDelegate = function(e) {
                        return n._mouseUp(e)
                    },
                    e(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                    i.preventDefault(),
                    t = !0,
                    !0
                }
            },
            _mouseMove: function(t) {
                if (e.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button) return this._mouseUp(t);
                if (this._mouseStarted) return this._mouseDrag(t),
                t.preventDefault();
                if (this._mouseDistanceMet(t) && this._mouseDelayMet(t)) this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1,
                this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t);
                return ! this._mouseStarted
            },
            _mouseUp: function(t) {
                if (e(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted) {
                    if (this._mouseStarted = !1, t.target === this._mouseDownEvent.target) e.data(t.target, this.widgetName + ".preventClickEvent", !0);
                    this._mouseStop(t)
                }
                return ! 1
            },
            _mouseDistanceMet: function(e) {
                return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
            },
            _mouseDelayMet: function() {
                return this.mouseDelayMet
            },
            _mouseStart: function() {},
            _mouseDrag: function() {},
            _mouseStop: function() {},
            _mouseCapture: function() {
                return ! 0
            }
        })
    } (jQuery),
    function(e, t) {
        function i(e, t, i) {
            return [parseFloat(e[0]) * (f.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (f.test(e[1]) ? i / 100 : 1)]
        }
        function n(t, i) {
            return parseInt(e.css(t, i), 10) || 0
        }
        function o(t) {
            var i = t[0];
            if (9 === i.nodeType) return {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            };
            if (e.isWindow(i)) return {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: t.scrollTop(),
                    left: t.scrollLeft()
                }
            };
            if (i.preventDefault) return {
                width: 0,
                height: 0,
                offset: {
                    top: i.pageY,
                    left: i.pageX
                }
            };
            else return {
                width: t.outerWidth(),
                height: t.outerHeight(),
                offset: t.offset()
            }
        }
        e.ui = e.ui || {};
        var r, s = Math.max,
        a = Math.abs,
        l = Math.round,
        h = /left|center|right/,
        c = /top|center|bottom/,
        u = /[\+\-]\d+(\.[\d]+)?%?/,
        d = /^\w+/,
        f = /%$/,
        p = e.fn.position;
        e.position = {
            scrollbarWidth: function() {
                if (r !== t) return r;
                var i, n, o = e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                s = o.children()[0];
                if (e("body").append(o), i = s.offsetWidth, o.css("overflow", "scroll"), n = s.offsetWidth, i === n) n = o[0].clientWidth;
                return o.remove(),
                r = i - n
            },
            getScrollInfo: function(t) {
                var i = t.isWindow || t.isDocument ? "": t.element.css("overflow-x"),
                n = t.isWindow || t.isDocument ? "": t.element.css("overflow-y"),
                o = "scroll" === i || "auto" === i && t.width < t.element[0].scrollWidth,
                r = "scroll" === n || "auto" === n && t.height < t.element[0].scrollHeight;
                return {
                    width: r ? e.position.scrollbarWidth() : 0,
                    height: o ? e.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(t) {
                var i = e(t || window),
                n = e.isWindow(i[0]),
                o = !!i[0] && 9 === i[0].nodeType;
                return {
                    element: i,
                    isWindow: n,
                    isDocument: o,
                    offset: i.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: i.scrollLeft(),
                    scrollTop: i.scrollTop(),
                    width: n ? i.width() : i.outerWidth(),
                    height: n ? i.height() : i.outerHeight()
                }
            }
        },
        e.fn.position = function(t) {
            if (!t || !t.of) return p.apply(this, arguments);
            t = e.extend({},
            t);
            var r, f, m, g, y, v, b = e(t.of),
            x = e.position.getWithinInfo(t.within),
            _ = e.position.getScrollInfo(x),
            w = (t.collision || "flip").split(" "),
            V = {};
            if (v = o(b), b[0].preventDefault) t.at = "left top";
            if (f = v.width, m = v.height, g = v.offset, y = e.extend({},
            g), e.each(["my", "at"],
            function() {
                var e, i, n = (t[this] || "").split(" ");
                if (1 === n.length) n = h.test(n[0]) ? n.concat(["center"]) : c.test(n[0]) ? ["center"].concat(n) : ["center", "center"];
                n[0] = h.test(n[0]) ? n[0] : "center",
                n[1] = c.test(n[1]) ? n[1] : "center",
                e = u.exec(n[0]),
                i = u.exec(n[1]),
                V[this] = [e ? e[0] : 0, i ? i[0] : 0],
                t[this] = [d.exec(n[0])[0], d.exec(n[1])[0]]
            }), 1 === w.length) w[1] = w[0];
            if ("right" === t.at[0]) y.left += f;
            else if ("center" === t.at[0]) y.left += f / 2;
            if ("bottom" === t.at[1]) y.top += m;
            else if ("center" === t.at[1]) y.top += m / 2;
            return r = i(V.at, f, m),
            y.left += r[0],
            y.top += r[1],
            this.each(function() {
                var o, h, c = e(this),
                u = c.outerWidth(),
                d = c.outerHeight(),
                p = n(this, "marginLeft"),
                v = n(this, "marginTop"),
                U = u + p + n(this, "marginRight") + _.width,
                k = d + v + n(this, "marginBottom") + _.height,
                C = e.extend({},
                y),
                S = i(V.my, c.outerWidth(), c.outerHeight());
                if ("right" === t.my[0]) C.left -= u;
                else if ("center" === t.my[0]) C.left -= u / 2;
                if ("bottom" === t.my[1]) C.top -= d;
                else if ("center" === t.my[1]) C.top -= d / 2;
                if (C.left += S[0], C.top += S[1], !e.support.offsetFractions) C.left = l(C.left),
                C.top = l(C.top);
                if (o = {
                    marginLeft: p,
                    marginTop: v
                },
                e.each(["left", "top"],
                function(i, n) {
                    if (e.ui.position[w[i]]) e.ui.position[w[i]][n](C, {
                        targetWidth: f,
                        targetHeight: m,
                        elemWidth: u,
                        elemHeight: d,
                        collisionPosition: o,
                        collisionWidth: U,
                        collisionHeight: k,
                        offset: [r[0] + S[0], r[1] + S[1]],
                        my: t.my,
                        at: t.at,
                        within: x,
                        elem: c
                    })
                }), t.using) h = function(e) {
                    var i = g.left - C.left,
                    n = i + f - u,
                    o = g.top - C.top,
                    r = o + m - d,
                    l = {
                        target: {
                            element: b,
                            left: g.left,
                            top: g.top,
                            width: f,
                            height: m
                        },
                        element: {
                            element: c,
                            left: C.left,
                            top: C.top,
                            width: u,
                            height: d
                        },
                        horizontal: 0 > n ? "left": i > 0 ? "right": "center",
                        vertical: 0 > r ? "top": o > 0 ? "bottom": "middle"
                    };
                    if (u > f && a(i + n) < f) l.horizontal = "center";
                    if (d > m && a(o + r) < m) l.vertical = "middle";
                    if (s(a(i), a(n)) > s(a(o), a(r))) l.important = "horizontal";
                    else l.important = "vertical";
                    t.using.call(this, e, l)
                };
                c.offset(e.extend(C, {
                    using: h
                }))
            })
        },
        e.ui.position = {
            fit: {
                left: function(e, t) {
                    var i, n = t.within,
                    o = n.isWindow ? n.scrollLeft: n.offset.left,
                    r = n.width,
                    a = e.left - t.collisionPosition.marginLeft,
                    l = o - a,
                    h = a + t.collisionWidth - r - o;
                    if (t.collisionWidth > r) if (l > 0 && 0 >= h) i = e.left + l + t.collisionWidth - r - o,
                    e.left += l - i;
                    else if (h > 0 && 0 >= l) e.left = o;
                    else if (l > h) e.left = o + r - t.collisionWidth;
                    else e.left = o;
                    else if (l > 0) e.left += l;
                    else if (h > 0) e.left -= h;
                    else e.left = s(e.left - a, e.left)
                },
                top: function(e, t) {
                    var i, n = t.within,
                    o = n.isWindow ? n.scrollTop: n.offset.top,
                    r = t.within.height,
                    a = e.top - t.collisionPosition.marginTop,
                    l = o - a,
                    h = a + t.collisionHeight - r - o;
                    if (t.collisionHeight > r) if (l > 0 && 0 >= h) i = e.top + l + t.collisionHeight - r - o,
                    e.top += l - i;
                    else if (h > 0 && 0 >= l) e.top = o;
                    else if (l > h) e.top = o + r - t.collisionHeight;
                    else e.top = o;
                    else if (l > 0) e.top += l;
                    else if (h > 0) e.top -= h;
                    else e.top = s(e.top - a, e.top)
                }
            },
            flip: {
                left: function(e, t) {
                    var i, n, o = t.within,
                    r = o.offset.left + o.scrollLeft,
                    s = o.width,
                    l = o.isWindow ? o.scrollLeft: o.offset.left,
                    h = e.left - t.collisionPosition.marginLeft,
                    c = h - l,
                    u = h + t.collisionWidth - s - l,
                    d = "left" === t.my[0] ? -t.elemWidth: "right" === t.my[0] ? t.elemWidth: 0,
                    f = "left" === t.at[0] ? t.targetWidth: "right" === t.at[0] ? -t.targetWidth: 0,
                    p = -2 * t.offset[0];
                    if (0 > c) {
                        if (i = e.left + d + f + p + t.collisionWidth - s - r, 0 > i || i < a(c)) e.left += d + f + p
                    } else if (u > 0) if (n = e.left - t.collisionPosition.marginLeft + d + f + p - l, n > 0 || a(n) < u) e.left += d + f + p
                },
                top: function(e, t) {
                    var i, n, o = t.within,
                    r = o.offset.top + o.scrollTop,
                    s = o.height,
                    l = o.isWindow ? o.scrollTop: o.offset.top,
                    h = e.top - t.collisionPosition.marginTop,
                    c = h - l,
                    u = h + t.collisionHeight - s - l,
                    d = "top" === t.my[1],
                    f = d ? -t.elemHeight: "bottom" === t.my[1] ? t.elemHeight: 0,
                    p = "top" === t.at[1] ? t.targetHeight: "bottom" === t.at[1] ? -t.targetHeight: 0,
                    m = -2 * t.offset[1];
                    if (0 > c) {
                        if (n = e.top + f + p + m + t.collisionHeight - s - r, e.top + f + p + m > c && (0 > n || n < a(c))) e.top += f + p + m
                    } else if (u > 0) if (i = e.top - t.collisionPosition.marginTop + f + p + m - l, e.top + f + p + m > u && (i > 0 || a(i) < u)) e.top += f + p + m
                }
            },
            flipfit: {
                left: function() {
                    e.ui.position.flip.left.apply(this, arguments),
                    e.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    e.ui.position.flip.top.apply(this, arguments),
                    e.ui.position.fit.top.apply(this, arguments)
                }
            }
        },
        function() {
            var t, i, n, o, r, s = document.getElementsByTagName("body")[0],
            a = document.createElement("div");
            if (t = document.createElement(s ? "div": "body"), n = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            },
            s) e.extend(n, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (r in n) t.style[r] = n[r];
            t.appendChild(a),
            i = s || document.documentElement,
            i.insertBefore(t, i.firstChild),
            a.style.cssText = "position: absolute; left: 10.7432222px;",
            o = e(a).offset().left,
            e.support.offsetFractions = o > 10 && 11 > o,
            t.innerHTML = "",
            i.removeChild(t)
        } ()
    } (jQuery),
    function(e) {
        e.widget("ui.draggable", e.ui.mouse, {
            version: "1.10.4",
            widgetEventPrefix: "drag",
            options: {
                addClasses: !0,
                appendTo: "parent",
                axis: !1,
                connectToSortable: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                iframeFix: !1,
                opacity: !1,
                refreshPositions: !1,
                revert: !1,
                revertDuration: 500,
                scope: "default",
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                snap: !1,
                snapMode: "both",
                snapTolerance: 20,
                stack: !1,
                zIndex: !1,
                drag: null,
                start: null,
                stop: null
            },
            _create: function() {
                if ("original" === this.options.helper && !/^(?:r|a|f)/.test(this.element.css("position"))) this.element[0].style.position = "relative";
                if (this.options.addClasses) this.element.addClass("ui-draggable");
                if (this.options.disabled) this.element.addClass("ui-draggable-disabled");
                this._mouseInit()
            },
            _destroy: function() {
                this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),
                this._mouseDestroy()
            },
            _mouseCapture: function(t) {
                var i = this.options;
                if (this.helper || i.disabled || e(t.target).closest(".ui-resizable-handle").length > 0) return ! 1;
                if (this.handle = this._getHandle(t), !this.handle) return ! 1;
                else return e(i.iframeFix === !0 ? "iframe": i.iframeFix).each(function() {
                    e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                        width: this.offsetWidth + "px",
                        height: this.offsetHeight + "px",
                        position: "absolute",
                        opacity: "0.001",
                        zIndex: 1e3
                    }).css(e(this).offset()).appendTo("body")
                }),
                !0
            },
            _mouseStart: function(t) {
                var i = this.options;
                if (this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), e.ui.ddmanager) e.ui.ddmanager.current = this;
                if (this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(), this.offsetParent = this.helper.offsetParent(), this.offsetParentCssPosition = this.offsetParent.css("position"), this.offset = this.positionAbs = this.element.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                },
                this.offset.scroll = !1, e.extend(this.offset, {
                    click: {
                        left: t.pageX - this.offset.left,
                        top: t.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.originalPosition = this.position = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", t) === !1) return this._clear(),
                !1;
                if (this._cacheHelperProportions(), e.ui.ddmanager && !i.dropBehaviour) e.ui.ddmanager.prepareOffsets(this, t);
                if (this._mouseDrag(t, !0), e.ui.ddmanager) e.ui.ddmanager.dragStart(this, t);
                return ! 0
            },
            _mouseDrag: function(t, i) {
                if ("fixed" === this.offsetParentCssPosition) this.offset.parent = this._getParentOffset();
                if (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), !i) {
                    var n = this._uiHash();
                    if (this._trigger("drag", t, n) === !1) return this._mouseUp({}),
                    !1;
                    this.position = n.position
                }
                if (!this.options.axis || "y" !== this.options.axis) this.helper[0].style.left = this.position.left + "px";
                if (!this.options.axis || "x" !== this.options.axis) this.helper[0].style.top = this.position.top + "px";
                if (e.ui.ddmanager) e.ui.ddmanager.drag(this, t);
                return ! 1
            },
            _mouseStop: function(t) {
                var i = this,
                n = !1;
                if (e.ui.ddmanager && !this.options.dropBehaviour) n = e.ui.ddmanager.drop(this, t);
                if (this.dropped) n = this.dropped,
                this.dropped = !1;
                if ("original" === this.options.helper && !e.contains(this.element[0].ownerDocument, this.element[0])) return ! 1;
                if ("invalid" === this.options.revert && !n || "valid" === this.options.revert && n || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, n)) e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10),
                function() {
                    if (i._trigger("stop", t) !== !1) i._clear()
                });
                else if (this._trigger("stop", t) !== !1) this._clear();
                return ! 1
            },
            _mouseUp: function(t) {
                if (e("div.ui-draggable-iframeFix").each(function() {
                    this.parentNode.removeChild(this)
                }), e.ui.ddmanager) e.ui.ddmanager.dragStop(this, t);
                return e.ui.mouse.prototype._mouseUp.call(this, t)
            },
            cancel: function() {
                if (this.helper.is(".ui-draggable-dragging")) this._mouseUp({});
                else this._clear();
                return this
            },
            _getHandle: function(t) {
                return this.options.handle ? !!e(t.target).closest(this.element.find(this.options.handle)).length: !0
            },
            _createHelper: function(t) {
                var i = this.options,
                n = e.isFunction(i.helper) ? e(i.helper.apply(this.element[0], [t])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
                if (!n.parents("body").length) n.appendTo("parent" === i.appendTo ? this.element[0].parentNode: i.appendTo);
                if (n[0] !== this.element[0] && !/(fixed|absolute)/.test(n.css("position"))) n.css("position", "absolute");
                return n
            },
            _adjustOffsetFromHelper: function(t) {
                if ("string" == typeof t) t = t.split(" ");
                if (e.isArray(t)) t = {
                    left: +t[0],
                    top: +t[1] || 0
                };
                if ("left" in t) this.offset.click.left = t.left + this.margins.left;
                if ("right" in t) this.offset.click.left = this.helperProportions.width - t.right + this.margins.left;
                if ("top" in t) this.offset.click.top = t.top + this.margins.top;
                if ("bottom" in t) this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top
            },
            _getParentOffset: function() {
                var t = this.offsetParent.offset();
                if ("absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0])) t.left += this.scrollParent.scrollLeft(),
                t.top += this.scrollParent.scrollTop();
                if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) t = {
                    top: 0,
                    left: 0
                };
                return {
                    top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" === this.cssPosition) {
                    var e = this.element.position();
                    return {
                        top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                } else return {
                    top: 0,
                    left: 0
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.element.css("marginLeft"), 10) || 0,
                    top: parseInt(this.element.css("marginTop"), 10) || 0,
                    right: parseInt(this.element.css("marginRight"), 10) || 0,
                    bottom: parseInt(this.element.css("marginBottom"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var t, i, n, o = this.options;
                if (!o.containment) return void(this.containment = null);
                if ("window" === o.containment) return void(this.containment = [e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, e(window).scrollLeft() + e(window).width() - this.helperProportions.width - this.margins.left, e(window).scrollTop() + (e(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]);
                if ("document" === o.containment) return void(this.containment = [0, 0, e(document).width() - this.helperProportions.width - this.margins.left, (e(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]);
                if (o.containment.constructor === Array) return void(this.containment = o.containment);
                if ("parent" === o.containment) o.containment = this.helper[0].parentNode;
                if (i = e(o.containment), n = i[0]) t = "hidden" !== i.css("overflow"),
                this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (t ? Math.max(n.scrollWidth, n.offsetWidth) : n.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(n.scrollHeight, n.offsetHeight) : n.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
                this.relative_container = i
            },
            _convertPositionTo: function(t, i) {
                if (!i) i = this.position;
                var n = "absolute" === t ? 1 : -1,
                o = "absolute" === this.cssPosition && (this.scrollParent[0] === document || !e.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent: this.scrollParent;
                if (!this.offset.scroll) this.offset.scroll = {
                    top: o.scrollTop(),
                    left: o.scrollLeft()
                };
                return {
                    top: i.top + this.offset.relative.top * n + this.offset.parent.top * n - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top) * n,
                    left: i.left + this.offset.relative.left * n + this.offset.parent.left * n - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left) * n
                }
            },
            _generatePosition: function(t) {
                var i, n, o, r, s = this.options,
                a = "absolute" === this.cssPosition && (this.scrollParent[0] === document || !e.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent: this.scrollParent,
                l = t.pageX,
                h = t.pageY;
                if (!this.offset.scroll) this.offset.scroll = {
                    top: a.scrollTop(),
                    left: a.scrollLeft()
                };
                if (this.originalPosition) {
                    if (this.containment) {
                        if (this.relative_container) n = this.relative_container.offset(),
                        i = [this.containment[0] + n.left, this.containment[1] + n.top, this.containment[2] + n.left, this.containment[3] + n.top];
                        else i = this.containment;
                        if (t.pageX - this.offset.click.left < i[0]) l = i[0] + this.offset.click.left;
                        if (t.pageY - this.offset.click.top < i[1]) h = i[1] + this.offset.click.top;
                        if (t.pageX - this.offset.click.left > i[2]) l = i[2] + this.offset.click.left;
                        if (t.pageY - this.offset.click.top > i[3]) h = i[3] + this.offset.click.top
                    }
                    if (s.grid) o = s.grid[1] ? this.originalPageY + Math.round((h - this.originalPageY) / s.grid[1]) * s.grid[1] : this.originalPageY,
                    h = i ? o - this.offset.click.top >= i[1] || o - this.offset.click.top > i[3] ? o: o - this.offset.click.top >= i[1] ? o - s.grid[1] : o + s.grid[1] : o,
                    r = s.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / s.grid[0]) * s.grid[0] : this.originalPageX,
                    l = i ? r - this.offset.click.left >= i[0] || r - this.offset.click.left > i[2] ? r: r - this.offset.click.left >= i[0] ? r - s.grid[0] : r + s.grid[0] : r
                }
                return {
                    top: h - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top),
                    left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left)
                }
            },
            _clear: function() {
                if (this.helper.removeClass("ui-draggable-dragging"), this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) this.helper.remove();
                this.helper = null,
                this.cancelHelperRemoval = !1
            },
            _trigger: function(t, i, n) {
                if (n = n || this._uiHash(), e.ui.plugin.call(this, t, [i, n]), "drag" === t) this.positionAbs = this._convertPositionTo("absolute");
                return e.Widget.prototype._trigger.call(this, t, i, n)
            },
            plugins: {},
            _uiHash: function() {
                return {
                    helper: this.helper,
                    position: this.position,
                    originalPosition: this.originalPosition,
                    offset: this.positionAbs
                }
            }
        }),
        e.ui.plugin.add("draggable", "connectToSortable", {
            start: function(t, i) {
                var n = e(this).data("ui-draggable"),
                o = n.options,
                r = e.extend({},
                i, {
                    item: n.element
                });
                n.sortables = [],
                e(o.connectToSortable).each(function() {
                    var i = e.data(this, "ui-sortable");
                    if (i && !i.options.disabled) n.sortables.push({
                        instance: i,
                        shouldRevert: i.options.revert
                    }),
                    i.refreshPositions(),
                    i._trigger("activate", t, r)
                })
            },
            stop: function(t, i) {
                var n = e(this).data("ui-draggable"),
                o = e.extend({},
                i, {
                    item: n.element
                });
                e.each(n.sortables,
                function() {
                    if (this.instance.isOver) {
                        if (this.instance.isOver = 0, n.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert) this.instance.options.revert = this.shouldRevert;
                        if (this.instance._mouseStop(t), this.instance.options.helper = this.instance.options._helper, "original" === n.options.helper) this.instance.currentItem.css({
                            top: "auto",
                            left: "auto"
                        })
                    } else this.instance.cancelHelperRemoval = !1,
                    this.instance._trigger("deactivate", t, o)
                })
            },
            drag: function(t, i) {
                var n = e(this).data("ui-draggable"),
                o = this;
                e.each(n.sortables,
                function() {
                    var r = !1,
                    s = this;
                    if (this.instance.positionAbs = n.positionAbs, this.instance.helperProportions = n.helperProportions, this.instance.offset.click = n.offset.click, this.instance._intersectsWith(this.instance.containerCache)) r = !0,
                    e.each(n.sortables,
                    function() {
                        if (this.instance.positionAbs = n.positionAbs, this.instance.helperProportions = n.helperProportions, this.instance.offset.click = n.offset.click, this !== s && this.instance._intersectsWith(this.instance.containerCache) && e.contains(s.instance.element[0], this.instance.element[0])) r = !1;
                        return r
                    });
                    if (r) {
                        if (!this.instance.isOver) this.instance.isOver = 1,
                        this.instance.currentItem = e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0),
                        this.instance.options._helper = this.instance.options.helper,
                        this.instance.options.helper = function() {
                            return i.helper[0]
                        },
                        t.target = this.instance.currentItem[0],
                        this.instance._mouseCapture(t, !0),
                        this.instance._mouseStart(t, !0, !0),
                        this.instance.offset.click.top = n.offset.click.top,
                        this.instance.offset.click.left = n.offset.click.left,
                        this.instance.offset.parent.left -= n.offset.parent.left - this.instance.offset.parent.left,
                        this.instance.offset.parent.top -= n.offset.parent.top - this.instance.offset.parent.top,
                        n._trigger("toSortable", t),
                        n.dropped = this.instance.element,
                        n.currentItem = n.element,
                        this.instance.fromOutside = n;
                        if (this.instance.currentItem) this.instance._mouseDrag(t)
                    } else if (this.instance.isOver) {
                        if (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", t, this.instance._uiHash(this.instance)), this.instance._mouseStop(t, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder) this.instance.placeholder.remove();
                        n._trigger("fromSortable", t),
                        n.dropped = !1
                    }
                })
            }
        }),
        e.ui.plugin.add("draggable", "cursor", {
            start: function() {
                var t = e("body"),
                i = e(this).data("ui-draggable").options;
                if (t.css("cursor")) i._cursor = t.css("cursor");
                t.css("cursor", i.cursor)
            },
            stop: function() {
                var t = e(this).data("ui-draggable").options;
                if (t._cursor) e("body").css("cursor", t._cursor)
            }
        }),
        e.ui.plugin.add("draggable", "opacity", {
            start: function(t, i) {
                var n = e(i.helper),
                o = e(this).data("ui-draggable").options;
                if (n.css("opacity")) o._opacity = n.css("opacity");
                n.css("opacity", o.opacity)
            },
            stop: function(t, i) {
                var n = e(this).data("ui-draggable").options;
                if (n._opacity) e(i.helper).css("opacity", n._opacity)
            }
        }),
        e.ui.plugin.add("draggable", "scroll", {
            start: function() {
                var t = e(this).data("ui-draggable");
                if (t.scrollParent[0] !== document && "HTML" !== t.scrollParent[0].tagName) t.overflowOffset = t.scrollParent.offset()
            },
            drag: function(t) {
                var i = e(this).data("ui-draggable"),
                n = i.options,
                o = !1;
                if (i.scrollParent[0] !== document && "HTML" !== i.scrollParent[0].tagName) {
                    if (!n.axis || "x" !== n.axis) if (i.overflowOffset.top + i.scrollParent[0].offsetHeight - t.pageY < n.scrollSensitivity) i.scrollParent[0].scrollTop = o = i.scrollParent[0].scrollTop + n.scrollSpeed;
                    else if (t.pageY - i.overflowOffset.top < n.scrollSensitivity) i.scrollParent[0].scrollTop = o = i.scrollParent[0].scrollTop - n.scrollSpeed;
                    if (!n.axis || "y" !== n.axis) if (i.overflowOffset.left + i.scrollParent[0].offsetWidth - t.pageX < n.scrollSensitivity) i.scrollParent[0].scrollLeft = o = i.scrollParent[0].scrollLeft + n.scrollSpeed;
                    else if (t.pageX - i.overflowOffset.left < n.scrollSensitivity) i.scrollParent[0].scrollLeft = o = i.scrollParent[0].scrollLeft - n.scrollSpeed
                } else {
                    if (!n.axis || "x" !== n.axis) if (t.pageY - e(document).scrollTop() < n.scrollSensitivity) o = e(document).scrollTop(e(document).scrollTop() - n.scrollSpeed);
                    else if (e(window).height() - (t.pageY - e(document).scrollTop()) < n.scrollSensitivity) o = e(document).scrollTop(e(document).scrollTop() + n.scrollSpeed);
                    if (!n.axis || "y" !== n.axis) if (t.pageX - e(document).scrollLeft() < n.scrollSensitivity) o = e(document).scrollLeft(e(document).scrollLeft() - n.scrollSpeed);
                    else if (e(window).width() - (t.pageX - e(document).scrollLeft()) < n.scrollSensitivity) o = e(document).scrollLeft(e(document).scrollLeft() + n.scrollSpeed)
                }
                if (o !== !1 && e.ui.ddmanager && !n.dropBehaviour) e.ui.ddmanager.prepareOffsets(i, t)
            }
        }),
        e.ui.plugin.add("draggable", "snap", {
            start: function() {
                var t = e(this).data("ui-draggable"),
                i = t.options;
                t.snapElements = [],
                e(i.snap.constructor !== String ? i.snap.items || ":data(ui-draggable)": i.snap).each(function() {
                    var i = e(this),
                    n = i.offset();
                    if (this !== t.element[0]) t.snapElements.push({
                        item: this,
                        width: i.outerWidth(),
                        height: i.outerHeight(),
                        top: n.top,
                        left: n.left
                    })
                })
            },
            drag: function(t, i) {
                var n, o, r, s, a, l, h, c, u, d, f = e(this).data("ui-draggable"),
                p = f.options,
                m = p.snapTolerance,
                g = i.offset.left,
                y = g + f.helperProportions.width,
                v = i.offset.top,
                b = v + f.helperProportions.height;
                for (u = f.snapElements.length - 1; u >= 0; u--) if (a = f.snapElements[u].left, l = a + f.snapElements[u].width, h = f.snapElements[u].top, c = h + f.snapElements[u].height, !(a - m > y || g > l + m || h - m > b || v > c + m) && e.contains(f.snapElements[u].item.ownerDocument, f.snapElements[u].item)) {
                    if ("inner" !== p.snapMode) {
                        if (n = Math.abs(h - b) <= m, o = Math.abs(c - v) <= m, r = Math.abs(a - y) <= m, s = Math.abs(l - g) <= m, n) i.position.top = f._convertPositionTo("relative", {
                            top: h - f.helperProportions.height,
                            left: 0
                        }).top - f.margins.top;
                        if (o) i.position.top = f._convertPositionTo("relative", {
                            top: c,
                            left: 0
                        }).top - f.margins.top;
                        if (r) i.position.left = f._convertPositionTo("relative", {
                            top: 0,
                            left: a - f.helperProportions.width
                        }).left - f.margins.left;
                        if (s) i.position.left = f._convertPositionTo("relative", {
                            top: 0,
                            left: l
                        }).left - f.margins.left
                    }
                    if (d = n || o || r || s, "outer" !== p.snapMode) {
                        if (n = Math.abs(h - v) <= m, o = Math.abs(c - b) <= m, r = Math.abs(a - g) <= m, s = Math.abs(l - y) <= m, n) i.position.top = f._convertPositionTo("relative", {
                            top: h,
                            left: 0
                        }).top - f.margins.top;
                        if (o) i.position.top = f._convertPositionTo("relative", {
                            top: c - f.helperProportions.height,
                            left: 0
                        }).top - f.margins.top;
                        if (r) i.position.left = f._convertPositionTo("relative", {
                            top: 0,
                            left: a
                        }).left - f.margins.left;
                        if (s) i.position.left = f._convertPositionTo("relative", {
                            top: 0,
                            left: l - f.helperProportions.width
                        }).left - f.margins.left
                    }
                    if (!f.snapElements[u].snapping && (n || o || r || s || d)) f.options.snap.snap && f.options.snap.snap.call(f.element, t, e.extend(f._uiHash(), {
                        snapItem: f.snapElements[u].item
                    }));
                    f.snapElements[u].snapping = n || o || r || s || d
                } else {
                    if (f.snapElements[u].snapping) f.options.snap.release && f.options.snap.release.call(f.element, t, e.extend(f._uiHash(), {
                        snapItem: f.snapElements[u].item
                    }));
                    f.snapElements[u].snapping = !1
                }
            }
        }),
        e.ui.plugin.add("draggable", "stack", {
            start: function() {
                var t, i = this.data("ui-draggable").options,
                n = e.makeArray(e(i.stack)).sort(function(t, i) {
                    return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(i).css("zIndex"), 10) || 0)
                });
                if (n.length) t = parseInt(e(n[0]).css("zIndex"), 10) || 0,
                e(n).each(function(i) {
                    e(this).css("zIndex", t + i)
                }),
                this.css("zIndex", t + n.length)
            }
        }),
        e.ui.plugin.add("draggable", "zIndex", {
            start: function(t, i) {
                var n = e(i.helper),
                o = e(this).data("ui-draggable").options;
                if (n.css("zIndex")) o._zIndex = n.css("zIndex");
                n.css("zIndex", o.zIndex)
            },
            stop: function(t, i) {
                var n = e(this).data("ui-draggable").options;
                if (n._zIndex) e(i.helper).css("zIndex", n._zIndex)
            }
        })
    } (jQuery),
    function(e) {
        function t(e, t, i) {
            return e > t && t + i > e
        }
        e.widget("ui.droppable", {
            version: "1.10.4",
            widgetEventPrefix: "drop",
            options: {
                accept: "*",
                activeClass: !1,
                addClasses: !0,
                greedy: !1,
                hoverClass: !1,
                scope: "default",
                tolerance: "intersect",
                activate: null,
                deactivate: null,
                drop: null,
                out: null,
                over: null
            },
            _create: function() {
                var t, i = this.options,
                n = i.accept;
                this.isover = !1,
                this.isout = !0,
                this.accept = e.isFunction(n) ? n: function(e) {
                    return e.is(n)
                },
                this.proportions = function() {
                    if (arguments.length) t = arguments[0];
                    else return t ? t: t = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    }
                },
                e.ui.ddmanager.droppables[i.scope] = e.ui.ddmanager.droppables[i.scope] || [],
                e.ui.ddmanager.droppables[i.scope].push(this),
                i.addClasses && this.element.addClass("ui-droppable")
            },
            _destroy: function() {
                for (var t = 0,
                i = e.ui.ddmanager.droppables[this.options.scope]; t < i.length; t++) if (i[t] === this) i.splice(t, 1);
                this.element.removeClass("ui-droppable ui-droppable-disabled")
            },
            _setOption: function(t, i) {
                if ("accept" === t) this.accept = e.isFunction(i) ? i: function(e) {
                    return e.is(i)
                };
                e.Widget.prototype._setOption.apply(this, arguments)
            },
            _activate: function(t) {
                var i = e.ui.ddmanager.current;
                if (this.options.activeClass) this.element.addClass(this.options.activeClass);
                if (i) this._trigger("activate", t, this.ui(i))
            },
            _deactivate: function(t) {
                var i = e.ui.ddmanager.current;
                if (this.options.activeClass) this.element.removeClass(this.options.activeClass);
                if (i) this._trigger("deactivate", t, this.ui(i))
            },
            _over: function(t) {
                var i = e.ui.ddmanager.current;
                if (i && (i.currentItem || i.element)[0] !== this.element[0]) if (this.accept.call(this.element[0], i.currentItem || i.element)) {
                    if (this.options.hoverClass) this.element.addClass(this.options.hoverClass);
                    this._trigger("over", t, this.ui(i))
                }
            },
            _out: function(t) {
                var i = e.ui.ddmanager.current;
                if (i && (i.currentItem || i.element)[0] !== this.element[0]) if (this.accept.call(this.element[0], i.currentItem || i.element)) {
                    if (this.options.hoverClass) this.element.removeClass(this.options.hoverClass);
                    this._trigger("out", t, this.ui(i))
                }
            },
            _drop: function(t, i) {
                var n = i || e.ui.ddmanager.current,
                o = !1;
                if (!n || (n.currentItem || n.element)[0] === this.element[0]) return ! 1;
                if (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                    var t = e.data(this, "ui-droppable");
                    if (t.options.greedy && !t.options.disabled && t.options.scope === n.options.scope && t.accept.call(t.element[0], n.currentItem || n.element) && e.ui.intersect(n, e.extend(t, {
                        offset: t.element.offset()
                    }), t.options.tolerance)) return o = !0,
                    !1;
                    else return void 0
                }), o) return ! 1;
                if (this.accept.call(this.element[0], n.currentItem || n.element)) {
                    if (this.options.activeClass) this.element.removeClass(this.options.activeClass);
                    if (this.options.hoverClass) this.element.removeClass(this.options.hoverClass);
                    return this._trigger("drop", t, this.ui(n)),
                    this.element
                }
                return ! 1
            },
            ui: function(e) {
                return {
                    draggable: e.currentItem || e.element,
                    helper: e.helper,
                    position: e.position,
                    offset: e.positionAbs
                }
            }
        }),
        e.ui.intersect = function(e, i, n) {
            if (!i.offset) return ! 1;
            var o, r, s = (e.positionAbs || e.position.absolute).left,
            a = (e.positionAbs || e.position.absolute).top,
            l = s + e.helperProportions.width,
            h = a + e.helperProportions.height,
            c = i.offset.left,
            u = i.offset.top,
            d = c + i.proportions().width,
            f = u + i.proportions().height;
            switch (n) {
            case "fit":
                return s >= c && d >= l && a >= u && f >= h;
            case "intersect":
                return c < s + e.helperProportions.width / 2 && l - e.helperProportions.width / 2 < d && u < a + e.helperProportions.height / 2 && h - e.helperProportions.height / 2 < f;
            case "pointer":
                return o = (e.positionAbs || e.position.absolute).left + (e.clickOffset || e.offset.click).left,
                r = (e.positionAbs || e.position.absolute).top + (e.clickOffset || e.offset.click).top,
                t(r, u, i.proportions().height) && t(o, c, i.proportions().width);
            case "touch":
                return (a >= u && f >= a || h >= u && f >= h || u > a && h > f) && (s >= c && d >= s || l >= c && d >= l || c > s && l > d);
            default:
                return ! 1
            }
        },
        e.ui.ddmanager = {
            current: null,
            droppables: {
                "default": []
            },
            prepareOffsets: function(t, i) {
                var n, o, r = e.ui.ddmanager.droppables[t.options.scope] || [],
                s = i ? i.type: null,
                a = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
                e: for (n = 0; n < r.length; n++) if (! (r[n].options.disabled || t && !r[n].accept.call(r[n].element[0], t.currentItem || t.element))) {
                    for (o = 0; o < a.length; o++) if (a[o] === r[n].element[0]) {
                        r[n].proportions().height = 0;
                        continue e
                    }
                    if (r[n].visible = "none" !== r[n].element.css("display"), r[n].visible) {
                        if ("mousedown" === s) r[n]._activate.call(r[n], i);
                        r[n].offset = r[n].element.offset(),
                        r[n].proportions({
                            width: r[n].element[0].offsetWidth,
                            height: r[n].element[0].offsetHeight
                        })
                    } else;
                } else;
            },
            drop: function(t, i) {
                var n = !1;
                return e.each((e.ui.ddmanager.droppables[t.options.scope] || []).slice(),
                function() {
                    if (this.options) {
                        if (!this.options.disabled && this.visible && e.ui.intersect(t, this, this.options.tolerance)) n = this._drop.call(this, i) || n;
                        if (!this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element)) this.isout = !0,
                        this.isover = !1,
                        this._deactivate.call(this, i)
                    }
                }),
                n
            },
            dragStart: function(t, i) {
                t.element.parentsUntil("body").bind("scroll.droppable",
                function() {
                    if (!t.options.refreshPositions) e.ui.ddmanager.prepareOffsets(t, i)
                })
            },
            drag: function(t, i) {
                if (t.options.refreshPositions) e.ui.ddmanager.prepareOffsets(t, i);
                e.each(e.ui.ddmanager.droppables[t.options.scope] || [],
                function() {
                    if (!this.options.disabled && !this.greedyChild && this.visible) {
                        var n, o, r, s = e.ui.intersect(t, this, this.options.tolerance),
                        a = !s && this.isover ? "isout": s && !this.isover ? "isover": null;
                        if (a) {
                            if (this.options.greedy) if (o = this.options.scope, r = this.element.parents(":data(ui-droppable)").filter(function() {
                                return e.data(this, "ui-droppable").options.scope === o
                            }), r.length) n = e.data(r[0], "ui-droppable"),
                            n.greedyChild = "isover" === a;
                            if (n && "isover" === a) n.isover = !1,
                            n.isout = !0,
                            n._out.call(n, i);
                            if (this[a] = !0, this["isout" === a ? "isover": "isout"] = !1, this["isover" === a ? "_over": "_out"].call(this, i), n && "isout" === a) n.isout = !1,
                            n.isover = !0,
                            n._over.call(n, i)
                        }
                    }
                })
            },
            dragStop: function(t, i) {
                if (t.element.parentsUntil("body").unbind("scroll.droppable"), !t.options.refreshPositions) e.ui.ddmanager.prepareOffsets(t, i)
            }
        }
    } (jQuery),
    function(e) {
        function t(e) {
            return parseInt(e, 10) || 0
        }
        function i(e) {
            return ! isNaN(parseInt(e, 10))
        }
        e.widget("ui.resizable", e.ui.mouse, {
            version: "1.10.4",
            widgetEventPrefix: "resize",
            options: {
                alsoResize: !1,
                animate: !1,
                animateDuration: "slow",
                animateEasing: "swing",
                aspectRatio: !1,
                autoHide: !1,
                containment: !1,
                ghost: !1,
                grid: !1,
                handles: "e,s,se",
                helper: !1,
                maxHeight: null,
                maxWidth: null,
                minHeight: 10,
                minWidth: 10,
                zIndex: 90,
                resize: null,
                start: null,
                stop: null
            },
            _create: function() {
                var t, i, n, o, r, s = this,
                a = this.options;
                if (this.element.addClass("ui-resizable"), e.extend(this, {
                    _aspectRatio: !!a.aspectRatio,
                    aspectRatio: a.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: a.helper || a.ghost || a.animate ? a.helper || "ui-resizable-helper": null
                }), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })),
                this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable")),
                this.elementIsWrapper = !0,
                this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                }),
                this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                }),
                this.originalResizeStyle = this.originalElement.css("resize"),
                this.originalElement.css("resize", "none"),
                this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })),
                this.originalElement.css({
                    margin: this.originalElement.css("margin")
                }),
                this._proportionallyResize();
                if (this.handles = a.handles || (!e(".ui-resizable-handle", this.element).length ? "e,s,se": {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                }), this.handles.constructor === String) {
                    if ("all" === this.handles) this.handles = "n,e,s,w,se,sw,ne,nw";
                    for (t = this.handles.split(","), this.handles = {},
                    i = 0; i < t.length; i++) {
                        if (n = e.trim(t[i]), r = "ui-resizable-" + n, o = e("<div class='ui-resizable-handle " + r + "'></div>"), o.css({
                            zIndex: a.zIndex
                        }), "se" === n) o.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
                        this.handles[n] = ".ui-resizable-" + n,
                        this.element.append(o)
                    }
                }
                if (this._renderAxis = function(t) {
                    var i, n, o, r;
                    t = t || this.element;
                    for (i in this.handles) {
                        if (this.handles[i].constructor === String) this.handles[i] = e(this.handles[i], this.element).show();
                        if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) n = e(this.handles[i], this.element),
                        r = /sw|ne|nw|se|n|s/.test(i) ? n.outerHeight() : n.outerWidth(),
                        o = ["padding", /ne|nw|n/.test(i) ? "Top": /se|sw|s/.test(i) ? "Bottom": /^e$/.test(i) ? "Right": "Left"].join(""),
                        t.css(o, r),
                        this._proportionallyResize();
                        if (e(this.handles[i]).length);
                        else;
                    }
                },
                this._renderAxis(this.element), this._handles = e(".ui-resizable-handle", this.element).disableSelection(), this._handles.mouseover(function() {
                    if (!s.resizing) {
                        if (this.className) o = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
                        s.axis = o && o[1] ? o[1] : "se"
                    }
                }), a.autoHide) this._handles.hide(),
                e(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                    if (!a.disabled) e(this).removeClass("ui-resizable-autohide"),
                    s._handles.show()
                }).mouseleave(function() {
                    if (!a.disabled) if (!s.resizing) e(this).addClass("ui-resizable-autohide"),
                    s._handles.hide()
                });
                this._mouseInit()
            },
            _destroy: function() {
                this._mouseDestroy();
                var t, i = function(t) {
                    e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
                };
                if (this.elementIsWrapper) i(this.element),
                t = this.element,
                this.originalElement.css({
                    position: t.css("position"),
                    width: t.outerWidth(),
                    height: t.outerHeight(),
                    top: t.css("top"),
                    left: t.css("left")
                }).insertAfter(t),
                t.remove();
                return this.originalElement.css("resize", this.originalResizeStyle),
                i(this.originalElement),
                this
            },
            _mouseCapture: function(t) {
                var i, n, o = !1;
                for (i in this.handles) if (n = e(this.handles[i])[0], n === t.target || e.contains(n, t.target)) o = !0;
                return ! this.options.disabled && o
            },
            _mouseStart: function(i) {
                var n, o, r, s = this.options,
                a = this.element.position(),
                l = this.element;
                if (this.resizing = !0, /absolute/.test(l.css("position"))) l.css({
                    position: "absolute",
                    top: l.css("top"),
                    left: l.css("left")
                });
                else if (l.is(".ui-draggable")) l.css({
                    position: "absolute",
                    top: a.top,
                    left: a.left
                });
                if (this._renderProxy(), n = t(this.helper.css("left")), o = t(this.helper.css("top")), s.containment) n += e(s.containment).scrollLeft() || 0,
                o += e(s.containment).scrollTop() || 0;
                return this.offset = this.helper.offset(),
                this.position = {
                    left: n,
                    top: o
                },
                this.size = this._helper ? {
                    width: this.helper.width(),
                    height: this.helper.height()
                }: {
                    width: l.width(),
                    height: l.height()
                },
                this.originalSize = this._helper ? {
                    width: l.outerWidth(),
                    height: l.outerHeight()
                }: {
                    width: l.width(),
                    height: l.height()
                },
                this.originalPosition = {
                    left: n,
                    top: o
                },
                this.sizeDiff = {
                    width: l.outerWidth() - l.width(),
                    height: l.outerHeight() - l.height()
                },
                this.originalMousePosition = {
                    left: i.pageX,
                    top: i.pageY
                },
                this.aspectRatio = "number" == typeof s.aspectRatio ? s.aspectRatio: this.originalSize.width / this.originalSize.height || 1,
                r = e(".ui-resizable-" + this.axis).css("cursor"),
                e("body").css("cursor", "auto" === r ? this.axis + "-resize": r),
                l.addClass("ui-resizable-resizing"),
                this._propagate("start", i),
                !0
            },
            _mouseDrag: function(t) {
                var i, n = this.helper,
                o = {},
                r = this.originalMousePosition,
                s = this.axis,
                a = this.position.top,
                l = this.position.left,
                h = this.size.width,
                c = this.size.height,
                u = t.pageX - r.left || 0,
                d = t.pageY - r.top || 0,
                f = this._change[s];
                if (!f) return ! 1;
                if (i = f.apply(this, [t, u, d]), this._updateVirtualBoundaries(t.shiftKey), this._aspectRatio || t.shiftKey) i = this._updateRatio(i, t);
                if (i = this._respectSize(i, t), this._updateCache(i), this._propagate("resize", t), this.position.top !== a) o.top = this.position.top + "px";
                if (this.position.left !== l) o.left = this.position.left + "px";
                if (this.size.width !== h) o.width = this.size.width + "px";
                if (this.size.height !== c) o.height = this.size.height + "px";
                if (n.css(o), !this._helper && this._proportionallyResizeElements.length) this._proportionallyResize();
                if (!e.isEmptyObject(o)) this._trigger("resize", t, this.ui());
                return ! 1
            },
            _mouseStop: function(t) {
                this.resizing = !1;
                var i, n, o, r, s, a, l, h = this.options,
                c = this;
                if (this._helper) {
                    if (i = this._proportionallyResizeElements, n = i.length && /textarea/i.test(i[0].nodeName), o = n && e.ui.hasScroll(i[0], "left") ? 0 : c.sizeDiff.height, r = n ? 0 : c.sizeDiff.width, s = {
                        width: c.helper.width() - r,
                        height: c.helper.height() - o
                    },
                    a = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null, l = parseInt(c.element.css("top"), 10) + (c.position.top - c.originalPosition.top) || null, !h.animate) this.element.css(e.extend(s, {
                        top: l,
                        left: a
                    }));
                    if (c.helper.height(c.size.height), c.helper.width(c.size.width), this._helper && !h.animate) this._proportionallyResize()
                }
                if (e("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper) this.helper.remove();
                return ! 1
            },
            _updateVirtualBoundaries: function(e) {
                var t, n, o, r, s, a = this.options;
                if (s = {
                    minWidth: i(a.minWidth) ? a.minWidth: 0,
                    maxWidth: i(a.maxWidth) ? a.maxWidth: 1 / 0,
                    minHeight: i(a.minHeight) ? a.minHeight: 0,
                    maxHeight: i(a.maxHeight) ? a.maxHeight: 1 / 0
                },
                this._aspectRatio || e) {
                    if (t = s.minHeight * this.aspectRatio, o = s.minWidth / this.aspectRatio, n = s.maxHeight * this.aspectRatio, r = s.maxWidth / this.aspectRatio, t > s.minWidth) s.minWidth = t;
                    if (o > s.minHeight) s.minHeight = o;
                    if (n < s.maxWidth) s.maxWidth = n;
                    if (r < s.maxHeight) s.maxHeight = r
                }
                this._vBoundaries = s
            },
            _updateCache: function(e) {
                if (this.offset = this.helper.offset(), i(e.left)) this.position.left = e.left;
                if (i(e.top)) this.position.top = e.top;
                if (i(e.height)) this.size.height = e.height;
                if (i(e.width)) this.size.width = e.width
            },
            _updateRatio: function(e) {
                var t = this.position,
                n = this.size,
                o = this.axis;
                if (i(e.height)) e.width = e.height * this.aspectRatio;
                else if (i(e.width)) e.height = e.width / this.aspectRatio;
                if ("sw" === o) e.left = t.left + (n.width - e.width),
                e.top = null;
                if ("nw" === o) e.top = t.top + (n.height - e.height),
                e.left = t.left + (n.width - e.width);
                return e
            },
            _respectSize: function(e) {
                var t = this._vBoundaries,
                n = this.axis,
                o = i(e.width) && t.maxWidth && t.maxWidth < e.width,
                r = i(e.height) && t.maxHeight && t.maxHeight < e.height,
                s = i(e.width) && t.minWidth && t.minWidth > e.width,
                a = i(e.height) && t.minHeight && t.minHeight > e.height,
                l = this.originalPosition.left + this.originalSize.width,
                h = this.position.top + this.size.height,
                c = /sw|nw|w/.test(n),
                u = /nw|ne|n/.test(n);
                if (s) e.width = t.minWidth;
                if (a) e.height = t.minHeight;
                if (o) e.width = t.maxWidth;
                if (r) e.height = t.maxHeight;
                if (s && c) e.left = l - t.minWidth;
                if (o && c) e.left = l - t.maxWidth;
                if (a && u) e.top = h - t.minHeight;
                if (r && u) e.top = h - t.maxHeight;
                if (!e.width && !e.height && !e.left && e.top) e.top = null;
                else if (!e.width && !e.height && !e.top && e.left) e.left = null;
                return e
            },
            _proportionallyResize: function() {
                if (this._proportionallyResizeElements.length) {
                    var e, t, i, n, o, r = this.helper || this.element;
                    for (e = 0; e < this._proportionallyResizeElements.length; e++) {
                        if (o = this._proportionallyResizeElements[e], !this.borderDif) for (this.borderDif = [], i = [o.css("borderTopWidth"), o.css("borderRightWidth"), o.css("borderBottomWidth"), o.css("borderLeftWidth")], n = [o.css("paddingTop"), o.css("paddingRight"), o.css("paddingBottom"), o.css("paddingLeft")], t = 0; t < i.length; t++) this.borderDif[t] = (parseInt(i[t], 10) || 0) + (parseInt(n[t], 10) || 0);
                        o.css({
                            height: r.height() - this.borderDif[0] - this.borderDif[2] || 0,
                            width: r.width() - this.borderDif[1] - this.borderDif[3] || 0
                        })
                    }
                }
            },
            _renderProxy: function() {
                var t = this.element,
                i = this.options;
                if (this.elementOffset = t.offset(), this._helper) this.helper = this.helper || e("<div style='overflow:hidden;'></div>"),
                this.helper.addClass(this._helper).css({
                    width: this.element.outerWidth() - 1,
                    height: this.element.outerHeight() - 1,
                    position: "absolute",
                    left: this.elementOffset.left + "px",
                    top: this.elementOffset.top + "px",
                    zIndex: ++i.zIndex
                }),
                this.helper.appendTo("body").disableSelection();
                else this.helper = this.element
            },
            _change: {
                e: function(e, t) {
                    return {
                        width: this.originalSize.width + t
                    }
                },
                w: function(e, t) {
                    var i = this.originalSize,
                    n = this.originalPosition;
                    return {
                        left: n.left + t,
                        width: i.width - t
                    }
                },
                n: function(e, t, i) {
                    var n = this.originalSize,
                    o = this.originalPosition;
                    return {
                        top: o.top + i,
                        height: n.height - i
                    }
                },
                s: function(e, t, i) {
                    return {
                        height: this.originalSize.height + i
                    }
                },
                se: function(t, i, n) {
                    return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, n]))
                },
                sw: function(t, i, n) {
                    return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, n]))
                },
                ne: function(t, i, n) {
                    return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, n]))
                },
                nw: function(t, i, n) {
                    return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, n]))
                }
            },
            _propagate: function(t, i) {
                e.ui.plugin.call(this, t, [i, this.ui()]),
                "resize" !== t && this._trigger(t, i, this.ui())
            },
            plugins: {},
            ui: function() {
                return {
                    originalElement: this.originalElement,
                    element: this.element,
                    helper: this.helper,
                    position: this.position,
                    size: this.size,
                    originalSize: this.originalSize,
                    originalPosition: this.originalPosition
                }
            }
        }),
        e.ui.plugin.add("resizable", "animate", {
            stop: function(t) {
                var i = e(this).data("ui-resizable"),
                n = i.options,
                o = i._proportionallyResizeElements,
                r = o.length && /textarea/i.test(o[0].nodeName),
                s = r && e.ui.hasScroll(o[0], "left") ? 0 : i.sizeDiff.height,
                a = r ? 0 : i.sizeDiff.width,
                l = {
                    width: i.size.width - a,
                    height: i.size.height - s
                },
                h = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null,
                c = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
                i.element.animate(e.extend(l, c && h ? {
                    top: c,
                    left: h
                }: {}), {
                    duration: n.animateDuration,
                    easing: n.animateEasing,
                    step: function() {
                        var n = {
                            width: parseInt(i.element.css("width"), 10),
                            height: parseInt(i.element.css("height"), 10),
                            top: parseInt(i.element.css("top"), 10),
                            left: parseInt(i.element.css("left"), 10)
                        };
                        if (o && o.length) e(o[0]).css({
                            width: n.width,
                            height: n.height
                        });
                        i._updateCache(n),
                        i._propagate("resize", t)
                    }
                })
            }
        }),
        e.ui.plugin.add("resizable", "containment", {
            start: function() {
                var i, n, o, r, s, a, l, h = e(this).data("ui-resizable"),
                c = h.options,
                u = h.element,
                d = c.containment,
                f = d instanceof e ? d.get(0) : /parent/.test(d) ? u.parent().get(0) : d;
                if (f) if (h.containerElement = e(f), /document/.test(d) || d === document) h.containerOffset = {
                    left: 0,
                    top: 0
                },
                h.containerPosition = {
                    left: 0,
                    top: 0
                },
                h.parentData = {
                    element: e(document),
                    left: 0,
                    top: 0,
                    width: e(document).width(),
                    height: e(document).height() || document.body.parentNode.scrollHeight
                };
                else i = e(f),
                n = [],
                e(["Top", "Right", "Left", "Bottom"]).each(function(e, o) {
                    n[e] = t(i.css("padding" + o))
                }),
                h.containerOffset = i.offset(),
                h.containerPosition = i.position(),
                h.containerSize = {
                    height: i.innerHeight() - n[3],
                    width: i.innerWidth() - n[1]
                },
                o = h.containerOffset,
                r = h.containerSize.height,
                s = h.containerSize.width,
                a = e.ui.hasScroll(f, "left") ? f.scrollWidth: s,
                l = e.ui.hasScroll(f) ? f.scrollHeight: r,
                h.parentData = {
                    element: f,
                    left: o.left,
                    top: o.top,
                    width: a,
                    height: l
                }
            },
            resize: function(t) {
                var i, n, o, r, s = e(this).data("ui-resizable"),
                a = s.options,
                l = s.containerOffset,
                h = s.position,
                c = s._aspectRatio || t.shiftKey,
                u = {
                    top: 0,
                    left: 0
                },
                d = s.containerElement;
                if (d[0] !== document && /static/.test(d.css("position"))) u = l;
                if (h.left < (s._helper ? l.left: 0)) {
                    if (s.size.width = s.size.width + (s._helper ? s.position.left - l.left: s.position.left - u.left), c) s.size.height = s.size.width / s.aspectRatio;
                    s.position.left = a.helper ? l.left: 0
                }
                if (h.top < (s._helper ? l.top: 0)) {
                    if (s.size.height = s.size.height + (s._helper ? s.position.top - l.top: s.position.top), c) s.size.width = s.size.height * s.aspectRatio;
                    s.position.top = s._helper ? l.top: 0
                }
                if (s.offset.left = s.parentData.left + s.position.left, s.offset.top = s.parentData.top + s.position.top, i = Math.abs((s._helper ? s.offset.left - u.left: s.offset.left - u.left) + s.sizeDiff.width), n = Math.abs((s._helper ? s.offset.top - u.top: s.offset.top - l.top) + s.sizeDiff.height), o = s.containerElement.get(0) === s.element.parent().get(0), r = /relative|absolute/.test(s.containerElement.css("position")), o && r) i -= Math.abs(s.parentData.left);
                if (i + s.size.width >= s.parentData.width) if (s.size.width = s.parentData.width - i, c) s.size.height = s.size.width / s.aspectRatio;
                if (n + s.size.height >= s.parentData.height) if (s.size.height = s.parentData.height - n, c) s.size.width = s.size.height * s.aspectRatio
            },
            stop: function() {
                var t = e(this).data("ui-resizable"),
                i = t.options,
                n = t.containerOffset,
                o = t.containerPosition,
                r = t.containerElement,
                s = e(t.helper),
                a = s.offset(),
                l = s.outerWidth() - t.sizeDiff.width,
                h = s.outerHeight() - t.sizeDiff.height;
                if (t._helper && !i.animate && /relative/.test(r.css("position"))) e(this).css({
                    left: a.left - o.left - n.left,
                    width: l,
                    height: h
                });
                if (t._helper && !i.animate && /static/.test(r.css("position"))) e(this).css({
                    left: a.left - o.left - n.left,
                    width: l,
                    height: h
                })
            }
        }),
        e.ui.plugin.add("resizable", "alsoResize", {
            start: function() {
                var t = e(this).data("ui-resizable"),
                i = t.options,
                n = function(t) {
                    e(t).each(function() {
                        var t = e(this);
                        t.data("ui-resizable-alsoresize", {
                            width: parseInt(t.width(), 10),
                            height: parseInt(t.height(), 10),
                            left: parseInt(t.css("left"), 10),
                            top: parseInt(t.css("top"), 10)
                        })
                    })
                };
                if ("object" == typeof i.alsoResize && !i.alsoResize.parentNode) if (i.alsoResize.length) i.alsoResize = i.alsoResize[0],
                n(i.alsoResize);
                else e.each(i.alsoResize,
                function(e) {
                    n(e)
                });
                else n(i.alsoResize)
            },
            resize: function(t, i) {
                var n = e(this).data("ui-resizable"),
                o = n.options,
                r = n.originalSize,
                s = n.originalPosition,
                a = {
                    height: n.size.height - r.height || 0,
                    width: n.size.width - r.width || 0,
                    top: n.position.top - s.top || 0,
                    left: n.position.left - s.left || 0
                },
                l = function(t, n) {
                    e(t).each(function() {
                        var t = e(this),
                        o = e(this).data("ui-resizable-alsoresize"),
                        r = {},
                        s = n && n.length ? n: t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                        e.each(s,
                        function(e, t) {
                            var i = (o[t] || 0) + (a[t] || 0);
                            if (i && i >= 0) r[t] = i || null
                        }),
                        t.css(r)
                    })
                };
                if ("object" == typeof o.alsoResize && !o.alsoResize.nodeType) e.each(o.alsoResize,
                function(e, t) {
                    l(e, t)
                });
                else l(o.alsoResize)
            },
            stop: function() {
                e(this).removeData("resizable-alsoresize")
            }
        }),
        e.ui.plugin.add("resizable", "ghost", {
            start: function() {
                var t = e(this).data("ui-resizable"),
                i = t.options,
                n = t.size;
                t.ghost = t.originalElement.clone(),
                t.ghost.css({
                    opacity: .25,
                    display: "block",
                    position: "relative",
                    height: n.height,
                    width: n.width,
                    margin: 0,
                    left: 0,
                    top: 0
                }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost: ""),
                t.ghost.appendTo(t.helper)
            },
            resize: function() {
                var t = e(this).data("ui-resizable");
                if (t.ghost) t.ghost.css({
                    position: "relative",
                    height: t.size.height,
                    width: t.size.width
                })
            },
            stop: function() {
                var t = e(this).data("ui-resizable");
                if (t.ghost && t.helper) t.helper.get(0).removeChild(t.ghost.get(0))
            }
        }),
        e.ui.plugin.add("resizable", "grid", {
            resize: function() {
                var t = e(this).data("ui-resizable"),
                i = t.options,
                n = t.size,
                o = t.originalSize,
                r = t.originalPosition,
                s = t.axis,
                a = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
                l = a[0] || 1,
                h = a[1] || 1,
                c = Math.round((n.width - o.width) / l) * l,
                u = Math.round((n.height - o.height) / h) * h,
                d = o.width + c,
                f = o.height + u,
                p = i.maxWidth && i.maxWidth < d,
                m = i.maxHeight && i.maxHeight < f,
                g = i.minWidth && i.minWidth > d,
                y = i.minHeight && i.minHeight > f;
                if (i.grid = a, g) d += l;
                if (y) f += h;
                if (p) d -= l;
                if (m) f -= h;
                if (/^(se|s|e)$/.test(s)) t.size.width = d,
                t.size.height = f;
                else if (/^(ne)$/.test(s)) t.size.width = d,
                t.size.height = f,
                t.position.top = r.top - u;
                else if (/^(sw)$/.test(s)) t.size.width = d,
                t.size.height = f,
                t.position.left = r.left - c;
                else {
                    if (f - h > 0) t.size.height = f,
                    t.position.top = r.top - u;
                    else t.size.height = h,
                    t.position.top = r.top + o.height - h;
                    if (d - l > 0) t.size.width = d,
                    t.position.left = r.left - c;
                    else t.size.width = l,
                    t.position.left = r.left + o.width - l
                }
            }
        })
    } (jQuery),
    function(e) {
        e.widget("ui.selectable", e.ui.mouse, {
            version: "1.10.4",
            options: {
                appendTo: "body",
                autoRefresh: !0,
                distance: 0,
                filter: "*",
                tolerance: "touch",
                selected: null,
                selecting: null,
                start: null,
                stop: null,
                unselected: null,
                unselecting: null
            },
            _create: function() {
                var t, i = this;
                this.element.addClass("ui-selectable"),
                this.dragged = !1,
                this.refresh = function() {
                    t = e(i.options.filter, i.element[0]),
                    t.addClass("ui-selectee"),
                    t.each(function() {
                        var t = e(this),
                        i = t.offset();
                        e.data(this, "selectable-item", {
                            element: this,
                            $element: t,
                            left: i.left,
                            top: i.top,
                            right: i.left + t.outerWidth(),
                            bottom: i.top + t.outerHeight(),
                            startselected: !1,
                            selected: t.hasClass("ui-selected"),
                            selecting: t.hasClass("ui-selecting"),
                            unselecting: t.hasClass("ui-unselecting")
                        })
                    })
                },
                this.refresh(),
                this.selectees = t.addClass("ui-selectee"),
                this._mouseInit(),
                this.helper = e("<div class='ui-selectable-helper'></div>")
            },
            _destroy: function() {
                this.selectees.removeClass("ui-selectee").removeData("selectable-item"),
                this.element.removeClass("ui-selectable ui-selectable-disabled"),
                this._mouseDestroy()
            },
            _mouseStart: function(t) {
                var i = this,
                n = this.options;
                if (this.opos = [t.pageX, t.pageY], !this.options.disabled) {
                    if (this.selectees = e(n.filter, this.element[0]), this._trigger("start", t), e(n.appendTo).append(this.helper), this.helper.css({
                        left: t.pageX,
                        top: t.pageY,
                        width: 0,
                        height: 0
                    }), n.autoRefresh) this.refresh();
                    this.selectees.filter(".ui-selected").each(function() {
                        var n = e.data(this, "selectable-item");
                        if (n.startselected = !0, !t.metaKey && !t.ctrlKey) n.$element.removeClass("ui-selected"),
                        n.selected = !1,
                        n.$element.addClass("ui-unselecting"),
                        n.unselecting = !0,
                        i._trigger("unselecting", t, {
                            unselecting: n.element
                        })
                    }),
                    e(t.target).parents().addBack().each(function() {
                        var n, o = e.data(this, "selectable-item");
                        if (o) {
                            if (n = !t.metaKey && !t.ctrlKey || !o.$element.hasClass("ui-selected"), o.$element.removeClass(n ? "ui-unselecting": "ui-selected").addClass(n ? "ui-selecting": "ui-unselecting"), o.unselecting = !n, o.selecting = n, o.selected = n, n) i._trigger("selecting", t, {
                                selecting: o.element
                            });
                            else i._trigger("unselecting", t, {
                                unselecting: o.element
                            });
                            return ! 1
                        }
                    })
                }
            },
            _mouseDrag: function(t) {
                if (this.dragged = !0, !this.options.disabled) {
                    var i, n = this,
                    o = this.options,
                    r = this.opos[0],
                    s = this.opos[1],
                    a = t.pageX,
                    l = t.pageY;
                    if (r > a) i = a,
                    a = r,
                    r = i;
                    if (s > l) i = l,
                    l = s,
                    s = i;
                    return this.helper.css({
                        left: r,
                        top: s,
                        width: a - r,
                        height: l - s
                    }),
                    this.selectees.each(function() {
                        var i = e.data(this, "selectable-item"),
                        h = !1;
                        if (i && i.element !== n.element[0]) {
                            if ("touch" === o.tolerance) h = !(i.left > a || i.right < r || i.top > l || i.bottom < s);
                            else if ("fit" === o.tolerance) h = i.left > r && i.right < a && i.top > s && i.bottom < l;
                            if (h) {
                                if (i.selected) i.$element.removeClass("ui-selected"),
                                i.selected = !1;
                                if (i.unselecting) i.$element.removeClass("ui-unselecting"),
                                i.unselecting = !1;
                                if (!i.selecting) i.$element.addClass("ui-selecting"),
                                i.selecting = !0,
                                n._trigger("selecting", t, {
                                    selecting: i.element
                                })
                            } else {
                                if (i.selecting) if ((t.metaKey || t.ctrlKey) && i.startselected) i.$element.removeClass("ui-selecting"),
                                i.selecting = !1,
                                i.$element.addClass("ui-selected"),
                                i.selected = !0;
                                else {
                                    if (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.startselected) i.$element.addClass("ui-unselecting"),
                                    i.unselecting = !0;
                                    n._trigger("unselecting", t, {
                                        unselecting: i.element
                                    })
                                }
                                if (i.selected) if (!t.metaKey && !t.ctrlKey && !i.startselected) i.$element.removeClass("ui-selected"),
                                i.selected = !1,
                                i.$element.addClass("ui-unselecting"),
                                i.unselecting = !0,
                                n._trigger("unselecting", t, {
                                    unselecting: i.element
                                })
                            }
                        }
                    }),
                    !1
                }
            },
            _mouseStop: function(t) {
                var i = this;
                return this.dragged = !1,
                e(".ui-unselecting", this.element[0]).each(function() {
                    var n = e.data(this, "selectable-item");
                    n.$element.removeClass("ui-unselecting"),
                    n.unselecting = !1,
                    n.startselected = !1,
                    i._trigger("unselected", t, {
                        unselected: n.element
                    })
                }),
                e(".ui-selecting", this.element[0]).each(function() {
                    var n = e.data(this, "selectable-item");
                    n.$element.removeClass("ui-selecting").addClass("ui-selected"),
                    n.selecting = !1,
                    n.selected = !0,
                    n.startselected = !0,
                    i._trigger("selected", t, {
                        selected: n.element
                    })
                }),
                this._trigger("stop", t),
                this.helper.remove(),
                !1
            }
        })
    } (jQuery),
    function(e) {
        function t(e, t, i) {
            return e > t && t + i > e
        }
        function i(e) {
            return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"))
        }
        e.widget("ui.sortable", e.ui.mouse, {
            version: "1.10.4",
            widgetEventPrefix: "sort",
            ready: !1,
            options: {
                appendTo: "parent",
                axis: !1,
                connectWith: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                dropOnEmpty: !0,
                forcePlaceholderSize: !1,
                forceHelperSize: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                items: "> *",
                opacity: !1,
                placeholder: !1,
                revert: !1,
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                scope: "default",
                tolerance: "intersect",
                zIndex: 1e3,
                activate: null,
                beforeStop: null,
                change: null,
                deactivate: null,
                out: null,
                over: null,
                receive: null,
                remove: null,
                sort: null,
                start: null,
                stop: null,
                update: null
            },
            _create: function() {
                var e = this.options;
                this.containerCache = {},
                this.element.addClass("ui-sortable"),
                this.refresh(),
                this.floating = this.items.length ? "x" === e.axis || i(this.items[0].item) : !1,
                this.offset = this.element.offset(),
                this._mouseInit(),
                this.ready = !0
            },
            _destroy: function() {
                this.element.removeClass("ui-sortable ui-sortable-disabled"),
                this._mouseDestroy();
                for (var e = this.items.length - 1; e >= 0; e--) this.items[e].item.removeData(this.widgetName + "-item");
                return this
            },
            _setOption: function(t, i) {
                if ("disabled" === t) this.options[t] = i,
                this.widget().toggleClass("ui-sortable-disabled", !!i);
                else e.Widget.prototype._setOption.apply(this, arguments)
            },
            _mouseCapture: function(t, i) {
                var n = null,
                o = !1,
                r = this;
                if (this.reverting) return ! 1;
                if (this.options.disabled || "static" === this.options.type) return ! 1;
                if (this._refreshItems(t), e(t.target).parents().each(function() {
                    if (e.data(this, r.widgetName + "-item") === r) return n = e(this),
                    !1;
                    else return void 0
                }), e.data(t.target, r.widgetName + "-item") === r) n = e(t.target);
                if (!n) return ! 1;
                if (this.options.handle && !i) if (e(this.options.handle, n).find("*").addBack().each(function() {
                    if (this === t.target) o = !0
                }), !o) return ! 1;
                return this.currentItem = n,
                this._removeCurrentsFromItems(),
                !0
            },
            _mouseStart: function(t, i, n) {
                var o, r, s = this.options;
                if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(t), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                },
                e.extend(this.offset, {
                    click: {
                        left: t.pageX - this.offset.left,
                        top: t.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, s.cursorAt && this._adjustOffsetFromHelper(s.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                },
                this.helper[0] !== this.currentItem[0]) this.currentItem.hide();
                if (this._createPlaceholder(), s.containment) this._setContainment();
                if (s.cursor && "auto" !== s.cursor) r = this.document.find("body"),
                this.storedCursor = r.css("cursor"),
                r.css("cursor", s.cursor),
                this.storedStylesheet = e("<style>*{ cursor: " + s.cursor + " !important; }</style>").appendTo(r);
                if (s.opacity) {
                    if (this.helper.css("opacity")) this._storedOpacity = this.helper.css("opacity");
                    this.helper.css("opacity", s.opacity)
                }
                if (s.zIndex) {
                    if (this.helper.css("zIndex")) this._storedZIndex = this.helper.css("zIndex");
                    this.helper.css("zIndex", s.zIndex)
                }
                if (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName) this.overflowOffset = this.scrollParent.offset();
                if (this._trigger("start", t, this._uiHash()), !this._preserveHelperProportions) this._cacheHelperProportions();
                if (!n) for (o = this.containers.length - 1; o >= 0; o--) this.containers[o]._trigger("activate", t, this._uiHash(this));
                if (e.ui.ddmanager) e.ui.ddmanager.current = this;
                if (e.ui.ddmanager && !s.dropBehaviour) e.ui.ddmanager.prepareOffsets(this, t);
                return this.dragging = !0,
                this.helper.addClass("ui-sortable-helper"),
                this._mouseDrag(t),
                !0
            },
            _mouseDrag: function(t) {
                var i, n, o, r, s = this.options,
                a = !1;
                if (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), !this.lastPositionAbs) this.lastPositionAbs = this.positionAbs;
                if (this.options.scroll) {
                    if (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName) {
                        if (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < s.scrollSensitivity) this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop + s.scrollSpeed;
                        else if (t.pageY - this.overflowOffset.top < s.scrollSensitivity) this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop - s.scrollSpeed;
                        if (this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < s.scrollSensitivity) this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft + s.scrollSpeed;
                        else if (t.pageX - this.overflowOffset.left < s.scrollSensitivity) this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft - s.scrollSpeed
                    } else {
                        if (t.pageY - e(document).scrollTop() < s.scrollSensitivity) a = e(document).scrollTop(e(document).scrollTop() - s.scrollSpeed);
                        else if (e(window).height() - (t.pageY - e(document).scrollTop()) < s.scrollSensitivity) a = e(document).scrollTop(e(document).scrollTop() + s.scrollSpeed);
                        if (t.pageX - e(document).scrollLeft() < s.scrollSensitivity) a = e(document).scrollLeft(e(document).scrollLeft() - s.scrollSpeed);
                        else if (e(window).width() - (t.pageX - e(document).scrollLeft()) < s.scrollSensitivity) a = e(document).scrollLeft(e(document).scrollLeft() + s.scrollSpeed)
                    }
                    if (a !== !1 && e.ui.ddmanager && !s.dropBehaviour) e.ui.ddmanager.prepareOffsets(this, t)
                }
                if (this.positionAbs = this._convertPositionTo("absolute"), !this.options.axis || "y" !== this.options.axis) this.helper[0].style.left = this.position.left + "px";
                if (!this.options.axis || "x" !== this.options.axis) this.helper[0].style.top = this.position.top + "px";
                for (i = this.items.length - 1; i >= 0; i--) if (n = this.items[i], o = n.item[0], r = this._intersectsWithPointer(n)) if (n.instance === this.currentContainer) {
                    if (o !== this.currentItem[0] && this.placeholder[1 === r ? "next": "prev"]()[0] !== o && !e.contains(this.placeholder[0], o) && ("semi-dynamic" === this.options.type ? !e.contains(this.element[0], o) : !0)) {
                        if (this.direction = 1 === r ? "down": "up", "pointer" === this.options.tolerance || this._intersectsWithSides(n)) this._rearrange(t, n);
                        else break;
                        this._trigger("change", t, this._uiHash());
                        break
                    }
                } else;
                else;
                if (this._contactContainers(t), e.ui.ddmanager) e.ui.ddmanager.drag(this, t);
                return this._trigger("sort", t, this._uiHash()),
                this.lastPositionAbs = this.positionAbs,
                !1
            },
            _mouseStop: function(t, i) {
                if (t) {
                    if (e.ui.ddmanager && !this.options.dropBehaviour) e.ui.ddmanager.drop(this, t);
                    if (this.options.revert) {
                        var n = this,
                        o = this.placeholder.offset(),
                        r = this.options.axis,
                        s = {};
                        if (!r || "x" === r) s.left = o.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft);
                        if (!r || "y" === r) s.top = o.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop);
                        this.reverting = !0,
                        e(this.helper).animate(s, parseInt(this.options.revert, 10) || 500,
                        function() {
                            n._clear(t)
                        })
                    } else this._clear(t, i);
                    return ! 1
                }
            },
            cancel: function() {
                if (this.dragging) {
                    if (this._mouseUp({
                        target: null
                    }), "original" === this.options.helper) this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
                    else this.currentItem.show();
                    for (var t = this.containers.length - 1; t >= 0; t--) if (this.containers[t]._trigger("deactivate", null, this._uiHash(this)), this.containers[t].containerCache.over) this.containers[t]._trigger("out", null, this._uiHash(this)),
                    this.containers[t].containerCache.over = 0
                }
                if (this.placeholder) {
                    if (this.placeholder[0].parentNode) this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
                    if ("original" !== this.options.helper && this.helper && this.helper[0].parentNode) this.helper.remove();
                    if (e.extend(this, {
                        helper: null,
                        dragging: !1,
                        reverting: !1,
                        _noFinalSort: null
                    }), this.domPosition.prev) e(this.domPosition.prev).after(this.currentItem);
                    else e(this.domPosition.parent).prepend(this.currentItem)
                }
                return this
            },
            serialize: function(t) {
                var i = this._getItemsAsjQuery(t && t.connected),
                n = [];
                if (t = t || {},
                e(i).each(function() {
                    var i = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
                    if (i) n.push((t.key || i[1] + "[]") + "=" + (t.key && t.expression ? i[1] : i[2]))
                }), !n.length && t.key) n.push(t.key + "=");
                return n.join("&")
            },
            toArray: function(t) {
                var i = this._getItemsAsjQuery(t && t.connected),
                n = [];
                return t = t || {},
                i.each(function() {
                    n.push(e(t.item || this).attr(t.attribute || "id") || "")
                }),
                n
            },
            _intersectsWith: function(e) {
                var t = this.positionAbs.left,
                i = t + this.helperProportions.width,
                n = this.positionAbs.top,
                o = n + this.helperProportions.height,
                r = e.left,
                s = r + e.width,
                a = e.top,
                l = a + e.height,
                h = this.offset.click.top,
                c = this.offset.click.left,
                u = "x" === this.options.axis || n + h > a && l > n + h,
                d = "y" === this.options.axis || t + c > r && s > t + c,
                f = u && d;
                if ("pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width": "height"] > e[this.floating ? "width": "height"]) return f;
                else return r < t + this.helperProportions.width / 2 && i - this.helperProportions.width / 2 < s && a < n + this.helperProportions.height / 2 && o - this.helperProportions.height / 2 < l
            },
            _intersectsWithPointer: function(e) {
                var i = "x" === this.options.axis || t(this.positionAbs.top + this.offset.click.top, e.top, e.height),
                n = "y" === this.options.axis || t(this.positionAbs.left + this.offset.click.left, e.left, e.width),
                o = i && n,
                r = this._getDragVerticalDirection(),
                s = this._getDragHorizontalDirection();
                if (!o) return ! 1;
                else return this.floating ? s && "right" === s || "down" === r ? 2 : 1 : r && ("down" === r ? 2 : 1)
            },
            _intersectsWithSides: function(e) {
                var i = t(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height),
                n = t(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width),
                o = this._getDragVerticalDirection(),
                r = this._getDragHorizontalDirection();
                if (this.floating && r) return "right" === r && n || "left" === r && !n;
                else return o && ("down" === o && i || "up" === o && !i)
            },
            _getDragVerticalDirection: function() {
                var e = this.positionAbs.top - this.lastPositionAbs.top;
                return 0 !== e && (e > 0 ? "down": "up")
            },
            _getDragHorizontalDirection: function() {
                var e = this.positionAbs.left - this.lastPositionAbs.left;
                return 0 !== e && (e > 0 ? "right": "left")
            },
            refresh: function(e) {
                return this._refreshItems(e),
                this.refreshPositions(),
                this
            },
            _connectWith: function() {
                var e = this.options;
                return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith
            },
            _getItemsAsjQuery: function(t) {
                function i() {
                    a.push(this)
                }
                var n, o, r, s, a = [],
                l = [],
                h = this._connectWith();
                if (h && t) for (n = h.length - 1; n >= 0; n--) for (r = e(h[n]), o = r.length - 1; o >= 0; o--) if (s = e.data(r[o], this.widgetFullName), s && s !== this && !s.options.disabled) l.push([e.isFunction(s.options.items) ? s.options.items.call(s.element) : e(s.options.items, s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), s]);
                for (l.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), n = l.length - 1; n >= 0; n--) l[n][0].each(i);
                return e(a)
            },
            _removeCurrentsFromItems: function() {
                var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
                this.items = e.grep(this.items,
                function(e) {
                    for (var i = 0; i < t.length; i++) if (t[i] === e.item[0]) return ! 1;
                    return ! 0
                })
            },
            _refreshItems: function(t) {
                this.items = [],
                this.containers = [this];
                var i, n, o, r, s, a, l, h, c = this.items,
                u = [[e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
                    item: this.currentItem
                }) : e(this.options.items, this.element), this]],
                d = this._connectWith();
                if (d && this.ready) for (i = d.length - 1; i >= 0; i--) for (o = e(d[i]), n = o.length - 1; n >= 0; n--) if (r = e.data(o[n], this.widgetFullName), r && r !== this && !r.options.disabled) u.push([e.isFunction(r.options.items) ? r.options.items.call(r.element[0], t, {
                    item: this.currentItem
                }) : e(r.options.items, r.element), r]),
                this.containers.push(r);
                for (i = u.length - 1; i >= 0; i--) for (s = u[i][1], a = u[i][0], n = 0, h = a.length; h > n; n++) l = e(a[n]),
                l.data(this.widgetName + "-item", s),
                c.push({
                    item: l,
                    instance: s,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
            },
            refreshPositions: function(t) {
                if (this.offsetParent && this.helper) this.offset.parent = this._getParentOffset();
                var i, n, o, r;
                for (i = this.items.length - 1; i >= 0; i--) if (n = this.items[i], n.instance === this.currentContainer || !this.currentContainer || n.item[0] === this.currentItem[0]) {
                    if (o = this.options.toleranceElement ? e(this.options.toleranceElement, n.item) : n.item, !t) n.width = o.outerWidth(),
                    n.height = o.outerHeight();
                    r = o.offset(),
                    n.left = r.left,
                    n.top = r.top
                } else;
                if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
                else for (i = this.containers.length - 1; i >= 0; i--) r = this.containers[i].element.offset(),
                this.containers[i].containerCache.left = r.left,
                this.containers[i].containerCache.top = r.top,
                this.containers[i].containerCache.width = this.containers[i].element.outerWidth(),
                this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
                return this
            },
            _createPlaceholder: function(t) {
                t = t || this;
                var i, n = t.options;
                if (!n.placeholder || n.placeholder.constructor === String) i = n.placeholder,
                n.placeholder = {
                    element: function() {
                        var n = t.currentItem[0].nodeName.toLowerCase(),
                        o = e("<" + n + ">", t.document[0]).addClass(i || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                        if ("tr" === n) t.currentItem.children().each(function() {
                            e("<td>&#160;</td>", t.document[0]).attr("colspan", e(this).attr("colspan") || 1).appendTo(o)
                        });
                        else if ("img" === n) o.attr("src", t.currentItem.attr("src"));
                        if (!i) o.css("visibility", "hidden");
                        return o
                    },
                    update: function(e, o) {
                        if (!i || n.forcePlaceholderSize) {
                            if (!o.height()) o.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10));
                            if (!o.width()) o.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10))
                        }
                    }
                };
                t.placeholder = e(n.placeholder.element.call(t.element, t.currentItem)),
                t.currentItem.after(t.placeholder),
                n.placeholder.update(t, t.placeholder)
            },
            _contactContainers: function(n) {
                var o, r, s, a, l, h, c, u, d, f, p = null,
                m = null;
                for (o = this.containers.length - 1; o >= 0; o--) if (!e.contains(this.currentItem[0], this.containers[o].element[0])) {
                    if (this._intersectsWith(this.containers[o].containerCache)) {
                        if (p && e.contains(this.containers[o].element[0], p.element[0])) continue;
                        p = this.containers[o],
                        m = o
                    } else if (this.containers[o].containerCache.over) this.containers[o]._trigger("out", n, this._uiHash(this)),
                    this.containers[o].containerCache.over = 0
                } else;
                if (p) if (1 === this.containers.length) {
                    if (!this.containers[m].containerCache.over) this.containers[m]._trigger("over", n, this._uiHash(this)),
                    this.containers[m].containerCache.over = 1
                } else {
                    for (s = 1e4, a = null, f = p.floating || i(this.currentItem), l = f ? "left": "top", h = f ? "width": "height", c = this.positionAbs[l] + this.offset.click[l], r = this.items.length - 1; r >= 0; r--) if (e.contains(this.containers[m].element[0], this.items[r].item[0])) if (this.items[r].item[0] !== this.currentItem[0]) if (!f || t(this.positionAbs.top + this.offset.click.top, this.items[r].top, this.items[r].height)) {
                        if (u = this.items[r].item.offset()[l], d = !1, Math.abs(u - c) > Math.abs(u + this.items[r][h] - c)) d = !0,
                        u += this.items[r][h];
                        if (Math.abs(u - c) < s) s = Math.abs(u - c),
                        a = this.items[r],
                        this.direction = d ? "up": "down"
                    } else;
                    else;
                    else;
                    if (!a && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[m]) return;
                    a ? this._rearrange(n, a, null, !0) : this._rearrange(n, null, this.containers[m].element, !0),
                    this._trigger("change", n, this._uiHash()),
                    this.containers[m]._trigger("change", n, this._uiHash(this)),
                    this.currentContainer = this.containers[m],
                    this.options.placeholder.update(this.currentContainer, this.placeholder),
                    this.containers[m]._trigger("over", n, this._uiHash(this)),
                    this.containers[m].containerCache.over = 1
                }
            },
            _createHelper: function(t) {
                var i = this.options,
                n = e.isFunction(i.helper) ? e(i.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
                if (!n.parents("body").length) e("parent" !== i.appendTo ? i.appendTo: this.currentItem[0].parentNode)[0].appendChild(n[0]);
                if (n[0] === this.currentItem[0]) this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                };
                if (!n[0].style.width || i.forceHelperSize) n.width(this.currentItem.width());
                if (!n[0].style.height || i.forceHelperSize) n.height(this.currentItem.height());
                return n
            },
            _adjustOffsetFromHelper: function(t) {
                if ("string" == typeof t) t = t.split(" ");
                if (e.isArray(t)) t = {
                    left: +t[0],
                    top: +t[1] || 0
                };
                if ("left" in t) this.offset.click.left = t.left + this.margins.left;
                if ("right" in t) this.offset.click.left = this.helperProportions.width - t.right + this.margins.left;
                if ("top" in t) this.offset.click.top = t.top + this.margins.top;
                if ("bottom" in t) this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top
            },
            _getParentOffset: function() {
                this.offsetParent = this.helper.offsetParent();
                var t = this.offsetParent.offset();
                if ("absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0])) t.left += this.scrollParent.scrollLeft(),
                t.top += this.scrollParent.scrollTop();
                if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) t = {
                    top: 0,
                    left: 0
                };
                return {
                    top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" === this.cssPosition) {
                    var e = this.currentItem.position();
                    return {
                        top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                } else return {
                    top: 0,
                    left: 0
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                    top: parseInt(this.currentItem.css("marginTop"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var t, i, n, o = this.options;
                if ("parent" === o.containment) o.containment = this.helper[0].parentNode;
                if ("document" === o.containment || "window" === o.containment) this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, e("document" === o.containment ? document: window).width() - this.helperProportions.width - this.margins.left, (e("document" === o.containment ? document: window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
                if (!/^(document|window|parent)$/.test(o.containment)) t = e(o.containment)[0],
                i = e(o.containment).offset(),
                n = "hidden" !== e(t).css("overflow"),
                this.containment = [i.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (n ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (n ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]
            },
            _convertPositionTo: function(t, i) {
                if (!i) i = this.position;
                var n = "absolute" === t ? 1 : -1,
                o = "absolute" === this.cssPosition && (this.scrollParent[0] === document || !e.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent: this.scrollParent,
                r = /(html|body)/i.test(o[0].tagName);
                return {
                    top: i.top + this.offset.relative.top * n + this.offset.parent.top * n - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : r ? 0 : o.scrollTop()) * n,
                    left: i.left + this.offset.relative.left * n + this.offset.parent.left * n - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : r ? 0 : o.scrollLeft()) * n
                }
            },
            _generatePosition: function(t) {
                var i, n, o = this.options,
                r = t.pageX,
                s = t.pageY,
                a = "absolute" === this.cssPosition && (this.scrollParent[0] === document || !e.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent: this.scrollParent,
                l = /(html|body)/i.test(a[0].tagName);
                if ("relative" === this.cssPosition && (this.scrollParent[0] === document || this.scrollParent[0] === this.offsetParent[0])) this.offset.relative = this._getRelativeOffset();
                if (this.originalPosition) {
                    if (this.containment) {
                        if (t.pageX - this.offset.click.left < this.containment[0]) r = this.containment[0] + this.offset.click.left;
                        if (t.pageY - this.offset.click.top < this.containment[1]) s = this.containment[1] + this.offset.click.top;
                        if (t.pageX - this.offset.click.left > this.containment[2]) r = this.containment[2] + this.offset.click.left;
                        if (t.pageY - this.offset.click.top > this.containment[3]) s = this.containment[3] + this.offset.click.top
                    }
                    if (o.grid) i = this.originalPageY + Math.round((s - this.originalPageY) / o.grid[1]) * o.grid[1],
                    s = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i: i - this.offset.click.top >= this.containment[1] ? i - o.grid[1] : i + o.grid[1] : i,
                    n = this.originalPageX + Math.round((r - this.originalPageX) / o.grid[0]) * o.grid[0],
                    r = this.containment ? n - this.offset.click.left >= this.containment[0] && n - this.offset.click.left <= this.containment[2] ? n: n - this.offset.click.left >= this.containment[0] ? n - o.grid[0] : n + o.grid[0] : n
                }
                return {
                    top: s - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : l ? 0 : a.scrollTop()),
                    left: r - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : l ? 0 : a.scrollLeft())
                }
            },
            _rearrange: function(e, t, i, n) {
                i ? i[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling),
                this.counter = this.counter ? ++this.counter: 1;
                var o = this.counter;
                this._delay(function() {
                    if (o === this.counter) this.refreshPositions(!n)
                })
            },
            _clear: function(e, t) {
                function i(e, t, i) {
                    return function(n) {
                        i._trigger(e, n, t._uiHash(t))
                    }
                }
                this.reverting = !1;
                var n, o = [];
                if (!this._noFinalSort && this.currentItem.parent().length) this.placeholder.before(this.currentItem);
                if (this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                    for (n in this._storedCSS) if ("auto" === this._storedCSS[n] || "static" === this._storedCSS[n]) this._storedCSS[n] = "";
                    this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
                } else this.currentItem.show();
                if (this.fromOutside && !t) o.push(function(e) {
                    this._trigger("receive", e, this._uiHash(this.fromOutside))
                });
                if ((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !t) o.push(function(e) {
                    this._trigger("update", e, this._uiHash())
                });
                if (this !== this.currentContainer) if (!t) o.push(function(e) {
                    this._trigger("remove", e, this._uiHash())
                }),
                o.push(function(e) {
                    return function(t) {
                        e._trigger("receive", t, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)),
                o.push(function(e) {
                    return function(t) {
                        e._trigger("update", t, this._uiHash(this))
                    }
                }.call(this, this.currentContainer));
                for (n = this.containers.length - 1; n >= 0; n--) {
                    if (!t) o.push(i("deactivate", this, this.containers[n]));
                    if (this.containers[n].containerCache.over) o.push(i("out", this, this.containers[n])),
                    this.containers[n].containerCache.over = 0
                }
                if (this.storedCursor) this.document.find("body").css("cursor", this.storedCursor),
                this.storedStylesheet.remove();
                if (this._storedOpacity) this.helper.css("opacity", this._storedOpacity);
                if (this._storedZIndex) this.helper.css("zIndex", "auto" === this._storedZIndex ? "": this._storedZIndex);
                if (this.dragging = !1, this.cancelHelperRemoval) {
                    if (!t) {
                        for (this._trigger("beforeStop", e, this._uiHash()), n = 0; n < o.length; n++) o[n].call(this, e);
                        this._trigger("stop", e, this._uiHash())
                    }
                    return this.fromOutside = !1,
                    !1
                }
                if (!t) this._trigger("beforeStop", e, this._uiHash());
                if (this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0]) this.helper.remove();
                if (this.helper = null, !t) {
                    for (n = 0; n < o.length; n++) o[n].call(this, e);
                    this._trigger("stop", e, this._uiHash())
                }
                return this.fromOutside = !1,
                !0
            },
            _trigger: function() {
                if (e.Widget.prototype._trigger.apply(this, arguments) === !1) this.cancel()
            },
            _uiHash: function(t) {
                var i = t || this;
                return {
                    helper: i.helper,
                    placeholder: i.placeholder || e([]),
                    position: i.position,
                    originalPosition: i.originalPosition,
                    offset: i.positionAbs,
                    item: i.currentItem,
                    sender: t ? t.element: null
                }
            }
        })
    } (jQuery),
    function(e) {
        var t = 0,
        i = {},
        n = {};
        i.height = i.paddingTop = i.paddingBottom = i.borderTopWidth = i.borderBottomWidth = "hide",
        n.height = n.paddingTop = n.paddingBottom = n.borderTopWidth = n.borderBottomWidth = "show",
        e.widget("ui.accordion", {
            version: "1.10.4",
            options: {
                active: 0,
                animate: {},
                collapsible: !1,
                event: "click",
                header: "> li > :first-child,> :not(li):even",
                heightStyle: "auto",
                icons: {
                    activeHeader: "ui-icon-triangle-1-s",
                    header: "ui-icon-triangle-1-e"
                },
                activate: null,
                beforeActivate: null
            },
            _create: function() {
                var t = this.options;
                if (this.prevShow = this.prevHide = e(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"), !t.collapsible && (t.active === !1 || null == t.active)) t.active = 0;
                if (this._processPanels(), t.active < 0) t.active += this.headers.length;
                this._refresh()
            },
            _getCreateEventData: function() {
                return {
                    header: this.active,
                    panel: !this.active.length ? e() : this.active.next(),
                    content: !this.active.length ? e() : this.active.next()
                }
            },
            _createIcons: function() {
                var t = this.options.icons;
                if (t) e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers),
                this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),
                this.headers.addClass("ui-accordion-icons")
            },
            _destroyIcons: function() {
                this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
            },
            _destroy: function() {
                var e;
                if (this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function() {
                    if (/^ui-accordion/.test(this.id)) this.removeAttribute("id")
                }), this._destroyIcons(), e = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function() {
                    if (/^ui-accordion/.test(this.id)) this.removeAttribute("id")
                }), "content" !== this.options.heightStyle) e.css("height", "")
            },
            _setOption: function(e, t) {
                if ("active" === e) return void this._activate(t);
                if ("event" === e) {
                    if (this.options.event) this._off(this.headers, this.options.event);
                    this._setupEvents(t)
                }
                if (this._super(e, t), "collapsible" === e && !t && this.options.active === !1) this._activate(0);
                if ("icons" === e) if (this._destroyIcons(), t) this._createIcons();
                if ("disabled" === e) this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t)
            },
            _keydown: function(t) {
                if (!t.altKey && !t.ctrlKey) {
                    var i = e.ui.keyCode,
                    n = this.headers.length,
                    o = this.headers.index(t.target),
                    r = !1;
                    switch (t.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                        r = this.headers[(o + 1) % n];
                        break;
                    case i.LEFT:
                    case i.UP:
                        r = this.headers[(o - 1 + n) % n];
                        break;
                    case i.SPACE:
                    case i.ENTER:
                        this._eventHandler(t);
                        break;
                    case i.HOME:
                        r = this.headers[0];
                        break;
                    case i.END:
                        r = this.headers[n - 1]
                    }
                    if (r) e(t.target).attr("tabIndex", -1),
                    e(r).attr("tabIndex", 0),
                    r.focus(),
                    t.preventDefault()
                }
            },
            _panelKeyDown: function(t) {
                if (t.keyCode === e.ui.keyCode.UP && t.ctrlKey) e(t.currentTarget).prev().focus()
            },
            refresh: function() {
                var t = this.options;
                if (this._processPanels(), t.active === !1 && t.collapsible === !0 || !this.headers.length) t.active = !1,
                this.active = e();
                else if (t.active === !1) this._activate(0);
                else if (this.active.length && !e.contains(this.element[0], this.active[0])) if (this.headers.length === this.headers.find(".ui-state-disabled").length) t.active = !1,
                this.active = e();
                else this._activate(Math.max(0, t.active - 1));
                else t.active = this.headers.index(this.active);
                this._destroyIcons(),
                this._refresh()
            },
            _processPanels: function() {
                this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),
                this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
            },
            _refresh: function() {
                var i, n = this.options,
                o = n.heightStyle,
                r = this.element.parent(),
                s = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++t);
                if (this.active = this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function(t) {
                    var i = e(this),
                    n = i.attr("id"),
                    o = i.next(),
                    r = o.attr("id");
                    if (!n) n = s + "-header-" + t,
                    i.attr("id", n);
                    if (!r) r = s + "-panel-" + t,
                    o.attr("id", r);
                    i.attr("aria-controls", r),
                    o.attr("aria-labelledby", n)
                }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
                    "aria-selected": "false",
                    "aria-expanded": "false",
                    tabIndex: -1
                }).next().attr({
                    "aria-hidden": "true"
                }).hide(), !this.active.length) this.headers.eq(0).attr("tabIndex", 0);
                else this.active.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }).next().attr({
                    "aria-hidden": "false"
                });
                if (this._createIcons(), this._setupEvents(n.event), "fill" === o) i = r.height(),
                this.element.siblings(":visible").each(function() {
                    var t = e(this),
                    n = t.css("position");
                    if ("absolute" !== n && "fixed" !== n) i -= t.outerHeight(!0)
                }),
                this.headers.each(function() {
                    i -= e(this).outerHeight(!0)
                }),
                this.headers.next().each(function() {
                    e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height()))
                }).css("overflow", "auto");
                else if ("auto" === o) i = 0,
                this.headers.next().each(function() {
                    i = Math.max(i, e(this).css("height", "").height())
                }).height(i)
            },
            _activate: function(t) {
                var i = this._findActive(t)[0];
                if (i !== this.active[0]) i = i || this.active[0],
                this._eventHandler({
                    target: i,
                    currentTarget: i,
                    preventDefault: e.noop
                })
            },
            _findActive: function(t) {
                return "number" == typeof t ? this.headers.eq(t) : e()
            },
            _setupEvents: function(t) {
                var i = {
                    keydown: "_keydown"
                };
                if (t) e.each(t.split(" "),
                function(e, t) {
                    i[t] = "_eventHandler"
                });
                this._off(this.headers.add(this.headers.next())),
                this._on(this.headers, i),
                this._on(this.headers.next(), {
                    keydown: "_panelKeyDown"
                }),
                this._hoverable(this.headers),
                this._focusable(this.headers)
            },
            _eventHandler: function(t) {
                var i = this.options,
                n = this.active,
                o = e(t.currentTarget),
                r = o[0] === n[0],
                s = r && i.collapsible,
                a = s ? e() : o.next(),
                l = n.next(),
                h = {
                    oldHeader: n,
                    oldPanel: l,
                    newHeader: s ? e() : o,
                    newPanel: a
                };
                if (t.preventDefault(), (!r || i.collapsible) && this._trigger("beforeActivate", t, h) !== !1) {
                    if (i.active = s ? !1 : this.headers.index(o), this.active = r ? e() : o, this._toggle(h), n.removeClass("ui-accordion-header-active ui-state-active"), i.icons) n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header);
                    if (!r) {
                        if (o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons) o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader);
                        o.next().addClass("ui-accordion-content-active")
                    }
                }
            },
            _toggle: function(t) {
                var i = t.newPanel,
                n = this.prevShow.length ? this.prevShow: t.oldPanel;
                if (this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = i, this.prevHide = n, this.options.animate) this._animate(i, n, t);
                else n.hide(),
                i.show(),
                this._toggleComplete(t);
                if (n.attr({
                    "aria-hidden": "true"
                }), n.prev().attr("aria-selected", "false"), i.length && n.length) n.prev().attr({
                    tabIndex: -1,
                    "aria-expanded": "false"
                });
                else if (i.length) this.headers.filter(function() {
                    return 0 === e(this).attr("tabIndex")
                }).attr("tabIndex", -1);
                i.attr("aria-hidden", "false").prev().attr({
                    "aria-selected": "true",
                    tabIndex: 0,
                    "aria-expanded": "true"
                })
            },
            _animate: function(e, t, o) {
                var r, s, a, l = this,
                h = 0,
                c = e.length && (!t.length || e.index() < t.index()),
                u = this.options.animate || {},
                d = c && u.down || u,
                f = function() {
                    l._toggleComplete(o)
                };
                if ("number" == typeof d) a = d;
                if ("string" == typeof d) s = d;
                if (s = s || d.easing || u.easing, a = a || d.duration || u.duration, !t.length) return e.animate(n, a, s, f);
                if (!e.length) return t.animate(i, a, s, f);
                else return r = e.show().outerHeight(),
                t.animate(i, {
                    duration: a,
                    easing: s,
                    step: function(e, t) {
                        t.now = Math.round(e)
                    }
                }),
                void e.hide().animate(n, {
                    duration: a,
                    easing: s,
                    complete: f,
                    step: function(e, i) {
                        if (i.now = Math.round(e), "height" !== i.prop) h += i.now;
                        else if ("content" !== l.options.heightStyle) i.now = Math.round(r - t.outerHeight() - h),
                        h = 0
                    }
                })
            },
            _toggleComplete: function(e) {
                var t = e.oldPanel;
                if (t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), t.length) t.parent()[0].className = t.parent()[0].className;
                this._trigger("activate", null, e)
            }
        })
    } (jQuery),
    function(e) {
        e.widget("ui.autocomplete", {
            version: "1.10.4",
            defaultElement: "<input>",
            options: {
                appendTo: null,
                autoFocus: !1,
                delay: 300,
                minLength: 1,
                position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none"
                },
                source: null,
                change: null,
                close: null,
                focus: null,
                open: null,
                response: null,
                search: null,
                select: null
            },
            requestIndex: 0,
            pending: 0,
            _create: function() {
                var t, i, n, o = this.element[0].nodeName.toLowerCase(),
                r = "textarea" === o,
                s = "input" === o;
                this.isMultiLine = r ? !0 : s ? !1 : this.element.prop("isContentEditable"),
                this.valueMethod = this.element[r || s ? "val": "text"],
                this.isNewMenu = !0,
                this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"),
                this._on(this.element, {
                    keydown: function(o) {
                        if (this.element.prop("readOnly")) return t = !0,
                        n = !0,
                        void(i = !0);
                        t = !1,
                        n = !1,
                        i = !1;
                        var r = e.ui.keyCode;
                        switch (o.keyCode) {
                        case r.PAGE_UP:
                            t = !0,
                            this._move("previousPage", o);
                            break;
                        case r.PAGE_DOWN:
                            t = !0,
                            this._move("nextPage", o);
                            break;
                        case r.UP:
                            t = !0,
                            this._keyEvent("previous", o);
                            break;
                        case r.DOWN:
                            t = !0,
                            this._keyEvent("next", o);
                            break;
                        case r.ENTER:
                        case r.NUMPAD_ENTER:
                            if (this.menu.active) t = !0,
                            o.preventDefault(),
                            this.menu.select(o);
                            break;
                        case r.TAB:
                            if (this.menu.active) this.menu.select(o);
                            break;
                        case r.ESCAPE:
                            if (this.menu.element.is(":visible")) this._value(this.term),
                            this.close(o),
                            o.preventDefault();
                            break;
                        default:
                            i = !0,
                            this._searchTimeout(o)
                        }
                    },
                    keypress: function(n) {
                        if (!t) {
                            if (!i) {
                                var o = e.ui.keyCode;
                                switch (n.keyCode) {
                                case o.PAGE_UP:
                                    this._move("previousPage", n);
                                    break;
                                case o.PAGE_DOWN:
                                    this._move("nextPage", n);
                                    break;
                                case o.UP:
                                    this._keyEvent("previous", n);
                                    break;
                                case o.DOWN:
                                    this._keyEvent("next", n)
                                }
                            }
                        } else if (t = !1, !this.isMultiLine || this.menu.element.is(":visible")) n.preventDefault()
                    },
                    input: function(e) {
                        if (n) return n = !1,
                        void e.preventDefault();
                        else return void this._searchTimeout(e)
                    },
                    focus: function() {
                        this.selectedItem = null,
                        this.previous = this._value()
                    },
                    blur: function(e) {
                        if (this.cancelBlur) return void delete this.cancelBlur;
                        else return clearTimeout(this.searching),
                        this.close(e),
                        void this._change(e)
                    }
                }),
                this._initSource(),
                this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                    role: null
                }).hide().data("ui-menu"),
                this._on(this.menu.element, {
                    mousedown: function(t) {
                        t.preventDefault(),
                        this.cancelBlur = !0,
                        this._delay(function() {
                            delete this.cancelBlur
                        });
                        var i = this.menu.element[0];
                        if (!e(t.target).closest(".ui-menu-item").length) this._delay(function() {
                            var t = this;
                            this.document.one("mousedown",
                            function(n) {
                                if (n.target !== t.element[0] && n.target !== i && !e.contains(i, n.target)) t.close()
                            })
                        })
                    },
                    menufocus: function(t, i) {
                        if (this.isNewMenu) if (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type)) return this.menu.blur(),
                        void this.document.one("mousemove",
                        function() {
                            e(t.target).trigger(t.originalEvent)
                        });
                        var n = i.item.data("ui-autocomplete-item");
                        if (!1 !== this._trigger("focus", t, {
                            item: n
                        })) {
                            if (t.originalEvent && /^key/.test(t.originalEvent.type)) this._value(n.value)
                        } else this.liveRegion.text(n.value)
                    },
                    menuselect: function(e, t) {
                        var i = t.item.data("ui-autocomplete-item"),
                        n = this.previous;
                        if (this.element[0] !== this.document[0].activeElement) this.element.focus(),
                        this.previous = n,
                        this._delay(function() {
                            this.previous = n,
                            this.selectedItem = i
                        });
                        if (!1 !== this._trigger("select", e, {
                            item: i
                        })) this._value(i.value);
                        this.term = this._value(),
                        this.close(e),
                        this.selectedItem = i
                    }
                }),
                this.liveRegion = e("<span>", {
                    role: "status",
                    "aria-live": "polite"
                }).addClass("ui-helper-hidden-accessible").insertBefore(this.element),
                this._on(this.window, {
                    beforeunload: function() {
                        this.element.removeAttr("autocomplete")
                    }
                })
            },
            _destroy: function() {
                clearTimeout(this.searching),
                this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),
                this.menu.element.remove(),
                this.liveRegion.remove()
            },
            _setOption: function(e, t) {
                if (this._super(e, t), "source" === e) this._initSource();
                if ("appendTo" === e) this.menu.element.appendTo(this._appendTo());
                if ("disabled" === e && t && this.xhr) this.xhr.abort()
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                if (t) t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0);
                if (!t) t = this.element.closest(".ui-front");
                if (!t.length) t = this.document[0].body;
                return t
            },
            _initSource: function() {
                var t, i, n = this;
                if (e.isArray(this.options.source)) t = this.options.source,
                this.source = function(i, n) {
                    n(e.ui.autocomplete.filter(t, i.term))
                };
                else if ("string" == typeof this.options.source) i = this.options.source,
                this.source = function(t, o) {
                    if (n.xhr) n.xhr.abort();
                    n.xhr = e.ajax({
                        url: i,
                        data: t,
                        dataType: "json",
                        success: function(e) {
                            o(e)
                        },
                        error: function() {
                            o([])
                        }
                    })
                };
                else this.source = this.options.source
            },
            _searchTimeout: function(e) {
                clearTimeout(this.searching),
                this.searching = this._delay(function() {
                    if (this.term !== this._value()) this.selectedItem = null,
                    this.search(null, e)
                },
                this.options.delay)
            },
            search: function(e, t) {
                if (e = null != e ? e: this._value(), this.term = this._value(), e.length < this.options.minLength) return this.close(t);
                if (this._trigger("search", t) !== !1) return this._search(e);
                else return void 0
            },
            _search: function(e) {
                this.pending++,
                this.element.addClass("ui-autocomplete-loading"),
                this.cancelSearch = !1,
                this.source({
                    term: e
                },
                this._response())
            },
            _response: function() {
                var t = ++this.requestIndex;
                return e.proxy(function(e) {
                    if (t === this.requestIndex) this.__response(e);
                    if (this.pending--, !this.pending) this.element.removeClass("ui-autocomplete-loading")
                },
                this)
            },
            __response: function(e) {
                if (e) e = this._normalize(e);
                if (this._trigger("response", null, {
                    content: e
                }), !this.options.disabled && e && e.length && !this.cancelSearch) this._suggest(e),
                this._trigger("open");
                else this._close()
            },
            close: function(e) {
                this.cancelSearch = !0,
                this._close(e)
            },
            _close: function(e) {
                if (this.menu.element.is(":visible")) this.menu.element.hide(),
                this.menu.blur(),
                this.isNewMenu = !0,
                this._trigger("close", e)
            },
            _change: function(e) {
                if (this.previous !== this._value()) this._trigger("change", e, {
                    item: this.selectedItem
                })
            },
            _normalize: function(t) {
                if (t.length && t[0].label && t[0].value) return t;
                else return e.map(t,
                function(t) {
                    if ("string" == typeof t) return {
                        label: t,
                        value: t
                    };
                    else return e.extend({
                        label: t.label || t.value,
                        value: t.value || t.label
                    },
                    t)
                })
            },
            _suggest: function(t) {
                var i = this.menu.element.empty();
                if (this._renderMenu(i, t), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(e.extend({
                    of: this.element
                },
                this.options.position)), this.options.autoFocus) this.menu.next()
            },
            _resizeMenu: function() {
                var e = this.menu.element;
                e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
            },
            _renderMenu: function(t, i) {
                var n = this;
                e.each(i,
                function(e, i) {
                    n._renderItemData(t, i)
                })
            },
            _renderItemData: function(e, t) {
                return this._renderItem(e, t).data("ui-autocomplete-item", t)
            },
            _renderItem: function(t, i) {
                return e("<li>").append(e("<a>").text(i.label)).appendTo(t)
            },
            _move: function(e, t) {
                if (!this.menu.element.is(":visible")) return void this.search(null, t);
                if (this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e)) return this._value(this.term),
                void this.menu.blur();
                else return void this.menu[e](t)
            },
            widget: function() {
                return this.menu.element
            },
            _value: function() {
                return this.valueMethod.apply(this.element, arguments)
            },
            _keyEvent: function(e, t) {
                if (!this.isMultiLine || this.menu.element.is(":visible")) this._move(e, t),
                t.preventDefault()
            }
        }),
        e.extend(e.ui.autocomplete, {
            escapeRegex: function(e) {
                return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            },
            filter: function(t, i) {
                var n = new RegExp(e.ui.autocomplete.escapeRegex(i), "i");
                return e.grep(t,
                function(e) {
                    return n.test(e.label || e.value || e)
                })
            }
        }),
        e.widget("ui.autocomplete", e.ui.autocomplete, {
            options: {
                messages: {
                    noResults: "No search results.",
                    results: function(e) {
                        return e + (e > 1 ? " results are": " result is") + " available, use up and down arrow keys to navigate."
                    }
                }
            },
            __response: function(e) {
                var t;
                if (this._superApply(arguments), !this.options.disabled && !this.cancelSearch) {
                    if (e && e.length) t = this.options.messages.results(e.length);
                    else t = this.options.messages.noResults;
                    this.liveRegion.text(t)
                }
            }
        })
    } (jQuery),
    function(e) {
        var t, i = "ui-button ui-widget ui-state-default ui-corner-all",
        n = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
        o = function() {
            var t = e(this);
            setTimeout(function() {
                t.find(":ui-button").button("refresh")
            },
            1)
        },
        r = function(t) {
            var i = t.name,
            n = t.form,
            o = e([]);
            if (i) if (i = i.replace(/'/g, "\\'"), n) o = e(n).find("[name='" + i + "']");
            else o = e("[name='" + i + "']", t.ownerDocument).filter(function() {
                return ! this.form
            });
            return o
        };
        e.widget("ui.button", {
            version: "1.10.4",
            defaultElement: "<button>",
            options: {
                disabled: null,
                text: !0,
                label: null,
                icons: {
                    primary: null,
                    secondary: null
                }
            },
            _create: function() {
                if (this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, o), "boolean" != typeof this.options.disabled) this.options.disabled = !!this.element.prop("disabled");
                else this.element.prop("disabled", this.options.disabled);
                this._determineButtonType(),
                this.hasTitle = !!this.buttonElement.attr("title");
                var n = this,
                s = this.options,
                a = "checkbox" === this.type || "radio" === this.type,
                l = !a ? "ui-state-active": "";
                if (null === s.label) s.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html();
                if (this._hoverable(this.buttonElement), this.buttonElement.addClass(i).attr("role", "button").bind("mouseenter" + this.eventNamespace,
                function() {
                    if (!s.disabled) if (this === t) e(this).addClass("ui-state-active")
                }).bind("mouseleave" + this.eventNamespace,
                function() {
                    if (!s.disabled) e(this).removeClass(l)
                }).bind("click" + this.eventNamespace,
                function(e) {
                    if (s.disabled) e.preventDefault(),
                    e.stopImmediatePropagation()
                }), this._on({
                    focus: function() {
                        this.buttonElement.addClass("ui-state-focus")
                    },
                    blur: function() {
                        this.buttonElement.removeClass("ui-state-focus")
                    }
                }), a) this.element.bind("change" + this.eventNamespace,
                function() {
                    n.refresh()
                });
                if ("checkbox" === this.type) this.buttonElement.bind("click" + this.eventNamespace,
                function() {
                    if (s.disabled) return ! 1;
                    else return void 0
                });
                else if ("radio" === this.type) this.buttonElement.bind("click" + this.eventNamespace,
                function() {
                    if (s.disabled) return ! 1;
                    e(this).addClass("ui-state-active"),
                    n.buttonElement.attr("aria-pressed", "true");
                    var t = n.element[0];
                    r(t).not(t).map(function() {
                        return e(this).button("widget")[0]
                    }).removeClass("ui-state-active").attr("aria-pressed", "false")
                });
                else if (this.buttonElement.bind("mousedown" + this.eventNamespace,
                function() {
                    if (s.disabled) return ! 1;
                    else return e(this).addClass("ui-state-active"),
                    t = this,
                    void n.document.one("mouseup",
                    function() {
                        t = null
                    })
                }).bind("mouseup" + this.eventNamespace,
                function() {
                    if (s.disabled) return ! 1;
                    else return void e(this).removeClass("ui-state-active")
                }).bind("keydown" + this.eventNamespace,
                function(t) {
                    if (s.disabled) return ! 1;
                    if (t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) e(this).addClass("ui-state-active")
                }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace,
                function() {
                    e(this).removeClass("ui-state-active")
                }), this.buttonElement.is("a")) this.buttonElement.keyup(function(t) {
                    if (t.keyCode === e.ui.keyCode.SPACE) e(this).click()
                });
                this._setOption("disabled", s.disabled),
                this._resetButton()
            },
            _determineButtonType: function() {
                var e, t, i;
                if (this.element.is("[type=checkbox]")) this.type = "checkbox";
                else if (this.element.is("[type=radio]")) this.type = "radio";
                else if (this.element.is("input")) this.type = "input";
                else this.type = "button";
                if ("checkbox" === this.type || "radio" === this.type) {
                    if (e = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = e.find(t), !this.buttonElement.length) if (e = e.length ? e.siblings() : this.element.siblings(), this.buttonElement = e.filter(t), !this.buttonElement.length) this.buttonElement = e.find(t);
                    if (this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked")) this.buttonElement.addClass("ui-state-active");
                    this.buttonElement.prop("aria-pressed", i)
                } else this.buttonElement = this.element
            },
            widget: function() {
                return this.buttonElement
            },
            _destroy: function() {
                if (this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(i + " ui-state-active " + n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), !this.hasTitle) this.buttonElement.removeAttr("title")
            },
            _setOption: function(e, t) {
                if (this._super(e, t), "disabled" !== e) this._resetButton();
                else if (this.element.prop("disabled", !!t), t) this.buttonElement.removeClass("ui-state-focus")
            },
            refresh: function() {
                var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
                if (t !== this.options.disabled) this._setOption("disabled", t);
                if ("radio" === this.type) r(this.element[0]).each(function() {
                    if (e(this).is(":checked")) e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true");
                    else e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
                });
                else if ("checkbox" === this.type) if (this.element.is(":checked")) this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true");
                else this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false")
            },
            _resetButton: function() {
                if ("input" !== this.type) {
                    var t = this.buttonElement.removeClass(n),
                    i = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),
                    o = this.options.icons,
                    r = o.primary && o.secondary,
                    s = [];
                    if (o.primary || o.secondary) {
                        if (this.options.text) s.push("ui-button-text-icon" + (r ? "s": o.primary ? "-primary": "-secondary"));
                        if (o.primary) t.prepend("<span class='ui-button-icon-primary ui-icon " + o.primary + "'></span>");
                        if (o.secondary) t.append("<span class='ui-button-icon-secondary ui-icon " + o.secondary + "'></span>");
                        if (!this.options.text) if (s.push(r ? "ui-button-icons-only": "ui-button-icon-only"), !this.hasTitle) t.attr("title", e.trim(i))
                    } else s.push("ui-button-text-only");
                    t.addClass(s.join(" "))
                } else if (this.options.label) this.element.val(this.options.label)
            }
        }),
        e.widget("ui.buttonset", {
            version: "1.10.4",
            options: {
                items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
            },
            _create: function() {
                this.element.addClass("ui-buttonset")
            },
            _init: function() {
                this.refresh()
            },
            _setOption: function(e, t) {
                if ("disabled" === e) this.buttons.button("option", e, t);
                this._super(e, t)
            },
            refresh: function() {
                var t = "rtl" === this.element.css("direction");
                this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function() {
                    return e(this).button("widget")[0]
                }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right": "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left": "ui-corner-right").end().end()
            },
            _destroy: function() {
                this.element.removeClass("ui-buttonset"),
                this.buttons.map(function() {
                    return e(this).button("widget")[0]
                }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
            }
        })
    } (jQuery),
    function(e, t) {
        function i() {
            this._curInst = null,
            this._keyEvent = !1,
            this._disabledInputs = [],
            this._datepickerShowing = !1,
            this._inDialog = !1,
            this._mainDivId = "ui-datepicker-div",
            this._inlineClass = "ui-datepicker-inline",
            this._appendClass = "ui-datepicker-append",
            this._triggerClass = "ui-datepicker-trigger",
            this._dialogClass = "ui-datepicker-dialog",
            this._disableClass = "ui-datepicker-disabled",
            this._unselectableClass = "ui-datepicker-unselectable",
            this._currentClass = "ui-datepicker-current-day",
            this._dayOverClass = "ui-datepicker-days-cell-over",
            this.regional = [],
            this.regional[""] = {
                closeText: "Done",
                prevText: "Prev",
                nextText: "Next",
                currentText: "Today",
                monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                weekHeader: "Wk",
                dateFormat: "mm/dd/yy",
                firstDay: 0,
                isRTL: !1,
                showMonthAfterYear: !1,
                yearSuffix: ""
            },
            this._defaults = {
                showOn: "focus",
                showAnim: "fadeIn",
                showOptions: {},
                defaultDate: null,
                appendText: "",
                buttonText: "...",
                buttonImage: "",
                buttonImageOnly: !1,
                hideIfNoPrevNext: !1,
                navigationAsDateFormat: !1,
                gotoCurrent: !1,
                changeMonth: !1,
                changeYear: !1,
                yearRange: "c-10:c+10",
                showOtherMonths: !1,
                selectOtherMonths: !1,
                showWeek: !1,
                calculateWeek: this.iso8601Week,
                shortYearCutoff: "+10",
                minDate: null,
                maxDate: null,
                duration: "fast",
                beforeShowDay: null,
                beforeShow: null,
                onSelect: null,
                onChangeMonthYear: null,
                onClose: null,
                numberOfMonths: 1,
                showCurrentAtPos: 0,
                stepMonths: 1,
                stepBigMonths: 12,
                altField: "",
                altFormat: "",
                constrainInput: !0,
                showButtonPanel: !1,
                autoSize: !1,
                disabled: !1
            },
            e.extend(this._defaults, this.regional[""]),
            this.dpDiv = n(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
        }
        function n(t) {
            var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
            return t.delegate(i, "mouseout",
            function() {
                if (e(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev")) e(this).removeClass("ui-datepicker-prev-hover");
                if ( - 1 !== this.className.indexOf("ui-datepicker-next")) e(this).removeClass("ui-datepicker-next-hover")
            }).delegate(i, "mouseover",
            function() {
                if (!e.datepicker._isDisabledDatepicker(r.inline ? t.parent()[0] : r.input[0])) {
                    if (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev")) e(this).addClass("ui-datepicker-prev-hover");
                    if ( - 1 !== this.className.indexOf("ui-datepicker-next")) e(this).addClass("ui-datepicker-next-hover")
                }
            })
        }
        function o(t, i) {
            e.extend(t, i);
            for (var n in i) if (null == i[n]) t[n] = i[n];
            return t
        }
        e.extend(e.ui, {
            datepicker: {
                version: "1.10.4"
            }
        });
        var r, s = "datepicker";
        e.extend(i.prototype, {
            markerClassName: "hasDatepicker",
            maxRows: 4,
            _widgetDatepicker: function() {
                return this.dpDiv
            },
            setDefaults: function(e) {
                return o(this._defaults, e || {}),
                this
            },
            _attachDatepicker: function(t, i) {
                var n, o, r;
                if (n = t.nodeName.toLowerCase(), o = "div" === n || "span" === n, !t.id) this.uuid += 1,
                t.id = "dp" + this.uuid;
                if (r = this._newInst(e(t), o), r.settings = e.extend({},
                i || {}), "input" === n) this._connectDatepicker(t, r);
                else if (o) this._inlineDatepicker(t, r)
            },
            _newInst: function(t, i) {
                var o = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
                return {
                    id: o,
                    input: t,
                    selectedDay: 0,
                    selectedMonth: 0,
                    selectedYear: 0,
                    drawMonth: 0,
                    drawYear: 0,
                    inline: i,
                    dpDiv: !i ? this.dpDiv: n(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
                }
            },
            _connectDatepicker: function(t, i) {
                var n = e(t);
                if (i.append = e([]), i.trigger = e([]), !n.hasClass(this.markerClassName)) if (this._attachments(n, i), n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), e.data(t, s, i), i.settings.disabled) this._disableDatepicker(t)
            },
            _attachments: function(t, i) {
                var n, o, r, s = this._get(i, "appendText"),
                a = this._get(i, "isRTL");
                if (i.append) i.append.remove();
                if (s) i.append = e("<span class='" + this._appendClass + "'>" + s + "</span>"),
                t[a ? "before": "after"](i.append);
                if (t.unbind("focus", this._showDatepicker), i.trigger) i.trigger.remove();
                if (n = this._get(i, "showOn"), "focus" === n || "both" === n) t.focus(this._showDatepicker);
                if ("button" === n || "both" === n) o = this._get(i, "buttonText"),
                r = this._get(i, "buttonImage"),
                i.trigger = e(this._get(i, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
                    src: r,
                    alt: o,
                    title: o
                }) : e("<button type='button'></button>").addClass(this._triggerClass).html(!r ? o: e("<img/>").attr({
                    src: r,
                    alt: o,
                    title: o
                }))),
                t[a ? "before": "after"](i.trigger),
                i.trigger.click(function() {
                    if (e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0]) e.datepicker._hideDatepicker();
                    else if (e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0]) e.datepicker._hideDatepicker(),
                    e.datepicker._showDatepicker(t[0]);
                    else e.datepicker._showDatepicker(t[0]);
                    return ! 1
                })
            },
            _autoSize: function(e) {
                if (this._get(e, "autoSize") && !e.inline) {
                    var t, i, n, o, r = new Date(2009, 11, 20),
                    s = this._get(e, "dateFormat");
                    if (s.match(/[DM]/)) t = function(e) {
                        for (i = 0, n = 0, o = 0; o < e.length; o++) if (e[o].length > i) i = e[o].length,
                        n = o;
                        return n
                    },
                    r.setMonth(t(this._get(e, s.match(/MM/) ? "monthNames": "monthNamesShort"))),
                    r.setDate(t(this._get(e, s.match(/DD/) ? "dayNames": "dayNamesShort")) + 20 - r.getDay());
                    e.input.attr("size", this._formatDate(e, r).length)
                }
            },
            _inlineDatepicker: function(t, i) {
                var n = e(t);
                if (!n.hasClass(this.markerClassName)) {
                    if (n.addClass(this.markerClassName).append(i.dpDiv), e.data(t, s, i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled) this._disableDatepicker(t);
                    i.dpDiv.css("display", "block")
                }
            },
            _dialogDatepicker: function(t, i, n, r, a) {
                var l, h, c, u, d, f = this._dialogInst;
                if (!f) this.uuid += 1,
                l = "dp" + this.uuid,
                this._dialogInput = e("<input type='text' id='" + l + "' style='position: absolute; top: -100px; width: 0px;'/>"),
                this._dialogInput.keydown(this._doKeyDown),
                e("body").append(this._dialogInput),
                f = this._dialogInst = this._newInst(this._dialogInput, !1),
                f.settings = {},
                e.data(this._dialogInput[0], s, f);
                if (o(f.settings, r || {}), i = i && i.constructor === Date ? this._formatDate(f, i) : i, this._dialogInput.val(i), this._pos = a ? a.length ? a: [a.pageX, a.pageY] : null, !this._pos) h = document.documentElement.clientWidth,
                c = document.documentElement.clientHeight,
                u = document.documentElement.scrollLeft || document.body.scrollLeft,
                d = document.documentElement.scrollTop || document.body.scrollTop,
                this._pos = [h / 2 - 100 + u, c / 2 - 150 + d];
                if (this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), f.settings.onSelect = n, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), e.blockUI) e.blockUI(this.dpDiv);
                return e.data(this._dialogInput[0], s, f),
                this
            },
            _destroyDatepicker: function(t) {
                var i, n = e(t),
                o = e.data(t, s);
                if (n.hasClass(this.markerClassName)) if (i = t.nodeName.toLowerCase(), e.removeData(t, s), "input" === i) o.append.remove(),
                o.trigger.remove(),
                n.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp);
                else if ("div" === i || "span" === i) n.removeClass(this.markerClassName).empty()
            },
            _enableDatepicker: function(t) {
                var i, n, o = e(t),
                r = e.data(t, s);
                if (o.hasClass(this.markerClassName)) {
                    if (i = t.nodeName.toLowerCase(), "input" === i) t.disabled = !1,
                    r.trigger.filter("button").each(function() {
                        this.disabled = !1
                    }).end().filter("img").css({
                        opacity: "1.0",
                        cursor: ""
                    });
                    else if ("div" === i || "span" === i) n = o.children("." + this._inlineClass),
                    n.children().removeClass("ui-state-disabled"),
                    n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1);
                    this._disabledInputs = e.map(this._disabledInputs,
                    function(e) {
                        return e === t ? null: e
                    })
                }
            },
            _disableDatepicker: function(t) {
                var i, n, o = e(t),
                r = e.data(t, s);
                if (o.hasClass(this.markerClassName)) {
                    if (i = t.nodeName.toLowerCase(), "input" === i) t.disabled = !0,
                    r.trigger.filter("button").each(function() {
                        this.disabled = !0
                    }).end().filter("img").css({
                        opacity: "0.5",
                        cursor: "default"
                    });
                    else if ("div" === i || "span" === i) n = o.children("." + this._inlineClass),
                    n.children().addClass("ui-state-disabled"),
                    n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0);
                    this._disabledInputs = e.map(this._disabledInputs,
                    function(e) {
                        return e === t ? null: e
                    }),
                    this._disabledInputs[this._disabledInputs.length] = t
                }
            },
            _isDisabledDatepicker: function(e) {
                if (!e) return ! 1;
                for (var t = 0; t < this._disabledInputs.length; t++) if (this._disabledInputs[t] === e) return ! 0;
                return ! 1
            },
            _getInst: function(t) {
                try {
                    return e.data(t, s)
                } catch(i) {
                    throw "Missing instance data for this datepicker"
                }
            },
            _optionDatepicker: function(i, n, r) {
                var s, a, l, h, c = this._getInst(i);
                if (2 === arguments.length && "string" == typeof n) return "defaults" === n ? e.extend({},
                e.datepicker._defaults) : c ? "all" === n ? e.extend({},
                c.settings) : this._get(c, n) : null;
                if (s = n || {},
                "string" == typeof n) s = {},
                s[n] = r;
                if (c) {
                    if (this._curInst === c) this._hideDatepicker();
                    if (a = this._getDateDatepicker(i, !0), l = this._getMinMaxDate(c, "min"), h = this._getMinMaxDate(c, "max"), o(c.settings, s), null !== l && s.dateFormat !== t && s.minDate === t) c.settings.minDate = this._formatDate(c, l);
                    if (null !== h && s.dateFormat !== t && s.maxDate === t) c.settings.maxDate = this._formatDate(c, h);
                    if ("disabled" in s) if (s.disabled) this._disableDatepicker(i);
                    else this._enableDatepicker(i);
                    this._attachments(e(i), c),
                    this._autoSize(c),
                    this._setDate(c, a),
                    this._updateAlternate(c),
                    this._updateDatepicker(c)
                }
            },
            _changeDatepicker: function(e, t, i) {
                this._optionDatepicker(e, t, i)
            },
            _refreshDatepicker: function(e) {
                var t = this._getInst(e);
                if (t) this._updateDatepicker(t)
            },
            _setDateDatepicker: function(e, t) {
                var i = this._getInst(e);
                if (i) this._setDate(i, t),
                this._updateDatepicker(i),
                this._updateAlternate(i)
            },
            _getDateDatepicker: function(e, t) {
                var i = this._getInst(e);
                if (i && !i.inline) this._setDateFromField(i, t);
                return i ? this._getDate(i) : null
            },
            _doKeyDown: function(t) {
                var i, n, o, r = e.datepicker._getInst(t.target),
                s = !0,
                a = r.dpDiv.is(".ui-datepicker-rtl");
                if (r._keyEvent = !0, e.datepicker._datepickerShowing) switch (t.keyCode) {
                case 9:
                    e.datepicker._hideDatepicker(),
                    s = !1;
                    break;
                case 13:
                    if (o = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", r.dpDiv), o[0]) e.datepicker._selectDay(t.target, r.selectedMonth, r.selectedYear, o[0]);
                    if (i = e.datepicker._get(r, "onSelect")) n = e.datepicker._formatDate(r),
                    i.apply(r.input ? r.input[0] : null, [n, r]);
                    else e.datepicker._hideDatepicker();
                    return ! 1;
                case 27:
                    e.datepicker._hideDatepicker();
                    break;
                case 33:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(r, "stepBigMonths") : -e.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 34:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(r, "stepBigMonths") : +e.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 35:
                    if (t.ctrlKey || t.metaKey) e.datepicker._clearDate(t.target);
                    s = t.ctrlKey || t.metaKey;
                    break;
                case 36:
                    if (t.ctrlKey || t.metaKey) e.datepicker._gotoToday(t.target);
                    s = t.ctrlKey || t.metaKey;
                    break;
                case 37:
                    if (t.ctrlKey || t.metaKey) e.datepicker._adjustDate(t.target, a ? 1 : -1, "D");
                    if (s = t.ctrlKey || t.metaKey, t.originalEvent.altKey) e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(r, "stepBigMonths") : -e.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 38:
                    if (t.ctrlKey || t.metaKey) e.datepicker._adjustDate(t.target, -7, "D");
                    s = t.ctrlKey || t.metaKey;
                    break;
                case 39:
                    if (t.ctrlKey || t.metaKey) e.datepicker._adjustDate(t.target, a ? -1 : 1, "D");
                    if (s = t.ctrlKey || t.metaKey, t.originalEvent.altKey) e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(r, "stepBigMonths") : +e.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 40:
                    if (t.ctrlKey || t.metaKey) e.datepicker._adjustDate(t.target, 7, "D");
                    s = t.ctrlKey || t.metaKey;
                    break;
                default:
                    s = !1
                } else if (36 === t.keyCode && t.ctrlKey) e.datepicker._showDatepicker(this);
                else s = !1;
                if (s) t.preventDefault(),
                t.stopPropagation()
            },
            _doKeyPress: function(t) {
                var i, n, o = e.datepicker._getInst(t.target);
                if (e.datepicker._get(o, "constrainInput")) return i = e.datepicker._possibleChars(e.datepicker._get(o, "dateFormat")),
                n = String.fromCharCode(null == t.charCode ? t.keyCode: t.charCode),
                t.ctrlKey || t.metaKey || " " > n || !i || i.indexOf(n) > -1;
                else return void 0
            },
            _doKeyUp: function(t) {
                var i, n = e.datepicker._getInst(t.target);
                if (n.input.val() !== n.lastVal) try {
                    if (i = e.datepicker.parseDate(e.datepicker._get(n, "dateFormat"), n.input ? n.input.val() : null, e.datepicker._getFormatConfig(n))) e.datepicker._setDateFromField(n),
                    e.datepicker._updateAlternate(n),
                    e.datepicker._updateDatepicker(n)
                } catch(o) {}
                return ! 0
            },
            _showDatepicker: function(t) {
                if (t = t.target || t, "input" !== t.nodeName.toLowerCase()) t = e("input", t.parentNode)[0];
                if (!e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) {
                    var i, n, r, s, a, l, h;
                    if (i = e.datepicker._getInst(t), e.datepicker._curInst && e.datepicker._curInst !== i) if (e.datepicker._curInst.dpDiv.stop(!0, !0), i && e.datepicker._datepickerShowing) e.datepicker._hideDatepicker(e.datepicker._curInst.input[0]);
                    if (n = e.datepicker._get(i, "beforeShow"), r = n ? n.apply(t, [t, i]) : {},
                    r !== !1) {
                        if (o(i.settings, r), i.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(i), e.datepicker._inDialog) t.value = "";
                        if (!e.datepicker._pos) e.datepicker._pos = e.datepicker._findPos(t),
                        e.datepicker._pos[1] += t.offsetHeight;
                        if (s = !1, e(t).parents().each(function() {
                            return s |= "fixed" === e(this).css("position"),
                            !s
                        }), a = {
                            left: e.datepicker._pos[0],
                            top: e.datepicker._pos[1]
                        },
                        e.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
                            position: "absolute",
                            display: "block",
                            top: "-1000px"
                        }), e.datepicker._updateDatepicker(i), a = e.datepicker._checkOffset(i, a, s), i.dpDiv.css({
                            position: e.datepicker._inDialog && e.blockUI ? "static": s ? "fixed": "absolute",
                            display: "none",
                            left: a.left + "px",
                            top: a.top + "px"
                        }), !i.inline) {
                            if (l = e.datepicker._get(i, "showAnim"), h = e.datepicker._get(i, "duration"), i.dpDiv.zIndex(e(t).zIndex() + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[l]) i.dpDiv.show(l, e.datepicker._get(i, "showOptions"), h);
                            else i.dpDiv[l || "show"](l ? h: null);
                            if (e.datepicker._shouldFocusInput(i)) i.input.focus();
                            e.datepicker._curInst = i
                        }
                    }
                }
            },
            _updateDatepicker: function(t) {
                this.maxRows = 4,
                r = t,
                t.dpDiv.empty().append(this._generateHTML(t)),
                this._attachHandlers(t),
                t.dpDiv.find("." + this._dayOverClass + " a").mouseover();
                var i, n = this._getNumberOfMonths(t),
                o = n[1],
                s = 17;
                if (t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), o > 1) t.dpDiv.addClass("ui-datepicker-multi-" + o).css("width", s * o + "em");
                if (t.dpDiv[(1 !== n[0] || 1 !== n[1] ? "add": "remove") + "Class"]("ui-datepicker-multi"), t.dpDiv[(this._get(t, "isRTL") ? "add": "remove") + "Class"]("ui-datepicker-rtl"), t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t)) t.input.focus();
                if (t.yearshtml) i = t.yearshtml,
                setTimeout(function() {
                    if (i === t.yearshtml && t.yearshtml) t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);
                    i = t.yearshtml = null
                },
                0)
            },
            _shouldFocusInput: function(e) {
                return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
            },
            _checkOffset: function(t, i, n) {
                var o = t.dpDiv.outerWidth(),
                r = t.dpDiv.outerHeight(),
                s = t.input ? t.input.outerWidth() : 0,
                a = t.input ? t.input.outerHeight() : 0,
                l = document.documentElement.clientWidth + (n ? 0 : e(document).scrollLeft()),
                h = document.documentElement.clientHeight + (n ? 0 : e(document).scrollTop());
                return i.left -= this._get(t, "isRTL") ? o - s: 0,
                i.left -= n && i.left === t.input.offset().left ? e(document).scrollLeft() : 0,
                i.top -= n && i.top === t.input.offset().top + a ? e(document).scrollTop() : 0,
                i.left -= Math.min(i.left, i.left + o > l && l > o ? Math.abs(i.left + o - l) : 0),
                i.top -= Math.min(i.top, i.top + r > h && h > r ? Math.abs(r + a) : 0),
                i
            },
            _findPos: function(t) {
                for (var i, n = this._getInst(t), o = this._get(n, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t));) t = t[o ? "previousSibling": "nextSibling"];
                return i = e(t).offset(),
                [i.left, i.top]
            },
            _hideDatepicker: function(t) {
                var i, n, o, r, a = this._curInst;
                if (a && (!t || a === e.data(t, s))) if (this._datepickerShowing) {
                    if (i = this._get(a, "showAnim"), n = this._get(a, "duration"), o = function() {
                        e.datepicker._tidyDialog(a)
                    },
                    e.effects && (e.effects.effect[i] || e.effects[i])) a.dpDiv.hide(i, e.datepicker._get(a, "showOptions"), n, o);
                    else a.dpDiv["slideDown" === i ? "slideUp": "fadeIn" === i ? "fadeOut": "hide"](i ? n: null, o);
                    if (!i) o();
                    if (this._datepickerShowing = !1, r = this._get(a, "onClose")) r.apply(a.input ? a.input[0] : null, [a.input ? a.input.val() : "", a]);
                    if (this._lastInput = null, this._inDialog) if (this._dialogInput.css({
                        position: "absolute",
                        left: "0",
                        top: "-100px"
                    }), e.blockUI) e.unblockUI(),
                    e("body").append(this.dpDiv);
                    this._inDialog = !1
                }
            },
            _tidyDialog: function(e) {
                e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
            },
            _checkExternalClick: function(t) {
                if (e.datepicker._curInst) {
                    var i = e(t.target),
                    n = e.datepicker._getInst(i[0]);
                    if (i[0].id !== e.datepicker._mainDivId && 0 === i.parents("#" + e.datepicker._mainDivId).length && !i.hasClass(e.datepicker.markerClassName) && !i.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || i.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== n) e.datepicker._hideDatepicker()
                }
            },
            _adjustDate: function(t, i, n) {
                var o = e(t),
                r = this._getInst(o[0]);
                if (!this._isDisabledDatepicker(o[0])) this._adjustInstDate(r, i + ("M" === n ? this._get(r, "showCurrentAtPos") : 0), n),
                this._updateDatepicker(r)
            },
            _gotoToday: function(t) {
                var i, n = e(t),
                o = this._getInst(n[0]);
                if (this._get(o, "gotoCurrent") && o.currentDay) o.selectedDay = o.currentDay,
                o.drawMonth = o.selectedMonth = o.currentMonth,
                o.drawYear = o.selectedYear = o.currentYear;
                else i = new Date,
                o.selectedDay = i.getDate(),
                o.drawMonth = o.selectedMonth = i.getMonth(),
                o.drawYear = o.selectedYear = i.getFullYear();
                this._notifyChange(o),
                this._adjustDate(n)
            },
            _selectMonthYear: function(t, i, n) {
                var o = e(t),
                r = this._getInst(o[0]);
                r["selected" + ("M" === n ? "Month": "Year")] = r["draw" + ("M" === n ? "Month": "Year")] = parseInt(i.options[i.selectedIndex].value, 10),
                this._notifyChange(r),
                this._adjustDate(o)
            },
            _selectDay: function(t, i, n, o) {
                var r, s = e(t);
                if (!e(o).hasClass(this._unselectableClass) && !this._isDisabledDatepicker(s[0])) r = this._getInst(s[0]),
                r.selectedDay = r.currentDay = e("a", o).html(),
                r.selectedMonth = r.currentMonth = i,
                r.selectedYear = r.currentYear = n,
                this._selectDate(t, this._formatDate(r, r.currentDay, r.currentMonth, r.currentYear))
            },
            _clearDate: function(t) {
                var i = e(t);
                this._selectDate(i, "")
            },
            _selectDate: function(t, i) {
                var n, o = e(t),
                r = this._getInst(o[0]);
                if (i = null != i ? i: this._formatDate(r), r.input) r.input.val(i);
                if (this._updateAlternate(r), n = this._get(r, "onSelect")) n.apply(r.input ? r.input[0] : null, [i, r]);
                else if (r.input) r.input.trigger("change");
                if (r.inline) this._updateDatepicker(r);
                else {
                    if (this._hideDatepicker(), this._lastInput = r.input[0], "object" != typeof r.input[0]) r.input.focus();
                    this._lastInput = null
                }
            },
            _updateAlternate: function(t) {
                var i, n, o, r = this._get(t, "altField");
                if (r) i = this._get(t, "altFormat") || this._get(t, "dateFormat"),
                n = this._getDate(t),
                o = this.formatDate(i, n, this._getFormatConfig(t)),
                e(r).each(function() {
                    e(this).val(o)
                })
            },
            noWeekends: function(e) {
                var t = e.getDay();
                return [t > 0 && 6 > t, ""]
            },
            iso8601Week: function(e) {
                var t, i = new Date(e.getTime());
                return i.setDate(i.getDate() + 4 - (i.getDay() || 7)),
                t = i.getTime(),
                i.setMonth(0),
                i.setDate(1),
                Math.floor(Math.round((t - i) / 864e5) / 7) + 1
            },
            parseDate: function(t, i, n) {
                if (null == t || null == i) throw "Invalid arguments";
                if (i = "object" == typeof i ? i.toString() : i + "", "" === i) return null;
                var o, r, s, a, l = 0,
                h = (n ? n.shortYearCutoff: null) || this._defaults.shortYearCutoff,
                c = "string" != typeof h ? h: (new Date).getFullYear() % 100 + parseInt(h, 10),
                u = (n ? n.dayNamesShort: null) || this._defaults.dayNamesShort,
                d = (n ? n.dayNames: null) || this._defaults.dayNames,
                f = (n ? n.monthNamesShort: null) || this._defaults.monthNamesShort,
                p = (n ? n.monthNames: null) || this._defaults.monthNames,
                m = -1,
                g = -1,
                y = -1,
                v = -1,
                b = !1,
                x = function(e) {
                    var i = o + 1 < t.length && t.charAt(o + 1) === e;
                    if (i) o++;
                    return i
                },
                _ = function(e) {
                    var t = x(e),
                    n = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2,
                    o = new RegExp("^\\d{1," + n + "}"),
                    r = i.substring(l).match(o);
                    if (!r) throw "Missing number at position " + l;
                    return l += r[0].length,
                    parseInt(r[0], 10)
                },
                w = function(t, n, o) {
                    var r = -1,
                    s = e.map(x(t) ? o: n,
                    function(e, t) {
                        return [[t, e]]
                    }).sort(function(e, t) {
                        return - (e[1].length - t[1].length)
                    });
                    if (e.each(s,
                    function(e, t) {
                        var n = t[1];
                        if (i.substr(l, n.length).toLowerCase() === n.toLowerCase()) return r = t[0],
                        l += n.length,
                        !1;
                        else return void 0
                    }), -1 !== r) return r + 1;
                    else throw "Unknown name at position " + l
                },
                V = function() {
                    if (i.charAt(l) !== t.charAt(o)) throw "Unexpected literal at position " + l;
                    l++
                };
                for (o = 0; o < t.length; o++) if (b) if ("'" === t.charAt(o) && !x("'")) b = !1;
                else V();
                else switch (t.charAt(o)) {
                case "d":
                    y = _("d");
                    break;
                case "D":
                    w("D", u, d);
                    break;
                case "o":
                    v = _("o");
                    break;
                case "m":
                    g = _("m");
                    break;
                case "M":
                    g = w("M", f, p);
                    break;
                case "y":
                    m = _("y");
                    break;
                case "@":
                    a = new Date(_("@")),
                    m = a.getFullYear(),
                    g = a.getMonth() + 1,
                    y = a.getDate();
                    break;
                case "!":
                    a = new Date((_("!") - this._ticksTo1970) / 1e4),
                    m = a.getFullYear(),
                    g = a.getMonth() + 1,
                    y = a.getDate();
                    break;
                case "'":
                    if (x("'")) V();
                    else b = !0;
                    break;
                default:
                    V()
                }
                if (l < i.length) if (s = i.substr(l), !/^\s+/.test(s)) throw "Extra/unparsed characters found in date: " + s;
                if ( - 1 === m) m = (new Date).getFullYear();
                else if (100 > m) m += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (c >= m ? 0 : -100);
                if (v > -1) for (g = 1, y = v;;) {
                    if (r = this._getDaysInMonth(m, g - 1), r >= y) break;
                    g++,
                    y -= r
                }
                if (a = this._daylightSavingAdjust(new Date(m, g - 1, y)), a.getFullYear() !== m || a.getMonth() + 1 !== g || a.getDate() !== y) throw "Invalid date";
                return a
            },
            ATOM: "yy-mm-dd",
            COOKIE: "D, dd M yy",
            ISO_8601: "yy-mm-dd",
            RFC_822: "D, d M y",
            RFC_850: "DD, dd-M-y",
            RFC_1036: "D, d M y",
            RFC_1123: "D, d M yy",
            RFC_2822: "D, d M yy",
            RSS: "D, d M y",
            TICKS: "!",
            TIMESTAMP: "@",
            W3C: "yy-mm-dd",
            _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
            formatDate: function(e, t, i) {
                if (!t) return "";
                var n, o = (i ? i.dayNamesShort: null) || this._defaults.dayNamesShort,
                r = (i ? i.dayNames: null) || this._defaults.dayNames,
                s = (i ? i.monthNamesShort: null) || this._defaults.monthNamesShort,
                a = (i ? i.monthNames: null) || this._defaults.monthNames,
                l = function(t) {
                    var i = n + 1 < e.length && e.charAt(n + 1) === t;
                    if (i) n++;
                    return i
                },
                h = function(e, t, i) {
                    var n = "" + t;
                    if (l(e)) for (; n.length < i;) n = "0" + n;
                    return n
                },
                c = function(e, t, i, n) {
                    return l(e) ? n[t] : i[t]
                },
                u = "",
                d = !1;
                if (t) for (n = 0; n < e.length; n++) if (d) if ("'" === e.charAt(n) && !l("'")) d = !1;
                else u += e.charAt(n);
                else switch (e.charAt(n)) {
                case "d":
                    u += h("d", t.getDate(), 2);
                    break;
                case "D":
                    u += c("D", t.getDay(), o, r);
                    break;
                case "o":
                    u += h("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                    break;
                case "m":
                    u += h("m", t.getMonth() + 1, 2);
                    break;
                case "M":
                    u += c("M", t.getMonth(), s, a);
                    break;
                case "y":
                    u += l("y") ? t.getFullYear() : (t.getYear() % 100 < 10 ? "0": "") + t.getYear() % 100;
                    break;
                case "@":
                    u += t.getTime();
                    break;
                case "!":
                    u += 1e4 * t.getTime() + this._ticksTo1970;
                    break;
                case "'":
                    if (l("'")) u += "'";
                    else d = !0;
                    break;
                default:
                    u += e.charAt(n)
                }
                return u
            },
            _possibleChars: function(e) {
                var t, i = "",
                n = !1,
                o = function(i) {
                    var n = t + 1 < e.length && e.charAt(t + 1) === i;
                    if (n) t++;
                    return n
                };
                for (t = 0; t < e.length; t++) if (n) if ("'" === e.charAt(t) && !o("'")) n = !1;
                else i += e.charAt(t);
                else switch (e.charAt(t)) {
                case "d":
                case "m":
                case "y":
                case "@":
                    i += "0123456789";
                    break;
                case "D":
                case "M":
                    return null;
                case "'":
                    if (o("'")) i += "'";
                    else n = !0;
                    break;
                default:
                    i += e.charAt(t)
                }
                return i
            },
            _get: function(e, i) {
                return e.settings[i] !== t ? e.settings[i] : this._defaults[i]
            },
            _setDateFromField: function(e, t) {
                if (e.input.val() !== e.lastVal) {
                    var i = this._get(e, "dateFormat"),
                    n = e.lastVal = e.input ? e.input.val() : null,
                    o = this._getDefaultDate(e),
                    r = o,
                    s = this._getFormatConfig(e);
                    try {
                        r = this.parseDate(i, n, s) || o
                    } catch(a) {
                        n = t ? "": n
                    }
                    e.selectedDay = r.getDate(),
                    e.drawMonth = e.selectedMonth = r.getMonth(),
                    e.drawYear = e.selectedYear = r.getFullYear(),
                    e.currentDay = n ? r.getDate() : 0,
                    e.currentMonth = n ? r.getMonth() : 0,
                    e.currentYear = n ? r.getFullYear() : 0,
                    this._adjustInstDate(e)
                }
            },
            _getDefaultDate: function(e) {
                return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
            },
            _determineDate: function(t, i, n) {
                var o = function(e) {
                    var t = new Date;
                    return t.setDate(t.getDate() + e),
                    t
                },
                r = function(i) {
                    try {
                        return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), i, e.datepicker._getFormatConfig(t))
                    } catch(n) {}
                    for (var o = (i.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, r = o.getFullYear(), s = o.getMonth(), a = o.getDate(), l = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, h = l.exec(i); h;) {
                        switch (h[2] || "d") {
                        case "d":
                        case "D":
                            a += parseInt(h[1], 10);
                            break;
                        case "w":
                        case "W":
                            a += 7 * parseInt(h[1], 10);
                            break;
                        case "m":
                        case "M":
                            s += parseInt(h[1], 10),
                            a = Math.min(a, e.datepicker._getDaysInMonth(r, s));
                            break;
                        case "y":
                        case "Y":
                            r += parseInt(h[1], 10),
                            a = Math.min(a, e.datepicker._getDaysInMonth(r, s))
                        }
                        h = l.exec(i)
                    }
                    return new Date(r, s, a)
                },
                s = null == i || "" === i ? n: "string" == typeof i ? r(i) : "number" == typeof i ? isNaN(i) ? n: o(i) : new Date(i.getTime());
                if (s = s && "Invalid Date" === s.toString() ? n: s) s.setHours(0),
                s.setMinutes(0),
                s.setSeconds(0),
                s.setMilliseconds(0);
                return this._daylightSavingAdjust(s)
            },
            _daylightSavingAdjust: function(e) {
                if (!e) return null;
                else return e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0),
                e
            },
            _setDate: function(e, t, i) {
                var n = !t,
                o = e.selectedMonth,
                r = e.selectedYear,
                s = this._restrictMinMax(e, this._determineDate(e, t, new Date));
                if (e.selectedDay = e.currentDay = s.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = s.getMonth(), e.drawYear = e.selectedYear = e.currentYear = s.getFullYear(), (o !== e.selectedMonth || r !== e.selectedYear) && !i) this._notifyChange(e);
                if (this._adjustInstDate(e), e.input) e.input.val(n ? "": this._formatDate(e))
            },
            _getDate: function(e) {
                var t = !e.currentYear || e.input && "" === e.input.val() ? null: this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
                return t
            },
            _attachHandlers: function(t) {
                var i = this._get(t, "stepMonths"),
                n = "#" + t.id.replace(/\\\\/g, "\\");
                t.dpDiv.find("[data-handler]").map(function() {
                    var t = {
                        prev: function() {
                            e.datepicker._adjustDate(n, -i, "M")
                        },
                        next: function() {
                            e.datepicker._adjustDate(n, +i, "M")
                        },
                        hide: function() {
                            e.datepicker._hideDatepicker()
                        },
                        today: function() {
                            e.datepicker._gotoToday(n)
                        },
                        selectDay: function() {
                            return e.datepicker._selectDay(n, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
                            !1
                        },
                        selectMonth: function() {
                            return e.datepicker._selectMonthYear(n, this, "M"),
                            !1
                        },
                        selectYear: function() {
                            return e.datepicker._selectMonthYear(n, this, "Y"),
                            !1
                        }
                    };
                    e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
                })
            },
            _generateHTML: function(e) {
                var t, i, n, o, r, s, a, l, h, c, u, d, f, p, m, g, y, v, b, x, _, w, V, U, k, C, S, L, T, I, E, W, A, M, D, P, O, X, N, R = new Date,
                K = this._daylightSavingAdjust(new Date(R.getFullYear(), R.getMonth(), R.getDate())),
                F = this._get(e, "isRTL"),
                z = this._get(e, "showButtonPanel"),
                H = this._get(e, "hideIfNoPrevNext"),
                B = this._get(e, "navigationAsDateFormat"),
                J = this._getNumberOfMonths(e),
                j = this._get(e, "showCurrentAtPos"),
                G = this._get(e, "stepMonths"),
                q = 1 !== J[0] || 1 !== J[1],
                Y = this._daylightSavingAdjust(!e.currentDay ? new Date(9999, 9, 9) : new Date(e.currentYear, e.currentMonth, e.currentDay)),
                $ = this._getMinMaxDate(e, "min"),
                Q = this._getMinMaxDate(e, "max"),
                Z = e.drawMonth - j,
                et = e.drawYear;
                if (0 > Z) Z += 12,
                et--;
                if (Q) for (t = this._daylightSavingAdjust(new Date(Q.getFullYear(), Q.getMonth() - J[0] * J[1] + 1, Q.getDate())), t = $ && $ > t ? $: t; this._daylightSavingAdjust(new Date(et, Z, 1)) > t;) if (Z--, 0 > Z) Z = 11,
                et--;
                for (e.drawMonth = Z, e.drawYear = et, i = this._get(e, "prevText"), i = !B ? i: this.formatDate(i, this._daylightSavingAdjust(new Date(et, Z - G, 1)), this._getFormatConfig(e)), n = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (F ? "e": "w") + "'>" + i + "</span></a>": H ? "": "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (F ? "e": "w") + "'>" + i + "</span></a>", o = this._get(e, "nextText"), o = !B ? o: this.formatDate(o, this._daylightSavingAdjust(new Date(et, Z + G, 1)), this._getFormatConfig(e)), r = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + o + "'><span class='ui-icon ui-icon-circle-triangle-" + (F ? "w": "e") + "'>" + o + "</span></a>": H ? "": "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + o + "'><span class='ui-icon ui-icon-circle-triangle-" + (F ? "w": "e") + "'>" + o + "</span></a>", s = this._get(e, "currentText"), a = this._get(e, "gotoCurrent") && e.currentDay ? Y: K, s = !B ? s: this.formatDate(s, a, this._getFormatConfig(e)), l = !e.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>": "", h = z ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (F ? l: "") + (this._isInRange(e, a) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + s + "</button>": "") + (F ? "": l) + "</div>": "", c = parseInt(this._get(e, "firstDay"), 10), c = isNaN(c) ? 0 : c, u = this._get(e, "showWeek"), d = this._get(e, "dayNames"), f = this._get(e, "dayNamesMin"), p = this._get(e, "monthNames"), m = this._get(e, "monthNamesShort"), g = this._get(e, "beforeShowDay"), y = this._get(e, "showOtherMonths"), v = this._get(e, "selectOtherMonths"), b = this._getDefaultDate(e), x = "", w = 0; w < J[0]; w++) {
                    for (V = "", this.maxRows = 4, U = 0; U < J[1]; U++) {
                        if (k = this._daylightSavingAdjust(new Date(et, Z, e.selectedDay)), C = " ui-corner-all", S = "", q) {
                            if (S += "<div class='ui-datepicker-group", J[1] > 1) switch (U) {
                            case 0:
                                S += " ui-datepicker-group-first",
                                C = " ui-corner-" + (F ? "right": "left");
                                break;
                            case J[1] - 1 : S += " ui-datepicker-group-last",
                                C = " ui-corner-" + (F ? "left": "right");
                                break;
                            default:
                                S += " ui-datepicker-group-middle",
                                C = ""
                            }
                            S += "'>"
                        }
                        for (S += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + C + "'>" + (/all|left/.test(C) && 0 === w ? F ? r: n: "") + (/all|right/.test(C) && 0 === w ? F ? n: r: "") + this._generateMonthYearHeader(e, Z, et, $, Q, w > 0 || U > 0, p, m) + "</div><table class='ui-datepicker-calendar'><thead><tr>", L = u ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>": "", _ = 0; 7 > _; _++) T = (_ + c) % 7,
                        L += "<th" + ((_ + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'": "") + "><span title='" + d[T] + "'>" + f[T] + "</span></th>";
                        if (S += L + "</tr></thead><tbody>", I = this._getDaysInMonth(et, Z), et === e.selectedYear && Z === e.selectedMonth) e.selectedDay = Math.min(e.selectedDay, I);
                        for (E = (this._getFirstDayOfMonth(et, Z) - c + 7) % 7, W = Math.ceil((E + I) / 7), A = q ? this.maxRows > W ? this.maxRows: W: W, this.maxRows = A, M = this._daylightSavingAdjust(new Date(et, Z, 1 - E)), D = 0; A > D; D++) {
                            for (S += "<tr>", P = !u ? "": "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(M) + "</td>", _ = 0; 7 > _; _++) O = g ? g.apply(e.input ? e.input[0] : null, [M]) : [!0, ""],
                            X = M.getMonth() !== Z,
                            N = X && !v || !O[0] || $ && $ > M || Q && M > Q,
                            P += "<td class='" + ((_ + c + 6) % 7 >= 5 ? " ui-datepicker-week-end": "") + (X ? " ui-datepicker-other-month": "") + (M.getTime() === k.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === M.getTime() && b.getTime() === k.getTime() ? " " + this._dayOverClass: "") + (N ? " " + this._unselectableClass + " ui-state-disabled": "") + (X && !y ? "": " " + O[1] + (M.getTime() === Y.getTime() ? " " + this._currentClass: "") + (M.getTime() === K.getTime() ? " ui-datepicker-today": "")) + "'" + ((!X || y) && O[2] ? " title='" + O[2].replace(/'/g, "&#39;") + "'": "") + (N ? "": " data-handler='selectDay' data-event='click' data-month='" + M.getMonth() + "' data-year='" + M.getFullYear() + "'") + ">" + (X && !y ? "&#xa0;": N ? "<span class='ui-state-default'>" + M.getDate() + "</span>": "<a class='ui-state-default" + (M.getTime() === K.getTime() ? " ui-state-highlight": "") + (M.getTime() === Y.getTime() ? " ui-state-active": "") + (X ? " ui-priority-secondary": "") + "' href='#'>" + M.getDate() + "</a>") + "</td>",
                            M.setDate(M.getDate() + 1),
                            M = this._daylightSavingAdjust(M);
                            S += P + "</tr>"
                        }
                        if (Z++, Z > 11) Z = 0,
                        et++;
                        S += "</tbody></table>" + (q ? "</div>" + (J[0] > 0 && U === J[1] - 1 ? "<div class='ui-datepicker-row-break'></div>": "") : ""),
                        V += S
                    }
                    x += V
                }
                return x += h,
                e._keyEvent = !1,
                x
            },
            _generateMonthYearHeader: function(e, t, i, n, o, r, s, a) {
                var l, h, c, u, d, f, p, m, g = this._get(e, "changeMonth"),
                y = this._get(e, "changeYear"),
                v = this._get(e, "showMonthAfterYear"),
                b = "<div class='ui-datepicker-title'>",
                x = "";
                if (r || !g) x += "<span class='ui-datepicker-month'>" + s[t] + "</span>";
                else {
                    for (l = n && n.getFullYear() === i, h = o && o.getFullYear() === i, x += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", c = 0; 12 > c; c++) if ((!l || c >= n.getMonth()) && (!h || c <= o.getMonth())) x += "<option value='" + c + "'" + (c === t ? " selected='selected'": "") + ">" + a[c] + "</option>";
                    x += "</select>"
                }
                if (!v) b += x + (r || !g || !y ? "&#xa0;": "");
                if (!e.yearshtml) if (e.yearshtml = "", r || !y) b += "<span class='ui-datepicker-year'>" + i + "</span>";
                else {
                    for (u = this._get(e, "yearRange").split(":"), d = (new Date).getFullYear(), f = function(e) {
                        var t = e.match(/c[+\-].*/) ? i + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? d + parseInt(e, 10) : parseInt(e, 10);
                        return isNaN(t) ? d: t
                    },
                    p = f(u[0]), m = Math.max(p, f(u[1] || "")), p = n ? Math.max(p, n.getFullYear()) : p, m = o ? Math.min(m, o.getFullYear()) : m, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m >= p; p++) e.yearshtml += "<option value='" + p + "'" + (p === i ? " selected='selected'": "") + ">" + p + "</option>";
                    e.yearshtml += "</select>",
                    b += e.yearshtml,
                    e.yearshtml = null
                }
                if (b += this._get(e, "yearSuffix"), v) b += (r || !g || !y ? "&#xa0;": "") + x;
                return b += "</div>"
            },
            _adjustInstDate: function(e, t, i) {
                var n = e.drawYear + ("Y" === i ? t: 0),
                o = e.drawMonth + ("M" === i ? t: 0),
                r = Math.min(e.selectedDay, this._getDaysInMonth(n, o)) + ("D" === i ? t: 0),
                s = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(n, o, r)));
                if (e.selectedDay = s.getDate(), e.drawMonth = e.selectedMonth = s.getMonth(), e.drawYear = e.selectedYear = s.getFullYear(), "M" === i || "Y" === i) this._notifyChange(e)
            },
            _restrictMinMax: function(e, t) {
                var i = this._getMinMaxDate(e, "min"),
                n = this._getMinMaxDate(e, "max"),
                o = i && i > t ? i: t;
                return n && o > n ? n: o
            },
            _notifyChange: function(e) {
                var t = this._get(e, "onChangeMonthYear");
                if (t) t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
            },
            _getNumberOfMonths: function(e) {
                var t = this._get(e, "numberOfMonths");
                return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
            },
            _getMinMaxDate: function(e, t) {
                return this._determineDate(e, this._get(e, t + "Date"), null)
            },
            _getDaysInMonth: function(e, t) {
                return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate()
            },
            _getFirstDayOfMonth: function(e, t) {
                return new Date(e, t, 1).getDay()
            },
            _canAdjustMonth: function(e, t, i, n) {
                var o = this._getNumberOfMonths(e),
                r = this._daylightSavingAdjust(new Date(i, n + (0 > t ? t: o[0] * o[1]), 1));
                if (0 > t) r.setDate(this._getDaysInMonth(r.getFullYear(), r.getMonth()));
                return this._isInRange(e, r)
            },
            _isInRange: function(e, t) {
                var i, n, o = this._getMinMaxDate(e, "min"),
                r = this._getMinMaxDate(e, "max"),
                s = null,
                a = null,
                l = this._get(e, "yearRange");
                if (l) {
                    if (i = l.split(":"), n = (new Date).getFullYear(), s = parseInt(i[0], 10), a = parseInt(i[1], 10), i[0].match(/[+\-].*/)) s += n;
                    if (i[1].match(/[+\-].*/)) a += n
                }
                return (!o || t.getTime() >= o.getTime()) && (!r || t.getTime() <= r.getTime()) && (!s || t.getFullYear() >= s) && (!a || t.getFullYear() <= a)
            },
            _getFormatConfig: function(e) {
                var t = this._get(e, "shortYearCutoff");
                return t = "string" != typeof t ? t: (new Date).getFullYear() % 100 + parseInt(t, 10),
                {
                    shortYearCutoff: t,
                    dayNamesShort: this._get(e, "dayNamesShort"),
                    dayNames: this._get(e, "dayNames"),
                    monthNamesShort: this._get(e, "monthNamesShort"),
                    monthNames: this._get(e, "monthNames")
                }
            },
            _formatDate: function(e, t, i, n) {
                if (!t) e.currentDay = e.selectedDay,
                e.currentMonth = e.selectedMonth,
                e.currentYear = e.selectedYear;
                var o = t ? "object" == typeof t ? t: this._daylightSavingAdjust(new Date(n, i, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
                return this.formatDate(this._get(e, "dateFormat"), o, this._getFormatConfig(e))
            }
        }),
        e.fn.datepicker = function(t) {
            if (!this.length) return this;
            if (!e.datepicker.initialized) e(document).mousedown(e.datepicker._checkExternalClick),
            e.datepicker.initialized = !0;
            if (0 === e("#" + e.datepicker._mainDivId).length) e("body").append(e.datepicker.dpDiv);
            var i = Array.prototype.slice.call(arguments, 1);
            if ("string" == typeof t && ("isDisabled" === t || "getDate" === t || "widget" === t)) return e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i));
            if ("option" === t && 2 === arguments.length && "string" == typeof arguments[1]) return e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i));
            else return this.each(function() {
                "string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(i)) : e.datepicker._attachDatepicker(this, t)
            })
        },
        e.datepicker = new i,
        e.datepicker.initialized = !1,
        e.datepicker.uuid = (new Date).getTime(),
        e.datepicker.version = "1.10.4"
    } (jQuery),
    function(e) {
        var t = {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        i = {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        };
        if (e.widget("ui.dialog", {
            version: "1.10.4",
            options: {
                appendTo: "body",
                autoOpen: !0,
                buttons: [],
                closeOnEscape: !0,
                closeText: "close",
                dialogClass: "",
                draggable: !0,
                hide: null,
                height: "auto",
                maxHeight: null,
                maxWidth: null,
                minHeight: 150,
                minWidth: 150,
                modal: !1,
                position: {
                    my: "center",
                    at: "center",
                    of: window,
                    collision: "fit",
                    using: function(t) {
                        var i = e(this).css(t).offset().top;
                        if (0 > i) e(this).css("top", t.top - i)
                    }
                },
                resizable: !0,
                show: null,
                title: null,
                width: 300,
                beforeClose: null,
                close: null,
                drag: null,
                dragStart: null,
                dragStop: null,
                focus: null,
                open: null,
                resize: null,
                resizeStart: null,
                resizeStop: null
            },
            _create: function() {
                if (this.originalCss = {
                    display: this.element[0].style.display,
                    width: this.element[0].style.width,
                    minHeight: this.element[0].style.minHeight,
                    maxHeight: this.element[0].style.maxHeight,
                    height: this.element[0].style.height
                },
                this.originalPosition = {
                    parent: this.element.parent(),
                    index: this.element.parent().children().index(this.element)
                },
                this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && e.fn.draggable) this._makeDraggable();
                if (this.options.resizable && e.fn.resizable) this._makeResizable();
                this._isOpen = !1
            },
            _init: function() {
                if (this.options.autoOpen) this.open()
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                if (t && (t.jquery || t.nodeType)) return e(t);
                else return this.document.find(t || "body").eq(0)
            },
            _destroy: function() {
                var e, t = this.originalPosition;
                if (this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle) this.element.attr("title", this.originalTitle);
                if (e = t.parent.children().eq(t.index), e.length && e[0] !== this.element[0]) e.before(this.element);
                else t.parent.append(this.element)
            },
            widget: function() {
                return this.uiDialog
            },
            disable: e.noop,
            enable: e.noop,
            close: function(t) {
                var i, n = this;
                if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
                    if (this._isOpen = !1, this._destroyOverlay(), !this.opener.filter(":focusable").focus().length) try {
                        if (i = this.document[0].activeElement, i && "body" !== i.nodeName.toLowerCase()) e(i).blur()
                    } catch(o) {}
                    this._hide(this.uiDialog, this.options.hide,
                    function() {
                        n._trigger("close", t)
                    })
                }
            },
            isOpen: function() {
                return this._isOpen
            },
            moveToTop: function() {
                this._moveToTop()
            },
            _moveToTop: function(e, t) {
                var i = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
                if (i && !t) this._trigger("focus", e);
                return i
            },
            open: function() {
                var t = this;
                if (!this._isOpen) this._isOpen = !0,
                this.opener = e(this.document[0].activeElement),
                this._size(),
                this._position(),
                this._createOverlay(),
                this._moveToTop(null, !0),
                this._show(this.uiDialog, this.options.show,
                function() {
                    t._focusTabbable(),
                    t._trigger("focus")
                }),
                this._trigger("open");
                else if (this._moveToTop()) this._focusTabbable()
            },
            _focusTabbable: function() {
                var e = this.element.find("[autofocus]");
                if (!e.length) e = this.element.find(":tabbable");
                if (!e.length) e = this.uiDialogButtonPane.find(":tabbable");
                if (!e.length) e = this.uiDialogTitlebarClose.filter(":tabbable");
                if (!e.length) e = this.uiDialog;
                e.eq(0).focus()
            },
            _keepFocus: function(t) {
                function i() {
                    var t = this.document[0].activeElement,
                    i = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
                    if (!i) this._focusTabbable()
                }
                t.preventDefault(),
                i.call(this),
                this._delay(i)
            },
            _createWrapper: function() {
                if (this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                    tabIndex: -1,
                    role: "dialog"
                }).appendTo(this._appendTo()), this._on(this.uiDialog, {
                    keydown: function(t) {
                        if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE) return t.preventDefault(),
                        void this.close(t);
                        if (t.keyCode === e.ui.keyCode.TAB) {
                            var i = this.uiDialog.find(":tabbable"),
                            n = i.filter(":first"),
                            o = i.filter(":last");
                            if ((t.target === o[0] || t.target === this.uiDialog[0]) && !t.shiftKey) n.focus(1),
                            t.preventDefault();
                            else if ((t.target === n[0] || t.target === this.uiDialog[0]) && t.shiftKey) o.focus(1),
                            t.preventDefault()
                        }
                    },
                    mousedown: function(e) {
                        if (this._moveToTop(e)) this._focusTabbable()
                    }
                }), !this.element.find("[aria-describedby]").length) this.uiDialog.attr({
                    "aria-describedby": this.element.uniqueId().attr("id")
                })
            },
            _createTitlebar: function() {
                var t;
                this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),
                this._on(this.uiDialogTitlebar, {
                    mousedown: function(t) {
                        if (!e(t.target).closest(".ui-dialog-titlebar-close")) this.uiDialog.focus()
                    }
                }),
                this.uiDialogTitlebarClose = e("<button type='button'></button>").button({
                    label: this.options.closeText,
                    icons: {
                        primary: "ui-icon-closethick"
                    },
                    text: !1
                }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),
                this._on(this.uiDialogTitlebarClose, {
                    click: function(e) {
                        e.preventDefault(),
                        this.close(e)
                    }
                }),
                t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),
                this._title(t),
                this.uiDialog.attr({
                    "aria-labelledby": t.attr("id")
                })
            },
            _title: function(e) {
                if (!this.options.title) e.html("&#160;");
                e.text(this.options.title)
            },
            _createButtonPane: function() {
                this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),
                this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),
                this._createButtons()
            },
            _createButtons: function() {
                var t = this,
                i = this.options.buttons;
                if (this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), e.isEmptyObject(i) || e.isArray(i) && !i.length) return void this.uiDialog.removeClass("ui-dialog-buttons");
                else return e.each(i,
                function(i, n) {
                    var o, r;
                    n = e.isFunction(n) ? {
                        click: n,
                        text: i
                    }: n,
                    n = e.extend({
                        type: "button"
                    },
                    n),
                    o = n.click,
                    n.click = function() {
                        o.apply(t.element[0], arguments)
                    },
                    r = {
                        icons: n.icons,
                        text: n.showText
                    },
                    delete n.icons,
                    delete n.showText,
                    e("<button></button>", n).button(r).appendTo(t.uiButtonSet)
                }),
                this.uiDialog.addClass("ui-dialog-buttons"),
                void this.uiDialogButtonPane.appendTo(this.uiDialog)
            },
            _makeDraggable: function() {
                function t(e) {
                    return {
                        position: e.position,
                        offset: e.offset
                    }
                }
                var i = this,
                n = this.options;
                this.uiDialog.draggable({
                    cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                    handle: ".ui-dialog-titlebar",
                    containment: "document",
                    start: function(n, o) {
                        e(this).addClass("ui-dialog-dragging"),
                        i._blockFrames(),
                        i._trigger("dragStart", n, t(o))
                    },
                    drag: function(e, n) {
                        i._trigger("drag", e, t(n))
                    },
                    stop: function(o, r) {
                        n.position = [r.position.left - i.document.scrollLeft(), r.position.top - i.document.scrollTop()],
                        e(this).removeClass("ui-dialog-dragging"),
                        i._unblockFrames(),
                        i._trigger("dragStop", o, t(r))
                    }
                })
            },
            _makeResizable: function() {
                function t(e) {
                    return {
                        originalPosition: e.originalPosition,
                        originalSize: e.originalSize,
                        position: e.position,
                        size: e.size
                    }
                }
                var i = this,
                n = this.options,
                o = n.resizable,
                r = this.uiDialog.css("position"),
                s = "string" == typeof o ? o: "n,e,s,w,se,sw,ne,nw";
                this.uiDialog.resizable({
                    cancel: ".ui-dialog-content",
                    containment: "document",
                    alsoResize: this.element,
                    maxWidth: n.maxWidth,
                    maxHeight: n.maxHeight,
                    minWidth: n.minWidth,
                    minHeight: this._minHeight(),
                    handles: s,
                    start: function(n, o) {
                        e(this).addClass("ui-dialog-resizing"),
                        i._blockFrames(),
                        i._trigger("resizeStart", n, t(o))
                    },
                    resize: function(e, n) {
                        i._trigger("resize", e, t(n))
                    },
                    stop: function(o, r) {
                        n.height = e(this).height(),
                        n.width = e(this).width(),
                        e(this).removeClass("ui-dialog-resizing"),
                        i._unblockFrames(),
                        i._trigger("resizeStop", o, t(r))
                    }
                }).css("position", r)
            },
            _minHeight: function() {
                var e = this.options;
                return "auto" === e.height ? e.minHeight: Math.min(e.minHeight, e.height)
            },
            _position: function() {
                var e = this.uiDialog.is(":visible");
                if (!e) this.uiDialog.show();
                if (this.uiDialog.position(this.options.position), !e) this.uiDialog.hide()
            },
            _setOptions: function(n) {
                var o = this,
                r = !1,
                s = {};
                if (e.each(n,
                function(e, n) {
                    if (o._setOption(e, n), e in t) r = !0;
                    if (e in i) s[e] = n
                }), r) this._size(),
                this._position();
                if (this.uiDialog.is(":data(ui-resizable)")) this.uiDialog.resizable("option", s)
            },
            _setOption: function(e, t) {
                var i, n, o = this.uiDialog;
                if ("dialogClass" === e) o.removeClass(this.options.dialogClass).addClass(t);
                if ("disabled" !== e) {
                    if (this._super(e, t), "appendTo" === e) this.uiDialog.appendTo(this._appendTo());
                    if ("buttons" === e) this._createButtons();
                    if ("closeText" === e) this.uiDialogTitlebarClose.button({
                        label: "" + t
                    });
                    if ("draggable" === e) {
                        if (i = o.is(":data(ui-draggable)"), i && !t) o.draggable("destroy");
                        if (!i && t) this._makeDraggable()
                    }
                    if ("position" === e) this._position();
                    if ("resizable" === e) {
                        if (n = o.is(":data(ui-resizable)"), n && !t) o.resizable("destroy");
                        if (n && "string" == typeof t) o.resizable("option", "handles", t);
                        if (!n && t !== !1) this._makeResizable()
                    }
                    if ("title" === e) this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))
                }
            },
            _size: function() {
                var e, t, i, n = this.options;
                if (this.element.show().css({
                    width: "auto",
                    minHeight: 0,
                    maxHeight: "none",
                    height: 0
                }), n.minWidth > n.width) n.width = n.minWidth;
                if (e = this.uiDialog.css({
                    height: "auto",
                    width: n.width
                }).outerHeight(), t = Math.max(0, n.minHeight - e), i = "number" == typeof n.maxHeight ? Math.max(0, n.maxHeight - e) : "none", "auto" === n.height) this.element.css({
                    minHeight: t,
                    maxHeight: i,
                    height: "auto"
                });
                else this.element.height(Math.max(0, n.height - e));
                if (this.uiDialog.is(":data(ui-resizable)")) this.uiDialog.resizable("option", "minHeight", this._minHeight())
            },
            _blockFrames: function() {
                this.iframeBlocks = this.document.find("iframe").map(function() {
                    var t = e(this);
                    return e("<div>").css({
                        position: "absolute",
                        width: t.outerWidth(),
                        height: t.outerHeight()
                    }).appendTo(t.parent()).offset(t.offset())[0]
                })
            },
            _unblockFrames: function() {
                if (this.iframeBlocks) this.iframeBlocks.remove(),
                delete this.iframeBlocks
            },
            _allowInteraction: function(t) {
                if (e(t.target).closest(".ui-dialog").length) return ! 0;
                else return !! e(t.target).closest(".ui-datepicker").length
            },
            _createOverlay: function() {
                if (this.options.modal) {
                    var t = this,
                    i = this.widgetFullName;
                    if (!e.ui.dialog.overlayInstances) this._delay(function() {
                        if (e.ui.dialog.overlayInstances) this.document.bind("focusin.dialog",
                        function(n) {
                            if (!t._allowInteraction(n)) n.preventDefault(),
                            e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable()
                        })
                    });
                    this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),
                    this._on(this.overlay, {
                        mousedown: "_keepFocus"
                    }),
                    e.ui.dialog.overlayInstances++
                }
            },
            _destroyOverlay: function() {
                if (this.options.modal) if (this.overlay) {
                    if (e.ui.dialog.overlayInstances--, !e.ui.dialog.overlayInstances) this.document.unbind("focusin.dialog");
                    this.overlay.remove(),
                    this.overlay = null
                }
            }
        }), e.ui.dialog.overlayInstances = 0, e.uiBackCompat !== !1) e.widget("ui.dialog", e.ui.dialog, {
            _position: function() {
                var t, i = this.options.position,
                n = [],
                o = [0, 0];
                if (i) {
                    if ("string" == typeof i || "object" == typeof i && "0" in i) {
                        if (n = i.split ? i.split(" ") : [i[0], i[1]], 1 === n.length) n[1] = n[0];
                        e.each(["left", "top"],
                        function(e, t) {
                            if ( + n[e] === n[e]) o[e] = n[e],
                            n[e] = t
                        }),
                        i = {
                            my: n[0] + (o[0] < 0 ? o[0] : "+" + o[0]) + " " + n[1] + (o[1] < 0 ? o[1] : "+" + o[1]),
                            at: n.join(" ")
                        }
                    }
                    i = e.extend({},
                    e.ui.dialog.prototype.options.position, i)
                } else i = e.ui.dialog.prototype.options.position;
                if (t = this.uiDialog.is(":visible"), !t) this.uiDialog.show();
                if (this.uiDialog.position(i), !t) this.uiDialog.hide()
            }
        })
    } (jQuery),
    function(e) {
        e.widget("ui.menu", {
            version: "1.10.4",
            defaultElement: "<ul>",
            delay: 300,
            options: {
                icons: {
                    submenu: "ui-icon-carat-1-e"
                },
                menus: "ul",
                position: {
                    my: "left top",
                    at: "right top"
                },
                role: "menu",
                blur: null,
                focus: null,
                select: null
            },
            _create: function() {
                if (this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                    role: this.options.role,
                    tabIndex: 0
                }).bind("click" + this.eventNamespace, e.proxy(function(e) {
                    if (this.options.disabled) e.preventDefault()
                },
                this)), this.options.disabled) this.element.addClass("ui-state-disabled").attr("aria-disabled", "true");
                this._on({
                    "mousedown .ui-menu-item > a": function(e) {
                        e.preventDefault()
                    },
                    "click .ui-state-disabled > a": function(e) {
                        e.preventDefault()
                    },
                    "click .ui-menu-item:has(a)": function(t) {
                        var i = e(t.target).closest(".ui-menu-item");
                        if (!this.mouseHandled && i.not(".ui-state-disabled").length) {
                            if (this.select(t), !t.isPropagationStopped()) this.mouseHandled = !0;
                            if (i.has(".ui-menu").length) this.expand(t);
                            else if (!this.element.is(":focus") && e(this.document[0].activeElement).closest(".ui-menu").length) if (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length) clearTimeout(this.timer)
                        }
                    },
                    "mouseenter .ui-menu-item": function(t) {
                        var i = e(t.currentTarget);
                        i.siblings().children(".ui-state-active").removeClass("ui-state-active"),
                        this.focus(t, i)
                    },
                    mouseleave: "collapseAll",
                    "mouseleave .ui-menu": "collapseAll",
                    focus: function(e, t) {
                        var i = this.active || this.element.children(".ui-menu-item").eq(0);
                        if (!t) this.focus(e, i)
                    },
                    blur: function(t) {
                        this._delay(function() {
                            if (!e.contains(this.element[0], this.document[0].activeElement)) this.collapseAll(t)
                        })
                    },
                    keydown: "_keydown"
                }),
                this.refresh(),
                this._on(this.document, {
                    click: function(t) {
                        if (!e(t.target).closest(".ui-menu").length) this.collapseAll(t);
                        this.mouseHandled = !1
                    }
                })
            },
            _destroy: function() {
                this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
                this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                    var t = e(this);
                    if (t.data("ui-menu-submenu-carat")) t.remove()
                }),
                this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
            },
            _keydown: function(t) {
                function i(e) {
                    return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
                }
                var n, o, r, s, a, l = !0;
                switch (t.keyCode) {
                case e.ui.keyCode.PAGE_UP:
                    this.previousPage(t);
                    break;
                case e.ui.keyCode.PAGE_DOWN:
                    this.nextPage(t);
                    break;
                case e.ui.keyCode.HOME:
                    this._move("first", "first", t);
                    break;
                case e.ui.keyCode.END:
                    this._move("last", "last", t);
                    break;
                case e.ui.keyCode.UP:
                    this.previous(t);
                    break;
                case e.ui.keyCode.DOWN:
                    this.next(t);
                    break;
                case e.ui.keyCode.LEFT:
                    this.collapse(t);
                    break;
                case e.ui.keyCode.RIGHT:
                    if (this.active && !this.active.is(".ui-state-disabled")) this.expand(t);
                    break;
                case e.ui.keyCode.ENTER:
                case e.ui.keyCode.SPACE:
                    this._activate(t);
                    break;
                case e.ui.keyCode.ESCAPE:
                    this.collapse(t);
                    break;
                default:
                    if (l = !1, o = this.previousFilter || "", r = String.fromCharCode(t.keyCode), s = !1, clearTimeout(this.filterTimer), r === o) s = !0;
                    else r = o + r;
                    if (a = new RegExp("^" + i(r), "i"), n = this.activeMenu.children(".ui-menu-item").filter(function() {
                        return a.test(e(this).children("a").text())
                    }), n = s && -1 !== n.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : n, !n.length) r = String.fromCharCode(t.keyCode),
                    a = new RegExp("^" + i(r), "i"),
                    n = this.activeMenu.children(".ui-menu-item").filter(function() {
                        return a.test(e(this).children("a").text())
                    });
                    if (n.length) if (this.focus(t, n), n.length > 1) this.previousFilter = r,
                    this.filterTimer = this._delay(function() {
                        delete this.previousFilter
                    },
                    1e3);
                    else delete this.previousFilter;
                    else delete this.previousFilter
                }
                if (l) t.preventDefault()
            },
            _activate: function(e) {
                if (!this.active.is(".ui-state-disabled")) if (this.active.children("a[aria-haspopup='true']").length) this.expand(e);
                else this.select(e)
            },
            refresh: function() {
                var t, i = this.options.icons.submenu,
                n = this.element.find(this.options.menus);
                if (this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length), n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({
                    role: this.options.role,
                    "aria-hidden": "true",
                    "aria-expanded": "false"
                }).each(function() {
                    var t = e(this),
                    n = t.prev("a"),
                    o = e("<span>").addClass("ui-menu-icon ui-icon " + i).data("ui-menu-submenu-carat", !0);
                    n.attr("aria-haspopup", "true").prepend(o),
                    t.attr("aria-labelledby", n.attr("id"))
                }), t = n.add(this.element), t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({
                    tabIndex: -1,
                    role: this._itemRole()
                }), t.children(":not(.ui-menu-item)").each(function() {
                    var t = e(this);
                    if (!/[^\-\u2014\u2013\s]/.test(t.text())) t.addClass("ui-widget-content ui-menu-divider")
                }), t.children(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !e.contains(this.element[0], this.active[0])) this.blur()
            },
            _itemRole: function() {
                return {
                    menu: "menuitem",
                    listbox: "option"
                } [this.options.role]
            },
            _setOption: function(e, t) {
                if ("icons" === e) this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);
                this._super(e, t)
            },
            focus: function(e, t) {
                var i, n;
                if (this.blur(e, e && "focus" === e.type), this._scrollIntoView(t), this.active = t.first(), n = this.active.children("a").addClass("ui-state-focus"), this.options.role) this.element.attr("aria-activedescendant", n.attr("id"));
                if (this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"), e && "keydown" === e.type) this._close();
                else this.timer = this._delay(function() {
                    this._close()
                },
                this.delay);
                if (i = t.children(".ui-menu"), i.length && e && /^mouse/.test(e.type)) this._startOpening(i);
                this.activeMenu = t.parent(),
                this._trigger("focus", e, {
                    item: t
                })
            },
            _scrollIntoView: function(t) {
                var i, n, o, r, s, a;
                if (this._hasScroll()) if (i = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0, n = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0, o = t.offset().top - this.activeMenu.offset().top - i - n, r = this.activeMenu.scrollTop(), s = this.activeMenu.height(), a = t.height(), 0 > o) this.activeMenu.scrollTop(r + o);
                else if (o + a > s) this.activeMenu.scrollTop(r + o - s + a)
            },
            blur: function(e, t) {
                if (!t) clearTimeout(this.timer);
                if (this.active) this.active.children("a").removeClass("ui-state-focus"),
                this.active = null,
                this._trigger("blur", e, {
                    item: this.active
                })
            },
            _startOpening: function(e) {
                if (clearTimeout(this.timer), "true" === e.attr("aria-hidden")) this.timer = this._delay(function() {
                    this._close(),
                    this._open(e)
                },
                this.delay)
            },
            _open: function(t) {
                var i = e.extend({
                    of: this.active
                },
                this.options.position);
                clearTimeout(this.timer),
                this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
                t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
            },
            collapseAll: function(t, i) {
                clearTimeout(this.timer),
                this.timer = this._delay(function() {
                    var n = i ? this.element: e(t && t.target).closest(this.element.find(".ui-menu"));
                    if (!n.length) n = this.element;
                    this._close(n),
                    this.blur(t),
                    this.activeMenu = n
                },
                this.delay)
            },
            _close: function(e) {
                if (!e) e = this.active ? this.active.parent() : this.element;
                e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active")
            },
            collapse: function(e) {
                var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
                if (t && t.length) this._close(),
                this.focus(e, t)
            },
            expand: function(e) {
                var t = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();
                if (t && t.length) this._open(t.parent()),
                this._delay(function() {
                    this.focus(e, t)
                })
            },
            next: function(e) {
                this._move("next", "first", e)
            },
            previous: function(e) {
                this._move("prev", "last", e)
            },
            isFirstItem: function() {
                return this.active && !this.active.prevAll(".ui-menu-item").length
            },
            isLastItem: function() {
                return this.active && !this.active.nextAll(".ui-menu-item").length
            },
            _move: function(e, t, i) {
                var n;
                if (this.active) if ("first" === e || "last" === e) n = this.active["first" === e ? "prevAll": "nextAll"](".ui-menu-item").eq( - 1);
                else n = this.active[e + "All"](".ui-menu-item").eq(0);
                if (!n || !n.length || !this.active) n = this.activeMenu.children(".ui-menu-item")[t]();
                this.focus(i, n)
            },
            nextPage: function(t) {
                var i, n, o;
                if (!this.active) return void this.next(t);
                if (!this.isLastItem()) if (this._hasScroll()) n = this.active.offset().top,
                o = this.element.height(),
                this.active.nextAll(".ui-menu-item").each(function() {
                    return i = e(this),
                    i.offset().top - n - o < 0
                }),
                this.focus(t, i);
                else this.focus(t, this.activeMenu.children(".ui-menu-item")[!this.active ? "first": "last"]())
            },
            previousPage: function(t) {
                var i, n, o;
                if (!this.active) return void this.next(t);
                if (!this.isFirstItem()) if (this._hasScroll()) n = this.active.offset().top,
                o = this.element.height(),
                this.active.prevAll(".ui-menu-item").each(function() {
                    return i = e(this),
                    i.offset().top - n + o > 0
                }),
                this.focus(t, i);
                else this.focus(t, this.activeMenu.children(".ui-menu-item").first())
            },
            _hasScroll: function() {
                return this.element.outerHeight() < this.element.prop("scrollHeight")
            },
            select: function(t) {
                this.active = this.active || e(t.target).closest(".ui-menu-item");
                var i = {
                    item: this.active
                };
                if (!this.active.has(".ui-menu").length) this.collapseAll(t, !0);
                this._trigger("select", t, i)
            }
        })
    } (jQuery),
    function(e, t) {
        e.widget("ui.progressbar", {
            version: "1.10.4",
            options: {
                max: 100,
                value: 0,
                change: null,
                complete: null
            },
            min: 0,
            _create: function() {
                this.oldValue = this.options.value = this._constrainedValue(),
                this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                    role: "progressbar",
                    "aria-valuemin": this.min
                }),
                this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),
                this._refreshValue()
            },
            _destroy: function() {
                this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
                this.valueDiv.remove()
            },
            value: function(e) {
                if (e === t) return this.options.value;
                else return this.options.value = this._constrainedValue(e),
                void this._refreshValue()
            },
            _constrainedValue: function(e) {
                if (e === t) e = this.options.value;
                if (this.indeterminate = e === !1, "number" != typeof e) e = 0;
                return this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, e))
            },
            _setOptions: function(e) {
                var t = e.value;
                delete e.value,
                this._super(e),
                this.options.value = this._constrainedValue(t),
                this._refreshValue()
            },
            _setOption: function(e, t) {
                if ("max" === e) t = Math.max(this.min, t);
                this._super(e, t)
            },
            _percentage: function() {
                return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
            },
            _refreshValue: function() {
                var t = this.options.value,
                i = this._percentage();
                if (this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(i.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate) {
                    if (this.element.removeAttr("aria-valuenow"), !this.overlayDiv) this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)
                } else if (this.element.attr({
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": t
                }), this.overlayDiv) this.overlayDiv.remove(),
                this.overlayDiv = null;
                if (this.oldValue !== t) this.oldValue = t,
                this._trigger("change");
                if (t === this.options.max) this._trigger("complete")
            }
        })
    } (jQuery),
    function(e) {
        var t = 5;
        e.widget("ui.slider", e.ui.mouse, {
            version: "1.10.4",
            widgetEventPrefix: "slide",
            options: {
                animate: !1,
                distance: 0,
                max: 100,
                min: 0,
                orientation: "horizontal",
                range: !1,
                step: 1,
                value: 0,
                values: null,
                change: null,
                slide: null,
                start: null,
                stop: null
            },
            _create: function() {
                this._keySliding = !1,
                this._mouseSliding = !1,
                this._animateOff = !0,
                this._handleIndex = null,
                this._detectOrientation(),
                this._mouseInit(),
                this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"),
                this._refresh(),
                this._setOption("disabled", this.options.disabled),
                this._animateOff = !1
            },
            _refresh: function() {
                this._createRange(),
                this._createHandles(),
                this._setupEvents(),
                this._refreshValue()
            },
            _createHandles: function() {
                var t, i, n = this.options,
                o = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                r = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
                s = [];
                if (i = n.values && n.values.length || 1, o.length > i) o.slice(i).remove(),
                o = o.slice(0, i);
                for (t = o.length; i > t; t++) s.push(r);
                this.handles = o.add(e(s.join("")).appendTo(this.element)),
                this.handle = this.handles.eq(0),
                this.handles.each(function(t) {
                    e(this).data("ui-slider-handle-index", t)
                })
            },
            _createRange: function() {
                var t = this.options,
                i = "";
                if (t.range) {
                    if (t.range === !0) if (!t.values) t.values = [this._valueMin(), this._valueMin()];
                    else if (t.values.length && 2 !== t.values.length) t.values = [t.values[0], t.values[0]];
                    else if (e.isArray(t.values)) t.values = t.values.slice(0);
                    if (!this.range || !this.range.length) this.range = e("<div></div>").appendTo(this.element),
                    i = "ui-slider-range ui-widget-header ui-corner-all";
                    else this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                        left: "",
                        bottom: ""
                    });
                    this.range.addClass(i + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range: ""))
                } else {
                    if (this.range) this.range.remove();
                    this.range = null
                }
            },
            _setupEvents: function() {
                var e = this.handles.add(this.range).filter("a");
                this._off(e),
                this._on(e, this._handleEvents),
                this._hoverable(e),
                this._focusable(e)
            },
            _destroy: function() {
                if (this.handles.remove(), this.range) this.range.remove();
                this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),
                this._mouseDestroy()
            },
            _mouseCapture: function(t) {
                var i, n, o, r, s, a, l, h, c = this,
                u = this.options;
                if (u.disabled) return ! 1;
                if (this.elementSize = {
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight()
                },
                this.elementOffset = this.element.offset(), i = {
                    x: t.pageX,
                    y: t.pageY
                },
                n = this._normValueFromMouse(i), o = this._valueMax() - this._valueMin() + 1, this.handles.each(function(t) {
                    var i = Math.abs(n - c.values(t));
                    if (o > i || o === i && (t === c._lastChangedValue || c.values(t) === u.min)) o = i,
                    r = e(this),
                    s = t
                }), a = this._start(t, s), a === !1) return ! 1;
                if (this._mouseSliding = !0, this._handleIndex = s, r.addClass("ui-state-active").focus(), l = r.offset(), h = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = h ? {
                    left: 0,
                    top: 0
                }: {
                    left: t.pageX - l.left - r.width() / 2,
                    top: t.pageY - l.top - r.height() / 2 - (parseInt(r.css("borderTopWidth"), 10) || 0) - (parseInt(r.css("borderBottomWidth"), 10) || 0) + (parseInt(r.css("marginTop"), 10) || 0)
                },
                !this.handles.hasClass("ui-state-hover")) this._slide(t, s, n);
                return this._animateOff = !0,
                !0
            },
            _mouseStart: function() {
                return ! 0
            },
            _mouseDrag: function(e) {
                var t = {
                    x: e.pageX,
                    y: e.pageY
                },
                i = this._normValueFromMouse(t);
                return this._slide(e, this._handleIndex, i),
                !1
            },
            _mouseStop: function(e) {
                return this.handles.removeClass("ui-state-active"),
                this._mouseSliding = !1,
                this._stop(e, this._handleIndex),
                this._change(e, this._handleIndex),
                this._handleIndex = null,
                this._clickOffset = null,
                this._animateOff = !1,
                !1
            },
            _detectOrientation: function() {
                this.orientation = "vertical" === this.options.orientation ? "vertical": "horizontal"
            },
            _normValueFromMouse: function(e) {
                var t, i, n, o, r;
                if ("horizontal" === this.orientation) t = this.elementSize.width,
                i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left: 0);
                else t = this.elementSize.height,
                i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top: 0);
                if (n = i / t, n > 1) n = 1;
                if (0 > n) n = 0;
                if ("vertical" === this.orientation) n = 1 - n;
                return o = this._valueMax() - this._valueMin(),
                r = this._valueMin() + n * o,
                this._trimAlignValue(r)
            },
            _start: function(e, t) {
                var i = {
                    handle: this.handles[t],
                    value: this.value()
                };
                if (this.options.values && this.options.values.length) i.value = this.values(t),
                i.values = this.values();
                return this._trigger("start", e, i)
            },
            _slide: function(e, t, i) {
                var n, o, r;
                if (this.options.values && this.options.values.length) {
                    if (n = this.values(t ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === t && i > n || 1 === t && n > i)) i = n;
                    if (i !== this.values(t)) if (o = this.values(), o[t] = i, r = this._trigger("slide", e, {
                        handle: this.handles[t],
                        value: i,
                        values: o
                    }), n = this.values(t ? 0 : 1), r !== !1) this.values(t, i)
                } else if (i !== this.value()) if (r = this._trigger("slide", e, {
                    handle: this.handles[t],
                    value: i
                }), r !== !1) this.value(i)
            },
            _stop: function(e, t) {
                var i = {
                    handle: this.handles[t],
                    value: this.value()
                };
                if (this.options.values && this.options.values.length) i.value = this.values(t),
                i.values = this.values();
                this._trigger("stop", e, i)
            },
            _change: function(e, t) {
                if (!this._keySliding && !this._mouseSliding) {
                    var i = {
                        handle: this.handles[t],
                        value: this.value()
                    };
                    if (this.options.values && this.options.values.length) i.value = this.values(t),
                    i.values = this.values();
                    this._lastChangedValue = t,
                    this._trigger("change", e, i)
                }
            },
            value: function(e) {
                if (arguments.length) return this.options.value = this._trimAlignValue(e),
                this._refreshValue(),
                void this._change(null, 0);
                else return this._value()
            },
            values: function(t, i) {
                var n, o, r;
                if (arguments.length > 1) return this.options.values[t] = this._trimAlignValue(i),
                this._refreshValue(),
                void this._change(null, t);
                if (arguments.length) if (e.isArray(arguments[0])) {
                    for (n = this.options.values, o = arguments[0], r = 0; r < n.length; r += 1) n[r] = this._trimAlignValue(o[r]),
                    this._change(null, r);
                    this._refreshValue()
                } else if (this.options.values && this.options.values.length) return this._values(t);
                else return this.value();
                else return this._values()
            },
            _setOption: function(t, i) {
                var n, o = 0;
                if ("range" === t && this.options.range === !0) if ("min" === i) this.options.value = this._values(0),
                this.options.values = null;
                else if ("max" === i) this.options.value = this._values(this.options.values.length - 1),
                this.options.values = null;
                if (e.isArray(this.options.values)) o = this.options.values.length;
                switch (e.Widget.prototype._setOption.apply(this, arguments), t) {
                case "orientation":
                    this._detectOrientation(),
                    this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation),
                    this._refreshValue();
                    break;
                case "value":
                    this._animateOff = !0,
                    this._refreshValue(),
                    this._change(null, 0),
                    this._animateOff = !1;
                    break;
                case "values":
                    for (this._animateOff = !0, this._refreshValue(), n = 0; o > n; n += 1) this._change(null, n);
                    this._animateOff = !1;
                    break;
                case "min":
                case "max":
                    this._animateOff = !0,
                    this._refreshValue(),
                    this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0,
                    this._refresh(),
                    this._animateOff = !1
                }
            },
            _value: function() {
                var e = this.options.value;
                return e = this._trimAlignValue(e)
            },
            _values: function(e) {
                var t, i, n;
                if (arguments.length) return t = this.options.values[e],
                t = this._trimAlignValue(t);
                else if (this.options.values && this.options.values.length) {
                    for (i = this.options.values.slice(), n = 0; n < i.length; n += 1) i[n] = this._trimAlignValue(i[n]);
                    return i
                } else return []
            },
            _trimAlignValue: function(e) {
                if (e <= this._valueMin()) return this._valueMin();
                if (e >= this._valueMax()) return this._valueMax();
                var t = this.options.step > 0 ? this.options.step: 1,
                i = (e - this._valueMin()) % t,
                n = e - i;
                if (2 * Math.abs(i) >= t) n += i > 0 ? t: -t;
                return parseFloat(n.toFixed(5))
            },
            _valueMin: function() {
                return this.options.min
            },
            _valueMax: function() {
                return this.options.max
            },
            _refreshValue: function() {
                var t, i, n, o, r, s = this.options.range,
                a = this.options,
                l = this,
                h = !this._animateOff ? a.animate: !1,
                c = {};
                if (this.options.values && this.options.values.length) this.handles.each(function(n) {
                    if (i = (l.values(n) - l._valueMin()) / (l._valueMax() - l._valueMin()) * 100, c["horizontal" === l.orientation ? "left": "bottom"] = i + "%", e(this).stop(1, 1)[h ? "animate": "css"](c, a.animate), l.options.range === !0) if ("horizontal" === l.orientation) {
                        if (0 === n) l.range.stop(1, 1)[h ? "animate": "css"]({
                            left: i + "%"
                        },
                        a.animate);
                        if (1 === n) l.range[h ? "animate": "css"]({
                            width: i - t + "%"
                        },
                        {
                            queue: !1,
                            duration: a.animate
                        })
                    } else {
                        if (0 === n) l.range.stop(1, 1)[h ? "animate": "css"]({
                            bottom: i + "%"
                        },
                        a.animate);
                        if (1 === n) l.range[h ? "animate": "css"]({
                            height: i - t + "%"
                        },
                        {
                            queue: !1,
                            duration: a.animate
                        })
                    }
                    t = i
                });
                else {
                    if (n = this.value(), o = this._valueMin(), r = this._valueMax(), i = r !== o ? (n - o) / (r - o) * 100 : 0, c["horizontal" === this.orientation ? "left": "bottom"] = i + "%", this.handle.stop(1, 1)[h ? "animate": "css"](c, a.animate), "min" === s && "horizontal" === this.orientation) this.range.stop(1, 1)[h ? "animate": "css"]({
                        width: i + "%"
                    },
                    a.animate);
                    if ("max" === s && "horizontal" === this.orientation) this.range[h ? "animate": "css"]({
                        width: 100 - i + "%"
                    },
                    {
                        queue: !1,
                        duration: a.animate
                    });
                    if ("min" === s && "vertical" === this.orientation) this.range.stop(1, 1)[h ? "animate": "css"]({
                        height: i + "%"
                    },
                    a.animate);
                    if ("max" === s && "vertical" === this.orientation) this.range[h ? "animate": "css"]({
                        height: 100 - i + "%"
                    },
                    {
                        queue: !1,
                        duration: a.animate
                    })
                }
            },
            _handleEvents: {
                keydown: function(i) {
                    var n, o, r, s, a = e(i.target).data("ui-slider-handle-index");
                    switch (i.keyCode) {
                    case e.ui.keyCode.HOME:
                    case e.ui.keyCode.END:
                    case e.ui.keyCode.PAGE_UP:
                    case e.ui.keyCode.PAGE_DOWN:
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                        if (i.preventDefault(), !this._keySliding) if (this._keySliding = !0, e(i.target).addClass("ui-state-active"), n = this._start(i, a), n === !1) return
                    }
                    if (s = this.options.step, this.options.values && this.options.values.length) o = r = this.values(a);
                    else o = r = this.value();
                    switch (i.keyCode) {
                    case e.ui.keyCode.HOME:
                        r = this._valueMin();
                        break;
                    case e.ui.keyCode.END:
                        r = this._valueMax();
                        break;
                    case e.ui.keyCode.PAGE_UP:
                        r = this._trimAlignValue(o + (this._valueMax() - this._valueMin()) / t);
                        break;
                    case e.ui.keyCode.PAGE_DOWN:
                        r = this._trimAlignValue(o - (this._valueMax() - this._valueMin()) / t);
                        break;
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.RIGHT:
                        if (o === this._valueMax()) return;
                        r = this._trimAlignValue(o + s);
                        break;
                    case e.ui.keyCode.DOWN:
                    case e.ui.keyCode.LEFT:
                        if (o === this._valueMin()) return;
                        r = this._trimAlignValue(o - s)
                    }
                    this._slide(i, a, r)
                },
                click: function(e) {
                    e.preventDefault()
                },
                keyup: function(t) {
                    var i = e(t.target).data("ui-slider-handle-index");
                    if (this._keySliding) this._keySliding = !1,
                    this._stop(t, i),
                    this._change(t, i),
                    e(t.target).removeClass("ui-state-active")
                }
            }
        })
    } (jQuery),
    function(e) {
        function t(e) {
            return function() {
                var t = this.element.val();
                if (e.apply(this, arguments), this._refresh(), t !== this.element.val()) this._trigger("change")
            }
        }
        e.widget("ui.spinner", {
            version: "1.10.4",
            defaultElement: "<input>",
            widgetEventPrefix: "spin",
            options: {
                culture: null,
                icons: {
                    down: "ui-icon-triangle-1-s",
                    up: "ui-icon-triangle-1-n"
                },
                incremental: !0,
                max: null,
                min: null,
                numberFormat: null,
                page: 10,
                step: 1,
                change: null,
                spin: null,
                start: null,
                stop: null
            },
            _create: function() {
                if (this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value()) this._value(this.element.val(), !0);
                this._draw(),
                this._on(this._events),
                this._refresh(),
                this._on(this.window, {
                    beforeunload: function() {
                        this.element.removeAttr("autocomplete")
                    }
                })
            },
            _getCreateOptions: function() {
                var t = {},
                i = this.element;
                return e.each(["min", "max", "step"],
                function(e, n) {
                    var o = i.attr(n);
                    if (void 0 !== o && o.length) t[n] = o
                }),
                t
            },
            _events: {
                keydown: function(e) {
                    if (this._start(e) && this._keydown(e)) e.preventDefault()
                },
                keyup: "_stop",
                focus: function() {
                    this.previous = this.element.val()
                },
                blur: function(e) {
                    if (this.cancelBlur) return void delete this.cancelBlur;
                    if (this._stop(), this._refresh(), this.previous !== this.element.val()) this._trigger("change", e)
                },
                mousewheel: function(e, t) {
                    if (t) {
                        if (!this.spinning && !this._start(e)) return ! 1;
                        this._spin((t > 0 ? 1 : -1) * this.options.step, e),
                        clearTimeout(this.mousewheelTimer),
                        this.mousewheelTimer = this._delay(function() {
                            if (this.spinning) this._stop(e)
                        },
                        100),
                        e.preventDefault()
                    }
                },
                "mousedown .ui-spinner-button": function(t) {
                    function i() {
                        var e = this.element[0] === this.document[0].activeElement;
                        if (!e) this.element.focus(),
                        this.previous = n,
                        this._delay(function() {
                            this.previous = n
                        })
                    }
                    var n;
                    if (n = this.element[0] === this.document[0].activeElement ? this.previous: this.element.val(), t.preventDefault(), i.call(this), this.cancelBlur = !0, this._delay(function() {
                        delete this.cancelBlur,
                        i.call(this)
                    }), this._start(t) !== !1) this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
                },
                "mouseup .ui-spinner-button": "_stop",
                "mouseenter .ui-spinner-button": function(t) {
                    if (e(t.currentTarget).hasClass("ui-state-active")) if (this._start(t) === !1) return ! 1;
                    else return void this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
                },
                "mouseleave .ui-spinner-button": "_stop"
            },
            _draw: function() {
                var e = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
                if (this.element.attr("role", "spinbutton"), this.buttons = e.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(.5 * e.height()) && e.height() > 0) e.height(e.height());
                if (this.options.disabled) this.disable()
            },
            _keydown: function(t) {
                var i = this.options,
                n = e.ui.keyCode;
                switch (t.keyCode) {
                case n.UP:
                    return this._repeat(null, 1, t),
                    !0;
                case n.DOWN:
                    return this._repeat(null, -1, t),
                    !0;
                case n.PAGE_UP:
                    return this._repeat(null, i.page, t),
                    !0;
                case n.PAGE_DOWN:
                    return this._repeat(null, -i.page, t),
                    !0
                }
                return ! 1
            },
            _uiSpinnerHtml: function() {
                return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
            },
            _buttonHtml: function() {
                return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " + this.options.icons.down + "'>&#9660;</span></a>"
            },
            _start: function(e) {
                if (!this.spinning && this._trigger("start", e) === !1) return ! 1;
                if (!this.counter) this.counter = 1;
                return this.spinning = !0,
                !0
            },
            _repeat: function(e, t, i) {
                e = e || 500,
                clearTimeout(this.timer),
                this.timer = this._delay(function() {
                    this._repeat(40, t, i)
                },
                e),
                this._spin(t * this.options.step, i)
            },
            _spin: function(e, t) {
                var i = this.value() || 0;
                if (!this.counter) this.counter = 1;
                if (i = this._adjustValue(i + e * this._increment(this.counter)), !this.spinning || this._trigger("spin", t, {
                    value: i
                }) !== !1) this._value(i),
                this.counter++
            },
            _increment: function(t) {
                var i = this.options.incremental;
                if (i) return e.isFunction(i) ? i(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1);
                else return 1
            },
            _precision: function() {
                var e = this._precisionOf(this.options.step);
                if (null !== this.options.min) e = Math.max(e, this._precisionOf(this.options.min));
                return e
            },
            _precisionOf: function(e) {
                var t = e.toString(),
                i = t.indexOf(".");
                return - 1 === i ? 0 : t.length - i - 1
            },
            _adjustValue: function(e) {
                var t, i, n = this.options;
                if (t = null !== n.min ? n.min: 0, i = e - t, i = Math.round(i / n.step) * n.step, e = t + i, e = parseFloat(e.toFixed(this._precision())), null !== n.max && e > n.max) return n.max;
                if (null !== n.min && e < n.min) return n.min;
                else return e
            },
            _stop: function(e) {
                if (this.spinning) clearTimeout(this.timer),
                clearTimeout(this.mousewheelTimer),
                this.counter = 0,
                this.spinning = !1,
                this._trigger("stop", e)
            },
            _setOption: function(e, t) {
                if ("culture" === e || "numberFormat" === e) {
                    var i = this._parse(this.element.val());
                    return this.options[e] = t,
                    void this.element.val(this._format(i))
                }
                if ("max" === e || "min" === e || "step" === e) if ("string" == typeof t) t = this._parse(t);
                if ("icons" === e) this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),
                this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down);
                if (this._super(e, t), "disabled" === e) if (t) this.element.prop("disabled", !0),
                this.buttons.button("disable");
                else this.element.prop("disabled", !1),
                this.buttons.button("enable")
            },
            _setOptions: t(function(e) {
                this._super(e),
                this._value(this.element.val())
            }),
            _parse: function(e) {
                if ("string" == typeof e && "" !== e) e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e;
                return "" === e || isNaN(e) ? null: e
            },
            _format: function(e) {
                if ("" === e) return "";
                else return window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e
            },
            _refresh: function() {
                this.element.attr({
                    "aria-valuemin": this.options.min,
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": this._parse(this.element.val())
                })
            },
            _value: function(e, t) {
                var i;
                if ("" !== e) if (i = this._parse(e), null !== i) {
                    if (!t) i = this._adjustValue(i);
                    e = this._format(i)
                }
                this.element.val(e),
                this._refresh()
            },
            _destroy: function() {
                this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
                this.uiSpinner.replaceWith(this.element)
            },
            stepUp: t(function(e) {
                this._stepUp(e)
            }),
            _stepUp: function(e) {
                if (this._start()) this._spin((e || 1) * this.options.step),
                this._stop()
            },
            stepDown: t(function(e) {
                this._stepDown(e)
            }),
            _stepDown: function(e) {
                if (this._start()) this._spin((e || 1) * -this.options.step),
                this._stop()
            },
            pageUp: t(function(e) {
                this._stepUp((e || 1) * this.options.page)
            }),
            pageDown: t(function(e) {
                this._stepDown((e || 1) * this.options.page)
            }),
            value: function(e) {
                if (!arguments.length) return this._parse(this.element.val());
                else return void t(this._value).call(this, e)
            },
            widget: function() {
                return this.uiSpinner
            }
        })
    } (jQuery),
    function(e, t) {
        function i() {
            return++o
        }
        function n(e) {
            return e = e.cloneNode(!1),
            e.hash.length > 1 && decodeURIComponent(e.href.replace(r, "")) === decodeURIComponent(location.href.replace(r, ""))
        }
        var o = 0,
        r = /#.*$/;
        e.widget("ui.tabs", {
            version: "1.10.4",
            delay: 300,
            options: {
                active: null,
                collapsible: !1,
                event: "click",
                heightStyle: "content",
                hide: null,
                show: null,
                activate: null,
                beforeActivate: null,
                beforeLoad: null,
                load: null
            },
            _create: function() {
                var t = this,
                i = this.options;
                if (this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace,
                function(t) {
                    if (e(this).is(".ui-state-disabled")) t.preventDefault()
                }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace,
                function() {
                    if (e(this).closest("li").is(".ui-state-disabled")) this.blur()
                }), this._processTabs(), i.active = this._initialActive(), e.isArray(i.disabled)) i.disabled = e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),
                function(e) {
                    return t.tabs.index(e)
                }))).sort();
                if (this.options.active !== !1 && this.anchors.length) this.active = this._findActive(i.active);
                else this.active = e();
                if (this._refresh(), this.active.length) this.load(i.active)
            },
            _initialActive: function() {
                var t = this.options.active,
                i = this.options.collapsible,
                n = location.hash.substring(1);
                if (null === t) {
                    if (n) this.tabs.each(function(i, o) {
                        if (e(o).attr("aria-controls") === n) return t = i,
                        !1;
                        else return void 0
                    });
                    if (null === t) t = this.tabs.index(this.tabs.filter(".ui-tabs-active"));
                    if (null === t || -1 === t) t = this.tabs.length ? 0 : !1
                }
                if (t !== !1) if (t = this.tabs.index(this.tabs.eq(t)), -1 === t) t = i ? !1 : 0;
                if (!i && t === !1 && this.anchors.length) t = 0;
                return t
            },
            _getCreateEventData: function() {
                return {
                    tab: this.active,
                    panel: !this.active.length ? e() : this._getPanelForTab(this.active)
                }
            },
            _tabKeydown: function(t) {
                var i = e(this.document[0].activeElement).closest("li"),
                n = this.tabs.index(i),
                o = !0;
                if (!this._handlePageNav(t)) {
                    switch (t.keyCode) {
                    case e.ui.keyCode.RIGHT:
                    case e.ui.keyCode.DOWN:
                        n++;
                        break;
                    case e.ui.keyCode.UP:
                    case e.ui.keyCode.LEFT:
                        o = !1,
                        n--;
                        break;
                    case e.ui.keyCode.END:
                        n = this.anchors.length - 1;
                        break;
                    case e.ui.keyCode.HOME:
                        n = 0;
                        break;
                    case e.ui.keyCode.SPACE:
                        return t.preventDefault(),
                        clearTimeout(this.activating),
                        void this._activate(n);
                    case e.ui.keyCode.ENTER:
                        return t.preventDefault(),
                        clearTimeout(this.activating),
                        void this._activate(n === this.options.active ? !1 : n);
                    default:
                        return
                    }
                    if (t.preventDefault(), clearTimeout(this.activating), n = this._focusNextTab(n, o), !t.ctrlKey) i.attr("aria-selected", "false"),
                    this.tabs.eq(n).attr("aria-selected", "true"),
                    this.activating = this._delay(function() {
                        this.option("active", n)
                    },
                    this.delay)
                }
            },
            _panelKeydown: function(t) {
                if (!this._handlePageNav(t)) if (t.ctrlKey && t.keyCode === e.ui.keyCode.UP) t.preventDefault(),
                this.active.focus()
            },
            _handlePageNav: function(t) {
                if (t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP) return this._activate(this._focusNextTab(this.options.active - 1, !1)),
                !0;
                if (t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN) return this._activate(this._focusNextTab(this.options.active + 1, !0)),
                !0;
                else return void 0
            },
            _findNextTab: function(t, i) {
                function n() {
                    if (t > o) t = 0;
                    if (0 > t) t = o;
                    return t
                }
                for (var o = this.tabs.length - 1; - 1 !== e.inArray(n(), this.options.disabled);) t = i ? t + 1 : t - 1;
                return t
            },
            _focusNextTab: function(e, t) {
                return e = this._findNextTab(e, t),
                this.tabs.eq(e).focus(),
                e
            },
            _setOption: function(e, t) {
                if ("active" === e) return void this._activate(t);
                if ("disabled" === e) return void this._setupDisabled(t);
                if (this._super(e, t), "collapsible" === e) if (this.element.toggleClass("ui-tabs-collapsible", t), !t && this.options.active === !1) this._activate(0);
                if ("event" === e) this._setupEvents(t);
                if ("heightStyle" === e) this._setupHeightStyle(t)
            },
            _tabId: function(e) {
                return e.attr("aria-controls") || "ui-tabs-" + i()
            },
            _sanitizeSelector: function(e) {
                return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
            },
            refresh: function() {
                var t = this.options,
                i = this.tablist.children(":has(a[href])");
                if (t.disabled = e.map(i.filter(".ui-state-disabled"),
                function(e) {
                    return i.index(e)
                }), this._processTabs(), t.active === !1 || !this.anchors.length) t.active = !1,
                this.active = e();
                else if (this.active.length && !e.contains(this.tablist[0], this.active[0])) if (this.tabs.length === t.disabled.length) t.active = !1,
                this.active = e();
                else this._activate(this._findNextTab(Math.max(0, t.active - 1), !1));
                else t.active = this.tabs.index(this.active);
                this._refresh()
            },
            _refresh: function() {
                if (this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                    "aria-selected": "false",
                    tabIndex: -1
                }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                    "aria-expanded": "false",
                    "aria-hidden": "true"
                }), !this.active.length) this.tabs.eq(0).attr("tabIndex", 0);
                else this.active.addClass("ui-tabs-active ui-state-active").attr({
                    "aria-selected": "true",
                    tabIndex: 0
                }),
                this._getPanelForTab(this.active).show().attr({
                    "aria-expanded": "true",
                    "aria-hidden": "false"
                })
            },
            _processTabs: function() {
                var t = this;
                this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"),
                this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                    role: "tab",
                    tabIndex: -1
                }),
                this.anchors = this.tabs.map(function() {
                    return e("a", this)[0]
                }).addClass("ui-tabs-anchor").attr({
                    role: "presentation",
                    tabIndex: -1
                }),
                this.panels = e(),
                this.anchors.each(function(i, o) {
                    var r, s, a, l = e(o).uniqueId().attr("id"),
                    h = e(o).closest("li"),
                    c = h.attr("aria-controls");
                    if (n(o)) r = o.hash,
                    s = t.element.find(t._sanitizeSelector(r));
                    else {
                        if (a = t._tabId(h), r = "#" + a, s = t.element.find(r), !s.length) s = t._createPanel(a),
                        s.insertAfter(t.panels[i - 1] || t.tablist);
                        s.attr("aria-live", "polite")
                    }
                    if (s.length) t.panels = t.panels.add(s);
                    if (c) h.data("ui-tabs-aria-controls", c);
                    h.attr({
                        "aria-controls": r.substring(1),
                        "aria-labelledby": l
                    }),
                    s.attr("aria-labelledby", l)
                }),
                this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
            },
            _getList: function() {
                return this.tablist || this.element.find("ol,ul").eq(0)
            },
            _createPanel: function(t) {
                return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
            },
            _setupDisabled: function(t) {
                if (e.isArray(t)) if (!t.length) t = !1;
                else if (t.length === this.anchors.length) t = !0;
                for (var i, n = 0; i = this.tabs[n]; n++) if (t === !0 || -1 !== e.inArray(n, t)) e(i).addClass("ui-state-disabled").attr("aria-disabled", "true");
                else e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
                this.options.disabled = t
            },
            _setupEvents: function(t) {
                var i = {
                    click: function(e) {
                        e.preventDefault()
                    }
                };
                if (t) e.each(t.split(" "),
                function(e, t) {
                    i[t] = "_eventHandler"
                });
                this._off(this.anchors.add(this.tabs).add(this.panels)),
                this._on(this.anchors, i),
                this._on(this.tabs, {
                    keydown: "_tabKeydown"
                }),
                this._on(this.panels, {
                    keydown: "_panelKeydown"
                }),
                this._focusable(this.tabs),
                this._hoverable(this.tabs)
            },
            _setupHeightStyle: function(t) {
                var i, n = this.element.parent();
                if ("fill" === t) i = n.height(),
                i -= this.element.outerHeight() - this.element.height(),
                this.element.siblings(":visible").each(function() {
                    var t = e(this),
                    n = t.css("position");
                    if ("absolute" !== n && "fixed" !== n) i -= t.outerHeight(!0)
                }),
                this.element.children().not(this.panels).each(function() {
                    i -= e(this).outerHeight(!0)
                }),
                this.panels.each(function() {
                    e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height()))
                }).css("overflow", "auto");
                else if ("auto" === t) i = 0,
                this.panels.each(function() {
                    i = Math.max(i, e(this).height("").height())
                }).height(i)
            },
            _eventHandler: function(t) {
                var i = this.options,
                n = this.active,
                o = e(t.currentTarget),
                r = o.closest("li"),
                s = r[0] === n[0],
                a = s && i.collapsible,
                l = a ? e() : this._getPanelForTab(r),
                h = !n.length ? e() : this._getPanelForTab(n),
                c = {
                    oldTab: n,
                    oldPanel: h,
                    newTab: a ? e() : r,
                    newPanel: l
                };
                if (t.preventDefault(), !(r.hasClass("ui-state-disabled") || r.hasClass("ui-tabs-loading") || this.running || s && !i.collapsible || this._trigger("beforeActivate", t, c) === !1)) {
                    if (i.active = a ? !1 : this.tabs.index(r), this.active = s ? e() : r, this.xhr) this.xhr.abort();
                    if (!h.length && !l.length) e.error("jQuery UI Tabs: Mismatching fragment identifier.");
                    if (l.length) this.load(this.tabs.index(r), t);
                    this._toggle(t, c)
                }
            },
            _toggle: function(t, i) {
                function n() {
                    r.running = !1,
                    r._trigger("activate", t, i)
                }
                function o() {
                    if (i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), s.length && r.options.show) r._show(s, r.options.show, n);
                    else s.show(),
                    n()
                }
                var r = this,
                s = i.newPanel,
                a = i.oldPanel;
                if (this.running = !0, a.length && this.options.hide) this._hide(a, this.options.hide,
                function() {
                    i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
                    o()
                });
                else i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
                a.hide(),
                o();
                if (a.attr({
                    "aria-expanded": "false",
                    "aria-hidden": "true"
                }), i.oldTab.attr("aria-selected", "false"), s.length && a.length) i.oldTab.attr("tabIndex", -1);
                else if (s.length) this.tabs.filter(function() {
                    return 0 === e(this).attr("tabIndex")
                }).attr("tabIndex", -1);
                s.attr({
                    "aria-expanded": "true",
                    "aria-hidden": "false"
                }),
                i.newTab.attr({
                    "aria-selected": "true",
                    tabIndex: 0
                })
            },
            _activate: function(t) {
                var i, n = this._findActive(t);
                if (n[0] !== this.active[0]) {
                    if (!n.length) n = this.active;
                    i = n.find(".ui-tabs-anchor")[0],
                    this._eventHandler({
                        target: i,
                        currentTarget: i,
                        preventDefault: e.noop
                    })
                }
            },
            _findActive: function(t) {
                return t === !1 ? e() : this.tabs.eq(t)
            },
            _getIndex: function(e) {
                if ("string" == typeof e) e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"));
                return e
            },
            _destroy: function() {
                if (this.xhr) this.xhr.abort();
                if (this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function() {
                    if (e.data(this, "ui-tabs-destroy")) e(this).remove();
                    else e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
                }), this.tabs.each(function() {
                    var t = e(this),
                    i = t.data("ui-tabs-aria-controls");
                    if (i) t.attr("aria-controls", i).removeData("ui-tabs-aria-controls");
                    else t.removeAttr("aria-controls")
                }), this.panels.show(), "content" !== this.options.heightStyle) this.panels.css("height", "")
            },
            enable: function(i) {
                var n = this.options.disabled;
                if (n !== !1) {
                    if (i === t) n = !1;
                    else if (i = this._getIndex(i), e.isArray(n)) n = e.map(n,
                    function(e) {
                        return e !== i ? e: null
                    });
                    else n = e.map(this.tabs,
                    function(e, t) {
                        return t !== i ? t: null
                    });
                    this._setupDisabled(n)
                }
            },
            disable: function(i) {
                var n = this.options.disabled;
                if (n !== !0) {
                    if (i === t) n = !0;
                    else {
                        if (i = this._getIndex(i), -1 !== e.inArray(i, n)) return;
                        if (e.isArray(n)) n = e.merge([i], n).sort();
                        else n = [i]
                    }
                    this._setupDisabled(n)
                }
            },
            load: function(t, i) {
                t = this._getIndex(t);
                var o = this,
                r = this.tabs.eq(t),
                s = r.find(".ui-tabs-anchor"),
                a = this._getPanelForTab(r),
                l = {
                    tab: r,
                    panel: a
                };
                if (!n(s[0])) if (this.xhr = e.ajax(this._ajaxSettings(s, i, l)), this.xhr && "canceled" !== this.xhr.statusText) r.addClass("ui-tabs-loading"),
                a.attr("aria-busy", "true"),
                this.xhr.success(function(e) {
                    setTimeout(function() {
                        a.html(e),
                        o._trigger("load", i, l)
                    },
                    1)
                }).complete(function(e, t) {
                    setTimeout(function() {
                        if ("abort" === t) o.panels.stop(!1, !0);
                        if (r.removeClass("ui-tabs-loading"), a.removeAttr("aria-busy"), e === o.xhr) delete o.xhr
                    },
                    1)
                })
            },
            _ajaxSettings: function(t, i, n) {
                var o = this;
                return {
                    url: t.attr("href"),
                    beforeSend: function(t, r) {
                        return o._trigger("beforeLoad", i, e.extend({
                            jqXHR: t,
                            ajaxSettings: r
                        },
                        n))
                    }
                }
            },
            _getPanelForTab: function(t) {
                var i = e(t).attr("aria-controls");
                return this.element.find(this._sanitizeSelector("#" + i))
            }
        })
    } (jQuery),
    function(e) {
        function t(t, i) {
            var n = (t.attr("aria-describedby") || "").split(/\s+/);
            n.push(i),
            t.data("ui-tooltip-id", i).attr("aria-describedby", e.trim(n.join(" ")))
        }
        function i(t) {
            var i = t.data("ui-tooltip-id"),
            n = (t.attr("aria-describedby") || "").split(/\s+/),
            o = e.inArray(i, n);
            if ( - 1 !== o) n.splice(o, 1);
            if (t.removeData("ui-tooltip-id"), n = e.trim(n.join(" "))) t.attr("aria-describedby", n);
            else t.removeAttr("aria-describedby")
        }
        var n = 0;
        e.widget("ui.tooltip", {
            version: "1.10.4",
            options: {
                content: function() {
                    var t = e(this).attr("title") || "";
                    return e("<a>").text(t).html()
                },
                hide: !0,
                items: "[title]:not([disabled])",
                position: {
                    my: "left top+15",
                    at: "left bottom",
                    collision: "flipfit flip"
                },
                show: !0,
                tooltipClass: null,
                track: !1,
                close: null,
                open: null
            },
            _create: function() {
                if (this._on({
                    mouseover: "open",
                    focusin: "open"
                }), this.tooltips = {},
                this.parents = {},
                this.options.disabled) this._disable()
            },
            _setOption: function(t, i) {
                var n = this;
                if ("disabled" === t) return this[i ? "_disable": "_enable"](),
                void(this.options[t] = i);
                if (this._super(t, i), "content" === t) e.each(this.tooltips,
                function(e, t) {
                    n._updateContent(t)
                })
            },
            _disable: function() {
                var t = this;
                e.each(this.tooltips,
                function(i, n) {
                    var o = e.Event("blur");
                    o.target = o.currentTarget = n[0],
                    t.close(o, !0)
                }),
                this.element.find(this.options.items).addBack().each(function() {
                    var t = e(this);
                    if (t.is("[title]")) t.data("ui-tooltip-title", t.attr("title")).attr("title", "")
                })
            },
            _enable: function() {
                this.element.find(this.options.items).addBack().each(function() {
                    var t = e(this);
                    if (t.data("ui-tooltip-title")) t.attr("title", t.data("ui-tooltip-title"))
                })
            },
            open: function(t) {
                var i = this,
                n = e(t ? t.target: this.element).closest(this.options.items);
                if (n.length && !n.data("ui-tooltip-id")) {
                    if (n.attr("title")) n.data("ui-tooltip-title", n.attr("title"));
                    if (n.data("ui-tooltip-open", !0), t && "mouseover" === t.type) n.parents().each(function() {
                        var t, n = e(this);
                        if (n.data("ui-tooltip-open")) t = e.Event("blur"),
                        t.target = t.currentTarget = this,
                        i.close(t, !0);
                        if (n.attr("title")) n.uniqueId(),
                        i.parents[this.id] = {
                            element: this,
                            title: n.attr("title")
                        },
                        n.attr("title", "")
                    });
                    this._updateContent(n, t)
                }
            },
            _updateContent: function(e, t) {
                var i, n = this.options.content,
                o = this,
                r = t ? t.type: null;
                if ("string" == typeof n) return this._open(t, e, n);
                if (i = n.call(e[0],
                function(i) {
                    if (e.data("ui-tooltip-open")) o._delay(function() {
                        if (t) t.type = r;
                        this._open(t, e, i)
                    })
                })) this._open(t, e, i)
            },
            _open: function(i, n, o) {
                function r(e) {
                    if (h.of = e, !s.is(":hidden")) s.position(h)
                }
                var s, a, l, h = e.extend({},
                this.options.position);
                if (o) {
                    if (s = this._find(n), s.length) return void s.find(".ui-tooltip-content").html(o);
                    if (n.is("[title]")) if (i && "mouseover" === i.type) n.attr("title", "");
                    else n.removeAttr("title");
                    if (s = this._tooltip(n), t(n, s.attr("id")), s.find(".ui-tooltip-content").html(o), this.options.track && i && /^mouse/.test(i.type)) this._on(this.document, {
                        mousemove: r
                    }),
                    r(i);
                    else s.position(e.extend({
                        of: n
                    },
                    this.options.position));
                    if (s.hide(), this._show(s, this.options.show), this.options.show && this.options.show.delay) l = this.delayedShow = setInterval(function() {
                        if (s.is(":visible")) r(h.of),
                        clearInterval(l)
                    },
                    e.fx.interval);
                    if (this._trigger("open", i, {
                        tooltip: s
                    }), a = {
                        keyup: function(t) {
                            if (t.keyCode === e.ui.keyCode.ESCAPE) {
                                var i = e.Event(t);
                                i.currentTarget = n[0],
                                this.close(i, !0)
                            }
                        },
                        remove: function() {
                            this._removeTooltip(s)
                        }
                    },
                    !i || "mouseover" === i.type) a.mouseleave = "close";
                    if (!i || "focusin" === i.type) a.focusout = "close";
                    this._on(!0, n, a)
                }
            },
            close: function(t) {
                var n = this,
                o = e(t ? t.currentTarget: this.element),
                r = this._find(o);
                if (!this.closing) {
                    if (clearInterval(this.delayedShow), o.data("ui-tooltip-title")) o.attr("title", o.data("ui-tooltip-title"));
                    if (i(o), r.stop(!0), this._hide(r, this.options.hide,
                    function() {
                        n._removeTooltip(e(this))
                    }), o.removeData("ui-tooltip-open"), this._off(o, "mouseleave focusout keyup"), o[0] !== this.element[0]) this._off(o, "remove");
                    if (this._off(this.document, "mousemove"), t && "mouseleave" === t.type) e.each(this.parents,
                    function(t, i) {
                        e(i.element).attr("title", i.title),
                        delete n.parents[t]
                    });
                    this.closing = !0,
                    this._trigger("close", t, {
                        tooltip: r
                    }),
                    this.closing = !1
                }
            },
            _tooltip: function(t) {
                var i = "ui-tooltip-" + n++,
                o = e("<div>").attr({
                    id: i,
                    role: "tooltip"
                }).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""));
                return e("<div>").addClass("ui-tooltip-content").appendTo(o),
                o.appendTo(this.document[0].body),
                this.tooltips[i] = t,
                o
            },
            _find: function(t) {
                var i = t.data("ui-tooltip-id");
                return i ? e("#" + i) : e()
            },
            _removeTooltip: function(e) {
                e.remove(),
                delete this.tooltips[e.attr("id")]
            },
            _destroy: function() {
                var t = this;
                e.each(this.tooltips,
                function(i, n) {
                    var o = e.Event("blur");
                    if (o.target = o.currentTarget = n[0], t.close(o, !0), e("#" + i).remove(), n.data("ui-tooltip-title")) n.attr("title", n.data("ui-tooltip-title")),
                    n.removeData("ui-tooltip-title")
                })
            }
        })
    } (jQuery),
    function(e, t) {
        var i = "ui-effects-";
        e.effects = {
            effect: {}
        },
        function(e, t) {
            function i(e, t, i) {
                var n = u[t.type] || {};
                if (null == e) return i || !t.def ? null: t.def;
                if (e = n.floor ? ~~e: parseFloat(e), isNaN(e)) return t.def;
                if (n.mod) return (e + n.mod) % n.mod;
                else return 0 > e ? 0 : n.max < e ? n.max: e
            }
            function n(t) {
                var i = h(),
                n = i._rgba = [];
                if (t = t.toLowerCase(), p(l,
                function(e, o) {
                    var r, s = o.re.exec(t),
                    a = s && o.parse(s),
                    l = o.space || "rgba";
                    if (a) return r = i[l](a),
                    i[c[l].cache] = r[c[l].cache],
                    n = i._rgba = r._rgba,
                    !1;
                    else return void 0
                }), n.length) {
                    if ("0,0,0,0" === n.join()) e.extend(n, r.transparent);
                    return i
                }
                return r[t]
            }
            function o(e, t, i) {
                if (i = (i + 1) % 1, 1 > 6 * i) return e + (t - e) * i * 6;
                if (1 > 2 * i) return t;
                if (2 > 3 * i) return e + (t - e) * (2 / 3 - i) * 6;
                else return e
            }
            var r, s = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
            a = /^([\-+])=\s*(\d+\.?\d*)/,
            l = [{
                re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                parse: function(e) {
                    return [e[1], e[2], e[3], e[4]]
                }
            },
            {
                re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                parse: function(e) {
                    return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
                }
            },
            {
                re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                parse: function(e) {
                    return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
                }
            },
            {
                re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                parse: function(e) {
                    return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
                }
            },
            {
                re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                space: "hsla",
                parse: function(e) {
                    return [e[1], e[2] / 100, e[3] / 100, e[4]]
                }
            }],
            h = e.Color = function(t, i, n, o) {
                return new e.Color.fn.parse(t, i, n, o)
            },
            c = {
                rgba: {
                    props: {
                        red: {
                            idx: 0,
                            type: "byte"
                        },
                        green: {
                            idx: 1,
                            type: "byte"
                        },
                        blue: {
                            idx: 2,
                            type: "byte"
                        }
                    }
                },
                hsla: {
                    props: {
                        hue: {
                            idx: 0,
                            type: "degrees"
                        },
                        saturation: {
                            idx: 1,
                            type: "percent"
                        },
                        lightness: {
                            idx: 2,
                            type: "percent"
                        }
                    }
                }
            },
            u = {
                "byte": {
                    floor: !0,
                    max: 255
                },
                percent: {
                    max: 1
                },
                degrees: {
                    mod: 360,
                    floor: !0
                }
            },
            d = h.support = {},
            f = e("<p>")[0],
            p = e.each;
            f.style.cssText = "background-color:rgba(1,1,1,.5)",
            d.rgba = f.style.backgroundColor.indexOf("rgba") > -1,
            p(c,
            function(e, t) {
                t.cache = "_" + e,
                t.props.alpha = {
                    idx: 3,
                    type: "percent",
                    def: 1
                }
            }),
            h.fn = e.extend(h.prototype, {
                parse: function(o, s, a, l) {
                    if (o === t) return this._rgba = [null, null, null, null],
                    this;
                    if (o.jquery || o.nodeType) o = e(o).css(s),
                    s = t;
                    var u = this,
                    d = e.type(o),
                    f = this._rgba = [];
                    if (s !== t) o = [o, s, a, l],
                    d = "array";
                    if ("string" === d) return this.parse(n(o) || r._default);
                    if ("array" === d) return p(c.rgba.props,
                    function(e, t) {
                        f[t.idx] = i(o[t.idx], t)
                    }),
                    this;
                    if ("object" === d) {
                        if (o instanceof h) p(c,
                        function(e, t) {
                            if (o[t.cache]) u[t.cache] = o[t.cache].slice()
                        });
                        else p(c,
                        function(t, n) {
                            var r = n.cache;
                            if (p(n.props,
                            function(e, t) {
                                if (!u[r] && n.to) {
                                    if ("alpha" === e || null == o[e]) return;
                                    u[r] = n.to(u._rgba)
                                }
                                u[r][t.idx] = i(o[e], t, !0)
                            }), u[r] && e.inArray(null, u[r].slice(0, 3)) < 0) if (u[r][3] = 1, n.from) u._rgba = n.from(u[r])
                        });
                        return this
                    }
                },
                is: function(e) {
                    var t = h(e),
                    i = !0,
                    n = this;
                    return p(c,
                    function(e, o) {
                        var r, s = t[o.cache];
                        if (s) r = n[o.cache] || o.to && o.to(n._rgba) || [],
                        p(o.props,
                        function(e, t) {
                            if (null != s[t.idx]) return i = s[t.idx] === r[t.idx];
                            else return void 0
                        });
                        return i
                    }),
                    i
                },
                _space: function() {
                    var e = [],
                    t = this;
                    return p(c,
                    function(i, n) {
                        if (t[n.cache]) e.push(i)
                    }),
                    e.pop()
                },
                transition: function(e, t) {
                    var n = h(e),
                    o = n._space(),
                    r = c[o],
                    s = 0 === this.alpha() ? h("transparent") : this,
                    a = s[r.cache] || r.to(s._rgba),
                    l = a.slice();
                    return n = n[r.cache],
                    p(r.props,
                    function(e, o) {
                        var r = o.idx,
                        s = a[r],
                        h = n[r],
                        c = u[o.type] || {};
                        if (null !== h) if (null === s) l[r] = h;
                        else {
                            if (c.mod) if (h - s > c.mod / 2) s += c.mod;
                            else if (s - h > c.mod / 2) s -= c.mod;
                            l[r] = i((h - s) * t + s, o)
                        }
                    }),
                    this[o](l)
                },
                blend: function(t) {
                    if (1 === this._rgba[3]) return this;
                    var i = this._rgba.slice(),
                    n = i.pop(),
                    o = h(t)._rgba;
                    return h(e.map(i,
                    function(e, t) {
                        return (1 - n) * o[t] + n * e
                    }))
                },
                toRgbaString: function() {
                    var t = "rgba(",
                    i = e.map(this._rgba,
                    function(e, t) {
                        return null == e ? t > 2 ? 1 : 0 : e
                    });
                    if (1 === i[3]) i.pop(),
                    t = "rgb(";
                    return t + i.join() + ")"
                },
                toHslaString: function() {
                    var t = "hsla(",
                    i = e.map(this.hsla(),
                    function(e, t) {
                        if (null == e) e = t > 2 ? 1 : 0;
                        if (t && 3 > t) e = Math.round(100 * e) + "%";
                        return e
                    });
                    if (1 === i[3]) i.pop(),
                    t = "hsl(";
                    return t + i.join() + ")"
                },
                toHexString: function(t) {
                    var i = this._rgba.slice(),
                    n = i.pop();
                    if (t) i.push(~~ (255 * n));
                    return "#" + e.map(i,
                    function(e) {
                        return e = (e || 0).toString(16),
                        1 === e.length ? "0" + e: e
                    }).join("")
                },
                toString: function() {
                    return 0 === this._rgba[3] ? "transparent": this.toRgbaString()
                }
            }),
            h.fn.parse.prototype = h.fn,
            c.hsla.to = function(e) {
                if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];
                var t, i, n = e[0] / 255,
                o = e[1] / 255,
                r = e[2] / 255,
                s = e[3],
                a = Math.max(n, o, r),
                l = Math.min(n, o, r),
                h = a - l,
                c = a + l,
                u = .5 * c;
                if (l === a) t = 0;
                else if (n === a) t = 60 * (o - r) / h + 360;
                else if (o === a) t = 60 * (r - n) / h + 120;
                else t = 60 * (n - o) / h + 240;
                if (0 === h) i = 0;
                else if (.5 >= u) i = h / c;
                else i = h / (2 - c);
                return [Math.round(t) % 360, i, u, null == s ? 1 : s]
            },
            c.hsla.from = function(e) {
                if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];
                var t = e[0] / 360,
                i = e[1],
                n = e[2],
                r = e[3],
                s = .5 >= n ? n * (1 + i) : n + i - n * i,
                a = 2 * n - s;
                return [Math.round(255 * o(a, s, t + 1 / 3)), Math.round(255 * o(a, s, t)), Math.round(255 * o(a, s, t - 1 / 3)), r]
            },
            p(c,
            function(n, o) {
                var r = o.props,
                s = o.cache,
                l = o.to,
                c = o.from;
                h.fn[n] = function(n) {
                    if (l && !this[s]) this[s] = l(this._rgba);
                    if (n === t) return this[s].slice();
                    var o, a = e.type(n),
                    u = "array" === a || "object" === a ? n: arguments,
                    d = this[s].slice();
                    if (p(r,
                    function(e, t) {
                        var n = u["object" === a ? e: t.idx];
                        if (null == n) n = d[t.idx];
                        d[t.idx] = i(n, t)
                    }), c) return o = h(c(d)),
                    o[s] = d,
                    o;
                    else return h(d)
                },
                p(r,
                function(t, i) {
                    if (!h.fn[t]) h.fn[t] = function(o) {
                        var r, s = e.type(o),
                        l = "alpha" === t ? this._hsla ? "hsla": "rgba": n,
                        h = this[l](),
                        c = h[i.idx];
                        if ("undefined" === s) return c;
                        if ("function" === s) o = o.call(this, c),
                        s = e.type(o);
                        if (null == o && i.empty) return this;
                        if ("string" === s) if (r = a.exec(o)) o = c + parseFloat(r[2]) * ("+" === r[1] ? 1 : -1);
                        return h[i.idx] = o,
                        this[l](h)
                    }
                })
            }),
            h.hook = function(t) {
                var i = t.split(" ");
                p(i,
                function(t, i) {
                    e.cssHooks[i] = {
                        set: function(t, o) {
                            var r, s, a = "";
                            if ("transparent" !== o && ("string" !== e.type(o) || (r = n(o)))) {
                                if (o = h(r || o), !d.rgba && 1 !== o._rgba[3]) {
                                    for (s = "backgroundColor" === i ? t.parentNode: t; ("" === a || "transparent" === a) && s && s.style;) try {
                                        a = e.css(s, "backgroundColor"),
                                        s = s.parentNode
                                    } catch(l) {}
                                    o = o.blend(a && "transparent" !== a ? a: "_default")
                                }
                                o = o.toRgbaString()
                            }
                            try {
                                t.style[i] = o
                            } catch(l) {}
                        }
                    },
                    e.fx.step[i] = function(t) {
                        if (!t.colorInit) t.start = h(t.elem, i),
                        t.end = h(t.end),
                        t.colorInit = !0;
                        e.cssHooks[i].set(t.elem, t.start.transition(t.end, t.pos))
                    }
                })
            },
            h.hook(s),
            e.cssHooks.borderColor = {
                expand: function(e) {
                    var t = {};
                    return p(["Top", "Right", "Bottom", "Left"],
                    function(i, n) {
                        t["border" + n + "Color"] = e
                    }),
                    t
                }
            },
            r = e.Color.names = {
                aqua: "#00ffff",
                black: "#000000",
                blue: "#0000ff",
                fuchsia: "#ff00ff",
                gray: "#808080",
                green: "#008000",
                lime: "#00ff00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                purple: "#800080",
                red: "#ff0000",
                silver: "#c0c0c0",
                teal: "#008080",
                white: "#ffffff",
                yellow: "#ffff00",
                transparent: [null, null, null, 0],
                _default: "#ffffff"
            }
        } (jQuery),
        function() {
            function i(t) {
                var i, n, o = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle,
                r = {};
                if (o && o.length && o[0] && o[o[0]]) {
                    for (n = o.length; n--;) if (i = o[n], "string" == typeof o[i]) r[e.camelCase(i)] = o[i]
                } else for (i in o) if ("string" == typeof o[i]) r[i] = o[i];
                return r
            }
            function n(t, i) {
                var n, o, s = {};
                for (n in i) if (o = i[n], t[n] !== o) if (!r[n]) if (e.fx.step[n] || !isNaN(parseFloat(o))) s[n] = o;
                return s
            }
            var o = ["add", "remove", "toggle"],
            r = {
                border: 1,
                borderBottom: 1,
                borderColor: 1,
                borderLeft: 1,
                borderRight: 1,
                borderTop: 1,
                borderWidth: 1,
                margin: 1,
                padding: 1
            };
            if (e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"],
            function(t, i) {
                e.fx.step[i] = function(e) {
                    if ("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) jQuery.style(e.elem, i, e.end),
                    e.setAttr = !0
                }
            }), !e.fn.addBack) e.fn.addBack = function(e) {
                return this.add(null == e ? this.prevObject: this.prevObject.filter(e))
            };
            e.effects.animateClass = function(t, r, s, a) {
                var l = e.speed(r, s, a);
                return this.queue(function() {
                    var r, s = e(this),
                    a = s.attr("class") || "",
                    h = l.children ? s.find("*").addBack() : s;
                    h = h.map(function() {
                        var t = e(this);
                        return {
                            el: t,
                            start: i(this)
                        }
                    }),
                    r = function() {
                        e.each(o,
                        function(e, i) {
                            if (t[i]) s[i + "Class"](t[i])
                        })
                    },
                    r(),
                    h = h.map(function() {
                        return this.end = i(this.el[0]),
                        this.diff = n(this.start, this.end),
                        this
                    }),
                    s.attr("class", a),
                    h = h.map(function() {
                        var t = this,
                        i = e.Deferred(),
                        n = e.extend({},
                        l, {
                            queue: !1,
                            complete: function() {
                                i.resolve(t)
                            }
                        });
                        return this.el.animate(this.diff, n),
                        i.promise()
                    }),
                    e.when.apply(e, h.get()).done(function() {
                        r(),
                        e.each(arguments,
                        function() {
                            var t = this.el;
                            e.each(this.diff,
                            function(e) {
                                t.css(e, "")
                            })
                        }),
                        l.complete.call(s[0])
                    })
                })
            },
            e.fn.extend({
                addClass: function(t) {
                    return function(i, n, o, r) {
                        return n ? e.effects.animateClass.call(this, {
                            add: i
                        },
                        n, o, r) : t.apply(this, arguments)
                    }
                } (e.fn.addClass),
                removeClass: function(t) {
                    return function(i, n, o, r) {
                        return arguments.length > 1 ? e.effects.animateClass.call(this, {
                            remove: i
                        },
                        n, o, r) : t.apply(this, arguments)
                    }
                } (e.fn.removeClass),
                toggleClass: function(i) {
                    return function(n, o, r, s, a) {
                        if ("boolean" == typeof o || o === t) if (!r) return i.apply(this, arguments);
                        else return e.effects.animateClass.call(this, o ? {
                            add: n
                        }: {
                            remove: n
                        },
                        r, s, a);
                        else return e.effects.animateClass.call(this, {
                            toggle: n
                        },
                        o, r, s)
                    }
                } (e.fn.toggleClass),
                switchClass: function(t, i, n, o, r) {
                    return e.effects.animateClass.call(this, {
                        add: i,
                        remove: t
                    },
                    n, o, r)
                }
            })
        } (),
        function() {
            function n(t, i, n, o) {
                if (e.isPlainObject(t)) i = t,
                t = t.effect;
                if (t = {
                    effect: t
                },
                null == i) i = {};
                if (e.isFunction(i)) o = i,
                n = null,
                i = {};
                if ("number" == typeof i || e.fx.speeds[i]) o = n,
                n = i,
                i = {};
                if (e.isFunction(n)) o = n,
                n = null;
                if (i) e.extend(t, i);
                return n = n || i.duration,
                t.duration = e.fx.off ? 0 : "number" == typeof n ? n: n in e.fx.speeds ? e.fx.speeds[n] : e.fx.speeds._default,
                t.complete = o || i.complete,
                t
            }
            function o(t) {
                if (!t || "number" == typeof t || e.fx.speeds[t]) return ! 0;
                if ("string" == typeof t && !e.effects.effect[t]) return ! 0;
                if (e.isFunction(t)) return ! 0;
                if ("object" == typeof t && !t.effect) return ! 0;
                else return ! 1
            }
            e.extend(e.effects, {
                version: "1.10.4",
                save: function(e, t) {
                    for (var n = 0; n < t.length; n++) if (null !== t[n]) e.data(i + t[n], e[0].style[t[n]])
                },
                restore: function(e, n) {
                    var o, r;
                    for (r = 0; r < n.length; r++) if (null !== n[r]) {
                        if (o = e.data(i + n[r]), o === t) o = "";
                        e.css(n[r], o)
                    }
                },
                setMode: function(e, t) {
                    if ("toggle" === t) t = e.is(":hidden") ? "show": "hide";
                    return t
                },
                getBaseline: function(e, t) {
                    var i, n;
                    switch (e[0]) {
                    case "top":
                        i = 0;
                        break;
                    case "middle":
                        i = .5;
                        break;
                    case "bottom":
                        i = 1;
                        break;
                    default:
                        i = e[0] / t.height
                    }
                    switch (e[1]) {
                    case "left":
                        n = 0;
                        break;
                    case "center":
                        n = .5;
                        break;
                    case "right":
                        n = 1;
                        break;
                    default:
                        n = e[1] / t.width
                    }
                    return {
                        x: n,
                        y: i
                    }
                },
                createWrapper: function(t) {
                    if (t.parent().is(".ui-effects-wrapper")) return t.parent();
                    var i = {
                        width: t.outerWidth(!0),
                        height: t.outerHeight(!0),
                        "float": t.css("float")
                    },
                    n = e("<div></div>").addClass("ui-effects-wrapper").css({
                        fontSize: "100%",
                        background: "transparent",
                        border: "none",
                        margin: 0,
                        padding: 0
                    }),
                    o = {
                        width: t.width(),
                        height: t.height()
                    },
                    r = document.activeElement;
                    try {
                        r.id
                    } catch(s) {
                        r = document.body
                    }
                    if (t.wrap(n), t[0] === r || e.contains(t[0], r)) e(r).focus();
                    if (n = t.parent(), "static" === t.css("position")) n.css({
                        position: "relative"
                    }),
                    t.css({
                        position: "relative"
                    });
                    else e.extend(i, {
                        position: t.css("position"),
                        zIndex: t.css("z-index")
                    }),
                    e.each(["top", "left", "bottom", "right"],
                    function(e, n) {
                        if (i[n] = t.css(n), isNaN(parseInt(i[n], 10))) i[n] = "auto"
                    }),
                    t.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    });
                    return t.css(o),
                    n.css(i).show()
                },
                removeWrapper: function(t) {
                    var i = document.activeElement;
                    if (t.parent().is(".ui-effects-wrapper")) if (t.parent().replaceWith(t), t[0] === i || e.contains(t[0], i)) e(i).focus();
                    return t
                },
                setTransition: function(t, i, n, o) {
                    return o = o || {},
                    e.each(i,
                    function(e, i) {
                        var r = t.cssUnit(i);
                        if (r[0] > 0) o[i] = r[0] * n + r[1]
                    }),
                    o
                }
            }),
            e.fn.extend({
                effect: function() {
                    function t(t) {
                        function n() {
                            if (e.isFunction(r)) r.call(o[0]);
                            if (e.isFunction(t)) t()
                        }
                        var o = e(this),
                        r = i.complete,
                        a = i.mode;
                        if (o.is(":hidden") ? "hide" === a: "show" === a) o[a](),
                        n();
                        else s.call(o[0], i, n)
                    }
                    var i = n.apply(this, arguments),
                    o = i.mode,
                    r = i.queue,
                    s = e.effects.effect[i.effect];
                    if (e.fx.off || !s) if (o) return this[o](i.duration, i.complete);
                    else return this.each(function() {
                        if (i.complete) i.complete.call(this)
                    });
                    return r === !1 ? this.each(t) : this.queue(r || "fx", t)
                },
                show: function(e) {
                    return function(t) {
                        if (o(t)) return e.apply(this, arguments);
                        else {
                            var i = n.apply(this, arguments);
                            return i.mode = "show",
                            this.effect.call(this, i)
                        }
                    }
                } (e.fn.show),
                hide: function(e) {
                    return function(t) {
                        if (o(t)) return e.apply(this, arguments);
                        else {
                            var i = n.apply(this, arguments);
                            return i.mode = "hide",
                            this.effect.call(this, i)
                        }
                    }
                } (e.fn.hide),
                toggle: function(e) {
                    return function(t) {
                        if (o(t) || "boolean" == typeof t) return e.apply(this, arguments);
                        else {
                            var i = n.apply(this, arguments);
                            return i.mode = "toggle",
                            this.effect.call(this, i)
                        }
                    }
                } (e.fn.toggle),
                cssUnit: function(t) {
                    var i = this.css(t),
                    n = [];
                    return e.each(["em", "px", "%", "pt"],
                    function(e, t) {
                        if (i.indexOf(t) > 0) n = [parseFloat(i), t]
                    }),
                    n
                }
            })
        } (),
        function() {
            var t = {};
            e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"],
            function(e, i) {
                t[i] = function(t) {
                    return Math.pow(t, e + 2)
                }
            }),
            e.extend(t, {
                Sine: function(e) {
                    return 1 - Math.cos(e * Math.PI / 2)
                },
                Circ: function(e) {
                    return 1 - Math.sqrt(1 - e * e)
                },
                Elastic: function(e) {
                    return 0 === e || 1 === e ? e: -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
                },
                Back: function(e) {
                    return e * e * (3 * e - 2)
                },
                Bounce: function(e) {
                    for (var t, i = 4; e < ((t = Math.pow(2, --i)) - 1) / 11;);
                    return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
                }
            }),
            e.each(t,
            function(t, i) {
                e.easing["easeIn" + t] = i,
                e.easing["easeOut" + t] = function(e) {
                    return 1 - i(1 - e)
                },
                e.easing["easeInOut" + t] = function(e) {
                    return.5 > e ? i(2 * e) / 2 : 1 - i( - 2 * e + 2) / 2
                }
            })
        } ()
    } (jQuery),
    function(e) {
        var t = /up|down|vertical/,
        i = /up|left|vertical|horizontal/;
        e.effects.effect.blind = function(n, o) {
            var r, s, a, l = e(this),
            h = ["position", "top", "bottom", "left", "right", "height", "width"],
            c = e.effects.setMode(l, n.mode || "hide"),
            u = n.direction || "up",
            d = t.test(u),
            f = d ? "height": "width",
            p = d ? "top": "left",
            m = i.test(u),
            g = {},
            y = "show" === c;
            if (l.parent().is(".ui-effects-wrapper")) e.effects.save(l.parent(), h);
            else e.effects.save(l, h);
            if (l.show(), r = e.effects.createWrapper(l).css({
                overflow: "hidden"
            }), s = r[f](), a = parseFloat(r.css(p)) || 0, g[f] = y ? s: 0, !m) l.css(d ? "bottom": "right", 0).css(d ? "top": "left", "auto").css({
                position: "absolute"
            }),
            g[p] = y ? a: s + a;
            if (y) if (r.css(f, 0), !m) r.css(p, a + s);
            r.animate(g, {
                duration: n.duration,
                easing: n.easing,
                queue: !1,
                complete: function() {
                    if ("hide" === c) l.hide();
                    e.effects.restore(l, h),
                    e.effects.removeWrapper(l),
                    o()
                }
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.bounce = function(t, i) {
            var n, o, r, s = e(this),
            a = ["position", "top", "bottom", "left", "right", "height", "width"],
            l = e.effects.setMode(s, t.mode || "effect"),
            h = "hide" === l,
            c = "show" === l,
            u = t.direction || "up",
            d = t.distance,
            f = t.times || 5,
            p = 2 * f + (c || h ? 1 : 0),
            m = t.duration / p,
            g = t.easing,
            y = "up" === u || "down" === u ? "top": "left",
            v = "up" === u || "left" === u,
            b = s.queue(),
            x = b.length;
            if (c || h) a.push("opacity");
            if (e.effects.save(s, a), s.show(), e.effects.createWrapper(s), !d) d = s["top" === y ? "outerHeight": "outerWidth"]() / 3;
            if (c) r = {
                opacity: 1
            },
            r[y] = 0,
            s.css("opacity", 0).css(y, v ? 2 * -d: 2 * d).animate(r, m, g);
            if (h) d /= Math.pow(2, f - 1);
            for (r = {},
            r[y] = 0, n = 0; f > n; n++) o = {},
            o[y] = (v ? "-=": "+=") + d,
            s.animate(o, m, g).animate(r, m, g),
            d = h ? 2 * d: d / 2;
            if (h) o = {
                opacity: 0
            },
            o[y] = (v ? "-=": "+=") + d,
            s.animate(o, m, g);
            if (s.queue(function() {
                if (h) s.hide();
                e.effects.restore(s, a),
                e.effects.removeWrapper(s),
                i()
            }), x > 1) b.splice.apply(b, [1, 0].concat(b.splice(x, p + 1)));
            s.dequeue()
        }
    } (jQuery),
    function(e) {
        e.effects.effect.clip = function(t, i) {
            var n, o, r, s = e(this),
            a = ["position", "top", "bottom", "left", "right", "height", "width"],
            l = e.effects.setMode(s, t.mode || "hide"),
            h = "show" === l,
            c = t.direction || "vertical",
            u = "vertical" === c,
            d = u ? "height": "width",
            f = u ? "top": "left",
            p = {};
            if (e.effects.save(s, a), s.show(), n = e.effects.createWrapper(s).css({
                overflow: "hidden"
            }), o = "IMG" === s[0].tagName ? n: s, r = o[d](), h) o.css(d, 0),
            o.css(f, r / 2);
            p[d] = h ? r: 0,
            p[f] = h ? 0 : r / 2,
            o.animate(p, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    if (!h) s.hide();
                    e.effects.restore(s, a),
                    e.effects.removeWrapper(s),
                    i()
                }
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.drop = function(t, i) {
            var n, o = e(this),
            r = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
            s = e.effects.setMode(o, t.mode || "hide"),
            a = "show" === s,
            l = t.direction || "left",
            h = "up" === l || "down" === l ? "top": "left",
            c = "up" === l || "left" === l ? "pos": "neg",
            u = {
                opacity: a ? 1 : 0
            };
            if (e.effects.save(o, r), o.show(), e.effects.createWrapper(o), n = t.distance || o["top" === h ? "outerHeight": "outerWidth"](!0) / 2, a) o.css("opacity", 0).css(h, "pos" === c ? -n: n);
            u[h] = (a ? "pos" === c ? "+=": "-=": "pos" === c ? "-=": "+=") + n,
            o.animate(u, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    if ("hide" === s) o.hide();
                    e.effects.restore(o, r),
                    e.effects.removeWrapper(o),
                    i()
                }
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.explode = function(t, i) {
            function n() {
                if (b.push(this), b.length === u * d) o()
            }
            function o() {
                if (f.css({
                    visibility: "visible"
                }), e(b).remove(), !m) f.hide();
                i()
            }
            var r, s, a, l, h, c, u = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3,
            d = u,
            f = e(this),
            p = e.effects.setMode(f, t.mode || "hide"),
            m = "show" === p,
            g = f.show().css("visibility", "hidden").offset(),
            y = Math.ceil(f.outerWidth() / d),
            v = Math.ceil(f.outerHeight() / u),
            b = [];
            for (r = 0; u > r; r++) for (l = g.top + r * v, c = r - (u - 1) / 2, s = 0; d > s; s++) a = g.left + s * y,
            h = s - (d - 1) / 2,
            f.clone().appendTo("body").wrap("<div></div>").css({
                position: "absolute",
                visibility: "visible",
                left: -s * y,
                top: -r * v
            }).parent().addClass("ui-effects-explode").css({
                position: "absolute",
                overflow: "hidden",
                width: y,
                height: v,
                left: a + (m ? h * y: 0),
                top: l + (m ? c * v: 0),
                opacity: m ? 0 : 1
            }).animate({
                left: a + (m ? 0 : h * y),
                top: l + (m ? 0 : c * v),
                opacity: m ? 1 : 0
            },
            t.duration || 500, t.easing, n)
        }
    } (jQuery),
    function(e) {
        e.effects.effect.fade = function(t, i) {
            var n = e(this),
            o = e.effects.setMode(n, t.mode || "toggle");
            n.animate({
                opacity: o
            },
            {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: i
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.fold = function(t, i) {
            var n, o, r = e(this),
            s = ["position", "top", "bottom", "left", "right", "height", "width"],
            a = e.effects.setMode(r, t.mode || "hide"),
            l = "show" === a,
            h = "hide" === a,
            c = t.size || 15,
            u = /([0-9]+)%/.exec(c),
            d = !!t.horizFirst,
            f = l !== d,
            p = f ? ["width", "height"] : ["height", "width"],
            m = t.duration / 2,
            g = {},
            y = {};
            if (e.effects.save(r, s), r.show(), n = e.effects.createWrapper(r).css({
                overflow: "hidden"
            }), o = f ? [n.width(), n.height()] : [n.height(), n.width()], u) c = parseInt(u[1], 10) / 100 * o[h ? 0 : 1];
            if (l) n.css(d ? {
                height: 0,
                width: c
            }: {
                height: c,
                width: 0
            });
            g[p[0]] = l ? o[0] : c,
            y[p[1]] = l ? o[1] : 0,
            n.animate(g, m, t.easing).animate(y, m, t.easing,
            function() {
                if (h) r.hide();
                e.effects.restore(r, s),
                e.effects.removeWrapper(r),
                i()
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.highlight = function(t, i) {
            var n = e(this),
            o = ["backgroundImage", "backgroundColor", "opacity"],
            r = e.effects.setMode(n, t.mode || "show"),
            s = {
                backgroundColor: n.css("backgroundColor")
            };
            if ("hide" === r) s.opacity = 0;
            e.effects.save(n, o),
            n.show().css({
                backgroundImage: "none",
                backgroundColor: t.color || "#ffff99"
            }).animate(s, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    if ("hide" === r) n.hide();
                    e.effects.restore(n, o),
                    i()
                }
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.pulsate = function(t, i) {
            var n, o = e(this),
            r = e.effects.setMode(o, t.mode || "show"),
            s = "show" === r,
            a = "hide" === r,
            l = s || "hide" === r,
            h = 2 * (t.times || 5) + (l ? 1 : 0),
            c = t.duration / h,
            u = 0,
            d = o.queue(),
            f = d.length;
            if (s || !o.is(":visible")) o.css("opacity", 0).show(),
            u = 1;
            for (n = 1; h > n; n++) o.animate({
                opacity: u
            },
            c, t.easing),
            u = 1 - u;
            if (o.animate({
                opacity: u
            },
            c, t.easing), o.queue(function() {
                if (a) o.hide();
                i()
            }), f > 1) d.splice.apply(d, [1, 0].concat(d.splice(f, h + 1)));
            o.dequeue()
        }
    } (jQuery),
    function(e) {
        e.effects.effect.puff = function(t, i) {
            var n = e(this),
            o = e.effects.setMode(n, t.mode || "hide"),
            r = "hide" === o,
            s = parseInt(t.percent, 10) || 150,
            a = s / 100,
            l = {
                height: n.height(),
                width: n.width(),
                outerHeight: n.outerHeight(),
                outerWidth: n.outerWidth()
            };
            e.extend(t, {
                effect: "scale",
                queue: !1,
                fade: !0,
                mode: o,
                complete: i,
                percent: r ? s: 100,
                from: r ? l: {
                    height: l.height * a,
                    width: l.width * a,
                    outerHeight: l.outerHeight * a,
                    outerWidth: l.outerWidth * a
                }
            }),
            n.effect(t)
        },
        e.effects.effect.scale = function(t, i) {
            var n = e(this),
            o = e.extend(!0, {},
            t),
            r = e.effects.setMode(n, t.mode || "effect"),
            s = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : "hide" === r ? 0 : 100),
            a = t.direction || "both",
            l = t.origin,
            h = {
                height: n.height(),
                width: n.width(),
                outerHeight: n.outerHeight(),
                outerWidth: n.outerWidth()
            },
            c = {
                y: "horizontal" !== a ? s / 100 : 1,
                x: "vertical" !== a ? s / 100 : 1
            };
            if (o.effect = "size", o.queue = !1, o.complete = i, "effect" !== r) o.origin = l || ["middle", "center"],
            o.restore = !0;
            if (o.from = t.from || ("show" === r ? {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            }: h), o.to = {
                height: h.height * c.y,
                width: h.width * c.x,
                outerHeight: h.outerHeight * c.y,
                outerWidth: h.outerWidth * c.x
            },
            o.fade) {
                if ("show" === r) o.from.opacity = 0,
                o.to.opacity = 1;
                if ("hide" === r) o.from.opacity = 1,
                o.to.opacity = 0
            }
            n.effect(o)
        },
        e.effects.effect.size = function(t, i) {
            var n, o, r, s = e(this),
            a = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
            l = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
            h = ["width", "height", "overflow"],
            c = ["fontSize"],
            u = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
            d = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
            f = e.effects.setMode(s, t.mode || "effect"),
            p = t.restore || "effect" !== f,
            m = t.scale || "both",
            g = t.origin || ["middle", "center"],
            y = s.css("position"),
            v = p ? a: l,
            b = {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            };
            if ("show" === f) s.show();
            if (n = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            },
            "toggle" === t.mode && "show" === f) s.from = t.to || b,
            s.to = t.from || n;
            else s.from = t.from || ("show" === f ? b: n),
            s.to = t.to || ("hide" === f ? b: n);
            if (r = {
                from: {
                    y: s.from.height / n.height,
                    x: s.from.width / n.width
                },
                to: {
                    y: s.to.height / n.height,
                    x: s.to.width / n.width
                }
            },
            "box" === m || "both" === m) {
                if (r.from.y !== r.to.y) v = v.concat(u),
                s.from = e.effects.setTransition(s, u, r.from.y, s.from),
                s.to = e.effects.setTransition(s, u, r.to.y, s.to);
                if (r.from.x !== r.to.x) v = v.concat(d),
                s.from = e.effects.setTransition(s, d, r.from.x, s.from),
                s.to = e.effects.setTransition(s, d, r.to.x, s.to)
            }
            if ("content" === m || "both" === m) if (r.from.y !== r.to.y) v = v.concat(c).concat(h),
            s.from = e.effects.setTransition(s, c, r.from.y, s.from),
            s.to = e.effects.setTransition(s, c, r.to.y, s.to);
            if (e.effects.save(s, v), s.show(), e.effects.createWrapper(s), s.css("overflow", "hidden").css(s.from), g) o = e.effects.getBaseline(g, n),
            s.from.top = (n.outerHeight - s.outerHeight()) * o.y,
            s.from.left = (n.outerWidth - s.outerWidth()) * o.x,
            s.to.top = (n.outerHeight - s.to.outerHeight) * o.y,
            s.to.left = (n.outerWidth - s.to.outerWidth) * o.x;
            if (s.css(s.from), "content" === m || "both" === m) u = u.concat(["marginTop", "marginBottom"]).concat(c),
            d = d.concat(["marginLeft", "marginRight"]),
            h = a.concat(u).concat(d),
            s.find("*[width]").each(function() {
                var i = e(this),
                n = {
                    height: i.height(),
                    width: i.width(),
                    outerHeight: i.outerHeight(),
                    outerWidth: i.outerWidth()
                };
                if (p) e.effects.save(i, h);
                if (i.from = {
                    height: n.height * r.from.y,
                    width: n.width * r.from.x,
                    outerHeight: n.outerHeight * r.from.y,
                    outerWidth: n.outerWidth * r.from.x
                },
                i.to = {
                    height: n.height * r.to.y,
                    width: n.width * r.to.x,
                    outerHeight: n.height * r.to.y,
                    outerWidth: n.width * r.to.x
                },
                r.from.y !== r.to.y) i.from = e.effects.setTransition(i, u, r.from.y, i.from),
                i.to = e.effects.setTransition(i, u, r.to.y, i.to);
                if (r.from.x !== r.to.x) i.from = e.effects.setTransition(i, d, r.from.x, i.from),
                i.to = e.effects.setTransition(i, d, r.to.x, i.to);
                i.css(i.from),
                i.animate(i.to, t.duration, t.easing,
                function() {
                    if (p) e.effects.restore(i, h)
                })
            });
            s.animate(s.to, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    if (0 === s.to.opacity) s.css("opacity", s.from.opacity);
                    if ("hide" === f) s.hide();
                    if (e.effects.restore(s, v), !p) if ("static" === y) s.css({
                        position: "relative",
                        top: s.to.top,
                        left: s.to.left
                    });
                    else e.each(["top", "left"],
                    function(e, t) {
                        s.css(t,
                        function(t, i) {
                            var n = parseInt(i, 10),
                            o = e ? s.to.left: s.to.top;
                            if ("auto" === i) return o + "px";
                            else return n + o + "px"
                        })
                    });
                    e.effects.removeWrapper(s),
                    i()
                }
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.shake = function(t, i) {
            var n, o = e(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            s = e.effects.setMode(o, t.mode || "effect"),
            a = t.direction || "left",
            l = t.distance || 20,
            h = t.times || 3,
            c = 2 * h + 1,
            u = Math.round(t.duration / c),
            d = "up" === a || "down" === a ? "top": "left",
            f = "up" === a || "left" === a,
            p = {},
            m = {},
            g = {},
            y = o.queue(),
            v = y.length;
            for (e.effects.save(o, r), o.show(), e.effects.createWrapper(o), p[d] = (f ? "-=": "+=") + l, m[d] = (f ? "+=": "-=") + 2 * l, g[d] = (f ? "-=": "+=") + 2 * l, o.animate(p, u, t.easing), n = 1; h > n; n++) o.animate(m, u, t.easing).animate(g, u, t.easing);
            if (o.animate(m, u, t.easing).animate(p, u / 2, t.easing).queue(function() {
                if ("hide" === s) o.hide();
                e.effects.restore(o, r),
                e.effects.removeWrapper(o),
                i()
            }), v > 1) y.splice.apply(y, [1, 0].concat(y.splice(v, c + 1)));
            o.dequeue()
        }
    } (jQuery),
    function(e) {
        e.effects.effect.slide = function(t, i) {
            var n, o = e(this),
            r = ["position", "top", "bottom", "left", "right", "width", "height"],
            s = e.effects.setMode(o, t.mode || "show"),
            a = "show" === s,
            l = t.direction || "left",
            h = "up" === l || "down" === l ? "top": "left",
            c = "up" === l || "left" === l,
            u = {};
            if (e.effects.save(o, r), o.show(), n = t.distance || o["top" === h ? "outerHeight": "outerWidth"](!0), e.effects.createWrapper(o).css({
                overflow: "hidden"
            }), a) o.css(h, c ? isNaN(n) ? "-" + n: -n: n);
            u[h] = (a ? c ? "+=": "-=": c ? "-=": "+=") + n,
            o.animate(u, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    if ("hide" === s) o.hide();
                    e.effects.restore(o, r),
                    e.effects.removeWrapper(o),
                    i()
                }
            })
        }
    } (jQuery),
    function(e) {
        e.effects.effect.transfer = function(t, i) {
            var n = e(this),
            o = e(t.to),
            r = "fixed" === o.css("position"),
            s = e("body"),
            a = r ? s.scrollTop() : 0,
            l = r ? s.scrollLeft() : 0,
            h = o.offset(),
            c = {
                top: h.top - a,
                left: h.left - l,
                height: o.innerHeight(),
                width: o.innerWidth()
            },
            u = n.offset(),
            d = e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({
                top: u.top - a,
                left: u.left - l,
                height: n.innerHeight(),
                width: n.innerWidth(),
                position: r ? "fixed": "absolute"
            }).animate(c, t.duration, t.easing,
            function() {
                d.remove(),
                i()
            })
        }
    } (jQuery)
}),
!
function(e) {
    "function" == typeof define && define.amd ? define("jquerymousewheel", ["jquery"], e) : "object" == typeof exports ? module.exports = e: e(jQuery)
} (function(e) {
    function t(t) {
        var s = t || window.event,
        a = l.call(arguments, 1),
        h = 0,
        u = 0,
        d = 0,
        f = 0,
        p = 0,
        m = 0;
        if (t = e.event.fix(s), t.type = "mousewheel", "detail" in s && (d = -1 * s.detail), "wheelDelta" in s && (d = s.wheelDelta), "wheelDeltaY" in s && (d = s.wheelDeltaY), "wheelDeltaX" in s && (u = -1 * s.wheelDeltaX), "axis" in s && s.axis === s.HORIZONTAL_AXIS && (u = -1 * d, d = 0), h = 0 === d ? u: d, "deltaY" in s && (d = -1 * s.deltaY, h = d), "deltaX" in s && (u = s.deltaX, 0 === d && (h = -1 * u)), 0 !== d || 0 !== u) {
            if (1 === s.deltaMode) {
                var g = e.data(this, "mousewheel-line-height");
                h *= g,
                d *= g,
                u *= g
            } else if (2 === s.deltaMode) {
                var y = e.data(this, "mousewheel-page-height");
                h *= y,
                d *= y,
                u *= y
            }
            if (f = Math.max(Math.abs(d), Math.abs(u)), (!r || r > f) && (r = f, n(s, f) && (r /= 40)), n(s, f) && (h /= 40, u /= 40, d /= 40), h = Math[h >= 1 ? "floor": "ceil"](h / r), u = Math[u >= 1 ? "floor": "ceil"](u / r), d = Math[d >= 1 ? "floor": "ceil"](d / r), c.settings.normalizeOffset && this.getBoundingClientRect) {
                var v = this.getBoundingClientRect();
                p = t.clientX - v.left,
                m = t.clientY - v.top
            }
            return t.deltaX = u,
            t.deltaY = d,
            t.deltaFactor = r,
            t.offsetX = p,
            t.offsetY = m,
            t.deltaMode = 0,
            a.unshift(t, h, u, d),
            o && clearTimeout(o),
            o = setTimeout(i, 200),
            (e.event.dispatch || e.event.handle).apply(this, a)
        }
    }
    function i() {
        r = null
    }
    function n(e, t) {
        return c.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 === 0
    }
    var o, r, s = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
    a = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
    l = Array.prototype.slice;
    if (e.event.fixHooks) for (var h = s.length; h;) e.event.fixHooks[s[--h]] = e.event.mouseHooks;
    var c = e.event.special.mousewheel = {
        version: "3.1.11",
        setup: function() {
            if (this.addEventListener) for (var i = a.length; i;) this.addEventListener(a[--i], t, !1);
            else this.onmousewheel = t;
            e.data(this, "mousewheel-line-height", c.getLineHeight(this)),
            e.data(this, "mousewheel-page-height", c.getPageHeight(this))
        },
        teardown: function() {
            if (this.removeEventListener) for (var i = a.length; i;) this.removeEventListener(a[--i], t, !1);
            else this.onmousewheel = null;
            e.removeData(this, "mousewheel-line-height"),
            e.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function(t) {
            var i = e(t)["offsetParent" in e.fn ? "offsetParent": "parent"]();
            return i.length || (i = e("body")),
            parseInt(i.css("fontSize"), 10)
        },
        getPageHeight: function(t) {
            return e(t).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    e.fn.extend({
        mousewheel: function(e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.unbind("mousewheel", e)
        }
    })
}),
define("jquery.hotkeys", ["require", "jquery"],
function(require) {
    function e(e) {
        if ("string" == typeof e.data) e.data = {
            keys: e.data
        };
        if (e.data && e.data.keys && "string" == typeof e.data.keys) {
            var i = e.handler,
            n = e.data.keys.toLowerCase().split(" ");
            e.handler = function(e) {
                if (this === e.target || !(/textarea|select/i.test(e.target.nodeName) || t.hotkeys.options.filterTextInputs && t.inArray(e.target.type, t.hotkeys.textAcceptingInputTypes) > -1)) {
                    var o = "keypress" !== e.type && t.hotkeys.specialKeys[e.which],
                    r = String.fromCharCode(e.which).toLowerCase(),
                    s = "",
                    a = {};
                    if (t.each(["alt", "ctrl", "shift"],
                    function(t, i) {
                        if (e[i + "Key"] && o !== i) s += i + "+"
                    }), e.metaKey && !e.ctrlKey && "meta" !== o) s += "meta+";
                    if (e.metaKey && "meta" !== o && s.indexOf("alt+ctrl+shift+") > -1) s = s.replace("alt+ctrl+shift+", "hyper+");
                    if (o) a[s + o] = !0;
                    else if (a[s + r] = !0, a[s + t.hotkeys.shiftNums[r]] = !0, "shift+" === s) a[t.hotkeys.shiftNums[r]] = !0;
                    for (var l = 0,
                    h = n.length; h > l; l++) if (a[n[l]]) return i.apply(this, arguments)
                }
            }
        }
    }
    var t = require("jquery");
    t.hotkeys = {
        version: "0.8",
        specialKeys: {
            8 : "backspace",
            9 : "tab",
            10 : "return",
            13 : "return",
            16 : "shift",
            17 : "ctrl",
            18 : "alt",
            19 : "pause",
            20 : "capslock",
            27 : "esc",
            32 : "space",
            33 : "pageup",
            34 : "pagedown",
            35 : "end",
            36 : "home",
            37 : "left",
            38 : "up",
            39 : "right",
            40 : "down",
            45 : "insert",
            46 : "del",
            59 : ";",
            61 : "=",
            96 : "0",
            97 : "1",
            98 : "2",
            99 : "3",
            100 : "4",
            101 : "5",
            102 : "6",
            103 : "7",
            104 : "8",
            105 : "9",
            106 : "*",
            107 : "+",
            109 : "-",
            110 : ".",
            111 : "/",
            112 : "f1",
            113 : "f2",
            114 : "f3",
            115 : "f4",
            116 : "f5",
            117 : "f6",
            118 : "f7",
            119 : "f8",
            120 : "f9",
            121 : "f10",
            122 : "f11",
            123 : "f12",
            144 : "numlock",
            145 : "scroll",
            173 : "-",
            186 : ";",
            187 : "=",
            188 : ",",
            189 : "-",
            190 : ".",
            191 : "/",
            192 : "`",
            219 : "[",
            220 : "\\",
            221 : "]",
            222 : "'"
        },
        shiftNums: {
            "`": "~",
            1 : "!",
            2 : "@",
            3 : "#",
            4 : "$",
            5 : "%",
            6 : "^",
            7 : "&",
            8 : "*",
            9 : "(",
            0 : ")",
            "-": "_",
            "=": "+",
            ";": ": ",
            "'": '"',
            ",": "<",
            ".": ">",
            "/": "?",
            "\\": "|"
        },
        textAcceptingInputTypes: ["text", "password", "number", "email", "url", "range", "date", "month", "week", "time", "datetime", "datetime-local", "search", "color", "tel"],
        options: {
            filterTextInputs: !0
        }
    },
    t.each(["keydown", "keyup", "keypress"],
    function() {
        t.event.special[this] = {
            add: e
        }
    })
}),
define("jpicker", ["jquery"],
function() {
    var e = require("jquery"); !
    function(e) {
        Math.precision = function(e, t) {
            if (void 0 === t) t = 0;
            return Math.round(e * Math.pow(10, t)) / Math.pow(10, t)
        };
        var t = function(t, i) {
            var n, o, r = this,
            s = t.find("img:first"),
            a = 0,
            l = 100,
            h = 100,
            c = 0,
            u = 100,
            d = 100,
            f = 0,
            p = 0,
            m = new Array,
            g = function(e) {
                for (var t = 0; t < m.length; t++) m[t].call(r, r, e)
            },
            y = function(i) {
                var s = t.offset();
                n = {
                    l: 0 | s.left,
                    t: 0 | s.top
                },
                clearTimeout(o),
                o = setTimeout(function() {
                    x.call(r, i)
                },
                0),
                e(document).bind("mousemove", v).bind("mouseup", b),
                i.preventDefault()
            },
            v = function(e) {
                return clearTimeout(o),
                o = setTimeout(function() {
                    x.call(r, e)
                },
                0),
                e.stopPropagation(),
                e.preventDefault(),
                !1
            },
            b = function(t) {
                return e(document).unbind("mouseup", b).unbind("mousemove", v),
                t.stopPropagation(),
                t.preventDefault(),
                !1
            },
            x = function(e) {
                var i = e.pageX - n.l,
                o = e.pageY - n.t,
                s = t.w,
                l = t.h;
                if (0 > i) i = 0;
                else if (i > s) i = s;
                if (0 > o) o = 0;
                else if (o > l) o = l;
                w.call(r, "xy", {
                    x: i / s * h + a,
                    y: o / l * d + c
                })
            },
            _ = function() {
                var e = 0,
                i = 0,
                n = t.w,
                o = t.h,
                r = s.w,
                a = s.h;
                setTimeout(function() {
                    if (h > 0) if (f == l) e = n;
                    else e = f / h * n | 0;
                    if (d > 0) if (p == u) i = o;
                    else i = p / d * o | 0;
                    if (r >= n) e = (n >> 1) - (r >> 1);
                    else e -= r >> 1;
                    if (a >= o) i = (o >> 1) - (a >> 1);
                    else i -= a >> 1;
                    s.css({
                        left: e + "px",
                        top: i + "px"
                    })
                },
                0)
            },
            w = function(e, t, i) {
                var n = void 0 !== t;
                if (!n) {
                    if (void 0 === e || null == e) e = "xy";
                    switch (e.toLowerCase()) {
                    case "x":
                        return f;
                    case "y":
                        return p;
                    case "xy":
                    default:
                        return {
                            x:
                            f,
                            y: p
                        }
                    }
                }
                if (null == i || i != r) {
                    var o, s, h = !1;
                    if (null == e) e = "xy";
                    switch (e.toLowerCase()) {
                    case "x":
                        o = t && (t.x && 0 | t.x || 0 | t) || 0;
                        break;
                    case "y":
                        s = t && (t.y && 0 | t.y || 0 | t) || 0;
                        break;
                    case "xy":
                    default:
                        o = t && t.x && 0 | t.x || 0,
                        s = t && t.y && 0 | t.y || 0
                    }
                    if (null != o) {
                        if (a > o) o = a;
                        else if (o > l) o = l;
                        if (f != o) f = o,
                        h = !0
                    }
                    if (null != s) {
                        if (c > s) s = c;
                        else if (s > u) s = u;
                        if (p != s) p = s,
                        h = !0
                    }
                    h && g.call(r, i || r)
                }
            },
            V = function(e, t) {
                var i = void 0 !== t;
                if (!i) {
                    if (void 0 === e || null == e) e = "all";
                    switch (e.toLowerCase()) {
                    case "minx":
                        return a;
                    case "maxx":
                        return l;
                    case "rangex":
                        return {
                            minX:
                            a,
                            maxX: l,
                            rangeX: h
                        };
                    case "miny":
                        return c;
                    case "maxy":
                        return u;
                    case "rangey":
                        return {
                            minY:
                            c,
                            maxY: u,
                            rangeY: d
                        };
                    case "all":
                    default:
                        return {
                            minX:
                            a,
                            maxX: l,
                            rangeX: h,
                            minY: c,
                            maxY: u,
                            rangeY: d
                        }
                    }
                }
                var n, o, r, s;
                if (null == e) e = "all";
                switch (e.toLowerCase()) {
                case "minx":
                    n = t && (t.minX && 0 | t.minX || 0 | t) || 0;
                    break;
                case "maxx":
                    o = t && (t.maxX && 0 | t.maxX || 0 | t) || 0;
                    break;
                case "rangex":
                    n = t && t.minX && 0 | t.minX || 0,
                    o = t && t.maxX && 0 | t.maxX || 0;
                    break;
                case "miny":
                    r = t && (t.minY && 0 | t.minY || 0 | t) || 0;
                    break;
                case "maxy":
                    s = t && (t.maxY && 0 | t.maxY || 0 | t) || 0;
                    break;
                case "rangey":
                    r = t && t.minY && 0 | t.minY || 0,
                    s = t && t.maxY && 0 | t.maxY || 0;
                    break;
                case "all":
                default:
                    n = t && t.minX && 0 | t.minX || 0,
                    o = t && t.maxX && 0 | t.maxX || 0,
                    r = t && t.minY && 0 | t.minY || 0,
                    s = t && t.maxY && 0 | t.maxY || 0
                }
                if (null != n && a != n) a = n,
                h = l - a;
                if (null != o && l != o) l = o,
                h = l - a;
                if (null != r && c != r) c = r,
                d = u - c;
                if (null != s && u != s) u = s,
                d = u - c
            },
            U = function(t) {
                if (e.isFunction(t)) m.push(t)
            },
            k = function(t) {
                if (e.isFunction(t)) for (var i; - 1 != (i = e.inArray(t, m));) m.splice(i, 1)
            },
            C = function() {
                e(document).unbind("mouseup", b).unbind("mousemove", v),
                t.unbind("mousedown", y),
                t = null,
                s = null,
                m = null
            };
            e.extend(!0, r, {
                val: w,
                range: V,
                bind: U,
                unbind: k,
                destroy: C
            }),
            s.src = i.arrow && i.arrow.image,
            s.w = i.arrow && i.arrow.width || s.width(),
            s.h = i.arrow && i.arrow.height || s.height(),
            t.w = i.map && i.map.width || t.width(),
            t.h = i.map && i.map.height || t.height(),
            t.bind("mousedown", y),
            U.call(r, _)
        },
        n = function(t, i, n, o) {
            var r = this,
            s = t.find("td.Text input"),
            a = s.eq(3),
            l = s.eq(4),
            h = s.eq(5),
            c = s.length > 7 ? s.eq(6) : null,
            u = s.eq(0),
            d = s.eq(1),
            f = s.eq(2),
            p = s.eq(s.length > 7 ? 7 : 6),
            m = s.length > 7 ? s.eq(8) : null,
            g = function(e) {
                if ("" != e.target.value || e.target == p.get(0) || (null == n || e.target == n.get(0)) && null != n) {
                    if (!b(e)) return e;
                    switch (e.target) {
                    case a.get(0):
                        switch (e.keyCode) {
                        case 38:
                            return a.val(x.call(r, (a.val() << 0) + 1, 0, 255)),
                            i.val("r", a.val(), e.target),
                            !1;
                        case 40:
                            return a.val(x.call(r, (a.val() << 0) - 1, 0, 255)),
                            i.val("r", a.val(), e.target),
                            !1
                        }
                        break;
                    case l.get(0):
                        switch (e.keyCode) {
                        case 38:
                            return l.val(x.call(r, (l.val() << 0) + 1, 0, 255)),
                            i.val("g", l.val(), e.target),
                            !1;
                        case 40:
                            return l.val(x.call(r, (l.val() << 0) - 1, 0, 255)),
                            i.val("g", l.val(), e.target),
                            !1
                        }
                        break;
                    case h.get(0):
                        switch (e.keyCode) {
                        case 38:
                            return h.val(x.call(r, (h.val() << 0) + 1, 0, 255)),
                            i.val("b", h.val(), e.target),
                            !1;
                        case 40:
                            return h.val(x.call(r, (h.val() << 0) - 1, 0, 255)),
                            i.val("b", h.val(), e.target),
                            !1
                        }
                        break;
                    case c && c.get(0) : switch (e.keyCode) {
                        case 38:
                            return c.val(x.call(r, parseFloat(c.val()) + 1, 0, 100)),
                            i.val("a", Math.precision(255 * c.val() / 100, o), e.target),
                            !1;
                        case 40:
                            return c.val(x.call(r, parseFloat(c.val()) - 1, 0, 100)),
                            i.val("a", Math.precision(255 * c.val() / 100, o), e.target),
                            !1
                        }
                        break;
                    case u.get(0):
                        switch (e.keyCode) {
                        case 38:
                            return u.val(x.call(r, (u.val() << 0) + 1, 0, 360)),
                            i.val("h", u.val(), e.target),
                            !1;
                        case 40:
                            return u.val(x.call(r, (u.val() << 0) - 1, 0, 360)),
                            i.val("h", u.val(), e.target),
                            !1
                        }
                        break;
                    case d.get(0):
                        switch (e.keyCode) {
                        case 38:
                            return d.val(x.call(r, (d.val() << 0) + 1, 0, 100)),
                            i.val("s", d.val(), e.target),
                            !1;
                        case 40:
                            return d.val(x.call(r, (d.val() << 0) - 1, 0, 100)),
                            i.val("s", d.val(), e.target),
                            !1
                        }
                        break;
                    case f.get(0):
                        switch (e.keyCode) {
                        case 38:
                            return f.val(x.call(r, (f.val() << 0) + 1, 0, 100)),
                            i.val("v", f.val(), e.target),
                            !1;
                        case 40:
                            return f.val(x.call(r, (f.val() << 0) - 1, 0, 100)),
                            i.val("v", f.val(), e.target),
                            !1
                        }
                    }
                }
            },
            y = function(e) {
                if ("" != e.target.value || e.target == p.get(0) || (null == n || e.target == n.get(0)) && null != n) {
                    if (!b(e)) return e;
                    switch (e.target) {
                    case a.get(0):
                        a.val(x.call(r, a.val(), 0, 255)),
                        i.val("r", a.val(), e.target);
                        break;
                    case l.get(0):
                        l.val(x.call(r, l.val(), 0, 255)),
                        i.val("g", l.val(), e.target);
                        break;
                    case h.get(0):
                        h.val(x.call(r, h.val(), 0, 255)),
                        i.val("b", h.val(), e.target);
                        break;
                    case c && c.get(0) : c.val(x.call(r, c.val(), 0, 100)),
                        i.val("a", Math.precision(255 * c.val() / 100, o), e.target);
                        break;
                    case u.get(0):
                        u.val(x.call(r, u.val(), 0, 360)),
                        i.val("h", u.val(), e.target);
                        break;
                    case d.get(0):
                        d.val(x.call(r, d.val(), 0, 100)),
                        i.val("s", d.val(), e.target);
                        break;
                    case f.get(0):
                        f.val(x.call(r, f.val(), 0, 100)),
                        i.val("v", f.val(), e.target);
                        break;
                    case p.get(0):
                        p.val(p.val().replace(/[^a-fA-F0-9]/g, "").toLowerCase().substring(0, 6)),
                        n && n.val(p.val()),
                        i.val("hex", "" != p.val() ? p.val() : null, e.target);
                        break;
                    case n && n.get(0) : n.val(n.val().replace(/[^a-fA-F0-9]/g, "").toLowerCase().substring(0, 6)),
                        p.val(n.val()),
                        i.val("hex", "" != n.val() ? n.val() : null, e.target);
                        break;
                    case m && m.get(0) : m.val(m.val().replace(/[^a-fA-F0-9]/g, "").toLowerCase().substring(0, 2)),
                        i.val("a", null != m.val() ? parseInt(m.val(), 16) : null, e.target)
                    }
                }
            },
            v = function(e) {
                if (null != i.val()) switch (e.target) {
                case a.get(0):
                    a.val(i.val("r"));
                    break;
                case l.get(0):
                    l.val(i.val("g"));
                    break;
                case h.get(0):
                    h.val(i.val("b"));
                    break;
                case c && c.get(0) : c.val(Math.precision(100 * i.val("a") / 255, o));
                    break;
                case u.get(0):
                    u.val(i.val("h"));
                    break;
                case d.get(0):
                    d.val(i.val("s"));
                    break;
                case f.get(0):
                    f.val(i.val("v"));
                    break;
                case p.get(0):
                case n && n.get(0) : p.val(i.val("hex")),
                    n && n.val(i.val("hex"));
                    break;
                case m && m.get(0) : m.val(i.val("ahex").substring(6))
                }
            },
            b = function(e) {
                switch (e.keyCode) {
                case 9:
                case 16:
                case 29:
                case 37:
                case 39:
                    return ! 1;
                case "c".charCodeAt():
                case "v".charCodeAt():
                    if (e.ctrlKey) return ! 1
                }
                return ! 0
            },
            x = function(e, t, i) {
                if ("" == e || isNaN(e)) return t;
                if (e > i) return i;
                if (t > e) return t;
                else return e
            },
            _ = function(e, t) {
                var i = e.val("all");
                if (t != a.get(0)) a.val(null != i ? i.r: "");
                if (t != l.get(0)) l.val(null != i ? i.g: "");
                if (t != h.get(0)) h.val(null != i ? i.b: "");
                if (c && t != c.get(0)) c.val(null != i ? Math.precision(100 * i.a / 255, o) : "");
                if (t != u.get(0)) u.val(null != i ? i.h: "");
                if (t != d.get(0)) d.val(null != i ? i.s: "");
                if (t != f.get(0)) f.val(null != i ? i.v: "");
                if (t != p.get(0) && (n && t != n.get(0) || !n)) p.val(null != i ? i.hex: "");
                if (n && t != n.get(0) && t != p.get(0)) n.val(null != i ? i.hex: "");
                if (m && t != m.get(0)) m.val(null != i ? i.ahex.substring(6) : "")
            },
            w = function() {
                a.add(l).add(h).add(c).add(u).add(d).add(f).add(p).add(n).add(m).unbind("keyup", y).unbind("blur", v),
                a.add(l).add(h).add(c).add(u).add(d).add(f).unbind("keydown", g),
                i.unbind(_),
                a = null,
                l = null,
                h = null,
                c = null,
                u = null,
                d = null,
                f = null,
                p = null,
                m = null
            };
            e.extend(!0, r, {
                destroy: w
            }),
            a.add(l).add(h).add(c).add(u).add(d).add(f).add(p).add(n).add(m).bind("keyup", y).bind("blur", v),
            a.add(l).add(h).add(c).add(u).add(d).add(f).bind("keydown", g),
            i.bind(_)
        };
        e.jPicker = {
            List: [],
            Color: function(t) {
                var i, n, o, r, a, l, h, c = this,
                u = new Array,
                d = function(e) {
                    for (var t = 0; t < u.length; t++) u[t].call(c, c, e)
                },
                f = function(e, t, u) {
                    var p = void 0 !== t;
                    if (!p) {
                        if (void 0 === e || null == e || "" == e) e = "all";
                        if (null == i) return null;
                        switch (e.toLowerCase()) {
                        case "ahex":
                            return s.rgbaToHex({
                                r:
                                i,
                                g: n,
                                b: o,
                                a: r
                            });
                        case "hex":
                            return f("ahex").substring(0, 6);
                        case "all":
                            return {
                                r:
                                i,
                                g: n,
                                b: o,
                                a: r,
                                h: a,
                                s: l,
                                v: h,
                                hex: f.call(c, "hex"),
                                ahex: f.call(c, "ahex")
                            };
                        default:
                            for (var m = {},
                            g = 0; g < e.length; g++) switch (e.charAt(g)) {
                            case "r":
                                if (1 == e.length) m = i;
                                else m.r = i;
                                break;
                            case "g":
                                if (1 == e.length) m = n;
                                else m.g = n;
                                break;
                            case "b":
                                if (1 == e.length) m = o;
                                else m.b = o;
                                break;
                            case "a":
                                if (1 == e.length) m = r;
                                else m.a = r;
                                break;
                            case "h":
                                if (1 == e.length) m = a;
                                else m.h = a;
                                break;
                            case "s":
                                if (1 == e.length) m = l;
                                else m.s = l;
                                break;
                            case "v":
                                if (1 == e.length) m = h;
                                else m.v = h
                            }
                            return m == {} ? f.call(c, "all") : m
                        }
                    }
                    if (null == u || u != c) {
                        var y = !1;
                        if (null == e) e = "";
                        if (null == t) {
                            if (null != i) i = null,
                            y = !0;
                            if (null != n) n = null,
                            y = !0;
                            if (null != o) o = null,
                            y = !0;
                            if (null != r) r = null,
                            y = !0;
                            if (null != a) a = null,
                            y = !0;
                            if (null != l) l = null,
                            y = !0;
                            if (null != h) h = null,
                            y = !0;
                            return void(y && d.call(c, u || c))
                        }
                        switch (e.toLowerCase()) {
                        case "ahex":
                        case "hex":
                            var m = s.hexToRgba(t && (t.ahex || t.hex) || t || "00000000");
                            f.call(c, "rgba", {
                                r: m.r,
                                g: m.g,
                                b: m.b,
                                a: "ahex" == e ? m.a: null != r ? r: 255
                            },
                            u);
                            break;
                        default:
                            if (t && (null != t.ahex || null != t.hex)) return void f.call(c, "ahex", t.ahex || t.hex || "00000000", u);
                            var v = {},
                            b = !1,
                            x = !1;
                            if (void 0 !== t.r && -1 == !e.indexOf("r")) e += "r";
                            if (void 0 !== t.g && -1 == !e.indexOf("g")) e += "g";
                            if (void 0 !== t.b && -1 == !e.indexOf("b")) e += "b";
                            if (void 0 !== t.a && -1 == !e.indexOf("a")) e += "a";
                            if (void 0 !== t.h && -1 == !e.indexOf("h")) e += "h";
                            if (void 0 !== t.s && -1 == !e.indexOf("s")) e += "s";
                            if (void 0 !== t.v && -1 == !e.indexOf("v")) e += "v";
                            for (var g = 0; g < e.length; g++) switch (e.charAt(g)) {
                            case "r":
                                if (x) continue;
                                if (b = !0, v.r = t && t.r && 0 | t.r || t && 0 | t || 0, v.r < 0) v.r = 0;
                                else if (v.r > 255) v.r = 255;
                                if (i != v.r) i = v.r,
                                y = !0;
                                break;
                            case "g":
                                if (x) continue;
                                if (b = !0, v.g = t && t.g && 0 | t.g || t && 0 | t || 0, v.g < 0) v.g = 0;
                                else if (v.g > 255) v.g = 255;
                                if (n != v.g) n = v.g,
                                y = !0;
                                break;
                            case "b":
                                if (x) continue;
                                if (b = !0, v.b = t && t.b && 0 | t.b || t && 0 | t || 0, v.b < 0) v.b = 0;
                                else if (v.b > 255) v.b = 255;
                                if (o != v.b) o = v.b,
                                y = !0;
                                break;
                            case "a":
                                if (v.a = t && null != t.a ? 0 | t.a: null != t ? 0 | t: 255, v.a < 0) v.a = 0;
                                else if (v.a > 255) v.a = 255;
                                if (r != v.a) r = v.a,
                                y = !0;
                                break;
                            case "h":
                                if (b) continue;
                                if (x = !0, v.h = t && t.h && 0 | t.h || t && 0 | t || 0, v.h < 0) v.h = 0;
                                else if (v.h > 360) v.h = 360;
                                if (a != v.h) a = v.h,
                                y = !0;
                                break;
                            case "s":
                                if (b) continue;
                                if (x = !0, v.s = t && null != t.s ? 0 | t.s: null != t ? 0 | t: 100, v.s < 0) v.s = 0;
                                else if (v.s > 100) v.s = 100;
                                if (l != v.s) l = v.s,
                                y = !0;
                                break;
                            case "v":
                                if (b) continue;
                                if (x = !0, v.v = t && null != t.v ? 0 | t.v: null != t ? 0 | t: 100, v.v < 0) v.v = 0;
                                else if (v.v > 100) v.v = 100;
                                if (h != v.v) h = v.v,
                                y = !0
                            }
                            if (y) {
                                if (b) {
                                    i = i || 0,
                                    n = n || 0,
                                    o = o || 0;
                                    var m = s.rgbToHsv({
                                        r: i,
                                        g: n,
                                        b: o
                                    });
                                    a = m.h,
                                    l = m.s,
                                    h = m.v
                                } else if (x) {
                                    a = a || 0,
                                    l = null != l ? l: 100,
                                    h = null != h ? h: 100;
                                    var m = s.hsvToRgb({
                                        h: a,
                                        s: l,
                                        v: h
                                    });
                                    i = m.r,
                                    n = m.g,
                                    o = m.b
                                }
                                r = null != r ? r: 255,
                                d.call(c, u || c)
                            }
                        }
                    }
                },
                p = function(t) {
                    if (e.isFunction(t)) u.push(t)
                },
                m = function(t) {
                    if (e.isFunction(t)) for (var i; - 1 != (i = e.inArray(t, u));) u.splice(i, 1)
                },
                g = function() {
                    u = null
                };
                if (e.extend(!0, c, {
                    val: f,
                    bind: p,
                    unbind: m,
                    destroy: g
                }), t) if (null != t.ahex) f("ahex", t);
                else if (null != t.hex) f((null != t.a ? "a": "") + "hex", null != t.a ? {
                    ahex: t.hex + s.intToHex(t.a)
                }: t);
                else if (null != t.r && null != t.g && null != t.b) f("rgb" + (null != t.a ? "a": ""), t);
                else if (null != t.h && null != t.s && null != t.v) f("hsv" + (null != t.a ? "a": ""), t)
            },
            ColorMethods: {
                hexToRgba: function(e) {
                    if (e = this.validateHex(e), "" == e) return {
                        r: null,
                        g: null,
                        b: null,
                        a: null
                    };
                    var t = "00",
                    i = "00",
                    n = "00",
                    o = "255";
                    if (6 == e.length) e += "ff";
                    if (e.length > 6) t = e.substring(0, 2),
                    i = e.substring(2, 4),
                    n = e.substring(4, 6),
                    o = e.substring(6, e.length);
                    else {
                        if (e.length > 4) t = e.substring(4, e.length),
                        e = e.substring(0, 4);
                        if (e.length > 2) i = e.substring(2, e.length),
                        e = e.substring(0, 2);
                        if (e.length > 0) n = e.substring(0, e.length)
                    }
                    return {
                        r: this.hexToInt(t),
                        g: this.hexToInt(i),
                        b: this.hexToInt(n),
                        a: this.hexToInt(o)
                    }
                },
                validateHex: function(e) {
                    if (e = e.toLowerCase().replace(/[^a-f0-9]/g, ""), e.length > 8) e = e.substring(0, 8);
                    return e
                },
                rgbaToHex: function(e) {
                    return this.intToHex(e.r) + this.intToHex(e.g) + this.intToHex(e.b) + this.intToHex(e.a)
                },
                intToHex: function(e) {
                    var t = (0 | e).toString(16);
                    if (1 == t.length) t = "0" + t;
                    return t.toLowerCase()
                },
                hexToInt: function(e) {
                    return parseInt(e, 16)
                },
                rgbToHsv: function(e) {
                    var t, i = e.r / 255,
                    n = e.g / 255,
                    o = e.b / 255,
                    r = {
                        h: 0,
                        s: 0,
                        v: 0
                    },
                    s = 0,
                    a = 0;
                    if (i >= n && i >= o) a = i,
                    s = n > o ? o: n;
                    else if (n >= o && n >= i) a = n,
                    s = i > o ? o: i;
                    else a = o,
                    s = n > i ? i: n;
                    if (r.v = a, r.s = a ? (a - s) / a: 0, !r.s) r.h = 0;
                    else {
                        if (t = a - s, i == a) r.h = (n - o) / t;
                        else if (n == a) r.h = 2 + (o - i) / t;
                        else r.h = 4 + (i - n) / t;
                        if (r.h = parseInt(60 * r.h), r.h < 0) r.h += 360
                    }
                    return r.s = 100 * r.s | 0,
                    r.v = 100 * r.v | 0,
                    r
                },
                hsvToRgb: function(e) {
                    var t = {
                        r: 0,
                        g: 0,
                        b: 0,
                        a: 100
                    },
                    i = e.h,
                    n = e.s,
                    o = e.v;
                    if (0 == n) if (0 == o) t.r = t.g = t.b = 0;
                    else t.r = t.g = t.b = 255 * o / 100 | 0;
                    else {
                        if (360 == i) i = 0;
                        i /= 60,
                        n /= 100,
                        o /= 100;
                        var r = 0 | i,
                        s = i - r,
                        a = o * (1 - n),
                        l = o * (1 - n * s),
                        h = o * (1 - n * (1 - s));
                        switch (r) {
                        case 0:
                            t.r = o,
                            t.g = h,
                            t.b = a;
                            break;
                        case 1:
                            t.r = l,
                            t.g = o,
                            t.b = a;
                            break;
                        case 2:
                            t.r = a,
                            t.g = o,
                            t.b = h;
                            break;
                        case 3:
                            t.r = a,
                            t.g = l,
                            t.b = o;
                            break;
                        case 4:
                            t.r = h,
                            t.g = a,
                            t.b = o;
                            break;
                        case 5:
                            t.r = o,
                            t.g = a,
                            t.b = l
                        }
                        t.r = 255 * t.r | 0,
                        t.g = 255 * t.g | 0,
                        t.b = 255 * t.b | 0
                    }
                    return t
                }
            }
        };
        var o = e.jPicker.Color,
        r = e.jPicker.List,
        s = e.jPicker.ColorMethods;
        e.fn.jPicker = function(a) {
            var l = arguments;
            return this.each(function() {
                var h = this,
                c = e.extend(!0, {},
                e.fn.jPicker.defaults, a);
                if ("input" == e(h).get(0).nodeName.toLowerCase()) if (e.extend(!0, c, {
                    window: {
                        bindToInput: !0,
                        expandable: !0,
                        input: e(h)
                    }
                }), "" == e(h).val()) c.color.active = new o({
                    hex: null
                }),
                c.color.current = new o({
                    hex: null
                });
                else if (s.validateHex(e(h).val())) c.color.active = new o({
                    hex: e(h).val(),
                    a: c.color.active.val("a")
                }),
                c.color.current = new o({
                    hex: e(h).val(),
                    a: c.color.active.val("a")
                });
                if (c.window.expandable) e(h).after('<span class="jPicker"><span class="Icon"><span class="Color">&nbsp;</span><span class="Alpha">&nbsp;</span><span class="Image" title="Click To Open Color Picker">&nbsp;</span><span class="Container">&nbsp;</span></span></span>');
                else c.window.liveUpdate = !1;
                var u = parseFloat(navigator.appVersion.split("MSIE")[1]) < 7 && document.body.filters,
                d = null,
                f = null,
                p = null,
                m = null,
                g = null,
                y = null,
                v = null,
                b = null,
                x = null,
                _ = null,
                w = null,
                V = null,
                U = null,
                k = null,
                C = null,
                S = null,
                L = null,
                T = null,
                I = null,
                E = null,
                W = null,
                A = null,
                M = null,
                D = null,
                P = null,
                O = null,
                X = null,
                N = null,
                R = function(e) {
                    var t, i, n = xt.active,
                    o = (vt.clientPath, n.val("hex"));
                    switch (c.color.mode = e, e) {
                    case "h":
                        if (setTimeout(function() {
                            G.call(h, f, "transparent"),
                            Y.call(h, m, 0),
                            $.call(h, m, 100),
                            Y.call(h, g, 260),
                            $.call(h, g, 100),
                            G.call(h, p, "transparent"),
                            Y.call(h, v, 0),
                            $.call(h, v, 100),
                            Y.call(h, b, 260),
                            $.call(h, b, 100),
                            Y.call(h, x, 260),
                            $.call(h, x, 100),
                            Y.call(h, _, 260),
                            $.call(h, _, 100),
                            Y.call(h, V, 260),
                            $.call(h, V, 100)
                        },
                        0), U.range("all", {
                            minX: 0,
                            maxX: 100,
                            minY: 0,
                            maxY: 100
                        }), k.range("rangeY", {
                            minY: 0,
                            maxY: 360
                        }), null == n.val("ahex")) break;
                        U.val("xy", {
                            x: n.val("s"),
                            y: 100 - n.val("v")
                        },
                        U),
                        k.val("y", 360 - n.val("h"), k);
                        break;
                    case "s":
                        if (setTimeout(function() {
                            G.call(h, f, "transparent"),
                            Y.call(h, m, -260),
                            Y.call(h, g, -520),
                            Y.call(h, v, -260),
                            Y.call(h, b, -520),
                            Y.call(h, V, 260),
                            $.call(h, V, 100)
                        },
                        0), U.range("all", {
                            minX: 0,
                            maxX: 360,
                            minY: 0,
                            maxY: 100
                        }), k.range("rangeY", {
                            minY: 0,
                            maxY: 100
                        }), null == n.val("ahex")) break;
                        U.val("xy", {
                            x: n.val("h"),
                            y: 100 - n.val("v")
                        },
                        U),
                        k.val("y", 100 - n.val("s"), k);
                        break;
                    case "v":
                        if (setTimeout(function() {
                            G.call(h, f, "000000"),
                            Y.call(h, m, -780),
                            Y.call(h, g, 260),
                            G.call(h, p, o),
                            Y.call(h, v, -520),
                            Y.call(h, b, 260),
                            $.call(h, b, 100),
                            Y.call(h, V, 260),
                            $.call(h, V, 100)
                        },
                        0), U.range("all", {
                            minX: 0,
                            maxX: 360,
                            minY: 0,
                            maxY: 100
                        }), k.range("rangeY", {
                            minY: 0,
                            maxY: 100
                        }), null == n.val("ahex")) break;
                        U.val("xy", {
                            x: n.val("h"),
                            y: 100 - n.val("s")
                        },
                        U),
                        k.val("y", 100 - n.val("v"), k);
                        break;
                    case "r":
                        if (t = -1040, i = -780, U.range("all", {
                            minX: 0,
                            maxX: 255,
                            minY: 0,
                            maxY: 255
                        }), k.range("rangeY", {
                            minY: 0,
                            maxY: 255
                        }), null == n.val("ahex")) break;
                        U.val("xy", {
                            x: n.val("b"),
                            y: 255 - n.val("g")
                        },
                        U),
                        k.val("y", 255 - n.val("r"), k);
                        break;
                    case "g":
                        if (t = -1560, i = -1820, U.range("all", {
                            minX: 0,
                            maxX: 255,
                            minY: 0,
                            maxY: 255
                        }), k.range("rangeY", {
                            minY: 0,
                            maxY: 255
                        }), null == n.val("ahex")) break;
                        U.val("xy", {
                            x: n.val("b"),
                            y: 255 - n.val("r")
                        },
                        U),
                        k.val("y", 255 - n.val("g"), k);
                        break;
                    case "b":
                        if (t = -2080, i = -2860, U.range("all", {
                            minX: 0,
                            maxX: 255,
                            minY: 0,
                            maxY: 255
                        }), k.range("rangeY", {
                            minY: 0,
                            maxY: 255
                        }), null == n.val("ahex")) break;
                        U.val("xy", {
                            x: n.val("r"),
                            y: 255 - n.val("g")
                        },
                        U),
                        k.val("y", 255 - n.val("b"), k);
                        break;
                    case "a":
                        if (setTimeout(function() {
                            G.call(h, f, "transparent"),
                            Y.call(h, m, -260),
                            Y.call(h, g, -520),
                            Y.call(h, v, 260),
                            Y.call(h, b, 260),
                            $.call(h, b, 100),
                            Y.call(h, V, 0),
                            $.call(h, V, 100)
                        },
                        0), U.range("all", {
                            minX: 0,
                            maxX: 360,
                            minY: 0,
                            maxY: 100
                        }), k.range("rangeY", {
                            minY: 0,
                            maxY: 255
                        }), null == n.val("ahex")) break;
                        U.val("xy", {
                            x: n.val("h"),
                            y: 100 - n.val("v")
                        },
                        U),
                        k.val("y", 255 - n.val("a"), k);
                        break;
                    default:
                        throw "Invalid Mode"
                    }
                    switch (e) {
                    case "h":
                        break;
                    case "s":
                    case "v":
                    case "a":
                        setTimeout(function() {
                            $.call(h, m, 100),
                            $.call(h, v, 100),
                            Y.call(h, x, 260),
                            $.call(h, x, 100),
                            Y.call(h, _, 260),
                            $.call(h, _, 100)
                        },
                        0);
                        break;
                    case "r":
                    case "g":
                    case "b":
                        setTimeout(function() {
                            G.call(h, f, "transparent"),
                            G.call(h, p, "transparent"),
                            $.call(h, v, 100),
                            $.call(h, m, 100),
                            Y.call(h, m, t),
                            Y.call(h, g, t - 260),
                            Y.call(h, v, i - 780),
                            Y.call(h, b, i - 520),
                            Y.call(h, x, i),
                            Y.call(h, _, i - 260),
                            Y.call(h, V, 260),
                            $.call(h, V, 100)
                        },
                        0)
                    }
                    if (null != n.val("ahex")) K.call(h, n)
                },
                K = function(e, t) {
                    if (null == t || t != k && t != U) H.call(h, e, t);
                    setTimeout(function() {
                        B.call(h, e),
                        J.call(h, e),
                        j.call(h, e)
                    },
                    0)
                },
                F = function(e, t) {
                    var i = xt.active;
                    if (t == U || null != i.val()) {
                        var n = e.val("all");
                        switch (c.color.mode) {
                        case "h":
                            i.val("sv", {
                                s: n.x,
                                v: 100 - n.y
                            },
                            t);
                            break;
                        case "s":
                        case "a":
                            i.val("hv", {
                                h: n.x,
                                v: 100 - n.y
                            },
                            t);
                            break;
                        case "v":
                            i.val("hs", {
                                h: n.x,
                                s: 100 - n.y
                            },
                            t);
                            break;
                        case "r":
                            i.val("gb", {
                                g: 255 - n.y,
                                b: n.x
                            },
                            t);
                            break;
                        case "g":
                            i.val("rb", {
                                r: 255 - n.y,
                                b: n.x
                            },
                            t);
                            break;
                        case "b":
                            i.val("rg", {
                                r: n.x,
                                g: 255 - n.y
                            },
                            t)
                        }
                    }
                },
                z = function(e, t) {
                    var i = xt.active;
                    if (t == k || null != i.val()) switch (c.color.mode) {
                    case "h":
                        i.val("h", {
                            h: 360 - e.val("y")
                        },
                        t);
                        break;
                    case "s":
                        i.val("s", {
                            s: 100 - e.val("y")
                        },
                        t);
                        break;
                    case "v":
                        i.val("v", {
                            v: 100 - e.val("y")
                        },
                        t);
                        break;
                    case "r":
                        i.val("r", {
                            r: 255 - e.val("y")
                        },
                        t);
                        break;
                    case "g":
                        i.val("g", {
                            g: 255 - e.val("y")
                        },
                        t);
                        break;
                    case "b":
                        i.val("b", {
                            b: 255 - e.val("y")
                        },
                        t);
                        break;
                    case "a":
                        i.val("a", 255 - e.val("y"), t)
                    }
                },
                H = function(e, t) {
                    if (t != U) switch (c.color.mode) {
                    case "h":
                        var i = e.val("sv");
                        U.val("xy", {
                            x: null != i ? i.s: 100,
                            y: 100 - (null != i ? i.v: 100)
                        },
                        t);
                        break;
                    case "s":
                    case "a":
                        var n = e.val("hv");
                        U.val("xy", {
                            x: n && n.h || 0,
                            y: 100 - (null != n ? n.v: 100)
                        },
                        t);
                        break;
                    case "v":
                        var o = e.val("hs");
                        U.val("xy", {
                            x: o && o.h || 0,
                            y: 100 - (null != o ? o.s: 100)
                        },
                        t);
                        break;
                    case "r":
                        var r = e.val("bg");
                        U.val("xy", {
                            x: r && r.b || 0,
                            y: 255 - (r && r.g || 0)
                        },
                        t);
                        break;
                    case "g":
                        var s = e.val("br");
                        U.val("xy", {
                            x: s && s.b || 0,
                            y: 255 - (s && s.r || 0)
                        },
                        t);
                        break;
                    case "b":
                        var a = e.val("rg");
                        U.val("xy", {
                            x: a && a.r || 0,
                            y: 255 - (a && a.g || 0)
                        },
                        t)
                    }
                    if (t != k) switch (c.color.mode) {
                    case "h":
                        k.val("y", 360 - (e.val("h") || 0), t);
                        break;
                    case "s":
                        var l = e.val("s");
                        k.val("y", 100 - (null != l ? l: 100), t);
                        break;
                    case "v":
                        var h = e.val("v");
                        k.val("y", 100 - (null != h ? h: 100), t);
                        break;
                    case "r":
                        k.val("y", 255 - (e.val("r") || 0), t);
                        break;
                    case "g":
                        k.val("y", 255 - (e.val("g") || 0), t);
                        break;
                    case "b":
                        k.val("y", 255 - (e.val("b") || 0), t);
                        break;
                    case "a":
                        var u = e.val("a");
                        k.val("y", 255 - (null != u ? u: 255), t)
                    }
                },
                B = function(e) {
                    try {
                        var t = e.val("all");
                        E.css({
                            backgroundColor: t && "#" + t.hex || "transparent"
                        }),
                        $.call(h, E, t && Math.precision(100 * t.a / 255, 4) || 0)
                    } catch(i) {}
                },
                J = function(e) {
                    switch (c.color.mode) {
                    case "h":
                        G.call(h, f, new o({
                            h: e.val("h") || 0,
                            s: 100,
                            v: 100
                        }).val("hex"));
                        break;
                    case "s":
                    case "a":
                        var t = e.val("s");
                        $.call(h, g, 100 - (null != t ? t: 100));
                        break;
                    case "v":
                        var i = e.val("v");
                        $.call(h, m, null != i ? i: 100);
                        break;
                    case "r":
                        $.call(h, g, Math.precision((e.val("r") || 0) / 255 * 100, 4));
                        break;
                    case "g":
                        $.call(h, g, Math.precision((e.val("g") || 0) / 255 * 100, 4));
                        break;
                    case "b":
                        $.call(h, g, Math.precision((e.val("b") || 0) / 255 * 100))
                    }
                    var n = e.val("a");
                    $.call(h, y, Math.precision(100 * (255 - (n || 0)) / 255, 4))
                },
                j = function(e) {
                    switch (c.color.mode) {
                    case "h":
                        var t = e.val("a");
                        $.call(h, w, Math.precision(100 * (255 - (t || 0)) / 255, 4));
                        break;
                    case "s":
                        var i = e.val("hva"),
                        n = new o({
                            h: i && i.h || 0,
                            s: 100,
                            v: null != i ? i.v: 100
                        });
                        G.call(h, p, n.val("hex")),
                        $.call(h, b, 100 - (null != i ? i.v: 100)),
                        $.call(h, w, Math.precision(100 * (255 - (i && i.a || 0)) / 255, 4));
                        break;
                    case "v":
                        var r = e.val("hsa"),
                        s = new o({
                            h: r && r.h || 0,
                            s: null != r ? r.s: 100,
                            v: 100
                        });
                        G.call(h, p, s.val("hex")),
                        $.call(h, w, Math.precision(100 * (255 - (r && r.a || 0)) / 255, 4));
                        break;
                    case "r":
                    case "g":
                    case "b":
                        var a = 0,
                        l = 0,
                        u = e.val("rgba");
                        if ("r" == c.color.mode) a = u && u.b || 0,
                        l = u && u.g || 0;
                        else if ("g" == c.color.mode) a = u && u.b || 0,
                        l = u && u.r || 0;
                        else if ("b" == c.color.mode) a = u && u.r || 0,
                        l = u && u.g || 0;
                        var d = l > a ? a: l;
                        $.call(h, b, a > l ? Math.precision((a - l) / (255 - l) * 100, 4) : 0),
                        $.call(h, x, l > a ? Math.precision((l - a) / (255 - a) * 100, 4) : 0),
                        $.call(h, _, Math.precision(d / 255 * 100, 4)),
                        $.call(h, w, Math.precision(100 * (255 - (u && u.a || 0)) / 255, 4));
                        break;
                    case "a":
                        var t = e.val("a");
                        G.call(h, p, e.val("hex") || "000000"),
                        $.call(h, w, null != t ? 0 : 100),
                        $.call(h, V, null != t ? 100 : 0)
                    }
                },
                G = function(e, t) {
                    e.css({
                        backgroundColor: t && 6 == t.length && "#" + t || "transparent"
                    })
                },
                q = function(e, t) {
                    if (u && ( - 1 != t.indexOf("AlphaBar.png") || -1 != t.indexOf("Bars.png") || -1 != t.indexOf("Maps.png"))) e.attr("pngSrc", t),
                    e.css({
                        backgroundImage: "none",
                        filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + t + "', sizingMethod='scale')"
                    });
                    else e.css({
                        backgroundImage: "url('" + t + "')"
                    })
                },
                Y = function(e, t) {
                    e.css({
                        top: t + "px"
                    })
                },
                $ = function(e, t) {
                    if (e.css({
                        visibility: t > 0 ? "visible": "hidden"
                    }), t > 0 && 100 > t) if (u) {
                        var i = e.attr("pngSrc");
                        if (null != i && ( - 1 != i.indexOf("AlphaBar.png") || -1 != i.indexOf("Bars.png") || -1 != i.indexOf("Maps.png"))) e.css({
                            filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + i + "', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity=" + t + ")"
                        });
                        else e.css({
                            opacity: Math.precision(t / 100, 4)
                        })
                    } else e.css({
                        opacity: Math.precision(t / 100, 4)
                    });
                    else if (0 == t || 100 == t) if (u) {
                        var i = e.attr("pngSrc");
                        if (null != i && ( - 1 != i.indexOf("AlphaBar.png") || -1 != i.indexOf("Bars.png") || -1 != i.indexOf("Maps.png"))) e.css({
                            filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + i + "', sizingMethod='scale')"
                        });
                        else e.css({
                            opacity: ""
                        })
                    } else e.css({
                        opacity: ""
                    })
                },
                Q = function() {
                    xt.active.val("ahex", xt.current.val("ahex"))
                },
                Z = function() {
                    xt.current.val("ahex", xt.active.val("ahex"))
                },
                et = function(t) {
                    e(this).parents("tbody:first").find('input:radio[value!="' + t.target.value + '"]').removeAttr("checked"),
                    R.call(h, t.target.value)
                },
                tt = function() {
                    Q.call(h)
                },
                it = function() {
                    Q.call(h),
                    c.window.expandable && mt.call(h),
                    e.isFunction(ft) && ft.call(h, xt.active, M)
                },
                nt = function() {
                    Z.call(h),
                    c.window.expandable && mt.call(h),
                    e.isFunction(ut) && ut.call(h, xt.active, A)
                },
                ot = function() {
                    pt.call(h)
                },
                rt = function(e) {
                    var t = e.val("hex");
                    W.css({
                        backgroundColor: t && "#" + t || "transparent"
                    }),
                    $.call(h, W, Math.precision(100 * (e.val("a") || 0) / 255, 4))
                },
                st = function(e) {
                    var t = e.val("hex"),
                    i = e.val("va");
                    if (P.css({
                        backgroundColor: t && "#" + t || "transparent"
                    }), $.call(h, O, Math.precision(100 * (255 - (i && i.a || 0)) / 255, 4)), c.window.bindToInput && c.window.updateInputColor) c.window.input.css({
                        backgroundColor: t && "#" + t || "transparent",
                        color: null == i || i.v > 75 ? "#000000": "#ffffff"
                    })
                },
                at = function(t) {
                    c.window.element,
                    c.window.page;
                    S = parseInt(d.css("left")),
                    L = parseInt(d.css("top")),
                    T = t.pageX,
                    I = t.pageY,
                    e(document).bind("mousemove", lt).bind("mouseup", ht),
                    t.preventDefault()
                },
                lt = function(t) {
                    if (d.css({
                        left: S - (T - t.pageX) + "px",
                        top: L - (I - t.pageY) + "px"
                    }), c.window.expandable && !e.support.boxModel) d.prev().css({
                        left: d.css("left"),
                        top: d.css("top")
                    });
                    return t.stopPropagation(),
                    t.preventDefault(),
                    !1
                },
                ht = function(t) {
                    return e(document).unbind("mousemove", lt).unbind("mouseup", ht),
                    t.stopPropagation(),
                    t.preventDefault(),
                    !1
                },
                ct = function(t) {
                    return t.preventDefault(),
                    t.stopPropagation(),
                    xt.active.val("ahex", e(this).attr("title") || null, t.target),
                    !1
                },
                ut = e.isFunction(l[1]) && l[1] || null,
                dt = e.isFunction(l[2]) && l[2] || null,
                ft = e.isFunction(l[3]) && l[3] || null,
                pt = function() {
                    xt.current.val("ahex", xt.active.val("ahex"));
                    var t = function() {
                        if (c.window.expandable && !e.support.boxModel) {
                            var t = d.find("table:first");
                            d.before("<iframe/>"),
                            d.prev().css({
                                width: t.width(),
                                height: d.height(),
                                opacity: 0,
                                position: "absolute",
                                left: d.css("left"),
                                top: d.css("top")
                            })
                        }
                    };
                    if (c.window.expandable) e(document.body).children("div.jPicker.Container").css({
                        zIndex: 10
                    }),
                    d.css({
                        zIndex: 20
                    });
                    switch (c.window.effects.type) {
                    case "fade":
                        d.fadeIn(c.window.effects.speed.show, t);
                        break;
                    case "slide":
                        d.slideDown(c.window.effects.speed.show, t);
                        break;
                    case "show":
                    default:
                        d.show(c.window.effects.speed.show, t)
                    }
                },
                mt = function() {
                    var t = function() {
                        if (c.window.expandable) d.css({
                            zIndex: 10
                        });
                        if (c.window.expandable && !e.support.boxModel) d.prev().remove()
                    };
                    switch (c.window.effects.type) {
                    case "fade":
                        d.fadeOut(c.window.effects.speed.hide, t);
                        break;
                    case "slide":
                        d.slideUp(c.window.effects.speed.hide, t);
                        break;
                    case "show":
                    default:
                        d.hide(c.window.effects.speed.hide, t)
                    }
                },
                gt = function() {
                    var r = c.window,
                    s = r.expandable ? e(h).next().find(".Container:first") : null;
                    if (d = r.expandable ? e("<div/>") : e(h), d.addClass("jPicker Container"), r.expandable) d.hide();
                    d.get(0).onselectstart = function(e) {
                        if ("input" !== e.target.nodeName.toLowerCase()) return ! 1;
                        else return void 0
                    };
                    var a = xt.active.val("all");
                    if (r.alphaPrecision < 0) r.alphaPrecision = 0;
                    else if (r.alphaPrecision > 2) r.alphaPrecision = 2;
                    var l = '<table class="jPicker" cellpadding="0" cellspacing="0"><tbody>' + (r.expandable ? '<tr><td class="Move" colspan="5">&nbsp;</td></tr>': "") + '<tr><td rowspan="9"><h2 class="Title">' + (r.title || bt.text.title) + '</h2><div class="Map"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><img src="' + vt.clientPath + vt.colorMap.arrow.file + '" class="Arrow"/></div></td><td rowspan="9"><div class="Bar"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><span class="Map4">&nbsp;</span><span class="Map5">&nbsp;</span><span class="Map6">&nbsp;</span><img src="' + vt.clientPath + vt.colorBar.arrow.file + '" class="Arrow"/></div></td><td colspan="2" class="Preview">' + bt.text.newColor + '<div><span class="Active" title="' + bt.tooltips.colors.newColor + '">&nbsp;</span><span class="Current" title="' + bt.tooltips.colors.currentColor + '">&nbsp;</span></div>' + bt.text.currentColor + '</td><td rowspan="9" class="Button"><input type="button" class="Ok" value="' + bt.text.ok + '" title="' + bt.tooltips.buttons.ok + '"/><input type="button" class="Cancel" value="' + bt.text.cancel + '" title="' + bt.tooltips.buttons.cancel + '"/><hr/><div class="Grid">&nbsp;</div></td></tr><tr class="Hue"><td class="Radio"><label title="' + bt.tooltips.hue.radio + '"><input type="radio" value="h"' + ("h" == c.color.mode ? ' checked="checked"': "") + '/>H:</label></td><td class="Text"><input type="text" maxlength="3" value="' + (null != a ? a.h: "") + '" title="' + bt.tooltips.hue.textbox + '"/>&nbsp;&deg;</td></tr><tr class="Saturation"><td class="Radio"><label title="' + bt.tooltips.saturation.radio + '"><input type="radio" value="s"' + ("s" == c.color.mode ? ' checked="checked"': "") + '/>S:</label></td><td class="Text"><input type="text" maxlength="3" value="' + (null != a ? a.s: "") + '" title="' + bt.tooltips.saturation.textbox + '"/>&nbsp;%</td></tr><tr class="Value"><td class="Radio"><label title="' + bt.tooltips.value.radio + '"><input type="radio" value="v"' + ("v" == c.color.mode ? ' checked="checked"': "") + '/>V:</label><br/><br/></td><td class="Text"><input type="text" maxlength="3" value="' + (null != a ? a.v: "") + '" title="' + bt.tooltips.value.textbox + '"/>&nbsp;%<br/><br/></td></tr><tr class="Red"><td class="Radio"><label title="' + bt.tooltips.red.radio + '"><input type="radio" value="r"' + ("r" == c.color.mode ? ' checked="checked"': "") + '/>R:</label></td><td class="Text"><input type="text" maxlength="3" value="' + (null != a ? a.r: "") + '" title="' + bt.tooltips.red.textbox + '"/></td></tr><tr class="Green"><td class="Radio"><label title="' + bt.tooltips.green.radio + '"><input type="radio" value="g"' + ("g" == c.color.mode ? ' checked="checked"': "") + '/>G:</label></td><td class="Text"><input type="text" maxlength="3" value="' + (null != a ? a.g: "") + '" title="' + bt.tooltips.green.textbox + '"/></td></tr><tr class="Blue"><td class="Radio"><label title="' + bt.tooltips.blue.radio + '"><input type="radio" value="b"' + ("b" == c.color.mode ? ' checked="checked"': "") + '/>B:</label></td><td class="Text"><input type="text" maxlength="3" value="' + (null != a ? a.b: "") + '" title="' + bt.tooltips.blue.textbox + '"/></td></tr><tr class="Alpha"><td class="Radio">' + (r.alphaSupport ? '<label title="' + bt.tooltips.alpha.radio + '"><input type="radio" value="a"' + ("a" == c.color.mode ? ' checked="checked"': "") + "/>A:</label>": "&nbsp;") + '</td><td class="Text">' + (r.alphaSupport ? '<input type="text" maxlength="' + (3 + r.alphaPrecision) + '" value="' + (null != a ? Math.precision(100 * a.a / 255, r.alphaPrecision) : "") + '" title="' + bt.tooltips.alpha.textbox + '"/>&nbsp;%': "&nbsp;") + '</td></tr><tr class="Hex"><td colspan="2" class="Text"><label title="' + bt.tooltips.hex.textbox + '">#:<input type="text" maxlength="6" class="Hex" value="' + (null != a ? a.hex: "") + '"/></label>' + (r.alphaSupport ? '<input type="text" maxlength="2" class="AHex" value="' + (null != a ? a.ahex.substring(6) : "") + '" title="' + bt.tooltips.hex.alpha + '"/></td>': "&nbsp;") + "</tr></tbody></table>";
                    if (r.expandable) {
                        if (d.html(l), 0 == e(document.body).children("div.jPicker.Container").length) e(document.body).prepend(d);
                        else e(document.body).children("div.jPicker.Container:last").after(d);
                        d.mousedown(function() {
                            e(document.body).children("div.jPicker.Container").css({
                                zIndex: 10
                            }),
                            d.css({
                                zIndex: 20
                            })
                        }),
                        d.css({
                            left: "left" == r.position.x ? s.offset().left - 530 - ("center" == r.position.y ? 25 : 0) + "px": "center" == r.position.x ? s.offset().left - 260 + "px": "right" == r.position.x ? s.offset().left - 10 + ("center" == r.position.y ? 25 : 0) + "px": "screenCenter" == r.position.x ? (e(document).width() >> 1) - 260 + "px": s.offset().left + parseInt(r.position.x) + "px",
                            position: "absolute",
                            top: "top" == r.position.y ? s.offset().top - 312 + "px": "center" == r.position.y ? s.offset().top - 156 + "px": "bottom" == r.position.y ? s.offset().top + 25 + "px": s.offset().top + parseInt(r.position.y) + "px"
                        })
                    } else d = e(h),
                    d.html(l);
                    var u = d.find("tbody:first");
                    f = u.find("div.Map:first"),
                    p = u.find("div.Bar:first");
                    var S = f.find("span"),
                    L = p.find("span");
                    m = S.filter(".Map1:first"),
                    g = S.filter(".Map2:first"),
                    y = S.filter(".Map3:first"),
                    v = L.filter(".Map1:first"),
                    b = L.filter(".Map2:first"),
                    x = L.filter(".Map3:first"),
                    _ = L.filter(".Map4:first"),
                    w = L.filter(".Map5:first"),
                    V = L.filter(".Map6:first"),
                    U = new t(f, {
                        map: {
                            width: vt.colorMap.width,
                            height: vt.colorMap.height
                        },
                        arrow: {
                            image: vt.clientPath + vt.colorMap.arrow.file,
                            width: vt.colorMap.arrow.width,
                            height: vt.colorMap.arrow.height
                        }
                    }),
                    U.bind(F),
                    k = new t(p, {
                        map: {
                            width: vt.colorBar.width,
                            height: vt.colorBar.height
                        },
                        arrow: {
                            image: vt.clientPath + vt.colorBar.arrow.file,
                            width: vt.colorBar.arrow.width,
                            height: vt.colorBar.arrow.height
                        }
                    }),
                    k.bind(z),
                    C = new n(u, xt.active, r.expandable && r.bindToInput ? r.input: null, r.alphaPrecision);
                    var T = null != a ? a.hex: null,
                    I = u.find(".Preview"),
                    H = u.find(".Button");
                    if (E = I.find(".Active:first").css({
                        backgroundColor: T && "#" + T || "transparent"
                    }), W = I.find(".Current:first").css({
                        backgroundColor: T && "#" + T || "transparent"
                    }).bind("click", tt), $.call(h, W, Math.precision(100 * xt.current.val("a")) / 255, 4), A = H.find(".Ok:first").bind("click", nt), M = H.find(".Cancel:first").bind("click", it), D = H.find(".Grid:first"), setTimeout(function() {
                        q.call(h, m, vt.clientPath + "Maps.png"),
                        q.call(h, g, vt.clientPath + "Maps.png"),
                        q.call(h, y, vt.clientPath + "map-opacity.png"),
                        q.call(h, v, vt.clientPath + "Bars.png"),
                        q.call(h, b, vt.clientPath + "Bars.png"),
                        q.call(h, x, vt.clientPath + "Bars.png"),
                        q.call(h, _, vt.clientPath + "Bars.png"),
                        q.call(h, w, vt.clientPath + "bar-opacity.png"),
                        q.call(h, V, vt.clientPath + "AlphaBar.png"),
                        q.call(h, I.find("div:first"), vt.clientPath + "preview-opacity.png")
                    },
                    0), u.find("td.Radio input").bind("click", et), xt.quickList && xt.quickList.length > 0) {
                        var B = "";
                        for (i = 0; i < xt.quickList.length; i++) {
                            if ("string" == (typeof xt.quickList[i]).toString().toLowerCase()) xt.quickList[i] = new o({
                                hex: xt.quickList[i]
                            });
                            var J = xt.quickList[i].val("a"),
                            j = xt.quickList[i].val("ahex");
                            if (!r.alphaSupport && j) j = j.substring(0, 6) + "ff";
                            var G = xt.quickList[i].val("hex");
                            B += '<span class="QuickColor"' + (j && ' title="#' + j + '"' || "") + ' style="background-color:' + (G && "#" + G || "") + ";" + (G ? "": "background-image:url(" + vt.clientPath + "NoColor.png)") + (r.alphaSupport && J && 255 > J ? ";opacity:" + Math.precision(J / 255, 4) + ";filter:Alpha(opacity=" + Math.precision(J / 2.55, 4) + ")": "") + '">&nbsp;</span>'
                        }
                        q.call(h, D, vt.clientPath + "bar-opacity.png"),
                        D.html(B),
                        D.find(".QuickColor").click(ct)
                    }
                    if (R.call(h, c.color.mode), xt.active.bind(K), e.isFunction(dt) && xt.active.bind(dt), xt.current.bind(rt), r.expandable) {
                        if (h.icon = s.parents(".Icon:first"), P = h.icon.find(".Color:first").css({
                            backgroundColor: T && "#" + T || "transparent"
                        }), O = h.icon.find(".Alpha:first"), q.call(h, O, vt.clientPath + "bar-opacity.png"), $.call(h, O, Math.precision(100 * (255 - (null != a ? a.a: 0)) / 255, 4)), X = h.icon.find(".Image:first").css({
                            backgroundImage: "url('" + vt.clientPath + vt.picker.file + "')"
                        }).bind("click", ot), r.bindToInput && r.updateInputColor) r.input.css({
                            backgroundColor: T && "#" + T || "transparent",
                            color: null == a || a.v > 75 ? "#000000": "#ffffff"
                        });
                        N = u.find(".Move:first").bind("mousedown", at),
                        xt.active.bind(st)
                    } else pt.call(h)
                },
                yt = function() {
                    if (d.find("td.Radio input").unbind("click", et), W.unbind("click", tt), M.unbind("click", it), A.unbind("click", nt), c.window.expandable) X.unbind("click", ot),
                    N.unbind("mousedown", at),
                    h.icon = null;
                    for (d.find(".QuickColor").unbind("click", ct), f = null, p = null, m = null, g = null, y = null, v = null, b = null, x = null, _ = null, w = null, V = null, U.destroy(), U = null, k.destroy(), k = null, C.destroy(), C = null, E = null, W = null, A = null, M = null, D = null, ut = null, ft = null, dt = null, d.html(""), i = 0; i < r.length; i++) if (r[i] == h) r.splice(i, 1)
                },
                vt = c.images,
                bt = c.localization,
                xt = {
                    active: "string" == (typeof c.color.active).toString().toLowerCase() ? new o({
                        ahex: !c.window.alphaSupport && c.color.active ? c.color.active.substring(0, 6) + "ff": c.color.active
                    }) : new o({
                        ahex: !c.window.alphaSupport && c.color.active.val("ahex") ? c.color.active.val("ahex").substring(0, 6) + "ff": c.color.active.val("ahex")
                    }),
                    current: "string" == (typeof c.color.active).toString().toLowerCase() ? new o({
                        ahex: !c.window.alphaSupport && c.color.active ? c.color.active.substring(0, 6) + "ff": c.color.active
                    }) : new o({
                        ahex: !c.window.alphaSupport && c.color.active.val("ahex") ? c.color.active.val("ahex").substring(0, 6) + "ff": c.color.active.val("ahex")
                    }),
                    quickList: c.color.quickList
                };
                e.extend(!0, h, {
                    commitCallback: ut,
                    liveCallback: dt,
                    cancelCallback: ft,
                    color: xt,
                    show: pt,
                    hide: mt,
                    destroy: yt
                }),
                r.push(h),
                setTimeout(function() {
                    gt.call(h)
                },
                0)
            })
        },
        e.fn.jPicker.defaults = {
            window: {
                title: null,
                effects: {
                    type: "slide",
                    speed: {
                        show: "slow",
                        hide: "fast"
                    }
                },
                position: {
                    x: "screenCenter",
                    y: "top"
                },
                expandable: !1,
                liveUpdate: !0,
                alphaSupport: !1,
                alphaPrecision: 0,
                updateInputColor: !0
            },
            color: {
                mode: "h",
                active: new o({
                    ahex: "#ffcc00ff"
                }),
                quickList: [new o({
                    h: 360,
                    s: 33,
                    v: 100
                }), new o({
                    h: 360,
                    s: 66,
                    v: 100
                }), new o({
                    h: 360,
                    s: 100,
                    v: 100
                }), new o({
                    h: 360,
                    s: 100,
                    v: 75
                }), new o({
                    h: 360,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 100
                }), new o({
                    h: 30,
                    s: 33,
                    v: 100
                }), new o({
                    h: 30,
                    s: 66,
                    v: 100
                }), new o({
                    h: 30,
                    s: 100,
                    v: 100
                }), new o({
                    h: 30,
                    s: 100,
                    v: 75
                }), new o({
                    h: 30,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 90
                }), new o({
                    h: 60,
                    s: 33,
                    v: 100
                }), new o({
                    h: 60,
                    s: 66,
                    v: 100
                }), new o({
                    h: 60,
                    s: 100,
                    v: 100
                }), new o({
                    h: 60,
                    s: 100,
                    v: 75
                }), new o({
                    h: 60,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 80
                }), new o({
                    h: 90,
                    s: 33,
                    v: 100
                }), new o({
                    h: 90,
                    s: 66,
                    v: 100
                }), new o({
                    h: 90,
                    s: 100,
                    v: 100
                }), new o({
                    h: 90,
                    s: 100,
                    v: 75
                }), new o({
                    h: 90,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 70
                }), new o({
                    h: 120,
                    s: 33,
                    v: 100
                }), new o({
                    h: 120,
                    s: 66,
                    v: 100
                }), new o({
                    h: 120,
                    s: 100,
                    v: 100
                }), new o({
                    h: 120,
                    s: 100,
                    v: 75
                }), new o({
                    h: 120,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 60
                }), new o({
                    h: 150,
                    s: 33,
                    v: 100
                }), new o({
                    h: 150,
                    s: 66,
                    v: 100
                }), new o({
                    h: 150,
                    s: 100,
                    v: 100
                }), new o({
                    h: 150,
                    s: 100,
                    v: 75
                }), new o({
                    h: 150,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 50
                }), new o({
                    h: 180,
                    s: 33,
                    v: 100
                }), new o({
                    h: 180,
                    s: 66,
                    v: 100
                }), new o({
                    h: 180,
                    s: 100,
                    v: 100
                }), new o({
                    h: 180,
                    s: 100,
                    v: 75
                }), new o({
                    h: 180,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 40
                }), new o({
                    h: 210,
                    s: 33,
                    v: 100
                }), new o({
                    h: 210,
                    s: 66,
                    v: 100
                }), new o({
                    h: 210,
                    s: 100,
                    v: 100
                }), new o({
                    h: 210,
                    s: 100,
                    v: 75
                }), new o({
                    h: 210,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 30
                }), new o({
                    h: 240,
                    s: 33,
                    v: 100
                }), new o({
                    h: 240,
                    s: 66,
                    v: 100
                }), new o({
                    h: 240,
                    s: 100,
                    v: 100
                }), new o({
                    h: 240,
                    s: 100,
                    v: 75
                }), new o({
                    h: 240,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 20
                }), new o({
                    h: 270,
                    s: 33,
                    v: 100
                }), new o({
                    h: 270,
                    s: 66,
                    v: 100
                }), new o({
                    h: 270,
                    s: 100,
                    v: 100
                }), new o({
                    h: 270,
                    s: 100,
                    v: 75
                }), new o({
                    h: 270,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 10
                }), new o({
                    h: 300,
                    s: 33,
                    v: 100
                }), new o({
                    h: 300,
                    s: 66,
                    v: 100
                }), new o({
                    h: 300,
                    s: 100,
                    v: 100
                }), new o({
                    h: 300,
                    s: 100,
                    v: 75
                }), new o({
                    h: 300,
                    s: 100,
                    v: 50
                }), new o({
                    h: 180,
                    s: 0,
                    v: 0
                }), new o({
                    h: 330,
                    s: 33,
                    v: 100
                }), new o({
                    h: 330,
                    s: 66,
                    v: 100
                }), new o({
                    h: 330,
                    s: 100,
                    v: 100
                }), new o({
                    h: 330,
                    s: 100,
                    v: 75
                }), new o({
                    h: 330,
                    s: 100,
                    v: 50
                }), new o]
            },
            images: {
                clientPath: "/jPicker/images/",
                colorMap: {
                    width: 256,
                    height: 256,
                    arrow: {
                        file: "mappoint.gif",
                        width: 15,
                        height: 15
                    }
                },
                colorBar: {
                    width: 20,
                    height: 256,
                    arrow: {
                        file: "rangearrows.gif",
                        width: 20,
                        height: 7
                    }
                },
                picker: {
                    file: "picker.gif",
                    width: 25,
                    height: 24
                }
            },
            localization: {
                text: {
                    title: "Drag Markers To Pick A Color",
                    newColor: "new",
                    currentColor: "current",
                    ok: "OK",
                    cancel: "Cancel"
                },
                tooltips: {
                    colors: {
                        newColor: "New Color - Press &ldquo;OK&rdquo; To Commit",
                        currentColor: "Click To Revert To Original Color"
                    },
                    buttons: {
                        ok: "Commit To This Color Selection",
                        cancel: "Cancel And Revert To Original Color"
                    },
                    hue: {
                        radio: "Set To &ldquo;Hue&rdquo; Color Mode",
                        textbox: "Enter A &ldquo;Hue&rdquo; Value (0-360&deg;)"
                    },
                    saturation: {
                        radio: "Set To &ldquo;Saturation&rdquo; Color Mode",
                        textbox: "Enter A &ldquo;Saturation&rdquo; Value (0-100%)"
                    },
                    value: {
                        radio: "Set To &ldquo;Value&rdquo; Color Mode",
                        textbox: "Enter A &ldquo;Value&rdquo; Value (0-100%)"
                    },
                    red: {
                        radio: "Set To &ldquo;Red&rdquo; Color Mode",
                        textbox: "Enter A &ldquo;Red&rdquo; Value (0-255)"
                    },
                    green: {
                        radio: "Set To &ldquo;Green&rdquo; Color Mode",
                        textbox: "Enter A &ldquo;Green&rdquo; Value (0-255)"
                    },
                    blue: {
                        radio: "Set To &ldquo;Blue&rdquo; Color Mode",
                        textbox: "Enter A &ldquo;Blue&rdquo; Value (0-255)"
                    },
                    alpha: {
                        radio: "Set To &ldquo;Alpha&rdquo; Color Mode",
                        textbox: "Enter A &ldquo;Alpha&rdquo; Value (0-100)"
                    },
                    hex: {
                        textbox: "Enter A &ldquo;Hex&rdquo; Color Value (#000000-#ffffff)",
                        alpha: "Enter A &ldquo;Alpha&rdquo; Value (#00-#ff)"
                    }
                }
            }
        }
    } (e, "1.1.6")
}),
define("jquerypagination", ["require", "jquery"],
function(require) {
    var e = require("jquery"); !
    function(e, t, i, n) {
        "use strict";
        var o = e.fn.twbsPagination,
        r = function(i, n) {
            if (this.$element = e(i), this.options = e.extend({},
            e.fn.twbsPagination.defaults, n), this.options.startPage < 1 || this.options.startPage > this.options.totalPages) throw new Error("Start page option is incorrect");
            if (this.options.totalPages = parseInt(this.options.totalPages), isNaN(this.options.totalPages)) throw new Error("Total pages option is not correct!");
            if (this.options.visiblePages = parseInt(this.options.visiblePages), isNaN(this.options.visiblePages)) throw new Error("Visible pages option is not correct!");
            if (this.options.totalPages < this.options.visiblePages) this.options.visiblePages = this.options.totalPages;
            if (this.options.onPageClick instanceof Function) this.$element.first().bind("page", this.options.onPageClick);
            if (this.options.href) {
                var o, r = this.options.href.replace(/[-\/\\^$*+?.|[\]]/g, "\\$&");
                if (r = r.replace(this.options.hrefVariable, "(\\d+)"), null != (o = new RegExp(r, "i").exec(t.location.href))) this.options.startPage = parseInt(o[1], 10)
            }
            var s = "function" == typeof this.$element.prop ? this.$element.prop("tagName") : this.$element.attr("tagName");
            if ("UL" === s) this.$listContainer = this.$element;
            else this.$listContainer = e("<ul></ul>");
            if (this.$listContainer.addClass(this.options.paginationClass), "UL" !== s) this.$element.append(this.$listContainer);
            return this.render(this.getPages(this.options.startPage)),
            this.setupEvents(),
            this
        };
        r.prototype = {
            constructor: r,
            destroy: function() {
                return this.$element.empty(),
                this.$element.removeData("twbs-pagination"),
                this.$element.unbind("page"),
                this
            },
            show: function(e) {
                if (1 > e || e > this.options.totalPages) throw new Error("Page is incorrect.");
                return this.render(this.getPages(e)),
                this.setupEvents(),
                this.$element.trigger("page", e),
                this
            },
            buildListItems: function(t) {
                var i = e();
                if (this.options.first) i = i.add(this.buildItem("first", 1));
                if (this.options.prev) {
                    var n = t.currentPage > 1 ? t.currentPage - 1 : this.options.loop ? this.options.totalPages: 1;
                    i = i.add(this.buildItem("prev", n))
                }
                for (var o = 0; o < t.numeric.length; o++) i = i.add(this.buildItem("page", t.numeric[o]));
                if (this.options.next) {
                    var r = t.currentPage < this.options.totalPages ? t.currentPage + 1 : this.options.loop ? 1 : this.options.totalPages;
                    i = i.add(this.buildItem("next", r))
                }
                if (this.options.last) i = i.add(this.buildItem("last", this.options.totalPages));
                return i
            },
            buildItem: function(t, i) {
                var n = e("<li></li>"),
                o = e("<a></a>"),
                r = null;
                switch (t) {
                case "page":
                    r = i,
                    n.addClass(this.options.pageClass);
                    break;
                case "first":
                    r = this.options.first,
                    n.addClass(this.options.firstClass);
                    break;
                case "prev":
                    r = this.options.prev,
                    n.addClass(this.options.prevClass);
                    break;
                case "next":
                    r = this.options.next,
                    n.addClass(this.options.nextClass);
                    break;
                case "last":
                    r = this.options.last,
                    n.addClass(this.options.lastClass)
                }
                return n.data("page", i),
                n.data("page-type", t),
                n.append(o.attr("href", this.makeHref(i)).html(r)),
                n
            },
            getPages: function(e) {
                var t = [],
                i = Math.floor(this.options.visiblePages / 2),
                n = e - i + 1 - this.options.visiblePages % 2,
                o = e + i;
                if (0 >= n) n = 1,
                o = this.options.visiblePages;
                if (o > this.options.totalPages) n = this.options.totalPages - this.options.visiblePages + 1,
                o = this.options.totalPages;
                for (var r = n; o >= r;) t.push(r),
                r++;
                return {
                    currentPage: e,
                    numeric: t
                }
            },
            render: function(t) {
                this.$listContainer.children().remove(),
                this.$listContainer.append(this.buildListItems(t));
                var i = this.$listContainer.children();
                i.filter(function() {
                    return e(this).data("page") === t.currentPage
                }).addClass(this.options.activeClass),
                i.filter(function() {
                    return "first" === e(this).data("page-type")
                }).toggleClass(this.options.disabledClass, 1 === t.currentPage),
                i.filter(function() {
                    return "last" === e(this).data("page-type")
                }).toggleClass(this.options.disabledClass, t.currentPage === this.options.totalPages),
                i.filter(function() {
                    return "prev" === e(this).data("page-type")
                }).toggleClass(this.options.disabledClass, !this.options.loop && 1 === t.currentPage),
                i.filter(function() {
                    return "next" === e(this).data("page-type")
                }).toggleClass(this.options.disabledClass, !this.options.loop && t.currentPage === this.options.totalPages)
            },
            setupEvents: function() {
                var t = this;
                this.$listContainer.find("li").each(function() {
                    var i = e(this);
                    if (i.off(), i.hasClass(t.options.disabledClass) || i.hasClass(t.options.activeClass)) return void i.click(function(e) {
                        e.preventDefault()
                    });
                    else return void i.click(function(e) { ! t.options.href && e.preventDefault(),
                        t.show(parseInt(i.data("page"), 10))
                    })
                })
            },
            makeHref: function(e) {
                return this.options.href ? this.options.href.replace(this.options.hrefVariable, e) : "#"
            }
        },
        e.fn.twbsPagination = function(t) {
            var i, o = Array.prototype.slice.call(arguments, 1),
            s = e(this),
            a = s.data("twbs-pagination"),
            l = "object" == typeof t && t;
            if (!a) s.data("twbs-pagination", a = new r(this, l));
            if ("string" == typeof t) i = a[t].apply(a, o);
            return i === n ? s: i
        },
        e.fn.twbsPagination.defaults = {
            totalPages: 0,
            startPage: 1,
            visiblePages: 5,
            href: !1,
            hrefVariable: "{{number}}",
            first: "First",
            prev: "Previous",
            next: "Next",
            last: "Last",
            loop: !1,
            onPageClick: null,
            paginationClass: "pagination",
            nextClass: "next",
            prevClass: "prev",
            lastClass: "last",
            firstClass: "first",
            pageClass: "page",
            activeClass: "active",
            disabledClass: "disabled"
        },
        e.fn.twbsPagination.Constructor = r,
        e.fn.twbsPagination.noConflict = function() {
            return e.fn.twbsPagination = o,
            this
        }
    } (e, window, document)
}),
function(e) {
    "use strict";
    if ("function" == typeof define && define.amd) define("jqueryfileuploaddir/jquery.iframe-transport", ["jquery"], e);
    else e(window.jQuery)
} (function(e) {
    "use strict";
    var t = 0;
    e.ajaxTransport("iframe",
    function(i) {
        if (i.async) {
            var n, o, r, s = i.initialIframeSrc || "javascript:false;";
            return {
                send: function(a, l) {
                    if (n = e('<form style="display:none;"></form>'), n.attr("accept-charset", i.formAcceptCharset), r = /\?/.test(i.url) ? "&": "?", "DELETE" === i.type) i.url = i.url + r + "_method=DELETE",
                    i.type = "POST";
                    else if ("PUT" === i.type) i.url = i.url + r + "_method=PUT",
                    i.type = "POST";
                    else if ("PATCH" === i.type) i.url = i.url + r + "_method=PATCH",
                    i.type = "POST";
                    t += 1,
                    o = e('<iframe src="' + s + '" name="iframe-transport-' + t + '"></iframe>').bind("load",
                    function() {
                        var t, r = e.isArray(i.paramName) ? i.paramName: [i.paramName];
                        if (o.unbind("load").bind("load",
                        function() {
                            var t;
                            try {
                                if (t = o.contents(), !t.length || !t[0].firstChild) throw new Error
                            } catch(i) {
                                t = void 0
                            }
                            l(200, "success", {
                                iframe: t
                            }),
                            e('<iframe src="' + s + '"></iframe>').appendTo(n),
                            window.setTimeout(function() {
                                n.remove()
                            },
                            0)
                        }), n.prop("target", o.prop("name")).prop("action", i.url).prop("method", i.type), i.formData) e.each(i.formData,
                        function(t, i) {
                            e('<input type="hidden"/>').prop("name", i.name).val(i.value).appendTo(n)
                        });
                        if (i.fileInput && i.fileInput.length && "POST" === i.type) {
                            if (t = i.fileInput.clone(), i.fileInput.after(function(e) {
                                return t[e]
                            }), i.paramName) i.fileInput.each(function(t) {
                                e(this).prop("name", r[t] || i.paramName)
                            });
                            n.append(i.fileInput).prop("enctype", "multipart/form-data").prop("encoding", "multipart/form-data"),
                            i.fileInput.removeAttr("form")
                        }
                        if (n.submit(), t && t.length) i.fileInput.each(function(i, n) {
                            var o = e(t[i]);
                            e(n).prop("name", o.prop("name")).attr("form", o.attr("form")),
                            o.replaceWith(n)
                        })
                    }),
                    n.append(o).appendTo(document.body)
                },
                abort: function() {
                    if (o) o.unbind("load").prop("src", s);
                    if (n) n.remove()
                }
            }
        }
    }),
    e.ajaxSetup({
        converters: {
            "iframe text": function(t) {
                return t && e(t[0].body).text()
            },
            "iframe json": function(t) {
                return t && e.parseJSON(e(t[0].body).text())
            },
            "iframe html": function(t) {
                return t && e(t[0].body).html()
            },
            "iframe xml": function(t) {
                var i = t && t[0];
                return i && e.isXMLDoc(i) ? i: e.parseXML(i.XMLDocument && i.XMLDocument.xml || e(i.body).html())
            },
            "iframe script": function(t) {
                return t && e.globalEval(e(t[0].body).text())
            }
        }
    })
}),
function(e) {
    "use strict";
    if ("function" == typeof define && define.amd) define("jqueryfileuploaddir/jquery.fileupload", ["jquery"], e);
    else e(window.jQuery)
} (function(e) {
    "use strict";
    e.support.fileInput = !(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent) || e('<input type="file">').prop("disabled")),
    e.support.xhrFileUpload = !(!window.ProgressEvent || !window.FileReader),
    e.support.xhrFormDataFileUpload = !!window.FormData,
    e.support.blobSlice = window.Blob && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice),
    e.widget("blueimp.fileupload", {
        options: {
            dropZone: e(document),
            pasteZone: e(document),
            fileInput: void 0,
            replaceFileInput: !0,
            paramName: void 0,
            singleFileUploads: !0,
            limitMultiFileUploads: void 0,
            limitMultiFileUploadSize: void 0,
            limitMultiFileUploadSizeOverhead: 512,
            sequentialUploads: !1,
            limitConcurrentUploads: void 0,
            forceIframeTransport: !1,
            redirect: void 0,
            redirectParamName: void 0,
            postMessage: void 0,
            multipart: !0,
            maxChunkSize: void 0,
            uploadedBytes: void 0,
            recalculateProgress: !0,
            progressInterval: 100,
            bitrateInterval: 500,
            autoUpload: !0,
            messages: {
                uploadedBytes: "Uploaded bytes exceed file size"
            },
            i18n: function(t, i) {
                if (t = this.messages[t] || t.toString(), i) e.each(i,
                function(e, i) {
                    t = t.replace("{" + e + "}", i)
                });
                return t
            },
            formData: function(e) {
                return e.serializeArray()
            },
            add: function(t, i) {
                if (t.isDefaultPrevented()) return ! 1;
                if (i.autoUpload || i.autoUpload !== !1 && e(this).fileupload("option", "autoUpload")) i.process().done(function() {
                    i.submit()
                })
            },
            processData: !1,
            contentType: !1,
            cache: !1
        },
        _specialOptions: ["fileInput", "dropZone", "pasteZone", "multipart", "forceIframeTransport"],
        _blobSlice: e.support.blobSlice &&
        function() {
            var e = this.slice || this.webkitSlice || this.mozSlice;
            return e.apply(this, arguments)
        },
        _BitrateTimer: function() {
            this.timestamp = Date.now ? Date.now() : (new Date).getTime(),
            this.loaded = 0,
            this.bitrate = 0,
            this.getBitrate = function(e, t, i) {
                var n = e - this.timestamp;
                if (!this.bitrate || !i || n > i) this.bitrate = (t - this.loaded) * (1e3 / n) * 8,
                this.loaded = t,
                this.timestamp = e;
                return this.bitrate
            }
        },
        _isXHRUpload: function(t) {
            return ! t.forceIframeTransport && (!t.multipart && e.support.xhrFileUpload || e.support.xhrFormDataFileUpload)
        },
        _getFormData: function(t) {
            var i;
            if ("function" === e.type(t.formData)) return t.formData(t.form);
            if (e.isArray(t.formData)) return t.formData;
            if ("object" === e.type(t.formData)) return i = [],
            e.each(t.formData,
            function(e, t) {
                i.push({
                    name: e,
                    value: t
                })
            }),
            i;
            else return []
        },
        _getTotal: function(t) {
            var i = 0;
            return e.each(t,
            function(e, t) {
                i += t.size || 1
            }),
            i
        },
        _initProgressObject: function(t) {
            var i = {
                loaded: 0,
                total: 0,
                bitrate: 0
            };
            if (t._progress) e.extend(t._progress, i);
            else t._progress = i
        },
        _initResponseObject: function(e) {
            var t;
            if (e._response) {
                for (t in e._response) if (e._response.hasOwnProperty(t)) delete e._response[t]
            } else e._response = {}
        },
        _onProgress: function(t, i) {
            if (t.lengthComputable) {
                var n, o = Date.now ? Date.now() : (new Date).getTime();
                if (i._time && i.progressInterval && o - i._time < i.progressInterval && t.loaded !== t.total) return;
                i._time = o,
                n = Math.floor(t.loaded / t.total * (i.chunkSize || i._progress.total)) + (i.uploadedBytes || 0),
                this._progress.loaded += n - i._progress.loaded,
                this._progress.bitrate = this._bitrateTimer.getBitrate(o, this._progress.loaded, i.bitrateInterval),
                i._progress.loaded = i.loaded = n,
                i._progress.bitrate = i.bitrate = i._bitrateTimer.getBitrate(o, n, i.bitrateInterval),
                this._trigger("progress", e.Event("progress", {
                    delegatedEvent: t
                }), i),
                this._trigger("progressall", e.Event("progressall", {
                    delegatedEvent: t
                }), this._progress)
            }
        },
        _initProgressListener: function(t) {
            var i = this,
            n = t.xhr ? t.xhr() : e.ajaxSettings.xhr();
            if (n.upload) e(n.upload).bind("progress",
            function(e) {
                var n = e.originalEvent;
                e.lengthComputable = n.lengthComputable,
                e.loaded = n.loaded,
                e.total = n.total,
                i._onProgress(e, t)
            }),
            t.xhr = function() {
                return n
            }
        },
        _isInstanceOf: function(e, t) {
            return Object.prototype.toString.call(t) === "[object " + e + "]"
        },
        _initXHRData: function(t) {
            var i, n = this,
            o = t.files[0],
            r = t.multipart || !e.support.xhrFileUpload,
            s = "array" === e.type(t.paramName) ? t.paramName[0] : t.paramName;
            if (t.headers = e.extend({},
            t.headers), t.contentRange) t.headers["Content-Range"] = t.contentRange;
            if (!r || t.blob || !this._isInstanceOf("File", o)) t.headers["Content-Disposition"] = 'attachment; filename="' + encodeURI(o.name) + '"';
            if (!r) t.contentType = o.type || "application/octet-stream",
            t.data = t.blob || o;
            else if (e.support.xhrFormDataFileUpload) {
                if (t.postMessage) if (i = this._getFormData(t), t.blob) i.push({
                    name: s,
                    value: t.blob
                });
                else e.each(t.files,
                function(n, o) {
                    i.push({
                        name: "array" === e.type(t.paramName) && t.paramName[n] || s,
                        value: o
                    })
                });
                else {
                    if (n._isInstanceOf("FormData", t.formData)) i = t.formData;
                    else i = new FormData,
                    e.each(this._getFormData(t),
                    function(e, t) {
                        i.append(t.name, t.value)
                    });
                    if (t.blob) i.append(s, t.blob, o.name);
                    else e.each(t.files,
                    function(o, r) {
                        if (n._isInstanceOf("File", r) || n._isInstanceOf("Blob", r)) i.append("array" === e.type(t.paramName) && t.paramName[o] || s, r, r.uploadName || r.name)
                    })
                }
                t.data = i
            }
            t.blob = null
        },
        _initIframeSettings: function(t) {
            var i = e("<a></a>").prop("href", t.url).prop("host");
            if (t.dataType = "iframe " + (t.dataType || ""), t.formData = this._getFormData(t), t.redirect && i && i !== location.host) t.formData.push({
                name: t.redirectParamName || "redirect",
                value: t.redirect
            })
        },
        _initDataSettings: function(e) {
            if (this._isXHRUpload(e)) {
                if (!this._chunkedUpload(e, !0)) {
                    if (!e.data) this._initXHRData(e);
                    this._initProgressListener(e)
                }
                if (e.postMessage) e.dataType = "postmessage " + (e.dataType || "")
            } else this._initIframeSettings(e)
        },
        _getParamName: function(t) {
            var i = e(t.fileInput),
            n = t.paramName;
            if (!n) {
                if (n = [], i.each(function() {
                    for (var t = e(this), i = t.prop("name") || "files[]", o = (t.prop("files") || [1]).length; o;) n.push(i),
                    o -= 1
                }), !n.length) n = [i.prop("name") || "files[]"]
            } else if (!e.isArray(n)) n = [n];
            return n
        },
        _initFormSettings: function(t) {
            if (!t.form || !t.form.length) if (t.form = e(t.fileInput.prop("form")), !t.form.length) t.form = e(this.options.fileInput.prop("form"));
            if (t.paramName = this._getParamName(t), !t.url) t.url = t.form.prop("action") || location.href;
            if (t.type = (t.type || "string" === e.type(t.form.prop("method")) && t.form.prop("method") || "").toUpperCase(), "POST" !== t.type && "PUT" !== t.type && "PATCH" !== t.type) t.type = "POST";
            if (!t.formAcceptCharset) t.formAcceptCharset = t.form.attr("accept-charset")
        },
        _getAJAXSettings: function(t) {
            var i = e.extend({},
            this.options, t);
            return this._initFormSettings(i),
            this._initDataSettings(i),
            i
        },
        _getDeferredState: function(e) {
            if (e.state) return e.state();
            if (e.isResolved()) return "resolved";
            if (e.isRejected()) return "rejected";
            else return "pending"
        },
        _enhancePromise: function(e) {
            return e.success = e.done,
            e.error = e.fail,
            e.complete = e.always,
            e
        },
        _getXHRPromise: function(t, i, n) {
            var o = e.Deferred(),
            r = o.promise();
            if (i = i || this.options.context || r, t === !0) o.resolveWith(i, n);
            else if (t === !1) o.rejectWith(i, n);
            return r.abort = o.promise,
            this._enhancePromise(r)
        },
        _addConvenienceMethods: function(t, i) {
            var n = this,
            o = function(t) {
                return e.Deferred().resolveWith(n, t).promise()
            };
            i.process = function(t, r) {
                if (t || r) i._processQueue = this._processQueue = (this._processQueue || o([this])).pipe(function() {
                    if (i.errorThrown) return e.Deferred().rejectWith(n, [i]).promise();
                    else return o(arguments)
                }).pipe(t, r);
                return this._processQueue || o([this])
            },
            i.submit = function() {
                if ("pending" !== this.state()) i.jqXHR = this.jqXHR = n._trigger("submit", e.Event("submit", {
                    delegatedEvent: t
                }), this) !== !1 && n._onSend(t, this);
                return this.jqXHR || n._getXHRPromise()
            },
            i.abort = function() {
                if (this.jqXHR) return this.jqXHR.abort();
                else return this.errorThrown = "abort",
                n._trigger("fail", null, this),
                n._getXHRPromise(!1)
            },
            i.state = function() {
                if (this.jqXHR) return n._getDeferredState(this.jqXHR);
                if (this._processQueue) return n._getDeferredState(this._processQueue);
                else return void 0
            },
            i.processing = function() {
                return ! this.jqXHR && this._processQueue && "pending" === n._getDeferredState(this._processQueue)
            },
            i.progress = function() {
                return this._progress
            },
            i.response = function() {
                return this._response
            }
        },
        _getUploadedBytes: function(e) {
            var t = e.getResponseHeader("Range"),
            i = t && t.split("-"),
            n = i && i.length > 1 && parseInt(i[1], 10);
            return n && n + 1
        },
        _chunkedUpload: function(t, i) {
            t.uploadedBytes = t.uploadedBytes || 0;
            var n, o, r = this,
            s = t.files[0],
            a = s.size,
            l = t.uploadedBytes,
            h = t.maxChunkSize || a,
            c = this._blobSlice,
            u = e.Deferred(),
            d = u.promise();
            if (! (this._isXHRUpload(t) && c && (l || a > h)) || t.data) return ! 1;
            if (i) return ! 0;
            if (l >= a) return s.error = t.i18n("uploadedBytes"),
            this._getXHRPromise(!1, t.context, [null, "error", s.error]);
            else return o = function() {
                var i = e.extend({},
                t),
                d = i._progress.loaded;
                i.blob = c.call(s, l, l + h, s.type),
                i.chunkSize = i.blob.size,
                i.contentRange = "bytes " + l + "-" + (l + i.chunkSize - 1) + "/" + a,
                r._initXHRData(i),
                r._initProgressListener(i),
                n = (r._trigger("chunksend", null, i) !== !1 && e.ajax(i) || r._getXHRPromise(!1, i.context)).done(function(n, s, h) {
                    if (l = r._getUploadedBytes(h) || l + i.chunkSize, d + i.chunkSize - i._progress.loaded) r._onProgress(e.Event("progress", {
                        lengthComputable: !0,
                        loaded: l - i.uploadedBytes,
                        total: l - i.uploadedBytes
                    }), i);
                    if (t.uploadedBytes = i.uploadedBytes = l, i.result = n, i.textStatus = s, i.jqXHR = h, r._trigger("chunkdone", null, i), r._trigger("chunkalways", null, i), a > l) o();
                    else u.resolveWith(i.context, [n, s, h])
                }).fail(function(e, t, n) {
                    i.jqXHR = e,
                    i.textStatus = t,
                    i.errorThrown = n,
                    r._trigger("chunkfail", null, i),
                    r._trigger("chunkalways", null, i),
                    u.rejectWith(i.context, [e, t, n])
                })
            },
            this._enhancePromise(d),
            d.abort = function() {
                return n.abort()
            },
            o(),
            d
        },
        _beforeSend: function(e, t) {
            if (0 === this._active) this._trigger("start"),
            this._bitrateTimer = new this._BitrateTimer,
            this._progress.loaded = this._progress.total = 0,
            this._progress.bitrate = 0;
            this._initResponseObject(t),
            this._initProgressObject(t),
            t._progress.loaded = t.loaded = t.uploadedBytes || 0,
            t._progress.total = t.total = this._getTotal(t.files) || 1,
            t._progress.bitrate = t.bitrate = 0,
            this._active += 1,
            this._progress.loaded += t.loaded,
            this._progress.total += t.total
        },
        _onDone: function(t, i, n, o) {
            var r = o._progress.total,
            s = o._response;
            if (o._progress.loaded < r) this._onProgress(e.Event("progress", {
                lengthComputable: !0,
                loaded: r,
                total: r
            }), o);
            s.result = o.result = t,
            s.textStatus = o.textStatus = i,
            s.jqXHR = o.jqXHR = n,
            this._trigger("done", null, o)
        },
        _onFail: function(e, t, i, n) {
            var o = n._response;
            if (n.recalculateProgress) this._progress.loaded -= n._progress.loaded,
            this._progress.total -= n._progress.total;
            o.jqXHR = n.jqXHR = e,
            o.textStatus = n.textStatus = t,
            o.errorThrown = n.errorThrown = i,
            this._trigger("fail", null, n)
        },
        _onAlways: function(e, t, i, n) {
            this._trigger("always", null, n)
        },
        _onSend: function(t, i) {
            if (!i.submit) this._addConvenienceMethods(t, i);
            var n, o, r, s, a = this,
            l = a._getAJAXSettings(i),
            h = function() {
                return a._sending += 1,
                l._bitrateTimer = new a._BitrateTimer,
                n = n || ((o || a._trigger("send", e.Event("send", {
                    delegatedEvent: t
                }), l) === !1) && a._getXHRPromise(!1, l.context, o) || a._chunkedUpload(l) || e.ajax(l)).done(function(e, t, i) {
                    a._onDone(e, t, i, l)
                }).fail(function(e, t, i) {
                    a._onFail(e, t, i, l)
                }).always(function(e, t, i) {
                    if (a._onAlways(e, t, i, l), a._sending -= 1, a._active -= 1, l.limitConcurrentUploads && l.limitConcurrentUploads > a._sending) for (var n = a._slots.shift(); n;) {
                        if ("pending" === a._getDeferredState(n)) {
                            n.resolve();
                            break
                        }
                        n = a._slots.shift()
                    }
                    if (0 === a._active) a._trigger("stop")
                })
            };
            if (this._beforeSend(t, l), this.options.sequentialUploads || this.options.limitConcurrentUploads && this.options.limitConcurrentUploads <= this._sending) {
                if (this.options.limitConcurrentUploads > 1) r = e.Deferred(),
                this._slots.push(r),
                s = r.pipe(h);
                else this._sequence = this._sequence.pipe(h, h),
                s = this._sequence;
                return s.abort = function() {
                    if (o = [void 0, "abort", "abort"], !n) {
                        if (r) r.rejectWith(l.context, o);
                        return h()
                    }
                    return n.abort()
                },
                this._enhancePromise(s)
            }
            return h()
        },
        _onAdd: function(t, i) {
            var n, o, r, s, a = this,
            l = !0,
            h = e.extend({},
            this.options, i),
            c = i.files,
            u = c.length,
            d = h.limitMultiFileUploads,
            f = h.limitMultiFileUploadSize,
            p = h.limitMultiFileUploadSizeOverhead,
            m = 0,
            g = this._getParamName(h),
            y = 0;
            if (f && (!u || void 0 === c[0].size)) f = void 0;
            if (! (h.singleFileUploads || d || f) || !this._isXHRUpload(h)) r = [c],
            n = [g];
            else if (!h.singleFileUploads && !f && d) for (r = [], n = [], s = 0; u > s; s += d) {
                if (r.push(c.slice(s, s + d)), o = g.slice(s, s + d), !o.length) o = g;
                n.push(o)
            } else if (!h.singleFileUploads && f) {
                for (r = [], n = [], s = 0; u > s; s += 1) if (m += c[s].size + p, s + 1 === u || m + c[s + 1].size + p > f || d && s + 1 - y >= d) {
                    if (r.push(c.slice(y, s + 1)), o = g.slice(y, s + 1), !o.length) o = g;
                    n.push(o),
                    y = s + 1,
                    m = 0
                }
            } else n = g;
            return i.originalFiles = c,
            e.each(r || c,
            function(o, s) {
                var h = e.extend({},
                i);
                return h.files = r ? s: [s],
                h.paramName = n[o],
                a._initResponseObject(h),
                a._initProgressObject(h),
                a._addConvenienceMethods(t, h),
                l = a._trigger("add", e.Event("add", {
                    delegatedEvent: t
                }), h)
            }),
            l
        },
        _replaceFileInput: function(t) {
            var i = t.fileInput,
            n = i.clone(!0);
            if (t.fileInputClone = n, e("<form></form>").append(n)[0].reset(), i.after(n).detach(), e.cleanData(i.unbind("remove")), this.options.fileInput = this.options.fileInput.map(function(e, t) {
                if (t === i[0]) return n[0];
                else return t
            }), i[0] === this.element[0]) this.element = n
        },
        _handleFileTreeEntry: function(t, i) {
            var n, o = this,
            r = e.Deferred(),
            s = function(e) {
                if (e && !e.entry) e.entry = t;
                r.resolve([e])
            },
            a = function(e) {
                o._handleFileTreeEntries(e, i + t.name + "/").done(function(e) {
                    r.resolve(e)
                }).fail(s)
            },
            l = function() {
                n.readEntries(function(e) {
                    if (!e.length) a(h);
                    else h = h.concat(e),
                    l()
                },
                s)
            },
            h = [];
            if (i = i || "", t.isFile) if (t._file) t._file.relativePath = i,
            r.resolve(t._file);
            else t.file(function(e) {
                e.relativePath = i,
                r.resolve(e)
            },
            s);
            else if (t.isDirectory) n = t.createReader(),
            l();
            else r.resolve([]);
            return r.promise()
        },
        _handleFileTreeEntries: function(t, i) {
            var n = this;
            return e.when.apply(e, e.map(t,
            function(e) {
                return n._handleFileTreeEntry(e, i)
            })).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            })
        },
        _getDroppedFiles: function(t) {
            t = t || {};
            var i = t.items;
            if (i && i.length && (i[0].webkitGetAsEntry || i[0].getAsEntry)) return this._handleFileTreeEntries(e.map(i,
            function(e) {
                var t;
                if (e.webkitGetAsEntry) {
                    if (t = e.webkitGetAsEntry()) t._file = e.getAsFile();
                    return t
                }
                return e.getAsEntry()
            }));
            else return e.Deferred().resolve(e.makeArray(t.files)).promise()
        },
        _getSingleFileInputFiles: function(t) {
            t = e(t);
            var i, n, o = t.prop("webkitEntries") || t.prop("entries");
            if (o && o.length) return this._handleFileTreeEntries(o);
            if (i = e.makeArray(t.prop("files")), !i.length) {
                if (n = t.prop("value"), !n) return e.Deferred().resolve([]).promise();
                i = [{
                    name: n.replace(/^.*\\/, "")
                }]
            } else if (void 0 === i[0].name && i[0].fileName) e.each(i,
            function(e, t) {
                t.name = t.fileName,
                t.size = t.fileSize
            });
            return e.Deferred().resolve(i).promise()
        },
        _getFileInputFiles: function(t) {
            if (! (t instanceof e) || 1 === t.length) return this._getSingleFileInputFiles(t);
            else return e.when.apply(e, e.map(t, this._getSingleFileInputFiles)).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            })
        },
        _onChange: function(t) {
            var i = this,
            n = {
                fileInput: e(t.target),
                form: e(t.target.form)
            };
            this._getFileInputFiles(n.fileInput).always(function(o) {
                if (n.files = o, i.options.replaceFileInput) i._replaceFileInput(n);
                if (i._trigger("change", e.Event("change", {
                    delegatedEvent: t
                }), n) !== !1) i._onAdd(t, n)
            })
        },
        _onPaste: function(t) {
            var i = t.originalEvent && t.originalEvent.clipboardData && t.originalEvent.clipboardData.items,
            n = {
                files: []
            };
            if (i && i.length) if (e.each(i,
            function(e, t) {
                var i = t.getAsFile && t.getAsFile();
                if (i) n.files.push(i)
            }), this._trigger("paste", e.Event("paste", {
                delegatedEvent: t
            }), n) !== !1) this._onAdd(t, n)
        },
        _onDrop: function(t) {
            t.dataTransfer = t.originalEvent && t.originalEvent.dataTransfer;
            var i = this,
            n = t.dataTransfer,
            o = {};
            if (n && n.files && n.files.length) t.preventDefault(),
            this._getDroppedFiles(n).always(function(n) {
                if (o.files = n, i._trigger("drop", e.Event("drop", {
                    delegatedEvent: t
                }), o) !== !1) i._onAdd(t, o)
            })
        },
        _onDragOver: function(t) {
            t.dataTransfer = t.originalEvent && t.originalEvent.dataTransfer;
            var i = t.dataTransfer;
            if (i && -1 !== e.inArray("Files", i.types) && this._trigger("dragover", e.Event("dragover", {
                delegatedEvent: t
            })) !== !1) t.preventDefault(),
            i.dropEffect = "copy"
        },
        _initEventHandlers: function() {
            if (this._isXHRUpload(this.options)) this._on(this.options.dropZone, {
                dragover: this._onDragOver,
                drop: this._onDrop
            }),
            this._on(this.options.pasteZone, {
                paste: this._onPaste
            });
            if (e.support.fileInput) this._on(this.options.fileInput, {
                change: this._onChange
            })
        },
        _destroyEventHandlers: function() {
            this._off(this.options.dropZone, "dragover drop"),
            this._off(this.options.pasteZone, "paste"),
            this._off(this.options.fileInput, "change")
        },
        _setOption: function(t, i) {
            var n = -1 !== e.inArray(t, this._specialOptions);
            if (n) this._destroyEventHandlers();
            if (this._super(t, i), n) this._initSpecialOptions(),
            this._initEventHandlers()
        },
        _initSpecialOptions: function() {
            var t = this.options;
            if (void 0 === t.fileInput) t.fileInput = this.element.is('input[type="file"]') ? this.element: this.element.find('input[type="file"]');
            else if (! (t.fileInput instanceof e)) t.fileInput = e(t.fileInput);
            if (! (t.dropZone instanceof e)) t.dropZone = e(t.dropZone);
            if (! (t.pasteZone instanceof e)) t.pasteZone = e(t.pasteZone)
        },
        _getRegExp: function(e) {
            var t = e.split("/"),
            i = t.pop();
            return t.shift(),
            new RegExp(t.join("/"), i)
        },
        _isRegExpOption: function(t, i) {
            return "url" !== t && "string" === e.type(i) && /^\/.*\/[igm]{0,3}$/.test(i)
        },
        _initDataAttributes: function() {
            var t = this,
            i = this.options,
            n = e(this.element[0].cloneNode(!1));
            e.each(n.data(),
            function(e, o) {
                var r = "data-" + e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
                if (n.attr(r)) {
                    if (t._isRegExpOption(e, o)) o = t._getRegExp(o);
                    i[e] = o
                }
            })
        },
        _create: function() {
            this._initDataAttributes(),
            this._initSpecialOptions(),
            this._slots = [],
            this._sequence = this._getXHRPromise(!0),
            this._sending = this._active = 0,
            this._initProgressObject(this),
            this._initEventHandlers()
        },
        active: function() {
            return this._active
        },
        progress: function() {
            return this._progress
        },
        add: function(t) {
            var i = this;
            if (t && !this.options.disabled) if (t.fileInput && !t.files) this._getFileInputFiles(t.fileInput).always(function(e) {
                t.files = e,
                i._onAdd(null, t)
            });
            else t.files = e.makeArray(t.files),
            this._onAdd(null, t)
        },
        send: function(t) {
            if (t && !this.options.disabled) {
                if (t.fileInput && !t.files) {
                    var i, n, o = this,
                    r = e.Deferred(),
                    s = r.promise();
                    return s.abort = function() {
                        if (n = !0, i) return i.abort();
                        else return r.reject(null, "abort", "abort"),
                        s
                    },
                    this._getFileInputFiles(t.fileInput).always(function(e) {
                        if (!n) {
                            if (!e.length) return void r.reject();
                            t.files = e,
                            i = o._onSend(null, t),
                            i.then(function(e, t, i) {
                                r.resolve(e, t, i)
                            },
                            function(e, t, i) {
                                r.reject(e, t, i)
                            })
                        }
                    }),
                    this._enhancePromise(s)
                }
                if (t.files = e.makeArray(t.files), t.files.length) return this._onSend(null, t)
            }
            return this._getXHRPromise(!1, t && t.context)
        }
    })
}),
function(e) {
    "use strict";
    if ("function" == typeof define && define.amd) define("jqueryfileuploaddir/jquery.fileupload-process", ["jquery", "./jquery.fileupload"], e);
    else e(window.jQuery)
} (function(e) {
    "use strict";
    var t = e.blueimp.fileupload.prototype.options.add;
    e.widget("blueimp.fileupload", e.blueimp.fileupload, {
        options: {
            processQueue: [],
            add: function(i, n) {
                var o = e(this);
                n.process(function() {
                    return o.fileupload("process", n)
                }),
                t.call(this, i, n)
            }
        },
        processActions: {},
        _processFile: function(t, i) {
            var n = this,
            o = e.Deferred().resolveWith(n, [t]),
            r = o.promise();
            return this._trigger("process", null, t),
            e.each(t.processQueue,
            function(t, o) {
                var s = function(t) {
                    if (i.errorThrown) return e.Deferred().rejectWith(n, [i]).promise();
                    else return n.processActions[o.action].call(n, t, o)
                };
                r = r.pipe(s, o.always && s)
            }),
            r.done(function() {
                n._trigger("processdone", null, t),
                n._trigger("processalways", null, t)
            }).fail(function() {
                n._trigger("processfail", null, t),
                n._trigger("processalways", null, t)
            }),
            r
        },
        _transformProcessQueue: function(t) {
            var i = [];
            e.each(t.processQueue,
            function() {
                var n = {},
                o = this.action,
                r = this.prefix === !0 ? o: this.prefix;
                e.each(this,
                function(i, o) {
                    if ("string" === e.type(o) && "@" === o.charAt(0)) n[i] = t[o.slice(1) || (r ? r + i.charAt(0).toUpperCase() + i.slice(1) : i)];
                    else n[i] = o
                }),
                i.push(n)
            }),
            t.processQueue = i
        },
        processing: function() {
            return this._processing
        },
        process: function(t) {
            var i = this,
            n = e.extend({},
            this.options, t);
            if (n.processQueue && n.processQueue.length) {
                if (this._transformProcessQueue(n), 0 === this._processing) this._trigger("processstart");
                e.each(t.files,
                function(o) {
                    var r = o ? e.extend({},
                    n) : n,
                    s = function() {
                        if (t.errorThrown) return e.Deferred().rejectWith(i, [t]).promise();
                        else return i._processFile(r, t)
                    };
                    r.index = o,
                    i._processing += 1,
                    i._processingQueue = i._processingQueue.pipe(s, s).always(function() {
                        if (i._processing -= 1, 0 === i._processing) i._trigger("processstop")
                    })
                })
            }
            return this._processingQueue
        },
        _create: function() {
            this._super(),
            this._processing = 0,
            this._processingQueue = e.Deferred().resolveWith(this).promise()
        }
    })
}),
function(e) {
    "use strict";
    if ("function" == typeof define && define.amd) define("jqueryfileuploaddir/jquery.fileupload-validate", ["jquery", "./jquery.fileupload-process"], e);
    else e(window.jQuery)
} (function(e) {
    "use strict";
    e.blueimp.fileupload.prototype.options.processQueue.push({
        action: "validate",
        always: !0,
        acceptFileTypes: "@",
        maxFileSize: "@",
        minFileSize: "@",
        maxNumberOfFiles: "@",
        disabled: "@disableValidation"
    }),
    e.widget("blueimp.fileupload", e.blueimp.fileupload, {
        options: {
            getNumberOfFiles: e.noop,
            messages: {
                maxNumberOfFiles: "Maximum number of files exceeded",
                acceptFileTypes: "File type not allowed",
                maxFileSize: "File is too large",
                minFileSize: "File is too small"
            }
        },
        processActions: {
            validate: function(t, i) {
                if (i.disabled) return t;
                var n, o = e.Deferred(),
                r = this.options,
                s = t.files[t.index];
                if (i.minFileSize || i.maxFileSize) n = s.size;
                if ("number" === e.type(i.maxNumberOfFiles) && (r.getNumberOfFiles() || 0) + t.files.length > i.maxNumberOfFiles) s.error = r.i18n("maxNumberOfFiles");
                else if (i.acceptFileTypes && !i.acceptFileTypes.test(s.type) && !i.acceptFileTypes.test(s.name)) s.error = r.i18n("acceptFileTypes");
                else if (n > i.maxFileSize) s.error = r.i18n("maxFileSize");
                else if ("number" === e.type(n) && n < i.minFileSize) s.error = r.i18n("minFileSize");
                else delete s.error;
                if (s.error || t.files.error) t.files.error = !0,
                o.rejectWith(this, [t]);
                else o.resolveWith(this, [t]);
                return o.promise()
            }
        }
    })
}),
define("common/core/mousable", ["require", "jquery", "jqueryui"],
function(require) {
    var e = {
        version: "1.10.4",
        widgetEventPrefix: "mousable",
        options: {
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy()
        },
        _mouseCapture: function() {
            return ! 0
        },
        _mouseStart: function(e) {
            if (this.originalMousePos = {
                pageX: e.pageX,
                pageY: e.pageY
            },
            this._trigger("start", e) === !1) return ! 1;
            else return this._mouseDrag(e, !0),
            !0
        },
        _mouseDrag: function(e, t) {
            if (!t) {
                var i = this._uiHash();
                if (this._trigger("drag", e, i) === !1) return this._mouseUp({}),
                !1
            }
            return ! 1
        },
        _mouseStop: function(e) {
            return this._trigger("stop", e),
            !1
        },
        _uiHash: function() {
            return {
                originalMousePos: this.originalMousePos
            }
        }
    },
    t = require("jquery");
    require("jqueryui"),
    t.widget("ui.mousable", t.ui.mouse, e)
}),
define("wave/app/main", ["require", "common/core/ajaxConfig", "common/component/componentConfig", "jquery", "jqueryui", "jquerymousewheel", "jquery.hotkeys", "jpicker", "jqueryhandsontable", "jquerypagination", "jqueryfileuploaddir/jquery.iframe-transport", "jqueryfileuploaddir/jquery.fileupload", "jqueryfileuploaddir/jquery.fileupload-process", "jqueryfileuploaddir/jquery.fileupload-validate", "common/core/mousable", "wave/app/Wave", "wave/app/dialog"],
function(require) {
    var e = require("common/core/ajaxConfig");
    require("common/component/componentConfig"),
    require("jquery"),
    require("jqueryui"),
    require("jquerymousewheel"),
    require("jquery.hotkeys"),
    require("jpicker"),
    require("jqueryhandsontable"),
    require("jquerypagination"),
    require("jqueryfileuploaddir/jquery.iframe-transport"),
    require("jqueryfileuploaddir/jquery.fileupload"),
    require("jqueryfileuploaddir/jquery.fileupload-process"),
    require("jqueryfileuploaddir/jquery.fileupload-validate"),
    require("common/core/mousable");
    var t = require("wave/app/Wave"),
    i = require("wave/app/dialog");
    return e.setAlertFn(function(e) {
        i.alert({
            content: e,
            encodeHTML: !0
        })
    }),
    function() {
        t.init()
    }
});